Files changed: 21
Insertions: 4914
Deletions: 4418
Total changes: 9332

File-specific changes:
Documentation/ABI/testing/sysfs-block-zram: +32 -0
Documentation/blockdev/zram.txt: +72 -8
Documentation/dev-tools/kasan.rst: +138 -94
Documentation/filesystems/proc.txt: +9 -1
Documentation/sysctl/vm.txt: +21 -0
arch/arm64/Kconfig: +1 -0
arch/arm64/Makefile: +10 -1
arch/arm64/include/asm/brk-imm.h: +2 -0
arch/arm64/include/asm/kasan.h: +6 -2
arch/arm64/include/asm/memory.h: +34 -9
arch/arm64/include/asm/pgtable-hwdef.h: +1 -0
arch/arm64/include/asm/uaccess.h: +0 -7
arch/arm64/kernel/traps.c: +60 -0
arch/arm64/mm/fault.c: +22 -9
arch/arm64/mm/kasan_init.c: +37 -20
arch/arm64/mm/mmu.c: +7 -6
arch/arm64/mm/proc.S: +7 -1
arch/csky/mm/init.c: +2 -2
arch/ia64/mm/init.c: +1 -1
arch/powerpc/mm/mem.c: +2 -1
arch/powerpc/platforms/pseries/cmm.c: +5 -5
arch/s390/mm/dump_pagetables.c: +9 -8
arch/s390/mm/init.c: +2 -2
arch/s390/mm/kasan_init.c: +20 -13
arch/sh/boards/board-apsh4a3a.c: +1 -4
arch/sh/boards/board-apsh4ad0a.c: +1 -4
arch/sh/boards/board-edosk7760.c: +1 -14
arch/sh/boards/board-espt.c: +1 -4
arch/sh/boards/board-magicpanelr2.c: +1 -4
arch/sh/boards/board-sh7757lcr.c: +1 -4
arch/sh/boards/board-sh7785lcr.c: +1 -4
arch/sh/boards/board-titan.c: +1 -4
arch/sh/boards/board-urquell.c: +1 -4
arch/sh/boards/mach-ap325rxa/Makefile: +1 -0
arch/sh/boards/mach-ap325rxa/sdram.S: +2 -5
arch/sh/boards/mach-cayman/Makefile: +1 -0
arch/sh/boards/mach-cayman/irq.c: +1 -4
arch/sh/boards/mach-cayman/panic.c: +1 -4
arch/sh/boards/mach-cayman/setup.c: +1 -4
arch/sh/boards/mach-dreamcast/Makefile: +1 -0
arch/sh/boards/mach-dreamcast/irq.c: +1 -1
arch/sh/boards/mach-dreamcast/rtc.c: +1 -3
arch/sh/boards/mach-dreamcast/setup.c: +1 -2
arch/sh/boards/mach-ecovec24/Makefile: +2 -1
arch/sh/boards/mach-ecovec24/sdram.S: +2 -5
arch/sh/boards/mach-ecovec24/setup.c: +1 -4
arch/sh/boards/mach-highlander/irq-r7780mp.c: +1 -4
arch/sh/boards/mach-highlander/irq-r7780rp.c: +1 -4
arch/sh/boards/mach-highlander/irq-r7785rp.c: +1 -4
arch/sh/boards/mach-highlander/pinmux-r7785rp.c: +1 -4
arch/sh/boards/mach-highlander/psw.c: +1 -4
arch/sh/boards/mach-highlander/setup.c: +1 -4
arch/sh/boards/mach-hp6xx/Makefile: +1 -0
arch/sh/boards/mach-hp6xx/hp6xx_apm.c: +1 -3
arch/sh/boards/mach-hp6xx/pm.c: +1 -3
arch/sh/boards/mach-hp6xx/pm_wakeup.S: +2 -6
arch/sh/boards/mach-hp6xx/setup.c: +1 -3
arch/sh/boards/mach-kfr2r09/Makefile: +1 -0
arch/sh/boards/mach-kfr2r09/lcd_wqvga.c: +1 -4
arch/sh/boards/mach-kfr2r09/sdram.S: +2 -5
arch/sh/boards/mach-kfr2r09/setup.c: +1 -2
arch/sh/boards/mach-landisk/Makefile: +1 -0
arch/sh/boards/mach-landisk/gio.c: +1 -5
arch/sh/boards/mach-landisk/irq.c: +1 -4
arch/sh/boards/mach-landisk/psw.c: +1 -4
arch/sh/boards/mach-landisk/setup.c: +1 -4
arch/sh/boards/mach-lboxre2/Makefile: +1 -0
arch/sh/boards/mach-lboxre2/irq.c: +1 -5
arch/sh/boards/mach-lboxre2/setup.c: +1 -5
arch/sh/boards/mach-microdev/Makefile: +1 -0
arch/sh/boards/mach-microdev/fdc37c93xapm.c: +1 -4
arch/sh/boards/mach-microdev/io.c: +1 -3
arch/sh/boards/mach-microdev/irq.c: +1 -3
arch/sh/boards/mach-microdev/setup.c: +1 -3
arch/sh/boards/mach-migor/Makefile: +1 -0
arch/sh/boards/mach-migor/lcd_qvga.c: +1 -4
arch/sh/boards/mach-migor/sdram.S: +2 -5
arch/sh/boards/mach-r2d/Makefile: +1 -0
arch/sh/boards/mach-r2d/setup.c: +1 -4
arch/sh/boards/mach-rsk/Makefile: +1 -0
arch/sh/boards/mach-rsk/devices-rsk7203.c: +1 -4
arch/sh/boards/mach-rsk/devices-rsk7264.c: +1 -4
arch/sh/boards/mach-rsk/devices-rsk7269.c: +1 -4
arch/sh/boards/mach-rsk/setup.c: +1 -4
arch/sh/boards/mach-sdk7780/Makefile: +1 -0
arch/sh/boards/mach-sdk7780/irq.c: +1 -4
arch/sh/boards/mach-sdk7780/setup.c: +1 -4
arch/sh/boards/mach-sdk7786/Makefile: +1 -0
arch/sh/boards/mach-sdk7786/fpga.c: +1 -4
arch/sh/boards/mach-sdk7786/gpio.c: +1 -4
arch/sh/boards/mach-sdk7786/irq.c: +1 -4
arch/sh/boards/mach-sdk7786/nmi.c: +1 -4
arch/sh/boards/mach-sdk7786/setup.c: +1 -4
arch/sh/boards/mach-sdk7786/sram.c: +1 -4
arch/sh/boards/mach-se/7206/Makefile: +1 -0
arch/sh/boards/mach-se/7343/Makefile: +1 -0
arch/sh/boards/mach-se/7343/irq.c: +1 -4
arch/sh/boards/mach-se/770x/Makefile: +1 -0
arch/sh/boards/mach-se/7721/Makefile: +1 -0
arch/sh/boards/mach-se/7721/irq.c: +1 -4
arch/sh/boards/mach-se/7721/setup.c: +1 -5
arch/sh/boards/mach-se/7722/Makefile: +1 -0
arch/sh/boards/mach-se/7722/irq.c: +1 -4
arch/sh/boards/mach-se/7722/setup.c: +1 -5
arch/sh/boards/mach-se/7724/Makefile: +1 -0
arch/sh/boards/mach-se/7724/irq.c: +1 -4
arch/sh/boards/mach-se/7724/sdram.S: +2 -5
arch/sh/boards/mach-se/7751/Makefile: +1 -0
arch/sh/boards/mach-se/7780/Makefile: +1 -0
arch/sh/boards/mach-se/7780/irq.c: +1 -4
arch/sh/boards/mach-se/7780/setup.c: +1 -4
arch/sh/boards/mach-sh03/Makefile: +1 -0
arch/sh/boards/mach-sh7763rdp/Makefile: +1 -0
arch/sh/boards/mach-sh7763rdp/irq.c: +1 -4
arch/sh/boards/mach-sh7763rdp/setup.c: +1 -4
arch/sh/boards/mach-x3proto/Makefile: +1 -0
arch/sh/boards/mach-x3proto/gpio.c: +1 -4
arch/sh/boards/mach-x3proto/ilsel.c: +1 -4
arch/sh/boards/mach-x3proto/setup.c: +1 -4
arch/sh/boards/of-generic.c: +1 -4
arch/sh/drivers/dma/Makefile: +1 -0
arch/sh/drivers/dma/dma-api.c: +2 -5
arch/sh/drivers/dma/dma-g2.c: +2 -5
arch/sh/drivers/dma/dma-pvr2.c: +2 -5
arch/sh/drivers/dma/dma-sh.c: +2 -5
arch/sh/drivers/dma/dma-sysfs.c: +1 -4
arch/sh/drivers/dma/dmabrg.c: +1 -2
arch/sh/drivers/heartbeat.c: +1 -4
arch/sh/drivers/pci/fixups-dreamcast.c: +1 -4
arch/sh/drivers/pci/fixups-landisk.c: +1 -3
arch/sh/drivers/pci/fixups-r7780rp.c: +1 -4
arch/sh/drivers/pci/fixups-rts7751r2d.c: +1 -4
arch/sh/drivers/pci/fixups-sdk7780.c: +1 -4
arch/sh/drivers/pci/fixups-sdk7786.c: +1 -4
arch/sh/drivers/pci/fixups-snapgear.c: +1 -3
arch/sh/drivers/pci/fixups-titan.c: +1 -3
arch/sh/drivers/pci/ops-dreamcast.c: +1 -4
arch/sh/drivers/pci/ops-sh4.c: +1 -4
arch/sh/drivers/pci/ops-sh5.c: +1 -3
arch/sh/drivers/pci/ops-sh7786.c: +1 -4
arch/sh/drivers/pci/pci-dreamcast.c: +1 -4
arch/sh/drivers/pci/pci-sh5.c: +1 -3
arch/sh/drivers/pci/pci-sh5.h: +2 -4
arch/sh/drivers/pci/pci-sh7751.c: +1 -4
arch/sh/drivers/pci/pci-sh7751.h: +2 -5
arch/sh/drivers/pci/pci-sh7780.c: +1 -4
arch/sh/drivers/pci/pci-sh7780.h: +2 -5
arch/sh/drivers/pci/pci.c: +1 -4
arch/sh/drivers/pci/pcie-sh7786.c: +1 -4
arch/sh/drivers/pci/pcie-sh7786.h: +2 -5
arch/sh/drivers/push-switch.c: +1 -4
arch/sh/drivers/superhyway/Makefile: +1 -0
arch/sh/drivers/superhyway/ops-sh4-202.c: +1 -4
arch/sh/include/asm/Kbuild: +1 -0
arch/sh/include/asm/addrspace.h: +1 -4
arch/sh/include/asm/asm-offsets.h: +1 -0
arch/sh/include/asm/bl_bit_64.h: +2 -5
arch/sh/include/asm/cache_insns_64.h: +2 -5
arch/sh/include/asm/checksum_32.h: +1 -4
arch/sh/include/asm/cmpxchg-xchg.h: +1 -3
arch/sh/include/asm/device.h: +2 -3
arch/sh/include/asm/dma-register.h: +2 -5
arch/sh/include/asm/dma.h: +2 -5
arch/sh/include/asm/dwarf.h: +2 -6
arch/sh/include/asm/fb.h: +1 -0
arch/sh/include/asm/fixmap.h: +2 -5
arch/sh/include/asm/flat.h: +2 -5
arch/sh/include/asm/freq.h: +2 -6
arch/sh/include/asm/gpio.h: +2 -5
arch/sh/include/asm/machvec.h: +2 -4
arch/sh/include/asm/mmu_context_64.h: +1 -4
arch/sh/include/asm/pgtable.h: +2 -5
arch/sh/include/asm/pgtable_64.h: +1 -4
arch/sh/include/asm/processor_64.h: +1 -4
arch/sh/include/asm/sfp-machine.h: +4 -16
arch/sh/include/asm/shmparam.h: +2 -5
arch/sh/include/asm/siu.h: +2 -5
arch/sh/include/asm/spinlock-cas.h: +2 -5
arch/sh/include/asm/spinlock-llsc.h: +2 -5
arch/sh/include/asm/spinlock.h: +2 -5
arch/sh/include/asm/string_32.h: +1 -0
arch/sh/include/asm/switch_to.h: +2 -5
arch/sh/include/asm/switch_to_64.h: +2 -5
arch/sh/include/asm/tlb_64.h: +2 -5
arch/sh/include/asm/traps_64.h: +2 -5
arch/sh/include/asm/uaccess_64.h: +1 -4
arch/sh/include/asm/vga.h: +1 -0
arch/sh/include/asm/watchdog.h: +2 -6
arch/sh/include/cpu-common/cpu/addrspace.h: +2 -5
arch/sh/include/cpu-common/cpu/mmu_context.h: +2 -5
arch/sh/include/cpu-common/cpu/pfc.h: +2 -10
arch/sh/include/cpu-common/cpu/timer.h: +1 -0
arch/sh/include/cpu-sh2/cpu/cache.h: +2 -5
arch/sh/include/cpu-sh2/cpu/freq.h: +2 -5
arch/sh/include/cpu-sh2/cpu/watchdog.h: +2 -5
arch/sh/include/cpu-sh2a/cpu/cache.h: +2 -5
arch/sh/include/cpu-sh2a/cpu/freq.h: +2 -5
arch/sh/include/cpu-sh2a/cpu/watchdog.h: +1 -0
arch/sh/include/cpu-sh3/cpu/cache.h: +2 -5
arch/sh/include/cpu-sh3/cpu/dma-register.h: +2 -5
arch/sh/include/cpu-sh3/cpu/freq.h: +2 -5
arch/sh/include/cpu-sh3/cpu/gpio.h: +2 -5
arch/sh/include/cpu-sh3/cpu/mmu_context.h: +2 -5
arch/sh/include/cpu-sh3/cpu/watchdog.h: +2 -5
arch/sh/include/cpu-sh4/cpu/addrspace.h: +1 -4
arch/sh/include/cpu-sh4/cpu/cache.h: +2 -5
arch/sh/include/cpu-sh4/cpu/dma-register.h: +2 -5
arch/sh/include/cpu-sh4/cpu/fpu.h: +2 -4
arch/sh/include/cpu-sh4/cpu/freq.h: +2 -5
arch/sh/include/cpu-sh4/cpu/mmu_context.h: +2 -5
arch/sh/include/cpu-sh4/cpu/sh7786.h: +2 -5
arch/sh/include/cpu-sh4/cpu/sq.h: +2 -5
arch/sh/include/cpu-sh4/cpu/watchdog.h: +2 -5
arch/sh/include/cpu-sh5/cpu/cache.h: +1 -4
arch/sh/include/cpu-sh5/cpu/irq.h: +1 -4
arch/sh/include/cpu-sh5/cpu/registers.h: +1 -4
arch/sh/include/mach-common/mach/hp6xx.h: +4 -8
arch/sh/include/mach-common/mach/lboxre2.h: +1 -5
arch/sh/include/mach-common/mach/magicpanelr2.h: +2 -5
arch/sh/include/mach-common/mach/mangle-port.h: +2 -5
arch/sh/include/mach-common/mach/microdev.h: +2 -4
arch/sh/include/mach-common/mach/sdk7780.h: +1 -4
arch/sh/include/mach-common/mach/secureedge5410.h: +2 -4
arch/sh/include/mach-common/mach/sh7763rdp.h: +1 -5
arch/sh/include/mach-dreamcast/mach/dma.h: +2 -5
arch/sh/include/mach-dreamcast/mach/pci.h: +2 -5
arch/sh/include/mach-dreamcast/mach/sysasic.h: +3 -4
arch/sh/include/mach-ecovec24/mach/partner-jet-setup.txt: +1 -0
arch/sh/include/mach-kfr2r09/mach/partner-jet-setup.txt: +1 -0
arch/sh/include/mach-se/mach/se7721.h: +2 -6
arch/sh/include/mach-se/mach/se7722.h: +1 -5
arch/sh/include/mach-se/mach/se7724.h: +1 -5
arch/sh/include/mach-se/mach/se7780.h: +1 -4
arch/sh/include/uapi/asm/Kbuild: +1 -0
arch/sh/include/uapi/asm/setup.h: +1 -0
arch/sh/include/uapi/asm/types.h: +1 -0
arch/sh/kernel/cpu/clock.c: +1 -4
arch/sh/kernel/cpu/init.c: +1 -4
arch/sh/kernel/cpu/irq/Makefile: +1 -0
arch/sh/kernel/cpu/irq/intc-sh5.c: +1 -4
arch/sh/kernel/cpu/irq/ipr.c: +1 -4
arch/sh/kernel/cpu/pfc.c: +1 -9
arch/sh/kernel/cpu/sh2/Makefile: +1 -0
arch/sh/kernel/cpu/sh2/clock-sh7619.c: +1 -4
arch/sh/kernel/cpu/sh2/entry.S: +2 -5
arch/sh/kernel/cpu/sh2/ex.S: +2 -5
arch/sh/kernel/cpu/sh2/probe.c: +1 -4
arch/sh/kernel/cpu/sh2/setup-sh7619.c: +1 -4
arch/sh/kernel/cpu/sh2/smp-j2.c: +1 -4
arch/sh/kernel/cpu/sh2a/clock-sh7201.c: +1 -4
arch/sh/kernel/cpu/sh2a/clock-sh7203.c: +1 -4
arch/sh/kernel/cpu/sh2a/clock-sh7206.c: +1 -4
arch/sh/kernel/cpu/sh2a/clock-sh7264.c: +1 -4
arch/sh/kernel/cpu/sh2a/clock-sh7269.c: +1 -4
arch/sh/kernel/cpu/sh2a/entry.S: +2 -5
arch/sh/kernel/cpu/sh2a/ex.S: +2 -5
arch/sh/kernel/cpu/sh2a/fpu.c: +1 -4
arch/sh/kernel/cpu/sh2a/opcode_helper.c: +1 -4
arch/sh/kernel/cpu/sh2a/pinmux-sh7203.c: +1 -4
arch/sh/kernel/cpu/sh2a/pinmux-sh7264.c: +1 -4
arch/sh/kernel/cpu/sh2a/pinmux-sh7269.c: +1 -4
arch/sh/kernel/cpu/sh2a/probe.c: +1 -4
arch/sh/kernel/cpu/sh2a/setup-mxg.c: +1 -4
arch/sh/kernel/cpu/sh2a/setup-sh7201.c: +1 -4
arch/sh/kernel/cpu/sh2a/setup-sh7203.c: +1 -4
arch/sh/kernel/cpu/sh2a/setup-sh7206.c: +1 -4
arch/sh/kernel/cpu/sh2a/setup-sh7264.c: +1 -4
arch/sh/kernel/cpu/sh2a/setup-sh7269.c: +1 -4
arch/sh/kernel/cpu/sh3/clock-sh3.c: +1 -4
arch/sh/kernel/cpu/sh3/clock-sh7705.c: +1 -4
arch/sh/kernel/cpu/sh3/clock-sh7706.c: +1 -4
arch/sh/kernel/cpu/sh3/clock-sh7709.c: +1 -4
arch/sh/kernel/cpu/sh3/clock-sh7710.c: +1 -4
arch/sh/kernel/cpu/sh3/clock-sh7712.c: +1 -4
arch/sh/kernel/cpu/sh3/entry.S: +2 -5
arch/sh/kernel/cpu/sh3/ex.S: +3 -6
arch/sh/kernel/cpu/sh3/pinmux-sh7720.c: +1 -4
arch/sh/kernel/cpu/sh3/probe.c: +1 -4
arch/sh/kernel/cpu/sh3/setup-sh3.c: +1 -4
arch/sh/kernel/cpu/sh3/setup-sh7705.c: +1 -4
arch/sh/kernel/cpu/sh3/setup-sh770x.c: +1 -4
arch/sh/kernel/cpu/sh3/setup-sh7710.c: +1 -4
arch/sh/kernel/cpu/sh3/setup-sh7720.c: +1 -4
arch/sh/kernel/cpu/sh3/swsusp.S: +2 -5
arch/sh/kernel/cpu/sh4/clock-sh4-202.c: +1 -4
arch/sh/kernel/cpu/sh4/clock-sh4.c: +1 -4
arch/sh/kernel/cpu/sh4/fpu.c: +1 -4
arch/sh/kernel/cpu/sh4/perf_event.c: +1 -4
arch/sh/kernel/cpu/sh4/probe.c: +1 -4
arch/sh/kernel/cpu/sh4/setup-sh4-202.c: +1 -4
arch/sh/kernel/cpu/sh4/setup-sh7750.c: +1 -4
arch/sh/kernel/cpu/sh4/setup-sh7760.c: +1 -4
arch/sh/kernel/cpu/sh4/sq.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-sh7343.c: +1 -13
arch/sh/kernel/cpu/sh4a/clock-sh7366.c: +1 -13
arch/sh/kernel/cpu/sh4a/clock-sh7722.c: +1 -13
arch/sh/kernel/cpu/sh4a/clock-sh7723.c: +1 -13
arch/sh/kernel/cpu/sh4a/clock-sh7724.c: +1 -13
arch/sh/kernel/cpu/sh4a/clock-sh7734.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-sh7757.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-sh7763.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-sh7770.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-sh7780.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-sh7785.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-sh7786.c: +1 -4
arch/sh/kernel/cpu/sh4a/clock-shx3.c: +1 -4
arch/sh/kernel/cpu/sh4a/intc-shx3.c: +1 -4
arch/sh/kernel/cpu/sh4a/perf_event.c: +1 -4
arch/sh/kernel/cpu/sh4a/pinmux-sh7723.c: +1 -4
arch/sh/kernel/cpu/sh4a/pinmux-sh7724.c: +1 -4
arch/sh/kernel/cpu/sh4a/pinmux-sh7734.c: +1 -4
arch/sh/kernel/cpu/sh4a/pinmux-sh7757.c: +1 -4
arch/sh/kernel/cpu/sh4a/pinmux-sh7785.c: +1 -4
arch/sh/kernel/cpu/sh4a/pinmux-sh7786.c: +1 -4
arch/sh/kernel/cpu/sh4a/pinmux-shx3.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7343.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7366.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7722.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7723.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7724.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7734.c: +2 -5
arch/sh/kernel/cpu/sh4a/setup-sh7757.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7763.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7770.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7780.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7785.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-sh7786.c: +1 -4
arch/sh/kernel/cpu/sh4a/setup-shx3.c: +1 -4
arch/sh/kernel/cpu/sh4a/smp-shx3.c: +1 -4
arch/sh/kernel/cpu/sh4a/ubc.c: +1 -4
arch/sh/kernel/cpu/sh5/clock-sh5.c: +1 -4
arch/sh/kernel/cpu/sh5/entry.S: +2 -5
arch/sh/kernel/cpu/sh5/fpu.c: +1 -4
arch/sh/kernel/cpu/sh5/probe.c: +1 -4
arch/sh/kernel/cpu/sh5/setup-sh5.c: +1 -4
arch/sh/kernel/cpu/sh5/switchto.S: +2 -5
arch/sh/kernel/cpu/sh5/unwind.c: +1 -4
arch/sh/kernel/cpu/shmobile/Makefile: +1 -0
arch/sh/kernel/cpu/shmobile/cpuidle.c: +1 -4
arch/sh/kernel/cpu/shmobile/pm.c: +1 -4
arch/sh/kernel/cpu/shmobile/sleep.S: +2 -5
arch/sh/kernel/debugtraps.S: +2 -5
arch/sh/kernel/disassemble.c: +1 -4
arch/sh/kernel/dma-coherent.c: +1 -4
arch/sh/kernel/dumpstack.c: +1 -4
arch/sh/kernel/dwarf.c: +1 -4
arch/sh/kernel/entry-common.S: +2 -6
arch/sh/kernel/head_32.S: +2 -5
arch/sh/kernel/head_64.S: +2 -5
arch/sh/kernel/hw_breakpoint.c: +1 -4
arch/sh/kernel/idle.c: +1 -4
arch/sh/kernel/io.c: +1 -4
arch/sh/kernel/io_trapped.c: +1 -4
arch/sh/kernel/iomap.c: +1 -4
arch/sh/kernel/ioport.c: +1 -4
arch/sh/kernel/irq_32.c: +1 -4
arch/sh/kernel/irq_64.c: +1 -4
arch/sh/kernel/kgdb.c: +1 -4
arch/sh/kernel/kprobes.c: +1 -4
arch/sh/kernel/machine_kexec.c: +1 -3
arch/sh/kernel/machvec.c: +1 -4
arch/sh/kernel/module.c: +1 -14
arch/sh/kernel/nmi_debug.c: +1 -4
arch/sh/kernel/perf_callchain.c: +1 -4
arch/sh/kernel/perf_event.c: +1 -4
arch/sh/kernel/process_32.c: +1 -4
arch/sh/kernel/process_64.c: +1 -4
arch/sh/kernel/ptrace_32.c: +1 -4
arch/sh/kernel/ptrace_64.c: +1 -4
arch/sh/kernel/relocate_kernel.S: +2 -4
arch/sh/kernel/return_address.c: +1 -4
arch/sh/kernel/sh_bios.c: +1 -4
arch/sh/kernel/sh_ksyms_64.c: +1 -4
arch/sh/kernel/signal_64.c: +1 -4
arch/sh/kernel/smp.c: +1 -4
arch/sh/kernel/stacktrace.c: +1 -4
arch/sh/kernel/swsusp.c: +1 -4
arch/sh/kernel/syscalls_32.S: +2 -6
arch/sh/kernel/syscalls_64.S: +2 -5
arch/sh/kernel/time.c: +1 -4
arch/sh/kernel/topology.c: +1 -4
arch/sh/kernel/traps_32.c: +1 -4
arch/sh/kernel/traps_64.c: +1 -4
arch/sh/kernel/unwinder.c: +1 -0
arch/sh/kernel/vsyscall/vsyscall.c: +1 -4
arch/sh/lib/ashiftrt.S: +4 -25
arch/sh/lib/ashlsi3.S: +4 -25
arch/sh/lib/ashrsi3.S: +4 -25
arch/sh/lib/checksum.S: +3 -6
arch/sh/lib/io.c: +1 -4
arch/sh/lib/libgcc.h: +2 -0
arch/sh/lib/lshrsi3.S: +4 -25
arch/sh/lib/mcount.S: +2 -5
arch/sh/lib/movmem.S: +4 -25
arch/sh/lib/udiv_qrnnd.S: +4 -25
arch/sh/lib/udivsi3.S: +4 -25
arch/sh/lib/udivsi3_i4i-Os.S: +4 -25
arch/sh/lib/udivsi3_i4i.S: +4 -25
arch/sh/mm/init.c: +1 -1
arch/um/kernel/mem.c: +2 -2
arch/x86/include/asm/processor.h: +1 -1
arch/x86/kernel/cpu/microcode/core.c: +3 -2
arch/x86/mm/dump_pagetables.c: +6 -5
arch/x86/mm/init.c: +1 -1
arch/x86/mm/init_32.c: +1 -1
arch/x86/mm/init_64.c: +2 -1
arch/x86/mm/kasan_init_64.c: +29 -26
arch/x86/mm/pgtable.c: +8 -6
arch/xtensa/mm/kasan_init.c: +11 -7
drivers/base/memory.c: +4 -4
drivers/block/zram/Kconfig: +4 -1
drivers/block/zram/zram_drv.c: +354 -148
drivers/block/zram/zram_drv.h: +14 -5
drivers/char/agp/backend.c: +2 -2
drivers/dax/pmem.c: +3 -11
drivers/gpu/drm/amd/amdgpu/amdgpu_mn.c: +20 -27
drivers/gpu/drm/amd/amdkfd/kfd_crat.c: +1 -1
drivers/gpu/drm/i915/i915_gem.c: +1 -1
drivers/gpu/drm/i915/i915_gem_userptr.c: +6 -8
drivers/gpu/drm/i915/selftests/i915_gem_gtt.c: +2 -2
drivers/gpu/drm/radeon/radeon_mn.c: +7 -9
drivers/hv/hv_balloon.c: +10 -9
drivers/infiniband/core/umem_odp.c: +8 -12
drivers/infiniband/hw/hfi1/mmu_rb.c: +5 -8
drivers/md/dm-bufio.c: +1 -1
drivers/md/dm-crypt.c: +1 -1
drivers/md/dm-integrity.c: +1 -1
drivers/md/dm-stats.c: +1 -1
drivers/media/platform/mtk-vpu/mtk_vpu.c: +1 -1
drivers/misc/mic/scif/scif_dma.c: +3 -8
drivers/misc/sgi-gru/grutlbpurge.c: +6 -8
drivers/misc/vmw_balloon.c: +1 -1
drivers/nvdimm/pmem.c: +5 -8
drivers/parisc/ccio-dma.c: +2 -2
drivers/parisc/sba_iommu.c: +2 -2
drivers/pci/p2pdma.c: +2 -8
drivers/staging/android/ion/ion_system_heap.c: +1 -1
drivers/xen/balloon.c: +1 -1
drivers/xen/gntdev.c: +6 -6
drivers/xen/xen-selfballoon.c: +3 -3
fs/aio.c: +1 -1
fs/block_dev.c: +1 -0
fs/ceph/super.h: +1 -1
fs/dax.c: +5 -3
fs/f2fs/data.c: +1 -1
fs/file_table.c: +4 -3
fs/fuse/inode.c: +1 -1
fs/hugetlbfs/inode.c: +28 -33
fs/iomap.c: +1 -1
fs/nfs/write.c: +1 -1
fs/nfsd/nfscache.c: +1 -1
fs/ntfs/malloc.h: +1 -1
fs/ocfs2/Makefile: +1 -1
fs/ocfs2/buffer_head_io.c: +0 -2
fs/ocfs2/cluster/heartbeat.c: +12 -5
fs/ocfs2/dlm/Makefile: +1 -1
fs/ocfs2/dlmfs/Makefile: +1 -1
fs/ocfs2/dlmfs/dlmfs.c: +1 -2
fs/ocfs2/journal.c: +2 -4
fs/ocfs2/localalloc.c: +8 -4
fs/proc/array.c: +10 -0
fs/proc/base.c: +1 -1
fs/proc/page.c: +1 -1
fs/proc/task_mmu.c: +7 -2
fs/ubifs/file.c: +1 -1
fs/userfaultfd.c: +14 -7
include/asm-generic/error-injection.h: +1 -0
include/asm-generic/pgtable.h: +5 -0
include/linux/backing-dev-defs.h: +8 -0
include/linux/compiler-clang.h: +5 -1
include/linux/compiler-gcc.h: +6 -0
include/linux/compiler_attributes.h: +0 -13
include/linux/fs.h: +4 -0
include/linux/gfp.h: +1 -1
include/linux/highmem.h: +26 -2
include/linux/hmm.h: +25 -3
include/linux/huge_mm.h: +12 -1
include/linux/kasan.h: +76 -25
include/linux/memblock.h: +3 -3
include/linux/memcontrol.h: +9 -2
include/linux/memory_hotplug.h: +5 -6
include/linux/memremap.h: +2 -32
include/linux/migrate.h: +2 -3
include/linux/mm.h: +63 -13
include/linux/mmu_notifier.h: +67 -35
include/linux/mmzone.h: +18 -18
include/linux/oom.h: +10 -0
include/linux/page-flags-layout.h: +10 -0
include/linux/page-flags.h: +6 -0
include/linux/page-isolation.h: +9 -2
include/linux/pageblock-flags.h: +2 -1
include/linux/pagemap.h: +2 -0
include/linux/slab.h: +14 -14
include/linux/slab_def.h: +13 -0
include/linux/swap.h: +10 -8
include/linux/vmstat.h: +0 -5
include/linux/xxhash.h: +23 -0
init/main.c: +1 -1
kernel/cgroup/cpuset.c: +2 -2
kernel/events/uprobes.c: +5 -5
kernel/fork.c: +4 -3
kernel/kexec_core.c: +3 -2
kernel/memremap.c: +67 -36
kernel/power/snapshot.c: +1 -1
kernel/resource.c: +15 -0
kernel/sysctl.c: +8 -0
lib/Kconfig.debug: +15 -0
lib/Kconfig.kasan: +76 -22
lib/debugobjects.c: +3 -5
lib/ioremap.c: +71 -32
lib/show_mem.c: +1 -4
mm/Kconfig: +1 -0
mm/cma.c: +11 -0
mm/compaction.c: +1 -1
mm/debug.c: +20 -7
mm/filemap.c: +82 -14
mm/highmem.c: +2 -3
mm/hmm.c: +50 -281
mm/huge_memory.c: +39 -35
mm/hugetlb.c: +82 -51
mm/internal.h: +20 -4
mm/kasan/Makefile: +11 -4
mm/kasan/{kasan.c => common.c}: +225 -431
mm/kasan/generic.c: +344 -0
mm/kasan/generic_report.c: +153 -0
mm/kasan/{kasan_init.c => init.c}: +41 -30
mm/kasan/kasan.h: +58 -1
mm/kasan/quarantine.c: +2 -1
mm/kasan/report.c: +73 -199
mm/kasan/tags.c: +161 -0
mm/kasan/tags_report.c: +58 -0
mm/khugepaged.c: +4 -6
mm/kmemleak.c: +12 -7
mm/ksm.c: +19 -16
mm/madvise.c: +11 -10
mm/memblock.c: +22 -30
mm/memcontrol.c: +38 -15
mm/memory-failure.c: +14 -2
mm/memory.c: +52 -51
mm/memory_hotplug.c: +85 -87
mm/migrate.c: +150 -114
mm/mm_init.c: +1 -1
mm/mmap.c: +0 -16
mm/mmu_notifier.c: +11 -20
mm/mprotect.c: +8 -7
mm/mremap.c: +4 -6
mm/oom_kill.c: +32 -19
mm/page-writeback.c: +21 -14
mm/page_alloc.c: +281 -123
mm/page_isolation.c: +4 -6
mm/page_owner.c: +1 -0
mm/readahead.c: +5 -7
mm/rmap.c: +26 -33
mm/shmem.c: +5 -3
mm/slab.c: +9 -22
mm/slab.h: +1 -1
mm/slab_common.c: +4 -6
mm/slub.c: +38 -44
mm/sparse.c: +14 -12
mm/swap.c: +1 -1
mm/swapfile.c: +4 -2
mm/userfaultfd.c: +9 -2
mm/util.c: +1 -1
mm/vmalloc.c: +2 -2
mm/vmscan.c: +126 -17
mm/vmstat.c: +2 -2
mm/workingset.c: +1 -1
mm/zswap.c: +2 -2
net/dccp/proto.c: +4 -3
net/decnet/dn_route.c: +1 -1
net/ipv4/tcp_metrics.c: +1 -1
net/netfilter/nf_conntrack_core.c: +4 -3
net/netfilter/xt_hashlimit.c: +3 -2
net/sctp/protocol.c: +4 -3
scripts/Makefile.kasan: +31 -22
scripts/bloat-o-meter: +1 -0
scripts/checkstack.pl: +2 -0
scripts/decode_stacktrace.sh: +1 -1
scripts/decodecode: +7 -0
scripts/spdxcheck-test.sh: +12 -0
scripts/tags.sh: +11 -2
security/integrity/ima/ima_kexec.c: +1 -1
tools/testing/nvdimm/test/iomap.c: +15 -2
tools/vm/page-types.c: +1 -1
virt/kvm/kvm_main.c: +5 -9
