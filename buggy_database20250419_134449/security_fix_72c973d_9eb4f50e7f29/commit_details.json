{
  "hash": "72c973dd2b01b212a159faa330a2bc641a3ed809",
  "hash_short": "72c973dd",
  "subject": "usb: gadget: add usb_endpoint_descriptor to struct usb_ep",
  "body": "Change usb_ep_enable() prototype to use endpoint\ndescriptor from usb_ep.\n\nThis optimization spares the FDs from saving the\nendpoint chosen descriptor. This optimization is\nnot full though. To fully exploit this change, one\nneeds to update all the UDCs as well since in the\ncurrent implementation each of them saves the\nendpoint descriptor in it's internal (and extended)\nendpoint structure.\n\nSigned-off-by: Tatyana Brokhman <tlinder@codeaurora.org>\nSigned-off-by: Felipe Balbi <balbi@ti.com>\nSigned-off-by: Greg Kroah-Hartman <gregkh@suse.de>",
  "full_message": "usb: gadget: add usb_endpoint_descriptor to struct usb_ep\n\nChange usb_ep_enable() prototype to use endpoint\ndescriptor from usb_ep.\n\nThis optimization spares the FDs from saving the\nendpoint chosen descriptor. This optimization is\nnot full though. To fully exploit this change, one\nneeds to update all the UDCs as well since in the\ncurrent implementation each of them saves the\nendpoint descriptor in it's internal (and extended)\nendpoint structure.\n\nSigned-off-by: Tatyana Brokhman <tlinder@codeaurora.org>\nSigned-off-by: Felipe Balbi <balbi@ti.com>\nSigned-off-by: Greg Kroah-Hartman <gregkh@suse.de>",
  "author_name": "Tatyana Brokhman",
  "author_email": "tlinder@codeaurora.org",
  "author_date": "Tue Jun 28 16:33:48 2011 +0300",
  "author_date_iso": "2011-06-28T16:33:48+03:00",
  "committer_name": "Greg Kroah-Hartman",
  "committer_email": "gregkh@suse.de",
  "committer_date": "Tue Jun 28 11:14:36 2011 -0700",
  "committer_date_iso": "2011-06-28T11:14:36-07:00",
  "files_changed": [
    "drivers/usb/gadget/dbgp.c",
    "drivers/usb/gadget/f_acm.c",
    "drivers/usb/gadget/f_audio.c",
    "drivers/usb/gadget/f_ecm.c",
    "drivers/usb/gadget/f_eem.c",
    "drivers/usb/gadget/f_fs.c",
    "drivers/usb/gadget/f_hid.c",
    "drivers/usb/gadget/f_loopback.c",
    "drivers/usb/gadget/f_mass_storage.c",
    "drivers/usb/gadget/f_ncm.c",
    "drivers/usb/gadget/f_obex.c",
    "drivers/usb/gadget/f_phonet.c",
    "drivers/usb/gadget/f_rndis.c",
    "drivers/usb/gadget/f_serial.c",
    "drivers/usb/gadget/f_sourcesink.c",
    "drivers/usb/gadget/f_subset.c",
    "drivers/usb/gadget/f_uvc.c",
    "drivers/usb/gadget/file_storage.c",
    "drivers/usb/gadget/gmidi.c",
    "drivers/usb/gadget/inode.c",
    "drivers/usb/gadget/printer.c",
    "drivers/usb/gadget/u_ether.c",
    "drivers/usb/gadget/u_ether.h",
    "drivers/usb/gadget/u_serial.c",
    "drivers/usb/gadget/u_serial.h",
    "include/linux/usb/gadget.h"
  ],
  "files_changed_count": 26,
  "stats": [
    {
      "file": "drivers/usb/gadget/dbgp.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "drivers/usb/gadget/f_acm.c",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "drivers/usb/gadget/f_audio.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/usb/gadget/f_ecm.c",
      "insertions": 8,
      "deletions": 9
    },
    {
      "file": "drivers/usb/gadget/f_eem.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "drivers/usb/gadget/f_fs.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/usb/gadget/f_hid.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/usb/gadget/f_loopback.c",
      "insertions": 6,
      "deletions": 8
    },
    {
      "file": "drivers/usb/gadget/f_mass_storage.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/usb/gadget/f_ncm.c",
      "insertions": 8,
      "deletions": 9
    },
    {
      "file": "drivers/usb/gadget/f_obex.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/usb/gadget/f_phonet.c",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "drivers/usb/gadget/f_rndis.c",
      "insertions": 7,
      "deletions": 8
    },
    {
      "file": "drivers/usb/gadget/f_serial.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/usb/gadget/f_sourcesink.c",
      "insertions": 4,
      "deletions": 6
    },
    {
      "file": "drivers/usb/gadget/f_subset.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/usb/gadget/f_uvc.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/usb/gadget/file_storage.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/usb/gadget/gmidi.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/usb/gadget/inode.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/usb/gadget/printer.c",
      "insertions": 14,
      "deletions": 12
    },
    {
      "file": "drivers/usb/gadget/u_ether.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "drivers/usb/gadget/u_ether.h",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "drivers/usb/gadget/u_serial.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/usb/gadget/u_serial.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "include/linux/usb/gadget.h",
      "insertions": 7,
      "deletions": 9
    }
  ],
  "total_insertions": 111,
  "total_deletions": 117,
  "total_changes": 228,
  "parents": [
    "0f91349b89f37dfad7b77f7829a105b6a0f526ec"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.1",
    "v3.1-rc1",
    "v3.1-rc10",
    "v3.1-rc2",
    "v3.1-rc3",
    "v3.1-rc4",
    "v3.1-rc5",
    "v3.1-rc6",
    "v3.1-rc7",
    "v3.1-rc8"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/usb/gadget/f_audio.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_acm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_hid.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_eem.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_ecm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/dbgp.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_loopback.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_fs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_obex.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_mass_storage.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_phonet.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_serial.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_rndis.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_sourcesink.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_ncm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_uvc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/gmidi.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/f_subset.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/printer.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/inode.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/file_storage.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/u_ether.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/u_ether.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/u_serial.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/usb/gadget/u_serial.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/usb/gadget.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}