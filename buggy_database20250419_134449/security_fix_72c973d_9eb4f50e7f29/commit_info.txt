Commit Hash: 72c973dd2b01b212a159faa330a2bc641a3ed809
Subject: usb: gadget: add usb_endpoint_descriptor to struct usb_ep


Security Keywords:
- exploit

Full commit message:
usb: gadget: add usb_endpoint_descriptor to struct usb_ep

Change usb_ep_enable() prototype to use endpoint
descriptor from usb_ep.

This optimization spares the FDs from saving the
endpoint chosen descriptor. This optimization is
not full though. To fully exploit this change, one
needs to update all the UDCs as well since in the
current implementation each of them saves the
endpoint descriptor in it's internal (and extended)
endpoint structure.

Signed-off-by: Tatyana Brokhman <tlinder@codeaurora.org>
Signed-off-by: Felipe Balbi <balbi@ti.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

Metadata:
Author: Tatyana Brokhman <tlinder@codeaurora.org>
Author Date: Tue Jun 28 16:33:48 2011 +0300
Committer: Greg Kroah-Hartman <gregkh@suse.de>
Commit Date: Tue Jun 28 11:14:36 2011 -0700

Files Changed: 26
Lines Added: 111
Lines Removed: 117
Total Changes: 228
