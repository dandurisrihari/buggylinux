{
  "hash": "d73ff9b7c4eacaba0fd956d14882bcae970f8307",
  "hash_short": "d73ff9b7",
  "subject": "can: af_can: can_rx_unregister(): remove WARN() statement from list operation sanity check",
  "body": "To detect potential bugs in CAN protocol implementations (double removal of\nreceiver entries) a WARN() statement has been used if no matching list item was\nfound for removal.\n\nThe fault injection issued by syzkaller was able to create a situation where\nthe closing of a socket runs simultaneously to the notifier call chain for\nremoving the CAN network device in use.\n\nThis case is very unlikely in real life but it doesn't break anything.\nTherefore we just replace the WARN() statement with pr_warn() to preserve the\nnotification for the CAN protocol development.\n\nReported-by: syzbot+381d06e0c8eaacb8706f@syzkaller.appspotmail.com\nReported-by: syzbot+d0ddd88c9a7432f041e6@syzkaller.appspotmail.com\nReported-by: syzbot+76d62d3b8162883c7d11@syzkaller.appspotmail.com\nSigned-off-by: Oliver Hartkopp <socketcan@hartkopp.net>\nLink: https://lore.kernel.org/r/20201126192140.14350-1-socketcan@hartkopp.net\nSigned-off-by: Marc Kleine-Budde <mkl@pengutronix.de>",
  "full_message": "can: af_can: can_rx_unregister(): remove WARN() statement from list operation sanity check\n\nTo detect potential bugs in CAN protocol implementations (double removal of\nreceiver entries) a WARN() statement has been used if no matching list item was\nfound for removal.\n\nThe fault injection issued by syzkaller was able to create a situation where\nthe closing of a socket runs simultaneously to the notifier call chain for\nremoving the CAN network device in use.\n\nThis case is very unlikely in real life but it doesn't break anything.\nTherefore we just replace the WARN() statement with pr_warn() to preserve the\nnotification for the CAN protocol development.\n\nReported-by: syzbot+381d06e0c8eaacb8706f@syzkaller.appspotmail.com\nReported-by: syzbot+d0ddd88c9a7432f041e6@syzkaller.appspotmail.com\nReported-by: syzbot+76d62d3b8162883c7d11@syzkaller.appspotmail.com\nSigned-off-by: Oliver Hartkopp <socketcan@hartkopp.net>\nLink: https://lore.kernel.org/r/20201126192140.14350-1-socketcan@hartkopp.net\nSigned-off-by: Marc Kleine-Budde <mkl@pengutronix.de>",
  "author_name": "Oliver Hartkopp",
  "author_email": "socketcan@hartkopp.net",
  "author_date": "Thu Nov 26 20:21:40 2020 +0100",
  "author_date_iso": "2020-11-26T20:21:40+01:00",
  "committer_name": "Marc Kleine-Budde",
  "committer_email": "mkl@pengutronix.de",
  "committer_date": "Fri Nov 27 10:49:28 2020 +0100",
  "committer_date_iso": "2020-11-27T10:49:28+01:00",
  "files_changed": [
    "net/can/af_can.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/can/af_can.c",
      "insertions": 5,
      "deletions": 2
    }
  ],
  "total_insertions": 5,
  "total_deletions": 2,
  "total_changes": 7,
  "parents": [
    "5c7d55bded77da6db7c5d249610e3a2eed730b3c"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/can/af_can.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}