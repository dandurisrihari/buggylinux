{
  "hash": "7807dafda21a549403d922da98dde0ddfeb70d08",
  "hash_short": "7807dafd",
  "subject": "libceph: bump CephXAuthenticate encoding version",
  "body": "A dummy v3 encoding (exactly the same as v2) was introduced so that\nthe monitors can distinguish broken clients that may not include their\nauth ticket in CEPHX_GET_AUTH_SESSION_KEY request on reconnects, thus\nfailing to prove previous possession of their global_id (one part of\nCVE-2021-20288).\n\nThe kernel client has always included its auth ticket, so it is\ncompatible with enforcing mode as is.  However we want to bump the\nencoding version to avoid having to authenticate twice on the initial\nconnect -- all legacy (CephXAuthenticate < v3) are now forced do so in\norder to expose insecure global_id reclaim.\n\nMarking for stable since at least for 5.11 and 5.12 it is trivial\n(v2 -> v3).\n\nCc: stable@vger.kernel.org # 5.11+\nURL: https://tracker.ceph.com/issues/50452\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\nReviewed-by: Sage Weil <sage@redhat.com>",
  "full_message": "libceph: bump CephXAuthenticate encoding version\n\nA dummy v3 encoding (exactly the same as v2) was introduced so that\nthe monitors can distinguish broken clients that may not include their\nauth ticket in CEPHX_GET_AUTH_SESSION_KEY request on reconnects, thus\nfailing to prove previous possession of their global_id (one part of\nCVE-2021-20288).\n\nThe kernel client has always included its auth ticket, so it is\ncompatible with enforcing mode as is.  However we want to bump the\nencoding version to avoid having to authenticate twice on the initial\nconnect -- all legacy (CephXAuthenticate < v3) are now forced do so in\norder to expose insecure global_id reclaim.\n\nMarking for stable since at least for 5.11 and 5.12 it is trivial\n(v2 -> v3).\n\nCc: stable@vger.kernel.org # 5.11+\nURL: https://tracker.ceph.com/issues/50452\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\nReviewed-by: Sage Weil <sage@redhat.com>",
  "author_name": "Ilya Dryomov",
  "author_email": "idryomov@gmail.com",
  "author_date": "Wed Apr 14 10:38:40 2021 +0200",
  "author_date_iso": "2021-04-14T10:38:40+02:00",
  "committer_name": "Ilya Dryomov",
  "committer_email": "idryomov@gmail.com",
  "committer_date": "Tue Apr 27 23:52:24 2021 +0200",
  "committer_date_iso": "2021-04-27T23:52:24+02:00",
  "files_changed": [
    "net/ceph/auth_x.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/ceph/auth_x.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "d4f6b31d721779d91b5e2f8072478af73b196c34"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2021-20288"
    ],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "net/ceph/auth_x.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}