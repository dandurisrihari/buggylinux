Files changed: 2
Insertions: 3818
Deletions: 1399
Total changes: 5217

File-specific changes:
Documentation/devicetree/bindings/mtd/tango-nand.txt: +3 -3
Documentation/devicetree/bindings/net/ti,dp83867.txt: +4 -2
Documentation/devicetree/bindings/spi/sh-msiof.txt: +13 -6
Documentation/virtual/kvm/devices/arm-vgic-v3.txt: +8 -3
MAINTAINERS: +9 -2
Makefile: +2 -2
arch/arc/Kconfig: +1 -1
arch/arc/include/asm/cache.h: +5 -4
arch/arc/include/asm/entry-arcv2.h: +2 -0
arch/arc/include/asm/module.h: +2 -2
arch/arc/include/asm/ptrace.h: +1 -1
arch/arc/include/asm/setup.h: +1 -0
arch/arc/kernel/intc-arcv2.c: +3 -3
arch/arc/kernel/intc-compact.c: +2 -2
arch/arc/kernel/mcip.c: +4 -0
arch/arc/kernel/module.c: +3 -1
arch/arc/mm/cache.c: +122 -33
arch/arc/mm/init.c: +5 -0
arch/arm/boot/dts/Makefile: +1 -0
arch/arm/boot/dts/am335x-icev2.dts: +0 -1
arch/arm/boot/dts/bcm-nsp.dtsi: +1 -1
arch/arm/boot/dts/da850-evm.dts: +1 -0
arch/arm/boot/dts/dra7.dtsi: +1 -0
arch/arm/boot/dts/dra72-evm-revc.dts: +1 -1
arch/arm/boot/dts/imx6qdl-nitrogen6_max.dtsi: +2 -2
arch/arm/boot/dts/imx6qdl-nitrogen6_som2.dtsi: +2 -2
arch/arm/boot/dts/logicpd-som-lv-37xx-devkit.dts: +3 -8
arch/arm/boot/dts/omap5.dtsi: +1 -0
arch/arm/boot/dts/qcom-mdm9615.dtsi: +1 -1
arch/arm/boot/dts/sun6i-a31-hummingbird.dts: +4 -0
arch/arm/boot/dts/sun6i-a31.dtsi: +1 -0
arch/arm/boot/dts/sun7i-a20-olinuxino-lime2-emmc.dts: +1 -1
arch/arm/configs/multi_v7_defconfig: +2 -2
arch/arm/configs/s3c2410_defconfig: +3 -3
arch/arm/include/asm/cputype.h: +3 -0
arch/arm/include/asm/ftrace.h: +18 -0
arch/arm/include/asm/kvm_host.h: +0 -3
arch/arm/include/asm/kvm_mmu.h: +2 -10
arch/arm/include/asm/virt.h: +5 -0
arch/arm/include/uapi/asm/kvm.h: +13 -0
arch/arm/include/{ => uapi}/asm/types.h: +3 -3
arch/arm/kernel/hw_breakpoint.c: +16 -0
arch/arm/kernel/smp_tlb.c: +7 -0
arch/arm/kvm/Makefile: +3 -2
arch/arm/kvm/arm.c: +5 -2
arch/arm/kvm/mmu.c: +4 -16
arch/arm/kvm/reset.c: +8 -1
arch/arm/kvm/vgic-v3-coproc.c: +35 -0
arch/arm/mach-omap1/dma.c: +7 -9
arch/arm/mach-omap2/pdata-quirks.c: +1 -1
arch/arm/mach-ux500/pm.c: +2 -2
arch/arm64/boot/dts/amlogic/meson-gxbb-odroidc2.dts: +4 -0
arch/arm64/boot/dts/amlogic/meson-gxbb.dtsi: +1 -1
arch/arm64/boot/dts/exynos/exynos5433.dtsi: +1 -1
arch/arm64/boot/dts/xilinx/zynqmp-ep108.dts: +1 -1
arch/arm64/boot/dts/xilinx/zynqmp.dtsi: +3 -3
arch/arm64/include/asm/kvm_host.h: +0 -3
arch/arm64/include/asm/kvm_mmu.h: +2 -4
arch/arm64/include/asm/memory.h: +1 -1
arch/arm64/include/asm/virt.h: +9 -0
arch/arm64/include/uapi/asm/kvm.h: +13 -0
arch/arm64/include/uapi/asm/ptrace.h: +1 -0
arch/arm64/kernel/entry.S: +1 -1
arch/arm64/kernel/ptrace.c: +11 -5
arch/arm64/kernel/traps.c: +24 -4
arch/arm64/kvm/Makefile: +3 -1
arch/arm64/kvm/reset.c: +8 -1
arch/arm64/kvm/sys_regs.c: +81 -11
arch/arm64/kvm/sys_regs.h: +4 -0
arch/arm64/kvm/vgic-sys-reg-v3.c: +346 -0
arch/arm64/mm/init.c: +2 -0
arch/powerpc/include/asm/book3s/64/hash-4k.h: +3 -2
arch/powerpc/include/asm/book3s/64/hash.h: +4 -0
arch/powerpc/include/asm/hugetlb.h: +8 -6
arch/powerpc/include/asm/nohash/pgtable.h: +3 -2
arch/powerpc/include/asm/page.h: +0 -3
arch/powerpc/include/asm/perf_event_server.h: +1 -0
arch/powerpc/include/asm/pgtable-be-types.h: +8 -0
arch/powerpc/include/asm/pgtable-types.h: +7 -0
arch/powerpc/include/asm/ppc-opcode.h: +5 -5
arch/powerpc/kernel/eeh.c: +9 -1
arch/powerpc/kernel/ptrace.c: +14 -0
arch/powerpc/mm/hash_utils_64.c: +2 -2
arch/powerpc/mm/hugetlbpage-hash64.c: +4 -1
arch/powerpc/mm/hugetlbpage.c: +12 -19
arch/powerpc/mm/init-common.c: +5 -8
arch/powerpc/mm/pgtable-book3s64.c: +18 -0
arch/powerpc/perf/core-book3s.c: +2 -0
arch/powerpc/perf/power9-events-list.h: +1 -1
arch/powerpc/perf/power9-pmu.c: +1 -1
arch/powerpc/sysdev/xics/icp-opal.c: +24 -7
arch/s390/configs/default_defconfig: +13 -14
arch/s390/configs/gcov_defconfig: +30 -20
arch/s390/configs/performance_defconfig: +21 -12
arch/s390/defconfig: +3 -2
arch/s390/include/asm/ctl_reg.h: +3 -1
arch/x86/events/amd/ibs.c: +1 -1
arch/x86/events/intel/core.c: +5 -2
arch/x86/kernel/apic/io_apic.c: +2 -0
arch/x86/kvm/x86.c: +2 -1
arch/x86/pci/acpi.c: +10 -0
block/blk-mq.c: +0 -1
drivers/block/nbd.c: +2 -4
drivers/char/virtio_console.c: +1 -1
drivers/clk/samsung/clk-exynos5420.c: +7 -7
drivers/clocksource/exynos_mct.c: +1 -0
drivers/hid/hid-corsair.c: +45 -15
drivers/hid/wacom_sys.c: +8 -8
drivers/hid/wacom_wac.c: +10 -0
drivers/mmc/core/mmc_ops.c: +12 -13
drivers/mmc/host/meson-gx-mmc.c: +5 -3
drivers/mmc/host/mxs-mmc.c: +4 -2
drivers/mmc/host/sdhci-acpi.c: +2 -1
drivers/mtd/nand/Kconfig: +2 -1
drivers/mtd/nand/lpc32xx_mlc.c: +1 -1
drivers/mtd/nand/tango_nand.c: +3 -1
drivers/mtd/nand/xway_nand.c: +1 -4
drivers/net/ethernet/broadcom/bcmsysport.c: +18 -7
drivers/net/ethernet/cavium/thunder/thunder_bgx.c: +6 -5
drivers/net/ethernet/emulex/benet/be_cmds.c: +1 -1
drivers/net/ethernet/emulex/benet/be_main.c: +15 -3
drivers/net/ethernet/mellanox/mlx4/cq.c: +20 -18
drivers/net/ethernet/mellanox/mlx4/en_netdev.c: +4 -1
drivers/net/ethernet/mellanox/mlx4/eq.c: +14 -9
drivers/net/ethernet/mellanox/mlx4/resource_tracker.c: +3 -2
drivers/net/ethernet/mellanox/mlx5/core/en_tc.c: +7 -4
drivers/net/ethernet/mellanox/mlxsw/pci_hw.h: +4 -4
drivers/net/ethernet/mellanox/mlxsw/spectrum.c: +1 -0
drivers/net/ethernet/mellanox/mlxsw/switchx2.c: +1 -0
drivers/net/ethernet/qualcomm/emac/emac-phy.c: +7 -0
drivers/net/ethernet/qualcomm/emac/emac.c: +2 -4
drivers/net/ethernet/renesas/ravb_main.c: +15 -6
drivers/net/ethernet/stmicro/stmmac/stmmac_main.c: +10 -9
drivers/net/ethernet/ti/cpmac.c: +1 -1
drivers/net/hyperv/netvsc_drv.c: +3 -0
drivers/net/ieee802154/at86rf230.c: +2 -2
drivers/net/ieee802154/atusb.c: +43 -16
drivers/net/phy/dp83867.c: +6 -2
drivers/net/usb/r8152.c: +6 -1
drivers/net/vxlan.c: +10 -3
drivers/nvdimm/namespace_devs.c: +10 -13
drivers/nvdimm/pmem.c: +3 -1
drivers/pci/host/pci-xgene-msi.c: +1 -1
drivers/pci/host/pcie-designware.c: +5 -5
drivers/pci/probe.c: +7 -5
drivers/s390/virtio/virtio_ccw.c: +27 -2
drivers/scsi/bfa/bfad_bsg.c: +1 -1
drivers/scsi/ibmvscsi_tgt/ibmvscsi_tgt.c: +4 -3
drivers/scsi/lpfc/lpfc_els.c: +2 -0
drivers/scsi/lpfc/lpfc_sli.c: +7 -0
drivers/scsi/mpt3sas/mpt3sas_base.h: +12 -0
drivers/scsi/mpt3sas/mpt3sas_scsih.c: +26 -14
drivers/scsi/qla2xxx/qla_attr.c: +14 -7
drivers/scsi/qla2xxx/qla_def.h: +3 -3
drivers/scsi/qla2xxx/qla_init.c: +2 -2
drivers/scsi/qla2xxx/qla_isr.c: +15 -77
drivers/scsi/qla2xxx/qla_mbx.c: +24 -13
drivers/scsi/qla2xxx/qla_nx.c: +5 -0
drivers/scsi/qla2xxx/qla_nx.h: +1 -2
drivers/scsi/qla2xxx/qla_nx2.c: +17 -0
drivers/scsi/qla2xxx/qla_nx2.h: +0 -17
drivers/scsi/qla2xxx/qla_os.c: +13 -5
drivers/scsi/qla2xxx/qla_target.c: +39 -18
drivers/scsi/qla2xxx/qla_target.h: +21 -1
drivers/scsi/qla2xxx/qla_tmpl.c: +24 -0
drivers/scsi/qla2xxx/tcm_qla2xxx.c: +2 -2
drivers/scsi/qla2xxx/tcm_qla2xxx.h: +0 -1
drivers/scsi/sd.c: +16 -7
drivers/scsi/ses.c: +1 -1
drivers/soc/ti/wkup_m3_ipc.c: +1 -0
drivers/spi/Kconfig: +1 -0
drivers/spi/spi-armada-3700.c: +6 -5
drivers/spi/spi-axi-spi-engine.c: +2 -1
drivers/spi/spi-davinci.c: +2 -2
drivers/spi/spi-dw-mid.c: +2 -2
drivers/spi/spi-dw.c: +4 -1
drivers/spi/spi-pxa2xx.c: +1 -0
drivers/spi/spi-sh-msiof.c: +3 -1
drivers/thermal/rockchip_thermal.c: +100 -53
drivers/thermal/thermal_core.c: +5 -5
drivers/thermal/thermal_hwmon.c: +3 -17
drivers/usb/dwc2/core.h: +2 -2
drivers/usb/dwc2/gadget.c: +5 -13
drivers/usb/dwc2/hcd.c: +5 -2
drivers/usb/dwc2/params.c: +5 -5
drivers/usb/dwc3/dwc3-exynos.c: +3 -1
drivers/usb/gadget/composite.c: +1 -1
drivers/usb/gadget/function/f_fs.c: +6 -6
drivers/usb/gadget/udc/atmel_usba_udc.c: +2 -1
drivers/usb/gadget/udc/atmel_usba_udc.h: +1 -0
drivers/usb/host/xhci-plat.c: +1 -1
drivers/vhost/scsi.c: +2 -2
drivers/xen/platform-pci.c: +71 -0
fs/ceph/caps.c: +6 -1
fs/ceph/dir.c: +3 -2
fs/ceph/inode.c: +2 -1
fs/ceph/mds_client.c: +5 -4
fs/fuse/dev.c: +2 -1
fs/fuse/dir.c: +1 -1
fs/nfs/nfs4proc.c: +18 -11
fs/nfs/nfs4state.c: +0 -1
fs/nfsd/nfs4xdr.c: +3 -1
fs/overlayfs/namei.c: +18 -9
fs/ubifs/Kconfig: +1 -1
fs/ubifs/dir.c: +3 -55
fs/ubifs/ioctl.c: +3 -0
fs/ubifs/journal.c: +2 -0
fs/ubifs/tnc.c: +23 -2
fs/xfs/libxfs/xfs_dir2.c: +24 -15
fs/xfs/libxfs/xfs_dir2.h: +5 -3
fs/xfs/libxfs/xfs_inode_buf.c: +8 -2
fs/xfs/xfs_dquot.c: +4 -0
fs/xfs/xfs_iops.c: +40 -10
fs/xfs/xfs_linux.h: +3 -3
include/kvm/arm_arch_timer.h: +22 -18
include/kvm/arm_vgic.h: +16 -2
include/linux/bpf.h: +1 -1
include/linux/cpuhotplug.h: +2 -0
include/linux/filter.h: +4 -2
include/linux/irqchip/arm-gic-v3.h: +41 -4
include/linux/kernel.h: +2 -2
include/linux/kvm_host.h: +0 -1
include/linux/rcupdate.h: +4 -0
include/linux/sunrpc/svc_xprt.h: +1 -0
include/linux/tcp.h: +6 -1
include/scsi/libfc.h: +3 -3
include/uapi/linux/nl80211.h: +3 -1
include/uapi/linux/pkt_cls.h: +1 -1
include/uapi/linux/tc_act/tc_bpf.h: +1 -1
kernel/bpf/core.c: +8 -6
kernel/bpf/syscall.c: +4 -4
kernel/bpf/verifier.c: +1 -1
kernel/cpu.c: +18 -6
kernel/module.c: +1 -1
kernel/panic.c: +1 -1
kernel/rcu/rcu.h: +1 -0
kernel/rcu/tiny.c: +0 -4
kernel/rcu/tiny_plugin.h: +7 -2
kernel/rcu/tree.c: +20 -13
kernel/rcu/tree_exp.h: +41 -11
kernel/rcu/tree_plugin.h: +1 -1
kernel/rcu/update.c: +30 -8
lib/swiotlb.c: +3 -3
net/ax25/ax25_subr.c: +1 -1
net/ceph/crypto.c: +1 -1
net/ipv4/fib_semantics.c: +7 -4
net/ipv4/route.c: +1 -1
net/ipv4/tcp_fastopen.c: +1 -1
net/ipv6/ip6_tunnel.c: +2 -2
net/ipv6/mcast.c: +30 -21
net/ipv6/route.c: +2 -1
net/ipv6/seg6_hmac.c: +1 -1
net/ipv6/seg6_iptunnel.c: +4 -0
net/mac80211/chan.c: +0 -3
net/mac80211/iface.c: +21 -0
net/mac80211/main.c: +9 -4
net/mac80211/rate.c: +2 -0
net/mac80211/rx.c: +21 -17
net/mac80211/sta_info.c: +2 -2
net/mac80211/tx.c: +7 -10
net/mac80211/vht.c: +3 -1
net/openvswitch/conntrack.c: +4 -2
net/sched/act_api.c: +2 -3
net/sched/act_bpf.c: +2 -3
net/sched/cls_bpf.c: +2 -2
net/sunrpc/auth_gss/svcauth_gss.c: +1 -1
net/sunrpc/svc_xprt.c: +7 -3
net/sunrpc/xprtrdma/svc_rdma_recvfrom.c: +0 -2
net/tipc/discover.c: +2 -2
net/tipc/link.c: +1 -1
net/tipc/msg.c: +8 -8
net/tipc/msg.h: +1 -1
net/tipc/name_distr.c: +1 -1
net/wireless/nl80211.c: +15 -0
tools/perf/util/probe-event.c: +62 -33
tools/perf/util/probe-finder.c: +7 -8
tools/perf/util/probe-finder.h: +3 -0
tools/testing/selftests/powerpc/pmu/ebb/pmc56_overflow_test.c: +1 -1
tools/virtio/ringtest/main.h: +12 -0
tools/virtio/ringtest/run-on-all.sh: +3 -2
virt/kvm/arm/arch_timer.c: +159 -62
virt/kvm/arm/hyp/timer-sr.c: +28 -18
virt/kvm/arm/vgic/vgic-debug.c: +283 -0
virt/kvm/arm/vgic/vgic-init.c: +17 -5
virt/kvm/arm/vgic/vgic-irqfd.c: +3 -0
virt/kvm/arm/vgic/vgic-its.c: +3 -3
virt/kvm/arm/vgic/vgic-kvm-device.c: +216 -15
virt/kvm/arm/vgic/vgic-mmio-v2.c: +24 -63
virt/kvm/arm/vgic/vgic-mmio-v3.c: +184 -19
virt/kvm/arm/vgic/vgic-mmio.c: +147 -20
virt/kvm/arm/vgic/vgic-mmio.h: +24 -0
virt/kvm/arm/vgic/vgic-v2.c: +5 -9
virt/kvm/arm/vgic/vgic-v3.c: +31 -11
virt/kvm/arm/vgic/vgic.c: +23 -43
virt/kvm/arm/vgic/vgic.h: +82 -1
