{
  "hash": "d5cdfacb35ed886271d1ccfffbded98d3447da17",
  "hash_short": "d5cdfacb",
  "subject": "cfg80211: Add local-state-change-only auth/deauth/disassoc",
  "body": "cfg80211 is quite strict on allowing authentication and association\ncommands only in certain states. In order to meet these requirements,\nuser space applications may need to clear authentication or\nassociation state in some cases. Currently, this can be done with\ndeauth/disassoc command, but that ends up sending out Deauthentication\nor Disassociation frame unnecessarily. Add a new nl80211 attribute to\nallow this sending of the frame be skipped, but with all other\ndeauth/disassoc operations being completed.\n\nSimilar state change is also needed for IEEE 802.11r FT protocol in\nthe FT-over-DS case which does not use Authentication frame exchange\nin a transition to another BSS. For this to work with cfg80211, an\nauthentication entry needs to be created for the target BSS without\nsending out an Authentication frame. The nl80211 authentication\ncommand can be used for this purpose, too, with the new attribute to\nindicate that the command is only for changing local state. This\nenables wpa_supplicant to complete FT-over-DS transition successfully.\n\nSigned-off-by: Jouni Malinen <j@w1.fi>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "full_message": "cfg80211: Add local-state-change-only auth/deauth/disassoc\n\ncfg80211 is quite strict on allowing authentication and association\ncommands only in certain states. In order to meet these requirements,\nuser space applications may need to clear authentication or\nassociation state in some cases. Currently, this can be done with\ndeauth/disassoc command, but that ends up sending out Deauthentication\nor Disassociation frame unnecessarily. Add a new nl80211 attribute to\nallow this sending of the frame be skipped, but with all other\ndeauth/disassoc operations being completed.\n\nSimilar state change is also needed for IEEE 802.11r FT protocol in\nthe FT-over-DS case which does not use Authentication frame exchange\nin a transition to another BSS. For this to work with cfg80211, an\nauthentication entry needs to be created for the target BSS without\nsending out an Authentication frame. The nl80211 authentication\ncommand can be used for this purpose, too, with the new attribute to\nindicate that the command is only for changing local state. This\nenables wpa_supplicant to complete FT-over-DS transition successfully.\n\nSigned-off-by: Jouni Malinen <j@w1.fi>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "author_name": "Jouni Malinen",
  "author_email": "j@w1.fi",
  "author_date": "Sun Apr 4 09:37:19 2010 +0300",
  "author_date_iso": "2010-04-04T09:37:19+03:00",
  "committer_name": "John W. Linville",
  "committer_email": "linville@tuxdriver.com",
  "committer_date": "Wed Apr 7 14:37:56 2010 -0400",
  "committer_date_iso": "2010-04-07T14:37:56-04:00",
  "files_changed": [
    "include/linux/nl80211.h",
    "include/net/cfg80211.h",
    "net/mac80211/mlme.c",
    "net/wireless/core.h",
    "net/wireless/mlme.c",
    "net/wireless/nl80211.c",
    "net/wireless/sme.c"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "include/linux/nl80211.h",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "include/net/cfg80211.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "net/mac80211/mlme.c",
      "insertions": 15,
      "deletions": 8
    },
    {
      "file": "net/wireless/core.h",
      "insertions": 10,
      "deletions": 5
    },
    {
      "file": "net/wireless/mlme.c",
      "insertions": 28,
      "deletions": 11
    },
    {
      "file": "net/wireless/nl80211.c",
      "insertions": 16,
      "deletions": 3
    },
    {
      "file": "net/wireless/sme.c",
      "insertions": 9,
      "deletions": 6
    }
  ],
  "total_insertions": 97,
  "total_deletions": 33,
  "total_changes": 130,
  "parents": [
    "7590a550b88b8c3cb025f0a8ed58e279ad62e4c1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.35",
    "v2.6.35-rc1",
    "v2.6.35-rc2",
    "v2.6.35-rc3",
    "v2.6.35-rc4",
    "v2.6.35-rc5",
    "v2.6.35-rc6",
    "v2.6.36",
    "v2.6.36-rc1",
    "v2.6.36-rc2"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/mac80211/mlme.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/sme.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/nl80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/nl80211.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/mlme.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/net/cfg80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/core.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}