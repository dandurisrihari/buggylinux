{
  "hash": "9ed50b8231e37b1ae863f5dec8153b98d9f389b4",
  "hash_short": "9ed50b82",
  "subject": "erofs: fix incorrect symlink detection in fast symlink",
  "body": "Fast symlink can be used if the on-disk symlink data is stored\nin the same block as the on-disk inode, so we don\u2019t need to trigger\nanother I/O for symlink data.  However, currently fs correction could be\nreported _incorrectly_ if inode xattrs are too large.\n\nIn fact, these should be valid images although they cannot be handled as\nfast symlinks.\n\nMany thanks to Colin for reporting this!\n\nReported-by: Colin Walters <walters@verbum.org>\nReported-by: https://honggfuzz.dev/\nLink: https://lore.kernel.org/r/bb2dd430-7de0-47da-ae5b-82ab2dd4d945@app.fastmail.com\nFixes: 431339ba9042 (\"staging: erofs: add inode operations\")\n[ Note that it's a runtime misbehavior instead of a security issue. ]\nSigned-off-by: Gao Xiang <hsiangkao@linux.alibaba.com>\nLink: https://lore.kernel.org/r/20240909031911.1174718-1-hsiangkao@linux.alibaba.com",
  "full_message": "erofs: fix incorrect symlink detection in fast symlink\n\nFast symlink can be used if the on-disk symlink data is stored\nin the same block as the on-disk inode, so we don\u2019t need to trigger\nanother I/O for symlink data.  However, currently fs correction could be\nreported _incorrectly_ if inode xattrs are too large.\n\nIn fact, these should be valid images although they cannot be handled as\nfast symlinks.\n\nMany thanks to Colin for reporting this!\n\nReported-by: Colin Walters <walters@verbum.org>\nReported-by: https://honggfuzz.dev/\nLink: https://lore.kernel.org/r/bb2dd430-7de0-47da-ae5b-82ab2dd4d945@app.fastmail.com\nFixes: 431339ba9042 (\"staging: erofs: add inode operations\")\n[ Note that it's a runtime misbehavior instead of a security issue. ]\nSigned-off-by: Gao Xiang <hsiangkao@linux.alibaba.com>\nLink: https://lore.kernel.org/r/20240909031911.1174718-1-hsiangkao@linux.alibaba.com",
  "author_name": "Gao Xiang",
  "author_email": "hsiangkao@linux.alibaba.com",
  "author_date": "Mon Sep 9 11:19:11 2024 +0800",
  "author_date_iso": "2024-09-09T11:19:11+08:00",
  "committer_name": "Gao Xiang",
  "committer_email": "hsiangkao@linux.alibaba.com",
  "committer_date": "Tue Sep 10 00:45:13 2024 +0800",
  "committer_date_iso": "2024-09-10T00:45:13+08:00",
  "files_changed": [
    "fs/erofs/inode.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/erofs/inode.c",
      "insertions": 6,
      "deletions": 14
    }
  ],
  "total_insertions": 6,
  "total_deletions": 14,
  "total_changes": 20,
  "parents": [
    "da3ea35007d0af457a0afc87e84fddaebc4e0b63"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "security issue"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/erofs/inode.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}