Commit Hash: 9ed50b8231e37b1ae863f5dec8153b98d9f389b4
Subject: erofs: fix incorrect symlink detection in fast symlink


Security Keywords:
- security issue

Full commit message:
erofs: fix incorrect symlink detection in fast symlink

Fast symlink can be used if the on-disk symlink data is stored
in the same block as the on-disk inode, so we donâ€™t need to trigger
another I/O for symlink data.  However, currently fs correction could be
reported _incorrectly_ if inode xattrs are too large.

In fact, these should be valid images although they cannot be handled as
fast symlinks.

Many thanks to Colin for reporting this!

Reported-by: Colin Walters <walters@verbum.org>
Reported-by: https://honggfuzz.dev/
Link: https://lore.kernel.org/r/bb2dd430-7de0-47da-ae5b-82ab2dd4d945@app.fastmail.com
Fixes: 431339ba9042 ("staging: erofs: add inode operations")
[ Note that it's a runtime misbehavior instead of a security issue. ]
Signed-off-by: Gao Xiang <hsiangkao@linux.alibaba.com>
Link: https://lore.kernel.org/r/20240909031911.1174718-1-hsiangkao@linux.alibaba.com

Metadata:
Author: Gao Xiang <hsiangkao@linux.alibaba.com>
Author Date: Mon Sep 9 11:19:11 2024 +0800
Committer: Gao Xiang <hsiangkao@linux.alibaba.com>
Commit Date: Tue Sep 10 00:45:13 2024 +0800

Files Changed: 1
Lines Added: 6
Lines Removed: 14
Total Changes: 20
