{
  "hash": "20146fa73ab8db2ab9f4916bbaf4610646787a09",
  "hash_short": "20146fa7",
  "subject": "net: microchip: sparx5: Fix possible memory leaks in test_vcap_xn_rule_creator()",
  "body": "Inject fault while probing kunit-example-test.ko, the rule which\nis allocated by kzalloc in vcap_alloc_rule(), the field which is\nallocated by kzalloc in vcap_rule_add_action() and\nvcap_rule_add_key() is not freed, and it cause the memory leaks\nbelow. Use vcap_free_rule() to free them as other drivers do it.\n\nAnd since the return rule of test_vcap_xn_rule_creator() is not\nused, remove it and switch to void.\n\nunreferenced object 0xffff058383334240 (size 192):\n  comm \"kunit_try_catch\", pid 309, jiffies 4294894222 (age 639.800s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 14 00 00 00 90 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 00 81 93 84 83 05 ff ff  ................\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000231b1097>] vcap_api_rule_insert_in_order_test+0xcc/0x184\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583849380c0 (size 64):\n  comm \"kunit_try_catch\", pid 309, jiffies 4294894222 (age 639.800s)\n  hex dump (first 32 bytes):\n    40 81 93 84 83 05 ff ff 68 42 33 83 83 05 ff ff  @.......hB3.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000231b1097>] vcap_api_rule_insert_in_order_test+0xcc/0x184\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff058384938100 (size 64):\n  comm \"kunit_try_catch\", pid 309, jiffies 4294894222 (age 639.800s)\n  hex dump (first 32 bytes):\n    80 81 93 84 83 05 ff ff 58 42 33 83 83 05 ff ff  ........XB3.....\n    7d 00 00 00 01 00 00 00 02 00 00 00 ff 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<00000000ba73cfbe>] vcap_add_type_keyfield+0xfc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000231b1097>] vcap_api_rule_insert_in_order_test+0xcc/0x184\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff0583833b6240 (size 192):\n  comm \"kunit_try_catch\", pid 311, jiffies 4294894225 (age 639.844s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 1e 00 00 00 2c 01 00 00  .'..........,...\n    00 00 00 00 00 00 00 00 40 91 8f 84 83 05 ff ff  ........@.......\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000509de3f4>] vcap_api_rule_insert_reverse_order_test+0x10c/0x654\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848f9100 (size 64):\n  comm \"kunit_try_catch\", pid 311, jiffies 4294894225 (age 639.844s)\n  hex dump (first 32 bytes):\n    80 91 8f 84 83 05 ff ff 68 62 3b 83 83 05 ff ff  ........hb;.....\n    22 00 00 00 01 00 00 00 00 00 00 00 a5 b4 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000509de3f4>] vcap_api_rule_insert_reverse_order_test+0x10c/0x654\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848f9140 (size 64):\n  comm \"kunit_try_catch\", pid 311, jiffies 4294894225 (age 639.844s)\n  hex dump (first 32 bytes):\n    c0 91 8f 84 83 05 ff ff 58 62 3b 83 83 05 ff ff  ........Xb;.....\n    7d 00 00 00 01 00 00 00 02 00 00 00 ff 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<00000000ba73cfbe>] vcap_add_type_keyfield+0xfc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000509de3f4>] vcap_api_rule_insert_reverse_order_test+0x10c/0x654\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff05838264e0c0 (size 192):\n  comm \"kunit_try_catch\", pid 313, jiffies 4294894230 (age 639.864s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 0a 00 00 00 f4 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 40 3a 97 84 83 05 ff ff  ........@:......\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000a29794d8>] vcap_api_rule_remove_at_end_test+0xbc/0xb48\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff058384973a80 (size 64):\n  comm \"kunit_try_catch\", pid 313, jiffies 4294894230 (age 639.864s)\n  hex dump (first 32 bytes):\n    e8 e0 64 82 83 05 ff ff e8 e0 64 82 83 05 ff ff  ..d.......d.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 80 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000a29794d8>] vcap_api_rule_remove_at_end_test+0xbc/0xb48\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff058384973a40 (size 64):\n  comm \"kunit_try_catch\", pid 313, jiffies 4294894230 (age 639.880s)\n  hex dump (first 32 bytes):\n    80 39 97 84 83 05 ff ff d8 e0 64 82 83 05 ff ff  .9........d.....\n    7d 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<0000000094335477>] vcap_add_type_keyfield+0xbc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000a29794d8>] vcap_api_rule_remove_at_end_test+0xbc/0xb48\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff0583832fa240 (size 192):\n  comm \"kunit_try_catch\", pid 315, jiffies 4294894233 (age 639.920s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 14 00 00 00 90 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 00 a1 8b 84 83 05 ff ff  ................\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000be638a45>] vcap_api_rule_remove_in_middle_test+0xc4/0xb80\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848ba0c0 (size 64):\n  comm \"kunit_try_catch\", pid 315, jiffies 4294894233 (age 639.920s)\n  hex dump (first 32 bytes):\n    40 a1 8b 84 83 05 ff ff 68 a2 2f 83 83 05 ff ff  @.......h./.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 80 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000be638a45>] vcap_api_rule_remove_in_middle_test+0xc4/0xb80\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848ba100 (size 64):\n  comm \"kunit_try_catch\", pid 315, jiffies 4294894233 (age 639.920s)\n  hex dump (first 32 bytes):\n    80 a1 8b 84 83 05 ff ff 58 a2 2f 83 83 05 ff ff  ........X./.....\n    7d 00 00 00 01 00 00 00 02 00 00 00 ff 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<00000000ba73cfbe>] vcap_add_type_keyfield+0xfc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000be638a45>] vcap_api_rule_remove_in_middle_test+0xc4/0xb80\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff0583827d2180 (size 192):\n  comm \"kunit_try_catch\", pid 317, jiffies 4294894238 (age 639.956s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 14 00 00 00 90 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 00 e1 06 83 83 05 ff ff  ................\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000e1ed8350>] vcap_api_rule_remove_in_front_test+0x144/0x6c0\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff05838306e0c0 (size 64):\n  comm \"kunit_try_catch\", pid 317, jiffies 4294894238 (age 639.956s)\n  hex dump (first 32 bytes):\n    40 e1 06 83 83 05 ff ff a8 21 7d 82 83 05 ff ff  @........!}.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 80 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000e1ed8350>] vcap_api_rule_remove_in_front_test+0x144/0x6c0\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff05838306e180 (size 64):\n  comm \"kunit_try_catch\", pid 317, jiffies 4294894238 (age 639.968s)\n  hex dump (first 32 bytes):\n    98 21 7d 82 83 05 ff ff 00 e1 06 83 83 05 ff ff  .!}.............\n    67 00 00 00 00 00 00 00 01 01 00 00 ff 00 00 00  g...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<000000006ce4945d>] test_add_def_fields+0x84/0x8c\n    [<00000000507e0ab6>] vcap_val_rule+0x294/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000e1ed8350>] vcap_api_rule_remove_in_front_test+0x144/0x6c0\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nFixes: dccc30cc4906 (\"net: microchip: sparx5: Add KUNIT test of counters and sorted rules\")\nSigned-off-by: Jinjie Ruan <ruanjinjie@huawei.com>\nReported-by: kernel test robot <lkp@intel.com>\nCloses: https://lore.kernel.org/oe-kbuild-all/202309090950.uOTEKQq3-lkp@intel.com/\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "net: microchip: sparx5: Fix possible memory leaks in test_vcap_xn_rule_creator()\n\nInject fault while probing kunit-example-test.ko, the rule which\nis allocated by kzalloc in vcap_alloc_rule(), the field which is\nallocated by kzalloc in vcap_rule_add_action() and\nvcap_rule_add_key() is not freed, and it cause the memory leaks\nbelow. Use vcap_free_rule() to free them as other drivers do it.\n\nAnd since the return rule of test_vcap_xn_rule_creator() is not\nused, remove it and switch to void.\n\nunreferenced object 0xffff058383334240 (size 192):\n  comm \"kunit_try_catch\", pid 309, jiffies 4294894222 (age 639.800s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 14 00 00 00 90 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 00 81 93 84 83 05 ff ff  ................\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000231b1097>] vcap_api_rule_insert_in_order_test+0xcc/0x184\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583849380c0 (size 64):\n  comm \"kunit_try_catch\", pid 309, jiffies 4294894222 (age 639.800s)\n  hex dump (first 32 bytes):\n    40 81 93 84 83 05 ff ff 68 42 33 83 83 05 ff ff  @.......hB3.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000231b1097>] vcap_api_rule_insert_in_order_test+0xcc/0x184\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff058384938100 (size 64):\n  comm \"kunit_try_catch\", pid 309, jiffies 4294894222 (age 639.800s)\n  hex dump (first 32 bytes):\n    80 81 93 84 83 05 ff ff 58 42 33 83 83 05 ff ff  ........XB3.....\n    7d 00 00 00 01 00 00 00 02 00 00 00 ff 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<00000000ba73cfbe>] vcap_add_type_keyfield+0xfc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000231b1097>] vcap_api_rule_insert_in_order_test+0xcc/0x184\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff0583833b6240 (size 192):\n  comm \"kunit_try_catch\", pid 311, jiffies 4294894225 (age 639.844s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 1e 00 00 00 2c 01 00 00  .'..........,...\n    00 00 00 00 00 00 00 00 40 91 8f 84 83 05 ff ff  ........@.......\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000509de3f4>] vcap_api_rule_insert_reverse_order_test+0x10c/0x654\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848f9100 (size 64):\n  comm \"kunit_try_catch\", pid 311, jiffies 4294894225 (age 639.844s)\n  hex dump (first 32 bytes):\n    80 91 8f 84 83 05 ff ff 68 62 3b 83 83 05 ff ff  ........hb;.....\n    22 00 00 00 01 00 00 00 00 00 00 00 a5 b4 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000509de3f4>] vcap_api_rule_insert_reverse_order_test+0x10c/0x654\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848f9140 (size 64):\n  comm \"kunit_try_catch\", pid 311, jiffies 4294894225 (age 639.844s)\n  hex dump (first 32 bytes):\n    c0 91 8f 84 83 05 ff ff 58 62 3b 83 83 05 ff ff  ........Xb;.....\n    7d 00 00 00 01 00 00 00 02 00 00 00 ff 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<00000000ba73cfbe>] vcap_add_type_keyfield+0xfc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000509de3f4>] vcap_api_rule_insert_reverse_order_test+0x10c/0x654\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff05838264e0c0 (size 192):\n  comm \"kunit_try_catch\", pid 313, jiffies 4294894230 (age 639.864s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 0a 00 00 00 f4 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 40 3a 97 84 83 05 ff ff  ........@:......\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000a29794d8>] vcap_api_rule_remove_at_end_test+0xbc/0xb48\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff058384973a80 (size 64):\n  comm \"kunit_try_catch\", pid 313, jiffies 4294894230 (age 639.864s)\n  hex dump (first 32 bytes):\n    e8 e0 64 82 83 05 ff ff e8 e0 64 82 83 05 ff ff  ..d.......d.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 80 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000a29794d8>] vcap_api_rule_remove_at_end_test+0xbc/0xb48\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff058384973a40 (size 64):\n  comm \"kunit_try_catch\", pid 313, jiffies 4294894230 (age 639.880s)\n  hex dump (first 32 bytes):\n    80 39 97 84 83 05 ff ff d8 e0 64 82 83 05 ff ff  .9........d.....\n    7d 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<0000000094335477>] vcap_add_type_keyfield+0xbc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000a29794d8>] vcap_api_rule_remove_at_end_test+0xbc/0xb48\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff0583832fa240 (size 192):\n  comm \"kunit_try_catch\", pid 315, jiffies 4294894233 (age 639.920s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 14 00 00 00 90 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 00 a1 8b 84 83 05 ff ff  ................\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000be638a45>] vcap_api_rule_remove_in_middle_test+0xc4/0xb80\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848ba0c0 (size 64):\n  comm \"kunit_try_catch\", pid 315, jiffies 4294894233 (age 639.920s)\n  hex dump (first 32 bytes):\n    40 a1 8b 84 83 05 ff ff 68 a2 2f 83 83 05 ff ff  @.......h./.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 80 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000be638a45>] vcap_api_rule_remove_in_middle_test+0xc4/0xb80\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff0583848ba100 (size 64):\n  comm \"kunit_try_catch\", pid 315, jiffies 4294894233 (age 639.920s)\n  hex dump (first 32 bytes):\n    80 a1 8b 84 83 05 ff ff 58 a2 2f 83 83 05 ff ff  ........X./.....\n    7d 00 00 00 01 00 00 00 02 00 00 00 ff 00 00 00  }...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<00000000ba73cfbe>] vcap_add_type_keyfield+0xfc/0x128\n    [<000000002b00f7df>] vcap_val_rule+0x274/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000be638a45>] vcap_api_rule_remove_in_middle_test+0xc4/0xb80\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nunreferenced object 0xffff0583827d2180 (size 192):\n  comm \"kunit_try_catch\", pid 317, jiffies 4294894238 (age 639.956s)\n  hex dump (first 32 bytes):\n    10 27 00 00 04 00 00 00 14 00 00 00 90 01 00 00  .'..............\n    00 00 00 00 00 00 00 00 00 e1 06 83 83 05 ff ff  ................\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000648fefae>] vcap_alloc_rule+0x17c/0x26c\n    [<000000004da16164>] test_vcap_xn_rule_creator.constprop.43+0xac/0x328\n    [<00000000e1ed8350>] vcap_api_rule_remove_in_front_test+0x144/0x6c0\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff05838306e0c0 (size 64):\n  comm \"kunit_try_catch\", pid 317, jiffies 4294894238 (age 639.956s)\n  hex dump (first 32 bytes):\n    40 e1 06 83 83 05 ff ff a8 21 7d 82 83 05 ff ff  @........!}.....\n    22 00 00 00 01 00 00 00 00 00 00 00 00 80 ff ff  \"...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<00000000ee41df9e>] vcap_rule_add_action+0x104/0x178\n    [<000000001cc1bb38>] test_vcap_xn_rule_creator.constprop.43+0xd8/0x328\n    [<00000000e1ed8350>] vcap_api_rule_remove_in_front_test+0x144/0x6c0\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\nunreferenced object 0xffff05838306e180 (size 64):\n  comm \"kunit_try_catch\", pid 317, jiffies 4294894238 (age 639.968s)\n  hex dump (first 32 bytes):\n    98 21 7d 82 83 05 ff ff 00 e1 06 83 83 05 ff ff  .!}.............\n    67 00 00 00 00 00 00 00 01 01 00 00 ff 00 00 00  g...............\n  backtrace:\n    [<000000008585a8f7>] slab_post_alloc_hook+0xb8/0x368\n    [<00000000795eba12>] __kmem_cache_alloc_node+0x174/0x290\n    [<0000000061886991>] kmalloc_trace+0x40/0x164\n    [<0000000043c78991>] vcap_rule_add_key+0x104/0x180\n    [<000000006ce4945d>] test_add_def_fields+0x84/0x8c\n    [<00000000507e0ab6>] vcap_val_rule+0x294/0x3e8\n    [<00000000e67d2ff5>] test_vcap_xn_rule_creator.constprop.43+0xf0/0x328\n    [<00000000e1ed8350>] vcap_api_rule_remove_in_front_test+0x144/0x6c0\n    [<00000000548b559e>] kunit_try_run_case+0x50/0xac\n    [<00000000663f0105>] kunit_generic_run_threadfn_adapter+0x20/0x2c\n    [<00000000e646f120>] kthread+0x124/0x130\n    [<000000005257599e>] ret_from_fork+0x10/0x20\n\nFixes: dccc30cc4906 (\"net: microchip: sparx5: Add KUNIT test of counters and sorted rules\")\nSigned-off-by: Jinjie Ruan <ruanjinjie@huawei.com>\nReported-by: kernel test robot <lkp@intel.com>\nCloses: https://lore.kernel.org/oe-kbuild-all/202309090950.uOTEKQq3-lkp@intel.com/\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "Jinjie Ruan",
  "author_email": "ruanjinjie@huawei.com",
  "author_date": "Tue Sep 12 19:03:09 2023 +0800",
  "author_date_iso": "2023-09-12T19:03:09+08:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Fri Sep 15 07:32:35 2023 +0100",
  "committer_date_iso": "2023-09-15T07:32:35+01:00",
  "files_changed": [
    "drivers/net/ethernet/microchip/vcap/vcap_api_kunit.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/net/ethernet/microchip/vcap/vcap_api_kunit.c",
      "insertions": 4,
      "deletions": 5
    }
  ],
  "total_insertions": 4,
  "total_deletions": 5,
  "total_changes": 9,
  "parents": [
    "89e3af0277388f32d56915a6715c735e4afae5d6"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Inject"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/ethernet/microchip/vcap/vcap_api_kunit.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}