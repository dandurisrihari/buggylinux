{
  "hash": "98af8452945c55652de68536afdde3b520fec429",
  "hash_short": "98af8452",
  "subject": "cpu/speculation: Add 'mitigations=' cmdline option",
  "body": "Keeping track of the number of mitigations for all the CPU speculation\nbugs has become overwhelming for many users.  It's getting more and more\ncomplicated to decide which mitigations are needed for a given\narchitecture.  Complicating matters is the fact that each arch tends to\nhave its own custom way to mitigate the same vulnerability.\n\nMost users fall into a few basic categories:\n\na) they want all mitigations off;\n\nb) they want all reasonable mitigations on, with SMT enabled even if\n   it's vulnerable; or\n\nc) they want all reasonable mitigations on, with SMT disabled if\n   vulnerable.\n\nDefine a set of curated, arch-independent options, each of which is an\naggregation of existing options:\n\n- mitigations=off: Disable all mitigations.\n\n- mitigations=auto: [default] Enable all the default mitigations, but\n  leave SMT enabled, even if it's vulnerable.\n\n- mitigations=auto,nosmt: Enable all the default mitigations, disabling\n  SMT if needed by a mitigation.\n\nCurrently, these options are placeholders which don't actually do\nanything.  They will be fleshed out in upcoming patches.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\nTested-by: Jiri Kosina <jkosina@suse.cz> (on x86)\nReviewed-by: Jiri Kosina <jkosina@suse.cz>\nCc: Borislav Petkov <bp@alien8.de>\nCc: \"H . Peter Anvin\" <hpa@zytor.com>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Jiri Kosina <jikos@kernel.org>\nCc: Waiman Long <longman@redhat.com>\nCc: Andrea Arcangeli <aarcange@redhat.com>\nCc: Jon Masters <jcm@redhat.com>\nCc: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nCc: Paul Mackerras <paulus@samba.org>\nCc: Michael Ellerman <mpe@ellerman.id.au>\nCc: linuxppc-dev@lists.ozlabs.org\nCc: Martin Schwidefsky <schwidefsky@de.ibm.com>\nCc: Heiko Carstens <heiko.carstens@de.ibm.com>\nCc: linux-s390@vger.kernel.org\nCc: Catalin Marinas <catalin.marinas@arm.com>\nCc: Will Deacon <will.deacon@arm.com>\nCc: linux-arm-kernel@lists.infradead.org\nCc: linux-arch@vger.kernel.org\nCc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nCc: Tyler Hicks <tyhicks@canonical.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Randy Dunlap <rdunlap@infradead.org>\nCc: Steven Price <steven.price@arm.com>\nCc: Phil Auld <pauld@redhat.com>\nLink: https://lkml.kernel.org/r/b07a8ef9b7c5055c3a4637c87d07c296d5016fe0.1555085500.git.jpoimboe@redhat.com",
  "full_message": "cpu/speculation: Add 'mitigations=' cmdline option\n\nKeeping track of the number of mitigations for all the CPU speculation\nbugs has become overwhelming for many users.  It's getting more and more\ncomplicated to decide which mitigations are needed for a given\narchitecture.  Complicating matters is the fact that each arch tends to\nhave its own custom way to mitigate the same vulnerability.\n\nMost users fall into a few basic categories:\n\na) they want all mitigations off;\n\nb) they want all reasonable mitigations on, with SMT enabled even if\n   it's vulnerable; or\n\nc) they want all reasonable mitigations on, with SMT disabled if\n   vulnerable.\n\nDefine a set of curated, arch-independent options, each of which is an\naggregation of existing options:\n\n- mitigations=off: Disable all mitigations.\n\n- mitigations=auto: [default] Enable all the default mitigations, but\n  leave SMT enabled, even if it's vulnerable.\n\n- mitigations=auto,nosmt: Enable all the default mitigations, disabling\n  SMT if needed by a mitigation.\n\nCurrently, these options are placeholders which don't actually do\nanything.  They will be fleshed out in upcoming patches.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\nTested-by: Jiri Kosina <jkosina@suse.cz> (on x86)\nReviewed-by: Jiri Kosina <jkosina@suse.cz>\nCc: Borislav Petkov <bp@alien8.de>\nCc: \"H . Peter Anvin\" <hpa@zytor.com>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Jiri Kosina <jikos@kernel.org>\nCc: Waiman Long <longman@redhat.com>\nCc: Andrea Arcangeli <aarcange@redhat.com>\nCc: Jon Masters <jcm@redhat.com>\nCc: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nCc: Paul Mackerras <paulus@samba.org>\nCc: Michael Ellerman <mpe@ellerman.id.au>\nCc: linuxppc-dev@lists.ozlabs.org\nCc: Martin Schwidefsky <schwidefsky@de.ibm.com>\nCc: Heiko Carstens <heiko.carstens@de.ibm.com>\nCc: linux-s390@vger.kernel.org\nCc: Catalin Marinas <catalin.marinas@arm.com>\nCc: Will Deacon <will.deacon@arm.com>\nCc: linux-arm-kernel@lists.infradead.org\nCc: linux-arch@vger.kernel.org\nCc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nCc: Tyler Hicks <tyhicks@canonical.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Randy Dunlap <rdunlap@infradead.org>\nCc: Steven Price <steven.price@arm.com>\nCc: Phil Auld <pauld@redhat.com>\nLink: https://lkml.kernel.org/r/b07a8ef9b7c5055c3a4637c87d07c296d5016fe0.1555085500.git.jpoimboe@redhat.com",
  "author_name": "Josh Poimboeuf",
  "author_email": "jpoimboe@redhat.com",
  "author_date": "Fri Apr 12 15:39:28 2019 -0500",
  "author_date_iso": "2019-04-12T15:39:28-05:00",
  "committer_name": "Thomas Gleixner",
  "committer_email": "tglx@linutronix.de",
  "committer_date": "Wed Apr 17 21:37:28 2019 +0200",
  "committer_date_iso": "2019-04-17T21:37:28+02:00",
  "files_changed": [
    "Documentation/admin-guide/kernel-parameters.txt",
    "include/linux/cpu.h",
    "kernel/cpu.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "include/linux/cpu.h",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "kernel/cpu.c",
      "insertions": 15,
      "deletions": 0
    }
  ],
  "total_insertions": 63,
  "total_deletions": 0,
  "total_changes": 63,
  "parents": [
    "1c163f4c7b3f621efff9b28a47abb36f7378d783"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.2",
    "v5.2-rc1",
    "v5.2-rc2",
    "v5.2-rc3",
    "v5.2-rc4",
    "v5.2-rc5",
    "v5.2-rc6",
    "v5.2-rc7",
    "v5.3",
    "v5.3-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/cpu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/cpu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}