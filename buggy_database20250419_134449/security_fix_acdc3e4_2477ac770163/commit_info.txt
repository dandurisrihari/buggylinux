Commit Hash: acdc3e47881d86dc1cb89d4603e3fed90ab150db
Subject: wifi: mac80211: mlme: assign link address correctly


Security Keywords:
- authentication

Full commit message:
wifi: mac80211: mlme: assign link address correctly

Right now, we assign the link address only after we add
the link to the driver, which is quite obviously wrong.
It happens to work in many cases because it gets updated
immediately, and then link_conf updates may update it,
but it's clearly not really right.

Set the link address during ieee80211_mgd_setup_link()
so it's set before telling the driver about the link.

Fixes: 81151ce462e5 ("wifi: mac80211: support MLO authentication/association with one link")
Signed-off-by: Johannes Berg <johannes.berg@intel.com>

Metadata:
Author: Johannes Berg <johannes.berg@intel.com>
Author Date: Fri Sep 2 16:12:38 2022 +0200
Committer: Johannes Berg <johannes.berg@intel.com>
Commit Date: Sat Sep 3 17:02:34 2022 +0200

Files Changed: 1
Lines Added: 2
Lines Removed: 3
Total Changes: 5
