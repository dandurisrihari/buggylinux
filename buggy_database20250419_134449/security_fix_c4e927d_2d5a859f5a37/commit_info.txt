Commit Hash: c4e927da893b2d9ebe71ac206ed021df363771e4
Subject: thermal: intel_powerclamp: Remove accounting for IRQ wakes


Security Keywords:
- injection

Full commit message:
thermal: intel_powerclamp: Remove accounting for IRQ wakes

There is a static variable "idle_wakeup_counter", which accounts for
number of wake ups because of IRQs and take actions to compensate idle
injection. This is now read and reset to 0, but never incremented.
So all the usage of this counter for idle injection has no use.

Also another static variable "reduce_irq", which depends on
"idle_wakeup_counter", so remove usage of "reduce_irq" also.

Commit feb6cd6a0f9f ("thermal/intel_powerclamp: stop sched tick in
forced idle") replaced the local use of "mwait_idle_with_hints" with
play_idle(). This removed possibility of updating "idle_wakeup_counter"
without change in play_idle(). This change was made in Linux 4.10.

Signed-off-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
[ rjw: Changelog edits ]
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>

Metadata:
Author: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
Author Date: Tue Sep 20 04:08:02 2022 -0700
Committer: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Commit Date: Wed Sep 21 20:31:05 2022 +0200

Files Changed: 1
Lines Added: 3
Lines Removed: 18
Total Changes: 21
