{
  "hash": "bd6461cc7b3c4fd12dcba4b0e95dfc612df872fd",
  "hash_short": "bd6461cc",
  "subject": "powerpc/eeh: Add a eeh_dev_break debugfs interface",
  "body": "Add an interface to debugfs for generating an EEH event on a given device.\nThis works by disabling memory accesses to and from the device by setting\nthe PCI_COMMAND register (or the VF Memory Space Enable on the parent PF).\n\nThis is a somewhat portable alternative to using the platform specific\nerror injection mechanisms since those tend to be either hard to use, or\nstraight up broken. For pseries the interfaces also requires the use of\n/dev/mem which is probably going to go away in a post-LOCKDOWN world\n(and it's a horrific hack to begin with) so moving to a kernel-provided\ninterface makes sense and provides a sane, cross-platform interface for\nuserspace so we can write more generic testing scripts.\n\nSigned-off-by: Oliver O'Halloran <oohall@gmail.com>\nSigned-off-by: Michael Ellerman <mpe@ellerman.id.au>\nLink: https://lore.kernel.org/r/20190903101605.2890-14-oohall@gmail.com",
  "full_message": "powerpc/eeh: Add a eeh_dev_break debugfs interface\n\nAdd an interface to debugfs for generating an EEH event on a given device.\nThis works by disabling memory accesses to and from the device by setting\nthe PCI_COMMAND register (or the VF Memory Space Enable on the parent PF).\n\nThis is a somewhat portable alternative to using the platform specific\nerror injection mechanisms since those tend to be either hard to use, or\nstraight up broken. For pseries the interfaces also requires the use of\n/dev/mem which is probably going to go away in a post-LOCKDOWN world\n(and it's a horrific hack to begin with) so moving to a kernel-provided\ninterface makes sense and provides a sane, cross-platform interface for\nuserspace so we can write more generic testing scripts.\n\nSigned-off-by: Oliver O'Halloran <oohall@gmail.com>\nSigned-off-by: Michael Ellerman <mpe@ellerman.id.au>\nLink: https://lore.kernel.org/r/20190903101605.2890-14-oohall@gmail.com",
  "author_name": "Oliver O'Halloran",
  "author_email": "oohall@gmail.com",
  "author_date": "Tue Sep 3 20:16:04 2019 +1000",
  "author_date_iso": "2019-09-03T20:16:04+10:00",
  "committer_name": "Michael Ellerman",
  "committer_email": "mpe@ellerman.id.au",
  "committer_date": "Thu Sep 5 14:22:39 2019 +1000",
  "committer_date_iso": "2019-09-05T14:22:39+10:00",
  "files_changed": [
    "arch/powerpc/kernel/eeh.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/powerpc/kernel/eeh.c",
      "insertions": 138,
      "deletions": 1
    }
  ],
  "total_insertions": 138,
  "total_deletions": 1,
  "total_changes": 139,
  "parents": [
    "22cda7c1680c1ddfe941adae45e7e7ef52d0e411"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.4",
    "v5.4-rc1",
    "v5.4-rc2",
    "v5.4-rc3",
    "v5.4-rc4",
    "v5.4-rc5",
    "v5.4-rc6",
    "v5.4-rc7",
    "v5.4-rc8",
    "v5.5"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/powerpc/kernel/eeh.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}