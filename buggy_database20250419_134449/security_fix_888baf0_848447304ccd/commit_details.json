{
  "hash": "888baf069f49529f33c0b1dfb0fc4811dc0ca1d2",
  "hash_short": "888baf06",
  "subject": "scsi: cxlflash: Add kref to context",
  "body": "Currently, context user references are tracked via the list of LUNs that\nhave attached to the context. While convenient, this is not intuitive\nwithout a deep study of the code and is inconsistent with the existing\nreference tracking patterns within the kernel. This design choice can\nlead to future bug injection.\n\nTo improve code comprehension and better protect against future bugs,\nadd explicit reference counting to contexts and migrate the context\nremoval code to the kref release handler.\n\nInspired-by: Al Viro <viro@zeniv.linux.org.uk>\nSigned-off-by: Matthew R. Ochs <mrochs@linux.vnet.ibm.com>\nAcked-by: Manoj N. Kumar <manoj@linux.vnet.ibm.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "scsi: cxlflash: Add kref to context\n\nCurrently, context user references are tracked via the list of LUNs that\nhave attached to the context. While convenient, this is not intuitive\nwithout a deep study of the code and is inconsistent with the existing\nreference tracking patterns within the kernel. This design choice can\nlead to future bug injection.\n\nTo improve code comprehension and better protect against future bugs,\nadd explicit reference counting to contexts and migrate the context\nremoval code to the kref release handler.\n\nInspired-by: Al Viro <viro@zeniv.linux.org.uk>\nSigned-off-by: Matthew R. Ochs <mrochs@linux.vnet.ibm.com>\nAcked-by: Manoj N. Kumar <manoj@linux.vnet.ibm.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "Matthew R. Ochs",
  "author_email": "mrochs@linux.vnet.ibm.com",
  "author_date": "Tue Aug 9 18:39:42 2016 -0500",
  "author_date_iso": "2016-08-09T18:39:42-05:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Thu Aug 18 22:41:36 2016 -0400",
  "committer_date_iso": "2016-08-18T22:41:36-04:00",
  "files_changed": [
    "drivers/scsi/cxlflash/superpipe.c",
    "drivers/scsi/cxlflash/superpipe.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/scsi/cxlflash/superpipe.c",
      "insertions": 52,
      "deletions": 35
    },
    {
      "file": "drivers/scsi/cxlflash/superpipe.h",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 53,
  "total_deletions": 35,
  "total_changes": 88,
  "parents": [
    "44ef38f9a2af8644c24ace6cbe1132dc70174c39"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/cxlflash/superpipe.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/cxlflash/superpipe.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}