Commit Hash: f44ec6f3f89889a469773b1fd894f8fcc07c29cf
Subject: limit minixfs printks on corrupted dir i_size

CVE Identifiers:
- CVE-2006-6058
- CVE-2006-6058

Full commit message:
limit minixfs printks on corrupted dir i_size

This attempts to address CVE-2006-6058
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-6058

first reported at http://projects.info-pull.com/mokb/MOKB-17-11-2006.html

Essentially a corrupted minix dir inode reporting a very large
i_size will loop for a very long time in minix_readdir, minix_find_entry,
etc, because on EIO they just move on to try the next page.  This is
under the BKL, printk-storming as well.  This can lock up the machine
for a very long time.  Simply ratelimiting the printks gets things back
under control.  Make the message a bit more informative while we're here.

Signed-off-by: Eric Sandeen <sandeen@redhat.com>
Cc: Bodo Eggert <7eggert@gmx.de>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Metadata:
Author: Eric Sandeen <sandeen@redhat.com>
Author Date: Tue Oct 16 23:27:15 2007 -0700
Committer: Linus Torvalds <torvalds@woody.linux-foundation.org>
Commit Date: Wed Oct 17 08:42:53 2007 -0700

Files Changed: 2
Lines Added: 14
Lines Removed: 4
Total Changes: 18
