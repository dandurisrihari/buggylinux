{
  "hash": "44ef1604ae9492a7d9238ea79aa0cc7b4c4de860",
  "hash_short": "44ef1604",
  "subject": "Merge patch series \"smartpqi updates\"",
  "body": "Don Brace <don.brace@microchip.com> says:\n\nThese patches are based on Martin Petersen's 6.4/scsi-queue tree\n  https://git.kernel.org/pub/scm/linux/kernel/git/mkp/scsi.git\n  6.4/scsi-queue\n\nThis set of changes consists of:\n\n * Map entire BAR 0.  The driver was mapping up to and including the\n   controller registers, but not all of BAR 0.\n\n * Add PCI IDs to support new controllers.\n\n * Clean up some code by removing unnecessary NULL checks.  This cleanup is\n   a result of a Coverity report.\n\n * Correct a rare memory leak whenever pqi_sas_port_add_rhpy() returns an\n   error. This was Suggested by: Yang Yingliang <yangyingliang@huawei.com>\n\n * Remove atomic operations on variable raid_bypass_cnt. Accuracy is not\n   required for driver operation. Change type from atomic_t to unsigned\n   int.\n\n * Correct a rare drive hot-plug removal issue where we get a NULL\n   io_request. We added a check for this condition.\n\n * Turn on NCQ priority for AIO requests to disks comprising RAID devices.\n\n * Correct byte aligned writew() operations on some ARM servers. Changed\n   the writew() to two writeb() operations.\n\n * Change how the driver checks for a sanitize operation in progress.  We\n   were using TEST UNIT READY. We removed the TEST UNIT READY code and are\n   now using the controller's firmware information in order to avoid issues\n   caused by drives failing to complete TEST UNIT READY.\n\n * Some customers have been requesting that we add the NUMA node to\n   /sys/block/sd<scsi device>/device like the nvme driver does.\n\n * Update the copyright information to match the current year.\n\n * Bump the driver version to 2.1.22-040.\n\nLink: https://lore.kernel.org/r/20230428153712.297638-1-don.brace@microchip.com\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "Merge patch series \"smartpqi updates\"\n\nDon Brace <don.brace@microchip.com> says:\n\nThese patches are based on Martin Petersen's 6.4/scsi-queue tree\n  https://git.kernel.org/pub/scm/linux/kernel/git/mkp/scsi.git\n  6.4/scsi-queue\n\nThis set of changes consists of:\n\n * Map entire BAR 0.  The driver was mapping up to and including the\n   controller registers, but not all of BAR 0.\n\n * Add PCI IDs to support new controllers.\n\n * Clean up some code by removing unnecessary NULL checks.  This cleanup is\n   a result of a Coverity report.\n\n * Correct a rare memory leak whenever pqi_sas_port_add_rhpy() returns an\n   error. This was Suggested by: Yang Yingliang <yangyingliang@huawei.com>\n\n * Remove atomic operations on variable raid_bypass_cnt. Accuracy is not\n   required for driver operation. Change type from atomic_t to unsigned\n   int.\n\n * Correct a rare drive hot-plug removal issue where we get a NULL\n   io_request. We added a check for this condition.\n\n * Turn on NCQ priority for AIO requests to disks comprising RAID devices.\n\n * Correct byte aligned writew() operations on some ARM servers. Changed\n   the writew() to two writeb() operations.\n\n * Change how the driver checks for a sanitize operation in progress.  We\n   were using TEST UNIT READY. We removed the TEST UNIT READY code and are\n   now using the controller's firmware information in order to avoid issues\n   caused by drives failing to complete TEST UNIT READY.\n\n * Some customers have been requesting that we add the NUMA node to\n   /sys/block/sd<scsi device>/device like the nvme driver does.\n\n * Update the copyright information to match the current year.\n\n * Bump the driver version to 2.1.22-040.\n\nLink: https://lore.kernel.org/r/20230428153712.297638-1-don.brace@microchip.com\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "Martin K. Petersen",
  "author_email": "martin.petersen@oracle.com",
  "author_date": "Mon May 8 07:56:37 2023 -0400",
  "author_date_iso": "2023-05-08T07:56:37-04:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Mon May 8 07:56:37 2023 -0400",
  "committer_date_iso": "2023-05-08T07:56:37-04:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "drivers/scsi/smartpqi/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/smartpqi/smartpqi.h",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/smartpqi/smartpqi_init.c",
      "insertions": 154,
      "deletions": 130
    },
    {
      "file": "drivers/scsi/smartpqi/smartpqi_sas_transport.c",
      "insertions": 17,
      "deletions": 17
    },
    {
      "file": "drivers/scsi/smartpqi/smartpqi_sis.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/smartpqi/smartpqi_sis.h",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 178,
  "total_deletions": 152,
  "total_changes": 330,
  "parents": [
    "79c67c54f64ccae5b0a302f6ec67a6b7b8a55b24",
    "fcb405111a24cf9fc0dcd09f47bcd5f0968c4a9d"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "sanitize"
    ]
  },
  "fix_type": "security",
  "file_results": []
}