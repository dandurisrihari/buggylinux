Commit Hash: 9e4a617757273a86b560c1ece40c48e4940a3c79
Subject: string: Add __realloc_size hint to kmemdup()


Security Keywords:
- hardening

Full commit message:
string: Add __realloc_size hint to kmemdup()

Add __realloc_size() hint to kmemdup() so the compiler can reason about
the length of the returned buffer. (These must not use __alloc_size,
since those include __malloc which says the contents aren't defined[1]).

[1] https://lore.kernel.org/linux-hardening/d199c2af-06af-8a50-a6a1-00eefa0b67b4@prevas.dk/

Cc: Rasmus Villemoes <rasmus.villemoes@prevas.dk>
Cc: Guenter Roeck <linux@roeck-us.net>
Cc: Andy Shevchenko <andriy.shevchenko@intel.com>
Cc: Paolo Abeni <pabeni@redhat.com>
Cc: Geert Uytterhoeven <geert@linux-m68k.org>
Signed-off-by: Kees Cook <keescook@chromium.org>

Metadata:
Author: Kees Cook <keescook@chromium.org>
Author Date: Thu Sep 29 02:24:53 2022 -0700
Committer: Kees Cook <keescook@chromium.org>
Commit Date: Tue Nov 1 10:04:51 2022 -0700

Files Changed: 2
Lines Added: 3
Lines Removed: 2
Total Changes: 5
