Commit Hash: d04c241c669209667dd8f44335591246e601139a
Subject: xfs: Check for m_errortag initialization in xfs_errortag_test


Security Keywords:
- injection

Full commit message:
xfs: Check for m_errortag initialization in xfs_errortag_test

While adding error injection into IO completion, I notice the lack of
initialization check in xfs_errortag_test(), make the error injection
mechanism unable to be used there.

IO completion is executed a few times before the error injection
mechanism is initialized, so to be safer, make xfs_errortag_test() check
if the errortag is properly initialized.

Signed-off-by: Carlos Maiolino <cmaiolino@redhat.com>
Reviewed-by: Darrick J. Wong <darrick.wong@oracle.com>
Signed-off-by: Darrick J. Wong <darrick.wong@oracle.com>

Metadata:
Author: Carlos Maiolino <cmaiolino@redhat.com>
Author Date: Fri Jun 30 09:46:07 2017 -0700
Committer: Darrick J. Wong <darrick.wong@oracle.com>
Commit Date: Sat Jul 1 21:08:47 2017 -0700

Files Changed: 1
Lines Added: 11
Lines Removed: 0
Total Changes: 11
