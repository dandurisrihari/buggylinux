{
  "hash": "8d438288145f19f253a82ca71290b44fce79e23f",
  "hash_short": "8d438288",
  "subject": "fault-injection: notifier error injection",
  "body": "This patchset provides kernel modules that can be used to test the error\nhandling of notifier call chain failures by injecting artifical errors to\nthe following notifier chain callbacks.\n\n * CPU notifier\n * PM notifier\n * memory hotplug notifier\n * powerpc pSeries reconfig notifier\n\nExample: Inject CPU offline error (-1 == -EPERM)\n\n  # cd /sys/kernel/debug/notifier-error-inject/cpu\n  # echo -1 > actions/CPU_DOWN_PREPARE/error\n  # echo 0 > /sys/devices/system/cpu/cpu1/online\n  bash: echo: write error: Operation not permitted\n\nThe patchset also adds cpu and memory hotplug tests to\ntools/testing/selftests These tests first do simple online and offline\ntest and then do fault injection tests if notifier error injection\nmodule is available.\n\nThis patch:\n\nThe notifier error injection provides the ability to inject artifical\nerrors to specified notifier chain callbacks.  It is useful to test the\nerror handling of notifier call chain failures.\n\nThis adds common basic functions to define which type of events can be\nfail and to initialize the debugfs interface to control what error code\nshould be returned and which event should be failed.\n\nSigned-off-by: Akinobu Mita <akinobu.mita@gmail.com>\nCc: Pavel Machek <pavel@ucw.cz>\nCc: \"Rafael J. Wysocki\" <rjw@sisk.pl>\nCc: Greg KH <greg@kroah.com>\nCc: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nCc: Paul Mackerras <paulus@samba.org>\nCc: Michael Ellerman <michael@ellerman.id.au>\nCc: Dave Jones <davej@redhat.com>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "fault-injection: notifier error injection\n\nThis patchset provides kernel modules that can be used to test the error\nhandling of notifier call chain failures by injecting artifical errors to\nthe following notifier chain callbacks.\n\n * CPU notifier\n * PM notifier\n * memory hotplug notifier\n * powerpc pSeries reconfig notifier\n\nExample: Inject CPU offline error (-1 == -EPERM)\n\n  # cd /sys/kernel/debug/notifier-error-inject/cpu\n  # echo -1 > actions/CPU_DOWN_PREPARE/error\n  # echo 0 > /sys/devices/system/cpu/cpu1/online\n  bash: echo: write error: Operation not permitted\n\nThe patchset also adds cpu and memory hotplug tests to\ntools/testing/selftests These tests first do simple online and offline\ntest and then do fault injection tests if notifier error injection\nmodule is available.\n\nThis patch:\n\nThe notifier error injection provides the ability to inject artifical\nerrors to specified notifier chain callbacks.  It is useful to test the\nerror handling of notifier call chain failures.\n\nThis adds common basic functions to define which type of events can be\nfail and to initialize the debugfs interface to control what error code\nshould be returned and which event should be failed.\n\nSigned-off-by: Akinobu Mita <akinobu.mita@gmail.com>\nCc: Pavel Machek <pavel@ucw.cz>\nCc: \"Rafael J. Wysocki\" <rjw@sisk.pl>\nCc: Greg KH <greg@kroah.com>\nCc: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nCc: Paul Mackerras <paulus@samba.org>\nCc: Michael Ellerman <michael@ellerman.id.au>\nCc: Dave Jones <davej@redhat.com>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Akinobu Mita",
  "author_email": "akinobu.mita@gmail.com",
  "author_date": "Mon Jul 30 14:43:02 2012 -0700",
  "author_date_iso": "2012-07-30T14:43:02-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Jul 30 17:25:22 2012 -0700",
  "committer_date_iso": "2012-07-30T17:25:22-07:00",
  "files_changed": [
    "Documentation/fault-injection/notifier-error-inject.txt",
    "lib/Kconfig.debug",
    "lib/Makefile",
    "lib/notifier-error-inject.c",
    "lib/notifier-error-inject.h"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "Documentation/fault-injection/notifier-error-inject.txt",
      "insertions": 99,
      "deletions": 0
    },
    {
      "file": "lib/Kconfig.debug",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "lib/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "lib/notifier-error-inject.c",
      "insertions": 112,
      "deletions": 0
    },
    {
      "file": "lib/notifier-error-inject.h",
      "insertions": 24,
      "deletions": 0
    }
  ],
  "total_insertions": 247,
  "total_deletions": 0,
  "total_changes": 247,
  "parents": [
    "1d151c337d79fa3de88654d2514f58fbd916a8e0"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/fault-injection/notifier-error-inject.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Kconfig.debug",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/notifier-error-inject.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/notifier-error-inject.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}