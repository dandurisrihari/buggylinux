commit 6f67930af78f10ac7a1a9ba81ec606a9bd07749f
Author: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Date:   Wed May 4 13:48:15 2022 -0700

    drm/i915/huc: Prepare for GSC-loaded HuC
    
    HuC loading via GSC is performed via a PXP command sent through the mei
    modules, so we need both MEI_GSC and MEI_PXP to be available. Given that
    the GSC will do both the transfer and the authentication, the legacy HuC
    loading paths can be safely skipped.
    Also note that the GSC-loaded HuC survives GT reset.
    
    v2: move the huc_is_authenticated() function to this patch.
    
    Signed-off-by: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
    Reviewed-by: Alan Previn <alan.previn.teres.alexis@intel.com>
    Link: https://patchwork.freedesktop.org/patch/msgid/20220504204816.2082588-4-daniele.ceraolospurio@intel.com

diff --git a/drivers/gpu/drm/i915/gt/uc/intel_guc_reg.h b/drivers/gpu/drm/i915/gt/uc/intel_guc_reg.h
index 66027a42cda9..2516705b9f36 100644
--- a/drivers/gpu/drm/i915/gt/uc/intel_guc_reg.h
+++ b/drivers/gpu/drm/i915/gt/uc/intel_guc_reg.h
@@ -96,6 +96,7 @@
 
 #define GUC_SHIM_CONTROL2		_MMIO(0xc068)
 #define   GUC_IS_PRIVILEGED		(1<<29)
+#define   GSC_LOADS_HUC			(1<<30)
 
 #define GUC_SEND_INTERRUPT		_MMIO(0xc4c8)
 #define   GUC_SEND_TRIGGER		  (1<<0)