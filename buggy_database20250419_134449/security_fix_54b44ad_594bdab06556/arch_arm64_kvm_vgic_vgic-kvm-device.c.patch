commit 54b44ad26c4296f341a26456ef121d2fd2ac0c59
Merge: df26b77915be f9940416f193
Author: Oliver Upton <oliver.upton@linux.dev>
Date:   Mon Oct 30 20:19:13 2023 +0000

    Merge branch kvm-arm64/sgi-injection into kvmarm/next
    
    * kvm-arm64/sgi-injection:
      : vSGI injection improvements + fixes, courtesy Marc Zyngier
      :
      : Avoid linearly searching for vSGI targets using a compressed MPIDR to
      : index a cache. While at it, fix some egregious bugs in KVM's mishandling
      : of vcpuid (user-controlled value) and vcpu_idx.
      KVM: arm64: Clarify the ordering requirements for vcpu/RD creation
      KVM: arm64: vgic-v3: Optimize affinity-based SGI injection
      KVM: arm64: Fast-track kvm_mpidr_to_vcpu() when mpidr_data is available
      KVM: arm64: Build MPIDR to vcpu index cache at runtime
      KVM: arm64: Simplify kvm_vcpu_get_mpidr_aff()
      KVM: arm64: Use vcpu_idx for invalidation tracking
      KVM: arm64: vgic: Use vcpu_idx for the debug information
      KVM: arm64: vgic-v2: Use cpuid from userspace as vcpu_id
      KVM: arm64: vgic-v3: Refactor GICv3 SGI generation
      KVM: arm64: vgic-its: Treat the collection target address as a vcpu_id
      KVM: arm64: vgic: Make kvm_vgic_inject_irq() take a vcpu pointer
    
    Signed-off-by: Oliver Upton <oliver.upton@linux.dev>