Commit Hash: d69ddae194ca2c8ea426747efba730bfec20fe04
Subject: scsi: hpsa: Remove deprecated and unnecessary strncpy()


Security Keywords:
- hardening

Full commit message:
scsi: hpsa: Remove deprecated and unnecessary strncpy()

While replacing strncpy() with strscpy(), Bart Van Assche pointed out
that the code occurs inside sysfs write callbacks, which already uses
NUL-terminated strings. This allows the string to be passed directly to
sscanf() without requiring a temporary copy.

Remove the deprecated and unnecessary strncpy() and the corresponding
local variables, and pass the buffer buf directly to sscanf().

Replace sscanf() with kstrtoint() to silence checkpatch warnings.

Compile-tested only.

Link: https://github.com/KSPP/linux/issues/90
Cc: linux-hardening@vger.kernel.org
Cc: Kees Cook <kees@kernel.org>
Cc: David Laight <david.laight.linux@gmail.com>
Suggested-by: Bart Van Assche <bvanassche@acm.org>
Signed-off-by: Thorsten Blum <thorsten.blum@linux.dev>
Link: https://lore.kernel.org/r/20250214114302.86001-2-thorsten.blum@linux.dev
Reviewed-by: Bart Van Assche <bvanassche@acm.org>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

Metadata:
Author: Thorsten Blum <thorsten.blum@linux.dev>
Author Date: Fri Feb 14 12:43:02 2025 +0100
Committer: Martin K. Petersen <martin.petersen@oracle.com>
Commit Date: Tue Feb 18 21:34:08 2025 -0500

Files Changed: 1
Lines Added: 4
Lines Removed: 12
Total Changes: 16
