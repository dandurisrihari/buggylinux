{
  "hash": "5d5f3eed29379b3edc499729bb6f8651a9848fe4",
  "hash_short": "5d5f3eed",
  "subject": "crypto: omap-aes-gcm - fix failure with assocdata only",
  "body": "If we only have assocdata with an omap-aes-gcm, it currently just\ncompletes it directly without passing it over to the crypto HW. This\nproduces wrong results.\n\nFix by passing the request down to the crypto HW, and fix the DMA\nsupport code to accept a case where we don't expect any output data.\nIn the case where only assocdata is provided, it just passes through\nthe accelerator and provides authentication results, without any\nencrypted/decrypted buffer via DMA.\n\nSigned-off-by: Tero Kristo <t-kristo@ti.com>\nSigned-off-by: Herbert Xu <herbert@gondor.apana.org.au>",
  "full_message": "crypto: omap-aes-gcm - fix failure with assocdata only\n\nIf we only have assocdata with an omap-aes-gcm, it currently just\ncompletes it directly without passing it over to the crypto HW. This\nproduces wrong results.\n\nFix by passing the request down to the crypto HW, and fix the DMA\nsupport code to accept a case where we don't expect any output data.\nIn the case where only assocdata is provided, it just passes through\nthe accelerator and provides authentication results, without any\nencrypted/decrypted buffer via DMA.\n\nSigned-off-by: Tero Kristo <t-kristo@ti.com>\nSigned-off-by: Herbert Xu <herbert@gondor.apana.org.au>",
  "author_name": "Tero Kristo",
  "author_email": "t-kristo@ti.com",
  "author_date": "Tue Nov 5 16:01:06 2019 +0200",
  "author_date_iso": "2019-11-05T16:01:06+02:00",
  "committer_name": "Herbert Xu",
  "committer_email": "herbert@gondor.apana.org.au",
  "committer_date": "Wed Dec 11 16:36:59 2019 +0800",
  "committer_date_iso": "2019-12-11T16:36:59+08:00",
  "files_changed": [
    "drivers/crypto/omap-aes-gcm.c",
    "drivers/crypto/omap-aes.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/crypto/omap-aes-gcm.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/crypto/omap-aes.c",
      "insertions": 41,
      "deletions": 26
    }
  ],
  "total_insertions": 42,
  "total_deletions": 27,
  "total_changes": 69,
  "parents": [
    "f0956d42c14abfeda9d0be7f06999363cab3e99a"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.6",
    "v5.6-rc1",
    "v5.6-rc2",
    "v5.6-rc3",
    "v5.6-rc4",
    "v5.6-rc5",
    "v5.6-rc6",
    "v5.6-rc7",
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/crypto/omap-aes-gcm.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/crypto/omap-aes.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}