Commit Hash: 5d5f3eed29379b3edc499729bb6f8651a9848fe4
Subject: crypto: omap-aes-gcm - fix failure with assocdata only


Security Keywords:
- authentication

Full commit message:
crypto: omap-aes-gcm - fix failure with assocdata only

If we only have assocdata with an omap-aes-gcm, it currently just
completes it directly without passing it over to the crypto HW. This
produces wrong results.

Fix by passing the request down to the crypto HW, and fix the DMA
support code to accept a case where we don't expect any output data.
In the case where only assocdata is provided, it just passes through
the accelerator and provides authentication results, without any
encrypted/decrypted buffer via DMA.

Signed-off-by: Tero Kristo <t-kristo@ti.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

Metadata:
Author: Tero Kristo <t-kristo@ti.com>
Author Date: Tue Nov 5 16:01:06 2019 +0200
Committer: Herbert Xu <herbert@gondor.apana.org.au>
Commit Date: Wed Dec 11 16:36:59 2019 +0800

Files Changed: 2
Lines Added: 42
Lines Removed: 27
Total Changes: 69
