{
  "hash": "187d131dd983fb1ab1c5d0d9ee98ab6511f252cd",
  "hash_short": "187d131d",
  "subject": "libceph: invalidate AUTH in addition to a service ticket",
  "body": "If we fault due to authentication, we invalidate the service ticket we\nhave and request a new one - the idea being that if a service rejected\nour authorizer, it must have expired, despite mon_client's attempts at\nperiodic renewal.  (The other possibility is that our ticket is too new\nand the service hasn't gotten it yet, in which case invalidating isn't\nnecessary but doesn't hurt.)\n\nInvalidating just the service ticket is not enough, though.  If we\nassume a failure on mon_client's part to renew a service ticket, we\nhave to assume the same for the AUTH ticket.  If our AUTH ticket is\nbad, we won't get any service tickets no matter how hard we try, so\ninvalidate AUTH ticket along with the service ticket.\n\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\nReviewed-by: Sage Weil <sage@redhat.com>",
  "full_message": "libceph: invalidate AUTH in addition to a service ticket\n\nIf we fault due to authentication, we invalidate the service ticket we\nhave and request a new one - the idea being that if a service rejected\nour authorizer, it must have expired, despite mon_client's attempts at\nperiodic renewal.  (The other possibility is that our ticket is too new\nand the service hasn't gotten it yet, in which case invalidating isn't\nnecessary but doesn't hurt.)\n\nInvalidating just the service ticket is not enough, though.  If we\nassume a failure on mon_client's part to renew a service ticket, we\nhave to assume the same for the AUTH ticket.  If our AUTH ticket is\nbad, we won't get any service tickets no matter how hard we try, so\ninvalidate AUTH ticket along with the service ticket.\n\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>\nReviewed-by: Sage Weil <sage@redhat.com>",
  "author_name": "Ilya Dryomov",
  "author_email": "idryomov@gmail.com",
  "author_date": "Thu Jan 14 17:31:51 2016 +0100",
  "author_date_iso": "2016-01-14T17:31:51+01:00",
  "committer_name": "Ilya Dryomov",
  "committer_email": "idryomov@gmail.com",
  "committer_date": "Thu Jan 21 19:36:09 2016 +0100",
  "committer_date_iso": "2016-01-21T19:36:09+01:00",
  "files_changed": [
    "net/ceph/auth_x.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/ceph/auth_x.c",
      "insertions": 14,
      "deletions": 2
    }
  ],
  "total_insertions": 14,
  "total_deletions": 2,
  "total_changes": 16,
  "parents": [
    "6abe097db59e1a5af7f082709f38bd95c54ccca1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "AUTH"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/ceph/auth_x.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}