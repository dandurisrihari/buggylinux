{
  "hash": "109c32ffd89d64dd99a775f2f50443bee38b63e9",
  "hash_short": "109c32ff",
  "subject": "MIPS: Add support for ARCH_MMAP_RND_{COMPAT_}BITS",
  "body": "arch_mmap_rnd() uses hard-coded limits of 16MB for the randomisation\nof mmap within 32bit processes and 256MB in 64bit processes. Since v4.4\nother arches support tuning this value in /proc/sys/vm/mmap_rnd_bits.\nAdd support for this to MIPS.\n\nSet the minimum(default) number of bits randomisation for 32bit to 8 -\nwhich with 4k pagesize is unchanged from the current 16MB total\nrandomness. The minimum(default) for 64bit is 12bits, again with 4k\npagesize this is the same as the current 256MB.\n\nThis patch is necessary for MIPS32 to pass the Android CTS tests, with\nthe number of random bits set to 15.\n\nSigned-off-by: Matt Redfearn <matt.redfearn@imgtec.com>\nReviewed-by: Kees Cook <keescook@chromium.org>\nCc: Paul Gortmaker <paul.gortmaker@windriver.com>\nCc: Daniel Cashman <dcashman@android.com>\nCc: Andrew Morton <akpm@linux-foundation.org>\nCc: linux-mips@linux-mips.org\nCc: kernel-hardening@lists.openwall.com\nCc: linux-kernel@vger.kernel.org\nPatchwork: https://patchwork.linux-mips.org/patch/14617/\nSigned-off-by: Ralf Baechle <ralf@linux-mips.org>",
  "full_message": "MIPS: Add support for ARCH_MMAP_RND_{COMPAT_}BITS\n\narch_mmap_rnd() uses hard-coded limits of 16MB for the randomisation\nof mmap within 32bit processes and 256MB in 64bit processes. Since v4.4\nother arches support tuning this value in /proc/sys/vm/mmap_rnd_bits.\nAdd support for this to MIPS.\n\nSet the minimum(default) number of bits randomisation for 32bit to 8 -\nwhich with 4k pagesize is unchanged from the current 16MB total\nrandomness. The minimum(default) for 64bit is 12bits, again with 4k\npagesize this is the same as the current 256MB.\n\nThis patch is necessary for MIPS32 to pass the Android CTS tests, with\nthe number of random bits set to 15.\n\nSigned-off-by: Matt Redfearn <matt.redfearn@imgtec.com>\nReviewed-by: Kees Cook <keescook@chromium.org>\nCc: Paul Gortmaker <paul.gortmaker@windriver.com>\nCc: Daniel Cashman <dcashman@android.com>\nCc: Andrew Morton <akpm@linux-foundation.org>\nCc: linux-mips@linux-mips.org\nCc: kernel-hardening@lists.openwall.com\nCc: linux-kernel@vger.kernel.org\nPatchwork: https://patchwork.linux-mips.org/patch/14617/\nSigned-off-by: Ralf Baechle <ralf@linux-mips.org>",
  "author_name": "Matt Redfearn",
  "author_email": "matt.redfearn@imgtec.com",
  "author_date": "Thu Nov 24 17:32:45 2016 +0000",
  "author_date_iso": "2016-11-24T17:32:45+00:00",
  "committer_name": "Ralf Baechle",
  "committer_email": "ralf@linux-mips.org",
  "committer_date": "Tue Jan 3 16:34:43 2017 +0100",
  "committer_date_iso": "2017-01-03T16:34:43+01:00",
  "files_changed": [
    "arch/mips/Kconfig",
    "arch/mips/mm/mmap.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "arch/mips/Kconfig",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "arch/mips/mm/mmap.c",
      "insertions": 5,
      "deletions": 5
    }
  ],
  "total_insertions": 21,
  "total_deletions": 5,
  "total_changes": 26,
  "parents": [
    "d9ae4f18c0d2a4781c1338e6ca0f21a1e96cdb03"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.11",
    "v4.11-rc1",
    "v4.11-rc2",
    "v4.11-rc3",
    "v4.11-rc4",
    "v4.11-rc5",
    "v4.11-rc6",
    "v4.11-rc7",
    "v4.11-rc8",
    "v4.12"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/mips/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/mips/mm/mmap.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}