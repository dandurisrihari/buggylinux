Commit Hash: 4b6f1dd6a6faf4ed8d209bbd548e78b15e55aee8
Subject: mac80211: add explicit monitor interface if needed


Security Keywords:
- injection

Full commit message:
mac80211: add explicit monitor interface if needed

The queue mapping redesign that I'm planning to do
will break pure injection unless we handle monitor
interfaces explicitly. One possible option would
be to have the driver tell mac80211 about monitor
mode queues etc., but that would duplicate the API
since we already need to have queue assignments
handled per virtual interface.

So in order to solve this, have a virtual monitor
interface that is added whenever all active vifs
are monitors. We could also use the state of one
of the monitor interfaces, but managing that would
be complicated, so allocate separate state.

Signed-off-by: Johannes Berg <johannes.berg@intel.com>
Signed-off-by: John W. Linville <linville@tuxdriver.com>

Metadata:
Author: Johannes Berg <johannes.berg@intel.com>
Author Date: Tue Apr 3 14:35:57 2012 +0200
Committer: John W. Linville <linville@tuxdriver.com>
Commit Date: Wed Apr 11 16:23:49 2012 -0400

Files Changed: 8
Lines Added: 96
Lines Removed: 5
Total Changes: 101
