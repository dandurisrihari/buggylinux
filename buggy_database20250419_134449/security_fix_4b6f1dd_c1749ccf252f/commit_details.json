{
  "hash": "4b6f1dd6a6faf4ed8d209bbd548e78b15e55aee8",
  "hash_short": "4b6f1dd6",
  "subject": "mac80211: add explicit monitor interface if needed",
  "body": "The queue mapping redesign that I'm planning to do\nwill break pure injection unless we handle monitor\ninterfaces explicitly. One possible option would\nbe to have the driver tell mac80211 about monitor\nmode queues etc., but that would duplicate the API\nsince we already need to have queue assignments\nhandled per virtual interface.\n\nSo in order to solve this, have a virtual monitor\ninterface that is added whenever all active vifs\nare monitors. We could also use the state of one\nof the monitor interfaces, but managing that would\nbe complicated, so allocate separate state.\n\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "full_message": "mac80211: add explicit monitor interface if needed\n\nThe queue mapping redesign that I'm planning to do\nwill break pure injection unless we handle monitor\ninterfaces explicitly. One possible option would\nbe to have the driver tell mac80211 about monitor\nmode queues etc., but that would duplicate the API\nsince we already need to have queue assignments\nhandled per virtual interface.\n\nSo in order to solve this, have a virtual monitor\ninterface that is added whenever all active vifs\nare monitors. We could also use the state of one\nof the monitor interfaces, but managing that would\nbe complicated, so allocate separate state.\n\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "author_name": "Johannes Berg",
  "author_email": "johannes.berg@intel.com",
  "author_date": "Tue Apr 3 14:35:57 2012 +0200",
  "author_date_iso": "2012-04-03T14:35:57+02:00",
  "committer_name": "John W. Linville",
  "committer_email": "linville@tuxdriver.com",
  "committer_date": "Wed Apr 11 16:23:49 2012 -0400",
  "committer_date_iso": "2012-04-11T16:23:49-04:00",
  "files_changed": [
    "drivers/net/wireless/mac80211_hwsim.c",
    "include/net/mac80211.h",
    "net/mac80211/driver-ops.h",
    "net/mac80211/ieee80211_i.h",
    "net/mac80211/iface.c",
    "net/mac80211/pm.c",
    "net/mac80211/tx.c",
    "net/mac80211/util.c"
  ],
  "files_changed_count": 8,
  "stats": [
    {
      "file": "drivers/net/wireless/mac80211_hwsim.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "include/net/mac80211.h",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "net/mac80211/driver-ops.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "net/mac80211/ieee80211_i.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "net/mac80211/iface.c",
      "insertions": 65,
      "deletions": 0
    },
    {
      "file": "net/mac80211/pm.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "net/mac80211/tx.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "net/mac80211/util.c",
      "insertions": 10,
      "deletions": 0
    }
  ],
  "total_insertions": 96,
  "total_deletions": 5,
  "total_changes": 101,
  "parents": [
    "3edaf3e61fda3aa9ff8d38445bf92f2bec23bf63"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/wireless/mac80211_hwsim.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/ieee80211_i.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/driver-ops.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/pm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/tx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/iface.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/net/mac80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/util.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}