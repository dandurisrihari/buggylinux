Commit Hash: 51c18bf7fdbe3c0546e86cb0fa5866fee07c5261
Subject: drm/i915: Squash GEM load failure message (again)


Security Keywords:
- injection

Full commit message:
drm/i915: Squash GEM load failure message (again)

Due to a silent conflict (silent because we are trying to fix the CI
test that is meant to exercising these failures!) between commit
51e645b6652c ("drm/i915: Mark the GPU as wedged without error on fault
injection") and commit 8571a05a9dd0 ("drm/i915: Use GEM suspend when
aborting initialisation"), we failed to actually squash the error
message after injecting the load failure.

Rearrange the code to export i915_load_failure() for better logging of
real errors (and quiet logging of injected errors).

Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
Cc: Michał Winiarski <michal.winiarski@intel.com>
Reviewed-by: Michał Winiarski <michal.winiarski@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20180609111058.2660-1-chris@chris-wilson.co.uk

Metadata:
Author: Chris Wilson <chris@chris-wilson.co.uk>
Author Date: Sat Jun 9 12:10:58 2018 +0100
Committer: Chris Wilson <chris@chris-wilson.co.uk>
Commit Date: Mon Jun 11 10:01:03 2018 +0100

Files Changed: 3
Lines Added: 19
Lines Removed: 17
Total Changes: 36
