{
  "hash": "10f36b1e80a9f7afdaefe6f0b06dcdf89715eed7",
  "hash_short": "10f36b1e",
  "subject": "Merge tag 'for-5.7/block-2020-03-29' of git://git.kernel.dk/linux-block",
  "body": "Pull block updates from Jens Axboe:\n\n - Online capacity resizing (Balbir)\n\n - Number of hardware queue change fixes (Bart)\n\n - null_blk fault injection addition (Bart)\n\n - Cleanup of queue allocation, unifying the node/no-node API\n   (Christoph)\n\n - Cleanup of genhd, moving code to where it makes sense (Christoph)\n\n - Cleanup of the partition handling code (Christoph)\n\n - disk stat fixes/improvements (Konstantin)\n\n - BFQ improvements (Paolo)\n\n - Various fixes and improvements\n\n* tag 'for-5.7/block-2020-03-29' of git://git.kernel.dk/linux-block: (72 commits)\n  block: return NULL in blk_alloc_queue() on error\n  block: move bio_map_* to blk-map.c\n  Revert \"blkdev: check for valid request queue before issuing flush\"\n  block: simplify queue allocation\n  bcache: pass the make_request methods to blk_queue_make_request\n  null_blk: use blk_mq_init_queue_data\n  block: add a blk_mq_init_queue_data helper\n  block: move the ->devnode callback to struct block_device_operations\n  block: move the part_stat* helpers from genhd.h to a new header\n  block: move block layer internals out of include/linux/genhd.h\n  block: move guard_bio_eod to bio.c\n  block: unexport get_gendisk\n  block: unexport disk_map_sector_rcu\n  block: unexport disk_get_part\n  block: mark part_in_flight and part_in_flight_rw static\n  block: mark block_depr static\n  block: factor out requeue handling from dispatch code\n  block/diskstats: replace time_in_queue with sum of request times\n  block/diskstats: accumulate all per-cpu counters in one pass\n  block/diskstats: more accurate approximation of io_ticks for slow disks\n  ...",
  "full_message": "Merge tag 'for-5.7/block-2020-03-29' of git://git.kernel.dk/linux-block\n\nPull block updates from Jens Axboe:\n\n - Online capacity resizing (Balbir)\n\n - Number of hardware queue change fixes (Bart)\n\n - null_blk fault injection addition (Bart)\n\n - Cleanup of queue allocation, unifying the node/no-node API\n   (Christoph)\n\n - Cleanup of genhd, moving code to where it makes sense (Christoph)\n\n - Cleanup of the partition handling code (Christoph)\n\n - disk stat fixes/improvements (Konstantin)\n\n - BFQ improvements (Paolo)\n\n - Various fixes and improvements\n\n* tag 'for-5.7/block-2020-03-29' of git://git.kernel.dk/linux-block: (72 commits)\n  block: return NULL in blk_alloc_queue() on error\n  block: move bio_map_* to blk-map.c\n  Revert \"blkdev: check for valid request queue before issuing flush\"\n  block: simplify queue allocation\n  bcache: pass the make_request methods to blk_queue_make_request\n  null_blk: use blk_mq_init_queue_data\n  block: add a blk_mq_init_queue_data helper\n  block: move the ->devnode callback to struct block_device_operations\n  block: move the part_stat* helpers from genhd.h to a new header\n  block: move block layer internals out of include/linux/genhd.h\n  block: move guard_bio_eod to bio.c\n  block: unexport get_gendisk\n  block: unexport disk_map_sector_rcu\n  block: unexport disk_get_part\n  block: mark part_in_flight and part_in_flight_rw static\n  block: mark block_depr static\n  block: factor out requeue handling from dispatch code\n  block/diskstats: replace time_in_queue with sum of request times\n  block/diskstats: accumulate all per-cpu counters in one pass\n  block/diskstats: more accurate approximation of io_ticks for slow disks\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Mon Mar 30 11:20:13 2020 -0700",
  "author_date_iso": "2020-03-30T11:20:13-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Mar 30 11:20:13 2020 -0700",
  "committer_date_iso": "2020-03-30T11:20:13-07:00",
  "files_changed": [
    "block/blk-iocost.c",
    "block/genhd.c",
    "drivers/block/virtio_blk.c",
    "drivers/scsi/sd.c",
    "include/linux/fs.h",
    "include/linux/genhd.h"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/admin-guide/iostats.rst",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "Documentation/block/capability.rst",
      "insertions": 4,
      "deletions": 12
    },
    {
      "file": "Documentation/scsi/scsi_mid_low_api.txt",
      "insertions": 0,
      "deletions": 21
    },
    {
      "file": "arch/m68k/emu/nfblock.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/xtensa/platforms/iss/simdisk.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "block/Makefile",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "block/bfq-cgroup.c",
      "insertions": 52,
      "deletions": 35
    },
    {
      "file": "block/bfq-iosched.c",
      "insertions": 12,
      "deletions": 6
    },
    {
      "file": "block/bfq-iosched.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "block/bio.c",
      "insertions": 65,
      "deletions": 515
    },
    {
      "file": "block/blk-cgroup.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "block/blk-core.c",
      "insertions": 38,
      "deletions": 44
    },
    {
      "file": "block/blk-flush.c",
      "insertions": 2,
      "deletions": 14
    },
    {
      "file": "block/blk-ioc.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "block/blk-iocost.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "block/blk-map.c",
      "insertions": 508,
      "deletions": 0
    },
    {
      "file": "block/blk-mq.c",
      "insertions": 38,
      "deletions": 21
    },
    {
      "file": "block/blk-settings.c",
      "insertions": 0,
      "deletions": 36
    },
    {
      "file": "block/blk-zoned.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "block/blk.h",
      "insertions": 136,
      "deletions": 2
    },
    {
      "file": "block/genhd.c",
      "insertions": 192,
      "deletions": 27
    },
    {
      "file": "block/ioctl.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "block/opal_proto.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "block/partitions/Makefile",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "block/partitions/acorn.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/acorn.h",
      "insertions": 0,
      "deletions": 15
    },
    {
      "file": "block/partitions/aix.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/aix.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "block/partitions/amiga.c",
      "insertions": 4,
      "deletions": 7
    },
    {
      "file": "block/partitions/amiga.h",
      "insertions": 0,
      "deletions": 7
    },
    {
      "file": "block/partitions/atari.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/check.c",
      "insertions": 0,
      "deletions": 198
    },
    {
      "file": "block/partitions/check.h",
      "insertions": 28,
      "deletions": 13
    },
    {
      "file": "block/partitions/cmdline.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/cmdline.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "block/{partition-generic.c => partitions/core.c}",
      "insertions": 177,
      "deletions": 142
    },
    {
      "file": "block/partitions/efi.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "block/partitions/ibm.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/ibm.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "block/partitions/karma.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "block/partitions/karma.h",
      "insertions": 0,
      "deletions": 9
    },
    {
      "file": "block/partitions/ldm.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "block/partitions/ldm.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "block/partitions/mac.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/msdos.c",
      "insertions": 151,
      "deletions": 21
    },
    {
      "file": "block/partitions/msdos.h",
      "insertions": 0,
      "deletions": 9
    },
    {
      "file": "block/partitions/osf.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "block/partitions/osf.h",
      "insertions": 0,
      "deletions": 8
    },
    {
      "file": "block/partitions/sgi.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "block/partitions/sgi.h",
      "insertions": 0,
      "deletions": 9
    },
    {
      "file": "block/partitions/sun.c",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "block/partitions/sun.h",
      "insertions": 0,
      "deletions": 9
    },
    {
      "file": "block/partitions/sysv68.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/sysv68.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "block/partitions/ultrix.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "block/partitions/ultrix.h",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "block/sed-opal.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/block/brd.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/block/drbd/drbd_main.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/block/drbd/drbd_receiver.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/block/drbd/drbd_worker.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/block/null_blk_main.c",
      "insertions": 65,
      "deletions": 41
    },
    {
      "file": "drivers/block/pktcdvd.c",
      "insertions": 7,
      "deletions": 8
    },
    {
      "file": "drivers/block/ps3vram.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/block/rsxx/dev.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/block/umem.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/block/virtio_blk.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "drivers/block/xen-blkfront.c",
      "insertions": 1,
      "deletions": 5
    },
    {
      "file": "drivers/block/zram/zram_drv.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/lightnvm/core.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/md/bcache/request.c",
      "insertions": 2,
      "deletions": 5
    },
    {
      "file": "drivers/md/bcache/request.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/md/bcache/super.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "drivers/md/dm.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "drivers/md/md.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "drivers/nvdimm/blk.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/nvdimm/btt.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/nvdimm/pmem.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/nvme/host/core.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/host/multipath.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/nvme/target/admin-cmd.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/s390/block/dcssblk.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/s390/block/xpram.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/BusLogic.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "drivers/scsi/aacraid/linit.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/scsi/aic7xxx/aic79xx_osm.c",
      "insertions": 3,
      "deletions": 10
    },
    {
      "file": "drivers/scsi/aic7xxx/aic7xxx_osm.c",
      "insertions": 3,
      "deletions": 10
    },
    {
      "file": "drivers/scsi/arcmsr/arcmsr_hba.c",
      "insertions": 4,
      "deletions": 9
    },
    {
      "file": "drivers/scsi/megaraid.c",
      "insertions": 2,
      "deletions": 11
    },
    {
      "file": "drivers/scsi/scsi_debug.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/scsicam.c",
      "insertions": 92,
      "deletions": 94
    },
    {
      "file": "drivers/scsi/sd.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "fs/block_dev.c",
      "insertions": 16,
      "deletions": 4
    },
    {
      "file": "fs/buffer.c",
      "insertions": 0,
      "deletions": 43
    },
    {
      "file": "fs/ext4/super.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "fs/ext4/sysfs.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/f2fs/f2fs.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/f2fs/super.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/internal.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "fs/reiserfs/journal.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "include/linux/bio.h",
      "insertions": 1,
      "deletions": 14
    },
    {
      "file": "include/linux/blk-mq.h",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "include/linux/blkdev.h",
      "insertions": 2,
      "deletions": 12
    },
    {
      "file": "include/linux/fs.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "include/linux/genhd.h",
      "insertions": 61,
      "deletions": 462
    },
    {
      "file": "include/linux/iocontext.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/linux/msdos_partition.h",
      "insertions": 50,
      "deletions": 0
    },
    {
      "file": "include/linux/part_stat.h",
      "insertions": 115,
      "deletions": 0
    },
    {
      "file": "include/linux/raid/detect.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/scsi/scsicam.h",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "init/do_mounts.c",
      "insertions": 2,
      "deletions": 10
    }
  ],
  "total_insertions": 1950,
  "total_deletions": 2039,
  "total_changes": 3989,
  "parents": [
    "3a0eb192c01f43dca12628d8b5866d5b8ffb35f5",
    "654a3667df364f778b9b5bcdfb32e545aceb6a51"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/linux/fs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "block/blk-iocost.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/block/virtio_blk.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/sd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "block/genhd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/genhd.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}