Commit Hash: fb0f3d281b7f81a11e210783940f3798c4744179
Subject: RISC-V: Allow marking IPIs as suitable for remote FENCEs


Security Keywords:
- inject

Full commit message:
RISC-V: Allow marking IPIs as suitable for remote FENCEs

To do remote FENCEs (i.e. remote TLB flushes) using IPI calls on the
RISC-V kernel, we need hardware mechanism to directly inject IPI from
the supervisor mode (i.e. RISC-V kernel) instead of using SBI calls.

The upcoming AIA IMSIC devices allow direct IPI injection from the
supervisor mode (i.e. RISC-V kernel). To support this, we extend the
riscv_ipi_set_virq_range() function so that IPI provider (i.e. irqchip
drivers can mark IPIs as suitable for remote FENCEs.

Signed-off-by: Anup Patel <apatel@ventanamicro.com>
Reviewed-by: Atish Patra <atishp@rivosinc.com>
Acked-by: Palmer Dabbelt <palmer@rivosinc.com>
Signed-off-by: Marc Zyngier <maz@kernel.org>
Link: https://lore.kernel.org/r/20230328035223.1480939-5-apatel@ventanamicro.com

Metadata:
Author: Anup Patel <apatel@ventanamicro.com>
Author Date: Tue Mar 28 09:22:20 2023 +0530
Committer: Marc Zyngier <maz@kernel.org>
Commit Date: Sat Apr 8 11:26:24 2023 +0100

Files Changed: 4
Lines Added: 28
Lines Removed: 5
Total Changes: 33
