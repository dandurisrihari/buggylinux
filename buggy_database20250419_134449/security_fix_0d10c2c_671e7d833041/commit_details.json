{
  "hash": "0d10c2c170e3384dd63f40216d7af4673d5ebb50",
  "hash_short": "0d10c2c1",
  "subject": "Merge branch 'for-3.17' of git://linux-nfs.org/~bfields/linux",
  "body": "Pull nfsd updates from Bruce Fields:\n \"This includes a major rewrite of the NFSv4 state code, which has\n  always depended on a single mutex.  As an example, open creates are no\n  longer serialized, fixing a performance regression on NFSv3->NFSv4\n  upgrades.  Thanks to Jeff, Trond, and Benny, and to Christoph for\n  review.\n\n  Also some RDMA fixes from Chuck Lever and Steve Wise, and\n  miscellaneous fixes from Kinglong Mee and others\"\n\n* 'for-3.17' of git://linux-nfs.org/~bfields/linux: (167 commits)\n  svcrdma: remove rdma_create_qp() failure recovery logic\n  nfsd: add some comments to the nfsd4 object definitions\n  nfsd: remove the client_mutex and the nfs4_lock/unlock_state wrappers\n  nfsd: remove nfs4_lock_state: nfs4_state_shutdown_net\n  nfsd: remove nfs4_lock_state: nfs4_laundromat\n  nfsd: Remove nfs4_lock_state(): reclaim_complete()\n  nfsd: Remove nfs4_lock_state(): setclientid, setclientid_confirm, renew\n  nfsd: Remove nfs4_lock_state(): exchange_id, create/destroy_session()\n  nfsd: Remove nfs4_lock_state(): nfsd4_open and nfsd4_open_confirm\n  nfsd: Remove nfs4_lock_state(): nfsd4_delegreturn()\n  nfsd: Remove nfs4_lock_state(): nfsd4_open_downgrade + nfsd4_close\n  nfsd: Remove nfs4_lock_state(): nfsd4_lock/locku/lockt()\n  nfsd: Remove nfs4_lock_state(): nfsd4_release_lockowner\n  nfsd: Remove nfs4_lock_state(): nfsd4_test_stateid/nfsd4_free_stateid\n  nfsd: Remove nfs4_lock_state(): nfs4_preprocess_stateid_op()\n  nfsd: remove old fault injection infrastructure\n  nfsd: add more granular locking to *_delegations fault injectors\n  nfsd: add more granular locking to forget_openowners fault injector\n  nfsd: add more granular locking to forget_locks fault injector\n  nfsd: add a list_head arg to nfsd_foreach_client_lock\n  ...",
  "full_message": "Merge branch 'for-3.17' of git://linux-nfs.org/~bfields/linux\n\nPull nfsd updates from Bruce Fields:\n \"This includes a major rewrite of the NFSv4 state code, which has\n  always depended on a single mutex.  As an example, open creates are no\n  longer serialized, fixing a performance regression on NFSv3->NFSv4\n  upgrades.  Thanks to Jeff, Trond, and Benny, and to Christoph for\n  review.\n\n  Also some RDMA fixes from Chuck Lever and Steve Wise, and\n  miscellaneous fixes from Kinglong Mee and others\"\n\n* 'for-3.17' of git://linux-nfs.org/~bfields/linux: (167 commits)\n  svcrdma: remove rdma_create_qp() failure recovery logic\n  nfsd: add some comments to the nfsd4 object definitions\n  nfsd: remove the client_mutex and the nfs4_lock/unlock_state wrappers\n  nfsd: remove nfs4_lock_state: nfs4_state_shutdown_net\n  nfsd: remove nfs4_lock_state: nfs4_laundromat\n  nfsd: Remove nfs4_lock_state(): reclaim_complete()\n  nfsd: Remove nfs4_lock_state(): setclientid, setclientid_confirm, renew\n  nfsd: Remove nfs4_lock_state(): exchange_id, create/destroy_session()\n  nfsd: Remove nfs4_lock_state(): nfsd4_open and nfsd4_open_confirm\n  nfsd: Remove nfs4_lock_state(): nfsd4_delegreturn()\n  nfsd: Remove nfs4_lock_state(): nfsd4_open_downgrade + nfsd4_close\n  nfsd: Remove nfs4_lock_state(): nfsd4_lock/locku/lockt()\n  nfsd: Remove nfs4_lock_state(): nfsd4_release_lockowner\n  nfsd: Remove nfs4_lock_state(): nfsd4_test_stateid/nfsd4_free_stateid\n  nfsd: Remove nfs4_lock_state(): nfs4_preprocess_stateid_op()\n  nfsd: remove old fault injection infrastructure\n  nfsd: add more granular locking to *_delegations fault injectors\n  nfsd: add more granular locking to forget_openowners fault injector\n  nfsd: add more granular locking to forget_locks fault injector\n  nfsd: add a list_head arg to nfsd_foreach_client_lock\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sat Aug 9 14:31:18 2014 -0700",
  "author_date_iso": "2014-08-09T14:31:18-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sat Aug 9 14:31:18 2014 -0700",
  "committer_date_iso": "2014-08-09T14:31:18-07:00",
  "files_changed": [
    "fs/nfsd/nfs4xdr.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/nfsd/acl.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/auth.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/export.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "fs/nfsd/export.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/fault_inject.c",
      "insertions": 62,
      "deletions": 76
    },
    {
      "file": "fs/nfsd/netns.h",
      "insertions": 16,
      "deletions": 7
    },
    {
      "file": "fs/nfsd/nfs2acl.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "fs/nfsd/nfs3acl.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "fs/nfsd/nfs3proc.c",
      "insertions": 2,
      "deletions": 7
    },
    {
      "file": "fs/nfsd/nfs3xdr.c",
      "insertions": 8,
      "deletions": 22
    },
    {
      "file": "fs/nfsd/nfs4acl.c",
      "insertions": 22,
      "deletions": 17
    },
    {
      "file": "fs/nfsd/nfs4callback.c",
      "insertions": 23,
      "deletions": 9
    },
    {
      "file": "fs/nfsd/nfs4proc.c",
      "insertions": 22,
      "deletions": 31
    },
    {
      "file": "fs/nfsd/nfs4state.c",
      "insertions": 2122,
      "deletions": 978
    },
    {
      "file": "fs/nfsd/nfs4xdr.c",
      "insertions": 50,
      "deletions": 78
    },
    {
      "file": "fs/nfsd/nfscache.c",
      "insertions": 11,
      "deletions": 2
    },
    {
      "file": "fs/nfsd/nfsctl.c",
      "insertions": 45,
      "deletions": 6
    },
    {
      "file": "fs/nfsd/nfsfh.c",
      "insertions": 9,
      "deletions": 3
    },
    {
      "file": "fs/nfsd/nfsfh.h",
      "insertions": 11,
      "deletions": 4
    },
    {
      "file": "fs/nfsd/nfsproc.c",
      "insertions": 8,
      "deletions": 5
    },
    {
      "file": "fs/nfsd/nfssvc.c",
      "insertions": 14,
      "deletions": 7
    },
    {
      "file": "fs/nfsd/nfsxdr.c",
      "insertions": 6,
      "deletions": 8
    },
    {
      "file": "fs/nfsd/state.h",
      "insertions": 146,
      "deletions": 74
    },
    {
      "file": "fs/nfsd/vfs.c",
      "insertions": 19,
      "deletions": 29
    },
    {
      "file": "fs/nfsd/vfs.h",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "fs/nfsd/xdr4.h",
      "insertions": 19,
      "deletions": 11
    },
    {
      "file": "include/linux/cred.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "include/linux/sunrpc/svc.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/sunrpc/svc_rdma.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "include/linux/sunrpc/svc_xprt.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/svcauth_gss.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/svc.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/sunrpc/svc_xprt.c",
      "insertions": 19,
      "deletions": 8
    },
    {
      "file": "net/sunrpc/svcsock.c",
      "insertions": 32,
      "deletions": 18
    },
    {
      "file": "net/sunrpc/xdr.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/xprt.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/xprtrdma/svc_rdma_recvfrom.c",
      "insertions": 28,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/xprtrdma/svc_rdma_sendto.c",
      "insertions": 15,
      "deletions": 24
    },
    {
      "file": "net/sunrpc/xprtrdma/svc_rdma_transport.c",
      "insertions": 3,
      "deletions": 17
    }
  ],
  "total_insertions": 2751,
  "total_deletions": 1468,
  "total_changes": 4219,
  "parents": [
    "023f78b02c729070116fa3a7ebd4107a032d3f5c",
    "d1e458fe671baf1e60afafc88bda090202a412f1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.17",
    "v3.17-rc1",
    "v3.17-rc2",
    "v3.17-rc3",
    "v3.17-rc4",
    "v3.17-rc5",
    "v3.17-rc6",
    "v3.17-rc7",
    "v3.18",
    "v3.18-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/nfsd/nfs4xdr.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}