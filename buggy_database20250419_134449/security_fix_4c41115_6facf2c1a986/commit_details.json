{
  "hash": "4c411157a42f122051ae3469bee0b5cabe89e139",
  "hash_short": "4c411157",
  "subject": "lkdtm: Print real addresses",
  "body": "Today, when doing a lkdtm test before the readiness of the\nrandom generator, (ptrval) is printed instead of the address\nat which it perform the fault:\n\n[ 1597.337030] lkdtm: Performing direct entry EXEC_USERSPACE\n[ 1597.337142] lkdtm: attempting ok execution at (ptrval)\n[ 1597.337398] lkdtm: attempting bad execution at (ptrval)\n[ 1597.337460] kernel tried to execute user page (77858000) -exploit attempt? (uid: 0)\n[ 1597.344769] Unable to handle kernel paging request for instruction fetch\n[ 1597.351392] Faulting instruction address: 0x77858000\n[ 1597.356312] Oops: Kernel access of bad area, sig: 11 [#1]\n\nIf the lkdtm test is done later on, it prints an hashed address.\n\nIn both cases this is pointless. The purpose of the test is to\nensure the kernel generates an Oops at the expected address,\nso real addresses needs to be printed. This patch fixes that.\n\nSigned-off-by: Christophe Leroy <christophe.leroy@c-s.fr>\nSigned-off-by: Kees Cook <keescook@chromium.org>",
  "full_message": "lkdtm: Print real addresses\n\nToday, when doing a lkdtm test before the readiness of the\nrandom generator, (ptrval) is printed instead of the address\nat which it perform the fault:\n\n[ 1597.337030] lkdtm: Performing direct entry EXEC_USERSPACE\n[ 1597.337142] lkdtm: attempting ok execution at (ptrval)\n[ 1597.337398] lkdtm: attempting bad execution at (ptrval)\n[ 1597.337460] kernel tried to execute user page (77858000) -exploit attempt? (uid: 0)\n[ 1597.344769] Unable to handle kernel paging request for instruction fetch\n[ 1597.351392] Faulting instruction address: 0x77858000\n[ 1597.356312] Oops: Kernel access of bad area, sig: 11 [#1]\n\nIf the lkdtm test is done later on, it prints an hashed address.\n\nIn both cases this is pointless. The purpose of the test is to\nensure the kernel generates an Oops at the expected address,\nso real addresses needs to be printed. This patch fixes that.\n\nSigned-off-by: Christophe Leroy <christophe.leroy@c-s.fr>\nSigned-off-by: Kees Cook <keescook@chromium.org>",
  "author_name": "Christophe Leroy",
  "author_email": "christophe.leroy@c-s.fr",
  "author_date": "Wed Nov 7 20:14:10 2018 +0000",
  "author_date_iso": "2018-11-07T20:14:10+00:00",
  "committer_name": "Kees Cook",
  "committer_email": "keescook@chromium.org",
  "committer_date": "Wed Jan 9 11:58:51 2019 -0800",
  "committer_date_iso": "2019-01-09T11:58:51-08:00",
  "files_changed": [
    "drivers/misc/lkdtm/perms.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/misc/lkdtm/perms.c",
      "insertions": 9,
      "deletions": 9
    }
  ],
  "total_insertions": 9,
  "total_deletions": 9,
  "total_changes": 18,
  "parents": [
    "a77d087fd566f576da1f5b8726dd9d9f0f164e1f"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.1",
    "v5.1-rc1",
    "v5.1-rc2",
    "v5.1-rc3",
    "v5.1-rc4",
    "v5.1-rc5",
    "v5.1-rc6",
    "v5.1-rc7",
    "v5.2",
    "v5.2-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/misc/lkdtm/perms.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}