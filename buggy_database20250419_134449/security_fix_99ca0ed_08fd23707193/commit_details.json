{
  "hash": "99ca0edb41aabd888ca1548fa0391a4975740a83",
  "hash_short": "99ca0edb",
  "subject": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux",
  "body": "Pull arm64 updates from Will Deacon:\n\n - vDSO build improvements including support for building with BSD.\n\n - Cleanup to the AMU support code and initialisation rework to support\n   cpufreq drivers built as modules.\n\n - Removal of synthetic frame record from exception stack when entering\n   the kernel from EL0.\n\n - Add support for the TRNG firmware call introduced by Arm spec\n   DEN0098.\n\n - Cleanup and refactoring across the board.\n\n - Avoid calling arch_get_random_seed_long() from\n   add_interrupt_randomness()\n\n - Perf and PMU updates including support for Cortex-A78 and the v8.3\n   SPE extensions.\n\n - Significant steps along the road to leaving the MMU enabled during\n   kexec relocation.\n\n - Faultaround changes to initialise prefaulted PTEs as 'old' when\n   hardware access-flag updates are supported, which drastically\n   improves vmscan performance.\n\n - CPU errata updates for Cortex-A76 (#1463225) and Cortex-A55\n   (#1024718)\n\n - Preparatory work for yielding the vector unit at a finer granularity\n   in the crypto code, which in turn will one day allow us to defer\n   softirq processing when it is in use.\n\n - Support for overriding CPU ID register fields on the command-line.\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (85 commits)\n  drivers/perf: Replace spin_lock_irqsave to spin_lock\n  mm: filemap: Fix microblaze build failure with 'mmu_defconfig'\n  arm64: Make CPU_BIG_ENDIAN depend on ld.bfd or ld.lld 13.0.0+\n  arm64: cpufeatures: Allow disabling of Pointer Auth from the command-line\n  arm64: Defer enabling pointer authentication on boot core\n  arm64: cpufeatures: Allow disabling of BTI from the command-line\n  arm64: Move \"nokaslr\" over to the early cpufeature infrastructure\n  KVM: arm64: Document HVC_VHE_RESTART stub hypercall\n  arm64: Make kvm-arm.mode={nvhe, protected} an alias of id_aa64mmfr1.vh=0\n  arm64: Add an aliasing facility for the idreg override\n  arm64: Honor VHE being disabled from the command-line\n  arm64: Allow ID_AA64MMFR1_EL1.VH to be overridden from the command line\n  arm64: cpufeature: Add an early command-line cpufeature override facility\n  arm64: Extract early FDT mapping from kaslr_early_init()\n  arm64: cpufeature: Use IDreg override in __read_sysreg_by_encoding()\n  arm64: cpufeature: Add global feature override facility\n  arm64: Move SCTLR_EL1 initialisation to EL-agnostic code\n  arm64: Simplify init_el2_state to be non-VHE only\n  arm64: Move VHE-specific SPE setup to mutate_to_vhe()\n  arm64: Drop early setting of MDSCR_EL2.TPMS\n  ...",
  "full_message": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux\n\nPull arm64 updates from Will Deacon:\n\n - vDSO build improvements including support for building with BSD.\n\n - Cleanup to the AMU support code and initialisation rework to support\n   cpufreq drivers built as modules.\n\n - Removal of synthetic frame record from exception stack when entering\n   the kernel from EL0.\n\n - Add support for the TRNG firmware call introduced by Arm spec\n   DEN0098.\n\n - Cleanup and refactoring across the board.\n\n - Avoid calling arch_get_random_seed_long() from\n   add_interrupt_randomness()\n\n - Perf and PMU updates including support for Cortex-A78 and the v8.3\n   SPE extensions.\n\n - Significant steps along the road to leaving the MMU enabled during\n   kexec relocation.\n\n - Faultaround changes to initialise prefaulted PTEs as 'old' when\n   hardware access-flag updates are supported, which drastically\n   improves vmscan performance.\n\n - CPU errata updates for Cortex-A76 (#1463225) and Cortex-A55\n   (#1024718)\n\n - Preparatory work for yielding the vector unit at a finer granularity\n   in the crypto code, which in turn will one day allow us to defer\n   softirq processing when it is in use.\n\n - Support for overriding CPU ID register fields on the command-line.\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (85 commits)\n  drivers/perf: Replace spin_lock_irqsave to spin_lock\n  mm: filemap: Fix microblaze build failure with 'mmu_defconfig'\n  arm64: Make CPU_BIG_ENDIAN depend on ld.bfd or ld.lld 13.0.0+\n  arm64: cpufeatures: Allow disabling of Pointer Auth from the command-line\n  arm64: Defer enabling pointer authentication on boot core\n  arm64: cpufeatures: Allow disabling of BTI from the command-line\n  arm64: Move \"nokaslr\" over to the early cpufeature infrastructure\n  KVM: arm64: Document HVC_VHE_RESTART stub hypercall\n  arm64: Make kvm-arm.mode={nvhe, protected} an alias of id_aa64mmfr1.vh=0\n  arm64: Add an aliasing facility for the idreg override\n  arm64: Honor VHE being disabled from the command-line\n  arm64: Allow ID_AA64MMFR1_EL1.VH to be overridden from the command line\n  arm64: cpufeature: Add an early command-line cpufeature override facility\n  arm64: Extract early FDT mapping from kaslr_early_init()\n  arm64: cpufeature: Use IDreg override in __read_sysreg_by_encoding()\n  arm64: cpufeature: Add global feature override facility\n  arm64: Move SCTLR_EL1 initialisation to EL-agnostic code\n  arm64: Simplify init_el2_state to be non-VHE only\n  arm64: Move VHE-specific SPE setup to mutate_to_vhe()\n  arm64: Drop early setting of MDSCR_EL2.TPMS\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sun Feb 21 13:08:42 2021 -0800",
  "author_date_iso": "2021-02-21T13:08:42-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sun Feb 21 13:08:42 2021 -0800",
  "committer_date_iso": "2021-02-21T13:08:42-08:00",
  "files_changed": [
    "Documentation/admin-guide/kernel-parameters.txt",
    "arch/arm64/Kconfig",
    "arch/arm64/include/asm/memory.h",
    "arch/arm64/kernel/cpufeature.c",
    "arch/arm64/kvm/arm.c",
    "arch/arm64/kvm/hyp/nvhe/hyp-init.S",
    "arch/arm64/mm/fault.c",
    "fs/xfs/xfs_file.c",
    "include/linux/mm.h",
    "mm/filemap.c",
    "mm/memory.c",
    "mm/swapfile.c"
  ],
  "files_changed_count": 12,
  "stats": [
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "Documentation/admin-guide/perf/arm-cmn.rst",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "Documentation/devicetree/bindings/arm/pmu.yaml",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/arm/hyp-abi.rst",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/arm/include/asm/archrandom.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/Kconfig",
      "insertions": 8,
      "deletions": 3
    },
    {
      "file": "arch/arm64/Makefile",
      "insertions": 6,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/asm/archrandom.h",
      "insertions": 72,
      "deletions": 10
    },
    {
      "file": "arch/arm64/include/asm/asm-uaccess.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/assembler.h",
      "insertions": 33,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/cacheflush.h",
      "insertions": 0,
      "deletions": 5
    },
    {
      "file": "arch/arm64/include/asm/cpufeature.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/el2_setup.h",
      "insertions": 20,
      "deletions": 40
    },
    {
      "file": "arch/arm64/include/asm/kexec.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/kvm_asm.h",
      "insertions": 1,
      "deletions": 7
    },
    {
      "file": "arch/arm64/include/asm/memory.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/mmu_context.h",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/asm/pgtable.h",
      "insertions": 11,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/pointer_auth.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/setup.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/sparsemem.h",
      "insertions": 21,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/stackprotector.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/trans_pgd.h",
      "insertions": 39,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/uaccess.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/virt.h",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/Makefile",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kernel/alternative.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/asm-offsets.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/cpu_errata.c",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "insertions": 63,
      "deletions": 12
    },
    {
      "file": "arch/arm64/kernel/entry-common.c",
      "insertions": 53,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/entry.S",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "arch/arm64/kernel/head.S",
      "insertions": 13,
      "deletions": 62
    },
    {
      "file": "arch/arm64/kernel/hibernate.c",
      "insertions": 25,
      "deletions": 246
    },
    {
      "file": "arch/arm64/kernel/hyp-stub.S",
      "insertions": 113,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/idreg-override.c",
      "insertions": 216,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/kaslr.c",
      "insertions": 5,
      "deletions": 38
    },
    {
      "file": "arch/arm64/kernel/machine_kexec.c",
      "insertions": 21,
      "deletions": 36
    },
    {
      "file": "arch/arm64/kernel/module-plts.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/perf_event.c",
      "insertions": 11,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kernel/process.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/ptrace.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/relocate_kernel.S",
      "insertions": 14,
      "deletions": 34
    },
    {
      "file": "arch/arm64/kernel/setup.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/sleep.S",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/stacktrace.c",
      "insertions": 4,
      "deletions": 9
    },
    {
      "file": "arch/arm64/kernel/syscall.c",
      "insertions": 0,
      "deletions": 30
    },
    {
      "file": "arch/arm64/kernel/topology.c",
      "insertions": 56,
      "deletions": 59
    },
    {
      "file": "arch/arm64/kernel/traps.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/{vdso/vdso.S => vdso-wrap.S}",
      "insertions": 0,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/vdso/Makefile",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/vdso/gen_vdso_offsets.sh",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/{vdso32/vdso.S => vdso32-wrap.S}",
      "insertions": 0,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/vdso32/Makefile",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/vmlinux.lds.S",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-init.S",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/mm/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/mm/fault.c",
      "insertions": 1,
      "deletions": 33
    },
    {
      "file": "arch/arm64/mm/mmap.c",
      "insertions": 3,
      "deletions": 12
    },
    {
      "file": "arch/arm64/mm/mmu.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm64/mm/proc.S",
      "insertions": 3,
      "deletions": 13
    },
    {
      "file": "arch/arm64/mm/ptdump.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/mm/trans_pgd.c",
      "insertions": 324,
      "deletions": 0
    },
    {
      "file": "drivers/char/random.c",
      "insertions": 1,
      "deletions": 14
    },
    {
      "file": "drivers/firmware/smccc/smccc.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/perf/arm-cci.c",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "drivers/perf/arm-cmn.c",
      "insertions": 8,
      "deletions": 11
    },
    {
      "file": "drivers/perf/arm_dmc620_pmu.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/perf/arm_pmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/perf/arm_smmuv3_pmu.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/perf/arm_spe_pmu.c",
      "insertions": 18,
      "deletions": 5
    },
    {
      "file": "drivers/perf/fsl_imx8_ddr_perf.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "drivers/perf/hisilicon/hisi_uncore_ddrc_pmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/perf/hisilicon/hisi_uncore_hha_pmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/perf/hisilicon/hisi_uncore_l3c_pmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/perf/qcom_l2_pmu.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/perf/qcom_l3_pmu.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/perf/xgene_pmu.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "fs/xfs/xfs_file.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "include/linux/arm-smccc.h",
      "insertions": 31,
      "deletions": 0
    },
    {
      "file": "include/linux/mm.h",
      "insertions": 15,
      "deletions": 10
    },
    {
      "file": "include/linux/pgtable.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "mm/filemap.c",
      "insertions": 135,
      "deletions": 44
    },
    {
      "file": "mm/khugepaged.c",
      "insertions": 18,
      "deletions": 19
    },
    {
      "file": "mm/memory.c",
      "insertions": 78,
      "deletions": 145
    },
    {
      "file": "mm/nommu.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "mm/shmem.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "mm/swapfile.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "tools/testing/selftests/arm64/mte/check_buffer_fill.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1652,
  "total_deletions": 985,
  "total_changes": 2637,
  "parents": [
    "4a037ad5d115b2cc79a5071a7854475f365476fa",
    "1ffa9763828cf73a4d4eaa04c29a4a89fb0708c7"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-init.S",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/memory.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_file.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/mm/fault.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "mm/filemap.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "mm/swapfile.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "mm/memory.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/mm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}