{
  "hash": "356a1adca8774df407e8b6d3929e36da90679c0d",
  "hash_short": "356a1adc",
  "subject": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux",
  "body": "Pull arm64 updates from Will Deacon:\n\n - Support for including MTE tags in ELF coredumps\n\n - Instruction encoder updates, including fixes to 64-bit immediate\n   generation and support for the LSE atomic instructions\n\n - Improvements to kselftests for MTE and fpsimd\n\n - Symbol aliasing and linker script cleanups\n\n - Reduce instruction cache maintenance performed for user mappings\n   created using contiguous PTEs\n\n - Support for the new \"asymmetric\" MTE mode, where stores are checked\n   asynchronously but loads are checked synchronously\n\n - Support for the latest pointer authentication algorithm (\"QARMA3\")\n\n - Support for the DDR PMU present in the Marvell CN10K platform\n\n - Support for the CPU PMU present in the Apple M1 platform\n\n - Use the RNDR instruction for arch_get_random_{int,long}()\n\n - Update our copy of the Arm optimised string routines for str{n}cmp()\n\n - Fix signal frame generation for CPUs which have foolishly elected to\n   avoid building in support for the fpsimd instructions\n\n - Workaround for Marvell GICv3 erratum #38545\n\n - Clarification to our Documentation (booting reqs. and MTE prctl())\n\n - Miscellanous cleanups and minor fixes\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (90 commits)\n  docs: sysfs-devices-system-cpu: document \"asymm\" value for mte_tcf_preferred\n  arm64/mte: Remove asymmetric mode from the prctl() interface\n  arm64: Add cavium_erratum_23154_cpus missing sentinel\n  perf/marvell: Fix !CONFIG_OF build for CN10K DDR PMU driver\n  arm64: mm: Drop 'const' from conditional arm64_dma_phys_limit definition\n  Documentation: vmcoreinfo: Fix htmldocs warning\n  kasan: fix a missing header include of static_keys.h\n  drivers/perf: Add Apple icestorm/firestorm CPU PMU driver\n  drivers/perf: arm_pmu: Handle 47 bit counters\n  arm64: perf: Consistently make all event numbers as 16-bits\n  arm64: perf: Expose some Armv9 common events under sysfs\n  perf/marvell: cn10k DDR perf event core ownership\n  perf/marvell: cn10k DDR perfmon event overflow handling\n  perf/marvell: CN10k DDR performance monitor support\n  dt-bindings: perf: marvell: cn10k ddr performance monitor\n  arm64: clean up tools Makefile\n  perf/arm-cmn: Update watchpoint format\n  perf/arm-cmn: Hide XP PUB events for CMN-600\n  arm64: drop unused includes of <linux/personality.h>\n  arm64: Do not defer reserve_crashkernel() for platforms with no DMA memory zones\n  ...",
  "full_message": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux\n\nPull arm64 updates from Will Deacon:\n\n - Support for including MTE tags in ELF coredumps\n\n - Instruction encoder updates, including fixes to 64-bit immediate\n   generation and support for the LSE atomic instructions\n\n - Improvements to kselftests for MTE and fpsimd\n\n - Symbol aliasing and linker script cleanups\n\n - Reduce instruction cache maintenance performed for user mappings\n   created using contiguous PTEs\n\n - Support for the new \"asymmetric\" MTE mode, where stores are checked\n   asynchronously but loads are checked synchronously\n\n - Support for the latest pointer authentication algorithm (\"QARMA3\")\n\n - Support for the DDR PMU present in the Marvell CN10K platform\n\n - Support for the CPU PMU present in the Apple M1 platform\n\n - Use the RNDR instruction for arch_get_random_{int,long}()\n\n - Update our copy of the Arm optimised string routines for str{n}cmp()\n\n - Fix signal frame generation for CPUs which have foolishly elected to\n   avoid building in support for the fpsimd instructions\n\n - Workaround for Marvell GICv3 erratum #38545\n\n - Clarification to our Documentation (booting reqs. and MTE prctl())\n\n - Miscellanous cleanups and minor fixes\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (90 commits)\n  docs: sysfs-devices-system-cpu: document \"asymm\" value for mte_tcf_preferred\n  arm64/mte: Remove asymmetric mode from the prctl() interface\n  arm64: Add cavium_erratum_23154_cpus missing sentinel\n  perf/marvell: Fix !CONFIG_OF build for CN10K DDR PMU driver\n  arm64: mm: Drop 'const' from conditional arm64_dma_phys_limit definition\n  Documentation: vmcoreinfo: Fix htmldocs warning\n  kasan: fix a missing header include of static_keys.h\n  drivers/perf: Add Apple icestorm/firestorm CPU PMU driver\n  drivers/perf: arm_pmu: Handle 47 bit counters\n  arm64: perf: Consistently make all event numbers as 16-bits\n  arm64: perf: Expose some Armv9 common events under sysfs\n  perf/marvell: cn10k DDR perf event core ownership\n  perf/marvell: cn10k DDR perfmon event overflow handling\n  perf/marvell: CN10k DDR performance monitor support\n  dt-bindings: perf: marvell: cn10k ddr performance monitor\n  arm64: clean up tools Makefile\n  perf/arm-cmn: Update watchpoint format\n  perf/arm-cmn: Hide XP PUB events for CMN-600\n  arm64: drop unused includes of <linux/personality.h>\n  arm64: Do not defer reserve_crashkernel() for platforms with no DMA memory zones\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Mon Mar 21 10:46:39 2022 -0700",
  "author_date_iso": "2022-03-21T10:46:39-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Mar 21 10:46:39 2022 -0700",
  "committer_date_iso": "2022-03-21T10:46:39-07:00",
  "files_changed": [
    "arch/arm64/Kconfig",
    "arch/arm64/kernel/cpu_errata.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "Documentation/ABI/testing/sysfs-devices-system-cpu",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/admin-guide/kdump/vmcoreinfo.rst",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/booting.rst",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "Documentation/arm64/elf_hwcaps.rst",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/memory-tagging-extension.rst",
      "insertions": 44,
      "deletions": 10
    },
    {
      "file": "Documentation/arm64/silicon-errata.rst",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "Documentation/asm-annotations.rst",
      "insertions": 5,
      "deletions": 6
    },
    {
      "file": "Documentation/devicetree/bindings/arm/pmu.yaml",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/interrupt-controller/apple,aic.yaml",
      "insertions": 31,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/perf/marvell-cn10k-ddr.yaml",
      "insertions": 37,
      "deletions": 0
    },
    {
      "file": "arch/arm64/Kconfig",
      "insertions": 7,
      "deletions": 2
    },
    {
      "file": "arch/arm64/boot/dts/apple/t8103.dtsi",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/apple_m1_pmu.h",
      "insertions": 64,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/arch_gicv3.h",
      "insertions": 21,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/archrandom.h",
      "insertions": 39,
      "deletions": 6
    },
    {
      "file": "arch/arm64/include/asm/asm_pointer_auth.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/assembler.h",
      "insertions": 0,
      "deletions": 5
    },
    {
      "file": "arch/arm64/include/asm/cpufeature.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/cputype.h",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/debug-monitors.h",
      "insertions": 0,
      "deletions": 12
    },
    {
      "file": "arch/arm64/include/asm/hwcap.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/insn-def.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/insn.h",
      "insertions": 73,
      "deletions": 7
    },
    {
      "file": "arch/arm64/include/asm/kvm_arm.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/kvm_hyp.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/linkage.h",
      "insertions": 0,
      "deletions": 24
    },
    {
      "file": "arch/arm64/include/asm/lse.h",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/asm/module.lds.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/mte-def.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/mte.h",
      "insertions": 22,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/perf_event.h",
      "insertions": 163,
      "deletions": 149
    },
    {
      "file": "arch/arm64/include/asm/pgtable-hwdef.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/processor.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/spectre.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/string.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 15,
      "deletions": 5
    },
    {
      "file": "arch/arm64/include/uapi/asm/hwcap.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/cpu_errata.c",
      "insertions": 18,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "insertions": 155,
      "deletions": 84
    },
    {
      "file": "arch/arm64/kernel/cpuinfo.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/crash_core.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/elfcore.c",
      "insertions": 134,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/entry-common.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/entry.S",
      "insertions": 3,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kernel/idreg-override.c",
      "insertions": 14,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/mte.c",
      "insertions": 35,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/perf_event.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/process.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/proton-pack.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kernel/signal.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kernel/sys_compat.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/traps.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/switch.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/fixed_config.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/cache.S",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/sys_regs.c",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/switch.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/arm64/lib/clear_page.S",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/copy_page.S",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/insn.c",
      "insertions": 172,
      "deletions": 15
    },
    {
      "file": "arch/arm64/lib/memchr.S",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/memcmp.S",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/arm64/lib/memcpy.S",
      "insertions": 11,
      "deletions": 10
    },
    {
      "file": "arch/arm64/lib/memset.S",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "arch/arm64/lib/mte.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/strchr.S",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/strcmp.S",
      "insertions": 130,
      "deletions": 116
    },
    {
      "file": "arch/arm64/lib/strlen.S",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/arm64/lib/strncmp.S",
      "insertions": 145,
      "deletions": 96
    },
    {
      "file": "arch/arm64/lib/strnlen.S",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/strrchr.S",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/mm/cache.S",
      "insertions": 21,
      "deletions": 14
    },
    {
      "file": "arch/arm64/mm/flush.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/arm64/mm/hugetlbpage.c",
      "insertions": 18,
      "deletions": 20
    },
    {
      "file": "arch/arm64/mm/init.c",
      "insertions": 32,
      "deletions": 4
    },
    {
      "file": "arch/arm64/mm/mmu.c",
      "insertions": 42,
      "deletions": 14
    },
    {
      "file": "arch/arm64/mm/mteswap.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/mm/proc.S",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/net/bpf_jit.h",
      "insertions": 9,
      "deletions": 2
    },
    {
      "file": "arch/arm64/tools/Makefile",
      "insertions": 3,
      "deletions": 7
    },
    {
      "file": "arch/arm64/tools/cpucaps",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "arch/ia64/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/boot/compressed/head_32.S",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/x86/boot/compressed/head_64.S",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/x86/crypto/aesni-intel_asm.S",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "arch/x86/lib/memcpy_64.S",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/x86/lib/memmove_64.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/x86/lib/memset_64.S",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/um/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/irqchip/irq-apple-aic.c",
      "insertions": 72,
      "deletions": 22
    },
    {
      "file": "drivers/perf/Kconfig",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "drivers/perf/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/perf/apple_m1_cpu_pmu.c",
      "insertions": 584,
      "deletions": 0
    },
    {
      "file": "drivers/perf/arm-cci.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/perf/arm-ccn.c",
      "insertions": 4,
      "deletions": 6
    },
    {
      "file": "drivers/perf/arm-cmn.c",
      "insertions": 16,
      "deletions": 7
    },
    {
      "file": "drivers/perf/arm_pmu.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/perf/hisilicon/hisi_uncore_pmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/perf/marvell_cn10k_ddr_pmu.c",
      "insertions": 758,
      "deletions": 0
    },
    {
      "file": "drivers/perf/marvell_cn10k_tad_pmu.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/perf/thunderx2_pmu.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/perf/xgene_pmu.c",
      "insertions": 3,
      "deletions": 5
    },
    {
      "file": "fs/Kconfig.binfmt",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/dt-bindings/interrupt-controller/apple-aic.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/linux/cpuhotplug.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/linux/elfcore.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/kasan-enabled.h",
      "insertions": 35,
      "deletions": 0
    },
    {
      "file": "include/linux/kasan.h",
      "insertions": 1,
      "deletions": 22
    },
    {
      "file": "include/linux/linkage.h",
      "insertions": 36,
      "deletions": 31
    },
    {
      "file": "include/linux/perf/arm_pmu.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/elf.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/arch/x86/lib/memcpy_64.S",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "tools/arch/x86/lib/memset_64.S",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/include/linux/linkage.h",
      "insertions": 33,
      "deletions": 19
    },
    {
      "file": "tools/testing/selftests/arm64/abi/syscall-abi.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/arm64/fp/sve-ptrace.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/arm64/mte/check_gcr_el1_cswitch.c",
      "insertions": 0,
      "deletions": 11
    },
    {
      "file": "tools/testing/selftests/arm64/mte/check_user_mem.c",
      "insertions": 160,
      "deletions": 33
    },
    {
      "file": "tools/testing/selftests/arm64/signal/test_signals.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/signal/test_signals_utils.c",
      "insertions": 25,
      "deletions": 9
    },
    {
      "file": "tools/testing/selftests/arm64/signal/test_signals_utils.h",
      "insertions": 2,
      "deletions": 0
    }
  ],
  "total_insertions": 3470,
  "total_deletions": 891,
  "total_changes": 4361,
  "parents": [
    "9d8e7007dc7c4d7c8366739bbcd3f5e51dcd470f",
    "641d804157294d9b19bdfe6a2cdbd5d25939a048"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/cpu_errata.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}