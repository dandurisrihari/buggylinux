Commit Hash: ef7c67257c9a0765bd1a53f83fd63d55a0f7b224
Subject: mac80211: don't do driver suspend with auth/assoc in progress


Security Keywords:
- auth

Full commit message:
mac80211: don't do driver suspend with auth/assoc in progress

Drivers can't really be expected to suspend properly while auth
or assoc is in progress since then they don't have any state
they could keep with WoWLAN, nor can they actually finish the
authentication or association. In fact, keeping this can cause
subtle issues with drivers like iwlwifi that refuse WoWLAN if
not associated, but have trouble figuring out what's going on
in the middle of association.

In any case, regardless of possible driver issues in this area,
it doesn't make sense for mac80211 to try to WoWLAN-suspend in
the middle of such operations, so stop them before.

Signed-off-by: Johannes Berg <johannes.berg@intel.com>

Metadata:
Author: Johannes Berg <johannes.berg@intel.com>
Author Date: Sun Mar 1 09:10:06 2015 +0200
Committer: Johannes Berg <johannes.berg@intel.com>
Commit Date: Wed Mar 4 10:34:08 2015 +0100

Files Changed: 1
Lines Added: 18
Lines Removed: 1
Total Changes: 19
