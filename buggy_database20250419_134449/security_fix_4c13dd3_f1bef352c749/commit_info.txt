Commit Hash: 4c13dd3b48fcb6fbe44f241eb11a057ecd1cba75
Subject: failslab: add ability to filter slab caches


Security Keywords:
- inject

Full commit message:
failslab: add ability to filter slab caches

This patch allow to inject faults only for specific slabs.
In order to preserve default behavior cache filter is off by
default (all caches are faulty).

One may define specific set of slabs like this:
# mark skbuff_head_cache as faulty
echo 1 > /sys/kernel/slab/skbuff_head_cache/failslab
# Turn on cache filter (off by default)
echo 1 > /sys/kernel/debug/failslab/cache-filter
# Turn on fault injection
echo 1 > /sys/kernel/debug/failslab/times
echo 1 > /sys/kernel/debug/failslab/probability

Acked-by: David Rientjes <rientjes@google.com>
Acked-by: Akinobu Mita <akinobu.mita@gmail.com>
Acked-by: Christoph Lameter <cl@linux-foundation.org>
Signed-off-by: Dmitry Monakhov <dmonakhov@openvz.org>
Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>

Metadata:
Author: Dmitry Monakhov <dmonakhov@openvz.org>
Author Date: Fri Feb 26 09:36:12 2010 +0300
Committer: Pekka Enberg <penberg@cs.helsinki.fi>
Commit Date: Fri Feb 26 19:19:39 2010 +0200

Files Changed: 6
Lines Added: 52
Lines Removed: 8
Total Changes: 60
