{
  "hash": "a0634b457eca16b21a4525bc40cd2db80f52dadc",
  "hash_short": "a0634b45",
  "subject": "Merge patch series \"Improve simple directory offset wrap behavior\"",
  "body": "Chuck Lever <chuck.lever@oracle.com> says:\n\nThe purpose of this series is to construct a set of upstream fixes\nthat can be backported to v6.6 to address CVE-2024-46701.\n\nIn response to a reported failure of libhugetlbfs-test.32bit.gethugepagesizes:\n\nhttps://lore.kernel.org/linux-fsdevel/f996eec0-30e1-4fbf-a936-49f3bedc09e9@oracle.com/T/#t\n\nI've narrowed the range of directory offset values returned by\nsimple_offset_add() to 3 .. (S32_MAX - 1) on all platforms. This\nmeans the allocation behavior is identical on 32-bit systems, 64-bit\nsystems, and 32-bit user space on 64-bit kernels. The new range\nstill permits over 2 billion concurrent entries per directory.\n\n* patches from https://lore.kernel.org/r/20241228175522.1854234-1-cel@kernel.org:\n  libfs: Use d_children list to iterate simple_offset directories\n  libfs: Replace simple_offset end-of-directory detection\n  Revert \"libfs: fix infinite directory reads for offset dir\"\n  Revert \"libfs: Add simple_offset_empty()\"\n  libfs: Return ENOSPC when the directory offset range is exhausted\n\nLink: https://lore.kernel.org/r/20241228175522.1854234-1-cel@kernel.org\nSigned-off-by: Christian Brauner <brauner@kernel.org>",
  "full_message": "Merge patch series \"Improve simple directory offset wrap behavior\"\n\nChuck Lever <chuck.lever@oracle.com> says:\n\nThe purpose of this series is to construct a set of upstream fixes\nthat can be backported to v6.6 to address CVE-2024-46701.\n\nIn response to a reported failure of libhugetlbfs-test.32bit.gethugepagesizes:\n\nhttps://lore.kernel.org/linux-fsdevel/f996eec0-30e1-4fbf-a936-49f3bedc09e9@oracle.com/T/#t\n\nI've narrowed the range of directory offset values returned by\nsimple_offset_add() to 3 .. (S32_MAX - 1) on all platforms. This\nmeans the allocation behavior is identical on 32-bit systems, 64-bit\nsystems, and 32-bit user space on 64-bit kernels. The new range\nstill permits over 2 billion concurrent entries per directory.\n\n* patches from https://lore.kernel.org/r/20241228175522.1854234-1-cel@kernel.org:\n  libfs: Use d_children list to iterate simple_offset directories\n  libfs: Replace simple_offset end-of-directory detection\n  Revert \"libfs: fix infinite directory reads for offset dir\"\n  Revert \"libfs: Add simple_offset_empty()\"\n  libfs: Return ENOSPC when the directory offset range is exhausted\n\nLink: https://lore.kernel.org/r/20241228175522.1854234-1-cel@kernel.org\nSigned-off-by: Christian Brauner <brauner@kernel.org>",
  "author_name": "Christian Brauner",
  "author_email": "brauner@kernel.org",
  "author_date": "Sat Jan 4 10:15:58 2025 +0100",
  "author_date_iso": "2025-01-04T10:15:58+01:00",
  "committer_name": "Christian Brauner",
  "committer_email": "brauner@kernel.org",
  "committer_date": "Sat Jan 4 10:15:58 2025 +0100",
  "committer_date_iso": "2025-01-04T10:15:58+01:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "fs/libfs.c",
      "insertions": 77,
      "deletions": 85
    },
    {
      "file": "include/linux/fs.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "mm/shmem.c",
      "insertions": 2,
      "deletions": 2
    }
  ],
  "total_insertions": 79,
  "total_deletions": 88,
  "total_changes": 167,
  "parents": [
    "40384c840ea1944d7c5a392e8975ed088ecf0b37",
    "b9b588f22a0c049a14885399e27625635ae6ef91"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [
      "CVE-2024-46701"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": []
}