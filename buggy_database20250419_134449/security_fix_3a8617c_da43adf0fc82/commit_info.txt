Commit Hash: 3a8617c7df6eb351227aad9b0df647f34a7ef423
Subject: cxl/test: Replace ENXIO with EBUSY for inject poison limit reached


Security Keywords:
- inject

Full commit message:
cxl/test: Replace ENXIO with EBUSY for inject poison limit reached

The CXL driver was recently updated to return EBUSY rather than
ENXIO when the device reports that an injection request exceeds
the device's limit. That change to EBUSY allows debug users to
differentiate between limit reached and inject failures for any
other reason.

Change cxl-test to also return EBUSY and tidy up the dev_dbg()
messaging to emit the correct limit.

Reminder: the cxl-test per device injection limit is a configurable
attribute: /sys/bus/platform/drivers/cxl_mock_mem/poison_inject_max

Signed-off-by: Alison Schofield <alison.schofield@intel.com>
Tested-by: Xingtao Yao <yaoxt.fnst@fujitsu.com>
Reviewed-by: Dan Williams <dan.j.williams@intel.com>
Reviewed-by: Davidlohr Bueso <dave@stgolabs.net>
Link: https://patch.msgid.link/ba1b80e1658b644d85d0d5e2287112d00a48b9cf.1720316188.git.alison.schofield@intel.com
Signed-off-by: Dave Jiang <dave.jiang@intel.com>

Metadata:
Author: Alison Schofield <alison.schofield@intel.com>
Author Date: Sat Jul 6 18:53:44 2024 -0700
Committer: Dave Jiang <dave.jiang@intel.com>
Commit Date: Wed Jul 10 17:12:42 2024 -0700

Files Changed: 1
Lines Added: 7
Lines Removed: 8
Total Changes: 15
