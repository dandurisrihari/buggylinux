{
  "hash": "34776963452040f199bf9985ad8a2261a82d8b99",
  "hash_short": "34776963",
  "subject": "accel/ivpu: Add support for hardware fault injection",
  "body": "Introduces the capability to simulate hardware faults for testing\npurposes. The new `fail_hw` fault can be injected in\n`ivpu_hw_reg_poll_fld()`, which is used in various parts of the driver\nto wait for the hardware to reach a specific state. This allows to test\nfailures during NPU boot and shutdown, IPC message handling and more.\n\nFault injection can be enabled using debugfs or a module parameter.\n\nReviewed-by: Maciej Falkowski <maciej.falkowski@linux.intel.com>\nReviewed-by: Jeffrey Hugo <quic_jhugo@quicinc.com>\nSigned-off-by: Jacek Lawrynowicz <jacek.lawrynowicz@linux.intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/20250129125636.1047413-2-jacek.lawrynowicz@linux.intel.com",
  "full_message": "accel/ivpu: Add support for hardware fault injection\n\nIntroduces the capability to simulate hardware faults for testing\npurposes. The new `fail_hw` fault can be injected in\n`ivpu_hw_reg_poll_fld()`, which is used in various parts of the driver\nto wait for the hardware to reach a specific state. This allows to test\nfailures during NPU boot and shutdown, IPC message handling and more.\n\nFault injection can be enabled using debugfs or a module parameter.\n\nReviewed-by: Maciej Falkowski <maciej.falkowski@linux.intel.com>\nReviewed-by: Jeffrey Hugo <quic_jhugo@quicinc.com>\nSigned-off-by: Jacek Lawrynowicz <jacek.lawrynowicz@linux.intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/20250129125636.1047413-2-jacek.lawrynowicz@linux.intel.com",
  "author_name": "Jacek Lawrynowicz",
  "author_email": "jacek.lawrynowicz@linux.intel.com",
  "author_date": "Wed Jan 29 13:56:31 2025 +0100",
  "author_date_iso": "2025-01-29T13:56:31+01:00",
  "committer_name": "Jacek Lawrynowicz",
  "committer_email": "jacek.lawrynowicz@linux.intel.com",
  "committer_date": "Mon Feb 3 10:39:45 2025 +0100",
  "committer_date_iso": "2025-02-03T10:39:45+01:00",
  "files_changed": [
    "drivers/accel/ivpu/ivpu_debugfs.c",
    "drivers/accel/ivpu/ivpu_hw.c",
    "drivers/accel/ivpu/ivpu_hw_ip.c",
    "drivers/accel/ivpu/ivpu_hw_reg_io.h"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "drivers/accel/ivpu/ivpu_debugfs.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/accel/ivpu/ivpu_hw.c",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/accel/ivpu/ivpu_hw_ip.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/accel/ivpu/ivpu_hw_reg_io.h",
      "insertions": 37,
      "deletions": 27
    }
  ],
  "total_insertions": 58,
  "total_deletions": 29,
  "total_changes": 87,
  "parents": [
    "7271a88629857dc285d4291055b8e7811f9d3603"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/accel/ivpu/ivpu_debugfs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/accel/ivpu/ivpu_hw.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/accel/ivpu/ivpu_hw_ip.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/accel/ivpu/ivpu_hw_reg_io.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}