Files changed: 14
Insertions: 3065
Deletions: 307
Total changes: 3372

File-specific changes:
Documentation/virt/kvm/api.rst: +201 -0
arch/arm64/include/asm/kvm_host.h: +0 -2
arch/arm64/kvm/Kconfig: +1 -1
arch/loongarch/include/asm/kvm_host.h: +0 -1
arch/loongarch/kvm/Kconfig: +1 -1
arch/mips/include/asm/kvm_host.h: +0 -2
arch/mips/kvm/Kconfig: +1 -1
arch/powerpc/include/asm/kvm_host.h: +0 -2
arch/powerpc/kvm/Kconfig: +4 -4
arch/powerpc/kvm/book3s_hv.c: +1 -1
arch/powerpc/kvm/powerpc.c: +1 -6
arch/riscv/include/asm/kvm_host.h: +0 -2
arch/riscv/kvm/Kconfig: +1 -1
arch/x86/include/asm/kvm_host.h: +13 -4
arch/x86/include/uapi/asm/kvm.h: +3 -0
arch/x86/kvm/Kconfig: +13 -1
arch/x86/kvm/debugfs.c: +1 -1
arch/x86/kvm/mmu/mmu.c: +257 -14
arch/x86/kvm/mmu/mmu_internal.h: +2 -0
arch/x86/kvm/vmx/vmx.c: +5 -6
arch/x86/kvm/x86.c: +23 -3
fs/anon_inodes.c: +34 -17
fs/userfaultfd.c: +3 -2
include/linux/anon_inodes.h: +2 -2
include/linux/kvm_host.h: +119 -23
include/linux/kvm_types.h: +1 -0
include/linux/pagemap.h: +18 -1
include/uapi/linux/kvm.h: +49 -0
io_uring/io_uring.c: +2 -1
mm/compaction.c: +31 -12
mm/migrate.c: +2 -0
tools/testing/selftests/kvm/Makefile: +3 -0
tools/testing/selftests/kvm/aarch64/page_fault_test.c: +1 -1
tools/testing/selftests/kvm/dirty_log_test.c: +1 -1
tools/testing/selftests/kvm/guest_memfd_test.c: +200 -0
tools/testing/selftests/kvm/include/kvm_util_base.h: +136 -14
tools/testing/selftests/kvm/include/test_util.h: +5 -0
tools/testing/selftests/kvm/include/ucall_common.h: +11 -0
tools/testing/selftests/kvm/include/x86_64/processor.h: +15 -0
tools/testing/selftests/kvm/kvm_page_table_test.c: +1 -1
tools/testing/selftests/kvm/lib/kvm_util.c: +134 -90
tools/testing/selftests/kvm/lib/memstress.c: +2 -1
tools/testing/selftests/kvm/s390x/cmma_test.c: +3 -8
tools/testing/selftests/kvm/set_memory_region_test.c: +151 -2
tools/testing/selftests/kvm/x86_64/private_mem_conversions_test.c: +482 -0
tools/testing/selftests/kvm/x86_64/private_mem_kvm_exits_test.c: +120 -0
tools/testing/selftests/kvm/x86_64/ucna_injection_test.c: +1 -1
virt/kvm/Kconfig: +17 -0
virt/kvm/Makefile.kvm: +1 -0
virt/kvm/dirty_ring.c: +1 -1
virt/kvm/guest_memfd.c: +534 -0
virt/kvm/kvm_main.c: +431 -76
virt/kvm/kvm_mm.h: +26 -0
