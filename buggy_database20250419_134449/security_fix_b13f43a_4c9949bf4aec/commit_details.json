{
  "hash": "b13f43a48571f0cd0fda271b5046b65f1f268db5",
  "hash_short": "b13f43a4",
  "subject": "iwlwifi: mvm: fix packet injection",
  "body": "We need to have a station and a queue for the monitor\ninterface to be able to inject traffic. We used to have\nthis traffic routed to the auxiliary queue, but this queue\nisn't scheduled for the station we had linked to the\nmonitor vif.\n\nAllocate a new queue, link it to the monitor vif's station\nand make that queue use the BE fifo.\n\nThis fixes https://bugzilla.kernel.org/show_bug.cgi?id=196715\n\nCc: stable@vger.kernel.org\nSigned-off-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>\nSigned-off-by: Luca Coelho <luciano.coelho@intel.com>",
  "full_message": "iwlwifi: mvm: fix packet injection\n\nWe need to have a station and a queue for the monitor\ninterface to be able to inject traffic. We used to have\nthis traffic routed to the auxiliary queue, but this queue\nisn't scheduled for the station we had linked to the\nmonitor vif.\n\nAllocate a new queue, link it to the monitor vif's station\nand make that queue use the BE fifo.\n\nThis fixes https://bugzilla.kernel.org/show_bug.cgi?id=196715\n\nCc: stable@vger.kernel.org\nSigned-off-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>\nSigned-off-by: Luca Coelho <luciano.coelho@intel.com>",
  "author_name": "Emmanuel Grumbach",
  "author_email": "emmanuel.grumbach@intel.com",
  "author_date": "Sun Nov 19 10:35:14 2017 +0200",
  "author_date_iso": "2017-11-19T10:35:14+02:00",
  "committer_name": "Luca Coelho",
  "committer_email": "luciano.coelho@intel.com",
  "committer_date": "Sat Nov 25 17:06:42 2017 +0200",
  "committer_date_iso": "2017-11-25T17:06:42+02:00",
  "files_changed": [
    "drivers/net/wireless/intel/iwlwifi/fw/api/txq.h",
    "drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c",
    "drivers/net/wireless/intel/iwlwifi/mvm/mvm.h",
    "drivers/net/wireless/intel/iwlwifi/mvm/ops.c",
    "drivers/net/wireless/intel/iwlwifi/mvm/sta.c",
    "drivers/net/wireless/intel/iwlwifi/mvm/tx.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "drivers/net/wireless/intel/iwlwifi/fw/api/txq.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/mvm.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/ops.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/sta.c",
      "insertions": 40,
      "deletions": 13
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/tx.c",
      "insertions": 2,
      "deletions": 1
    }
  ],
  "total_insertions": 49,
  "total_deletions": 15,
  "total_changes": 64,
  "parents": [
    "d1b275ffec459c5ae12b5c7086c84175696e5a9f"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.15",
    "v4.15-rc3",
    "v4.15-rc4",
    "v4.15-rc5",
    "v4.15-rc6",
    "v4.15-rc7",
    "v4.15-rc8",
    "v4.15-rc9",
    "v4.16",
    "v4.16-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/mvm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/fw/api/txq.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/ops.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/sta.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/tx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}