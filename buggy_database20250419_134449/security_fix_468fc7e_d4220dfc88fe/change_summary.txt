Files changed: 11
Insertions: 95887
Deletions: 36917
Total changes: 132804

File-specific changes:
Documentation/ABI/testing/sysfs-class-net-batman-adv: +10 -10
Documentation/DocBook/80211.tmpl: +1 -0
Documentation/devicetree/bindings/net/apm-xgene-mdio.txt: +37 -0
Documentation/devicetree/bindings/net/brcm,mdio-mux-iproc.txt: +59 -0
Documentation/devicetree/bindings/net/can/rcar_canfd.txt: +96 -0
Documentation/devicetree/bindings/net/cirrus,cs89x0.txt: +13 -0
Documentation/devicetree/bindings/net/cpsw.txt: +0 -1
Documentation/devicetree/bindings/net/davinci-mdio.txt: +4 -1
Documentation/devicetree/bindings/net/dsa/b53.txt: +97 -0
Documentation/devicetree/bindings/net/dsa/dsa.txt: +276 -2
Documentation/devicetree/bindings/net/hisilicon-femac-mdio.txt: +22 -0
Documentation/devicetree/bindings/net/hisilicon-femac.txt: +39 -0
Documentation/devicetree/bindings/net/keystone-netcp.txt: +1 -1
Documentation/devicetree/bindings/net/mdio-mux.txt: +2 -1
Documentation/devicetree/bindings/net/micrel.txt: +10 -0
Documentation/devicetree/bindings/net/rockchip-dwmac.txt: +2 -1
Documentation/devicetree/bindings/net/socfpga-dwmac.txt: +19 -0
Documentation/devicetree/bindings/net/stmmac.txt: +3 -0
Documentation/devicetree/bindings/net/wireless/ti,wlcore,spi.txt: +32 -9
Documentation/devicetree/bindings/phy/brcm,mdio-mux-bus-pci.txt: +27 -0
Documentation/networking/can.txt: +24 -1
Documentation/networking/gen_stats.txt: +1 -1
Documentation/networking/nf_conntrack-sysctl.txt: +2 -1
Documentation/networking/rds.txt: +71 -1
Documentation/networking/stmmac.txt: +1 -0
Documentation/networking/vrf.txt: +104 -99
MAINTAINERS: +40 -14
arch/arm/boot/dts/am33xx.dtsi: +1 -2
arch/arm/boot/dts/am4372.dtsi: +1 -2
arch/arm/boot/dts/dm814x.dtsi: +0 -1
arch/arm/boot/dts/dra7.dtsi: +1 -2
arch/arm/boot/dts/rk3288.dtsi: +3 -2
arch/arm/boot/dts/vf610-zii-dev-rev-b.dts: +170 -158
arch/arm64/boot/dts/apm/apm-merlin.dts: +6 -0
arch/arm64/boot/dts/apm/apm-mustang.dts: +12 -0
arch/arm64/boot/dts/apm/apm-shadowcat.dtsi: +10 -1
arch/arm64/boot/dts/apm/apm-storm.dtsi: +13 -13
arch/arm64/boot/dts/broadcom/ns2-svk.dts: +16 -0
arch/arm64/boot/dts/broadcom/ns2.dtsi: +39 -0
arch/arm64/net/bpf_jit.h: +2 -1
arch/arm64/net/bpf_jit_comp.c: +96 -15
arch/s390/kernel/perf_cpum_sf.c: +6 -3
arch/x86/events/amd/ibs.c: +6 -2
drivers/atm/horizon.c: +1 -3
drivers/atm/nicstar.c: +2 -1
drivers/bcma/Kconfig: +9 -2
drivers/bcma/driver_chipcommon_b.c: +5 -4
drivers/bcma/host_pci.c: +1 -0
drivers/bluetooth/ath3k.c: +2 -0
drivers/bluetooth/bpa10x.c: +2 -0
drivers/bluetooth/btmrvl_main.c: +1 -1
drivers/bluetooth/btmrvl_sdio.c: +8 -7
drivers/bluetooth/btsdio.c: +1 -1
drivers/bluetooth/btusb.c: +13 -5
drivers/bluetooth/btwilink.c: +2 -2
drivers/bluetooth/hci_intel.c: +7 -21
drivers/bluetooth/hci_ldisc.c: +1 -1
drivers/bluetooth/hci_vhci.c: +3 -3
drivers/connector/cn_proc.c: +1 -3
drivers/infiniband/hw/mlx4/qp.c: +6 -5
drivers/infiniband/hw/mlx5/main.c: +9 -12
drivers/isdn/hardware/eicon/divasmain.c: +6 -6
drivers/isdn/hardware/eicon/platform.h: +3 -3
drivers/media/radio/wl128x/fmdrv_common.c: +1 -1
drivers/misc/ti-st/st_core.c: +1 -1
drivers/mtd/devices/Kconfig: +1 -1
drivers/net/bonding/bond_main.c: +13 -22
drivers/net/caif/caif_hsi.c: +1 -4
drivers/net/can/Kconfig: +1 -10
drivers/net/can/Makefile: +1 -1
drivers/net/can/dev.c: +85 -55
drivers/net/can/rcar/Kconfig: +21 -0
drivers/net/can/rcar/Makefile: +6 -0
drivers/net/can/{ => rcar}/rcar_can.c: +0 -0
drivers/net/can/rcar/rcar_canfd.c: +1858 -0
drivers/net/can/sja1000/tscan1.c: +1 -11
drivers/net/can/slcan.c: +2 -2
drivers/net/can/spi/mcp251x.c: +6 -1
drivers/net/can/usb/gs_usb.c: +99 -42
drivers/net/dsa/Kconfig: +4 -8
drivers/net/dsa/Makefile: +3 -1
drivers/net/dsa/b53/Kconfig: +33 -0
drivers/net/dsa/b53/Makefile: +6 -0
drivers/net/dsa/b53/b53_common.c: +1799 -0
drivers/net/dsa/b53/b53_mdio.c: +392 -0
drivers/net/dsa/b53/b53_mmap.c: +274 -0
drivers/net/dsa/b53/b53_priv.h: +388 -0
drivers/net/dsa/b53/b53_regs.h: +434 -0
drivers/net/dsa/b53/b53_spi.c: +331 -0
drivers/net/dsa/b53/b53_srab.c: +442 -0
drivers/net/dsa/bcm_sf2.c: +512 -189
drivers/net/dsa/bcm_sf2.h: +16 -0
drivers/net/dsa/bcm_sf2_regs.h: +70 -0
drivers/net/dsa/mv88e6xxx.c: +0 -3723
drivers/net/dsa/mv88e6xxx/Kconfig: +7 -0
drivers/net/dsa/mv88e6xxx/Makefile: +1 -0
drivers/net/dsa/mv88e6xxx/chip.c: +4087 -0
drivers/net/dsa/{ => mv88e6xxx}/mv88e6xxx.h: +143 -89
drivers/net/ethernet/8390/ax88796.c: +7 -33
drivers/net/ethernet/adi/bfin_mac.c: +10 -38
drivers/net/ethernet/adi/bfin_mac.h: +0 -1
drivers/net/ethernet/agere/et131x.c: +18 -42
drivers/net/ethernet/allwinner/sun4i-emac.c: +14 -40
drivers/net/ethernet/altera/altera_tse.h: +0 -1
drivers/net/ethernet/altera/altera_tse_ethtool.c: +2 -24
drivers/net/ethernet/altera/altera_tse_main.c: +7 -9
drivers/net/ethernet/amd/au1000_eth.c: +14 -41
drivers/net/ethernet/amd/au1000_eth.h: +0 -1
drivers/net/ethernet/apm/xgene/Kconfig: +1 -0
drivers/net/ethernet/apm/xgene/xgene_enet_ethtool.c: +19 -3
drivers/net/ethernet/apm/xgene/xgene_enet_hw.c: +139 -115
drivers/net/ethernet/apm/xgene/xgene_enet_hw.h: +6 -5
drivers/net/ethernet/apm/xgene/xgene_enet_main.c: +128 -87
drivers/net/ethernet/apm/xgene/xgene_enet_main.h: +5 -28
drivers/net/ethernet/apm/xgene/xgene_enet_sgmac.c: +211 -28
drivers/net/ethernet/apm/xgene/xgene_enet_sgmac.h: +8 -0
drivers/net/ethernet/apm/xgene/xgene_enet_xgmac.c: +63 -3
drivers/net/ethernet/apm/xgene/xgene_enet_xgmac.h: +3 -0
drivers/net/ethernet/arc/emac.h: +0 -1
drivers/net/ethernet/arc/emac_main.c: +12 -53
drivers/net/ethernet/aurora/nb8800.c: +26 -45
drivers/net/ethernet/aurora/nb8800.h: +0 -1
drivers/net/ethernet/broadcom/Kconfig: +22 -22
drivers/net/ethernet/broadcom/Makefile: +2 -0
drivers/net/ethernet/broadcom/bcmsysport.c: +14 -35
drivers/net/ethernet/broadcom/bcmsysport.h: +0 -1
drivers/net/ethernet/broadcom/bgmac-bcma-mdio.c: +266 -0
drivers/net/ethernet/broadcom/bgmac-bcma.c: +315 -0
drivers/net/ethernet/broadcom/bgmac-platform.c: +185 -0
drivers/net/ethernet/broadcom/bgmac.c: +294 -514
drivers/net/ethernet/broadcom/bgmac.h: +95 -22
drivers/net/ethernet/broadcom/bnx2x/bnx2x_main.c: +33 -61
drivers/net/ethernet/broadcom/bnxt/bnxt.c: +620 -123
drivers/net/ethernet/broadcom/bnxt/bnxt.h: +83 -7
drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c: +183 -82
drivers/net/ethernet/broadcom/bnxt/bnxt_fw_hdr.h: +1 -0
drivers/net/ethernet/broadcom/bnxt/bnxt_hsi.h: +60 -27
drivers/net/ethernet/broadcom/bnxt/bnxt_nvm_defs.h: +1 -0
drivers/net/ethernet/broadcom/bnxt/bnxt_sriov.c: +3 -0
drivers/net/ethernet/broadcom/genet/bcmgenet.c: +20 -25
drivers/net/ethernet/broadcom/genet/bcmgenet.h: +0 -1
drivers/net/ethernet/broadcom/genet/bcmmii.c: +11 -13
drivers/net/ethernet/cadence/macb.c: +15 -39
drivers/net/ethernet/cadence/macb.h: +0 -1
drivers/net/ethernet/cavium/liquidio/cn66xx_device.c: +26 -35
drivers/net/ethernet/cavium/liquidio/cn66xx_device.h: +1 -4
drivers/net/ethernet/cavium/liquidio/cn68xx_device.c: +1 -12
drivers/net/ethernet/cavium/liquidio/cn68xx_device.h: +0 -1
drivers/net/ethernet/cavium/liquidio/cn68xx_regs.h: +0 -1
drivers/net/ethernet/cavium/liquidio/lio_ethtool.c: +771 -238
drivers/net/ethernet/cavium/liquidio/lio_main.c: +915 -506
drivers/net/ethernet/cavium/liquidio/liquidio_common.h: +312 -96
drivers/net/ethernet/cavium/liquidio/octeon_config.h: +9 -7
drivers/net/ethernet/cavium/liquidio/octeon_console.c: +19 -31
drivers/net/ethernet/cavium/liquidio/octeon_device.c: +94 -168
drivers/net/ethernet/cavium/liquidio/octeon_device.h: +40 -12
drivers/net/ethernet/cavium/liquidio/octeon_droq.c: +113 -100
drivers/net/ethernet/cavium/liquidio/octeon_droq.h: +24 -17
drivers/net/ethernet/cavium/liquidio/octeon_iq.h: +70 -15
drivers/net/ethernet/cavium/liquidio/octeon_main.h: +15 -10
drivers/net/ethernet/cavium/liquidio/octeon_mem_ops.c: +5 -19
drivers/net/ethernet/cavium/liquidio/octeon_network.h: +226 -26
drivers/net/ethernet/cavium/liquidio/octeon_nic.c: +36 -31
drivers/net/ethernet/cavium/liquidio/octeon_nic.h: +110 -44
drivers/net/ethernet/cavium/liquidio/request_manager.c: +164 -149
drivers/net/ethernet/cavium/liquidio/response_manager.c: +9 -21
drivers/net/ethernet/cavium/octeon/octeon_mgmt.c: +38 -65
drivers/net/ethernet/chelsio/Kconfig: +5 -11
drivers/net/ethernet/chelsio/Makefile: +1 -0
drivers/net/ethernet/chelsio/cxgb4/Makefile: +0 -1
drivers/net/ethernet/chelsio/cxgb4/cxgb4.h: +1 -0
drivers/net/ethernet/chelsio/cxgb4/cxgb4_ethtool.c: +245 -130
drivers/net/ethernet/chelsio/cxgb4/cxgb4_main.c: +74 -8
drivers/net/ethernet/chelsio/cxgb4/t4_hw.c: +2 -0
drivers/net/ethernet/chelsio/cxgb4/t4fw_api.h: +15 -9
drivers/net/ethernet/chelsio/cxgb4vf/adapter.h: +8 -0
drivers/net/ethernet/chelsio/cxgb4vf/cxgb4vf_main.c: +183 -103
drivers/net/ethernet/chelsio/cxgb4vf/t4vf_common.h: +1 -0
drivers/net/ethernet/chelsio/cxgb4vf/t4vf_hw.c: +58 -0
drivers/net/ethernet/chelsio/libcxgb/Makefile: +3 -0
drivers/net/ethernet/chelsio/{cxgb4/cxgb4_ppm.c => libcxgb/libcxgb_ppm.c}: +40 -6
drivers/net/ethernet/chelsio/{cxgb4/cxgb4_ppm.h => libcxgb/libcxgb_ppm.h}: +31 -7
drivers/net/ethernet/cirrus/cs89x0.c: +11 -1
drivers/net/ethernet/cisco/enic/enic_ethtool.c: +16 -12
drivers/net/ethernet/dnet.c: +12 -36
drivers/net/ethernet/dnet.h: +0 -1
drivers/net/ethernet/emulex/benet/Kconfig: +0 -8
drivers/net/ethernet/emulex/benet/be.h: +49 -9
drivers/net/ethernet/emulex/benet/be_cmds.c: +85 -75
drivers/net/ethernet/emulex/benet/be_cmds.h: +12 -4
drivers/net/ethernet/emulex/benet/be_ethtool.c: +55 -11
drivers/net/ethernet/emulex/benet/be_main.c: +205 -129
drivers/net/ethernet/emulex/benet/be_roce.c: +1 -1
drivers/net/ethernet/emulex/benet/be_roce.h: +1 -1
drivers/net/ethernet/ethoc.c: +7 -33
drivers/net/ethernet/ezchip/nps_enet.c: +14 -13
drivers/net/ethernet/faraday/ftgmac100.c: +208 -63
drivers/net/ethernet/freescale/fec.h: +2 -0
drivers/net/ethernet/freescale/fec_main.c: +23 -11
drivers/net/ethernet/freescale/gianfar.c: +1 -1
drivers/net/ethernet/hisilicon/Kconfig: +13 -1
drivers/net/ethernet/hisilicon/Makefile: +1 -0
drivers/net/ethernet/hisilicon/hisi_femac.c: +1007 -0
drivers/net/ethernet/hisilicon/hix5hd2_gmac.c: +11 -33
drivers/net/ethernet/hisilicon/hns/hnae.c: +12 -7
drivers/net/ethernet/hisilicon/hns/hnae.h: +17 -3
drivers/net/ethernet/hisilicon/hns/hns_ae_adapt.c: +43 -17
drivers/net/ethernet/hisilicon/hns/hns_dsaf_gmac.c: +3 -3
drivers/net/ethernet/hisilicon/hns/hns_dsaf_mac.c: +216 -72
drivers/net/ethernet/hisilicon/hns/hns_dsaf_mac.h: +2 -3
drivers/net/ethernet/hisilicon/hns/hns_dsaf_main.c: +213 -118
drivers/net/ethernet/hisilicon/hns/hns_dsaf_main.h: +32 -13
drivers/net/ethernet/hisilicon/hns/hns_dsaf_misc.c: +259 -43
drivers/net/ethernet/hisilicon/hns/hns_dsaf_misc.h: +1 -6
drivers/net/ethernet/hisilicon/hns/hns_dsaf_ppe.c: +8 -7
drivers/net/ethernet/hisilicon/hns/hns_dsaf_rcb.c: +3 -4
drivers/net/ethernet/hisilicon/hns/hns_dsaf_rcb.h: +1 -1
drivers/net/ethernet/hisilicon/hns/hns_dsaf_reg.h: +19 -2
drivers/net/ethernet/hisilicon/hns/hns_dsaf_xgmac.c: +5 -5
drivers/net/ethernet/hisilicon/hns/hns_enet.c: +97 -63
drivers/net/ethernet/hisilicon/hns/hns_enet.h: +1 -1
drivers/net/ethernet/hisilicon/hns/hns_ethtool.c: +37 -26
drivers/net/ethernet/hisilicon/hns_mdio.c: +138 -66
drivers/net/ethernet/intel/Kconfig: +0 -43
drivers/net/ethernet/intel/e1000e/netdev.c: +2 -1
drivers/net/ethernet/intel/fm10k/fm10k.h: +3 -1
drivers/net/ethernet/intel/fm10k/fm10k_common.c: +5 -1
drivers/net/ethernet/intel/fm10k/fm10k_ethtool.c: +5 -2
drivers/net/ethernet/intel/fm10k/fm10k_main.c: +10 -9
drivers/net/ethernet/intel/fm10k/fm10k_mbx.h: +2 -0
drivers/net/ethernet/intel/fm10k/fm10k_netdev.c: +20 -20
drivers/net/ethernet/intel/fm10k/fm10k_pci.c: +189 -133
drivers/net/ethernet/intel/fm10k/fm10k_pf.c: +16 -22
drivers/net/ethernet/intel/fm10k/fm10k_type.h: +2 -0
drivers/net/ethernet/intel/fm10k/fm10k_vf.c: +7 -5
drivers/net/ethernet/intel/i40e/i40e.h: +13 -2
drivers/net/ethernet/intel/i40e/i40e_client.c: +2 -2
drivers/net/ethernet/intel/i40e/i40e_common.c: +59 -2
drivers/net/ethernet/intel/i40e/i40e_debugfs.c: +14 -2
drivers/net/ethernet/intel/i40e/i40e_devids.h: +0 -1
drivers/net/ethernet/intel/i40e/i40e_ethtool.c: +31 -21
drivers/net/ethernet/intel/i40e/i40e_main.c: +436 -502
drivers/net/ethernet/intel/i40e/i40e_prototype.h: +2 -0
drivers/net/ethernet/intel/i40e/i40e_txrx.c: +1 -3
drivers/net/ethernet/intel/i40e/i40e_virtchnl_pf.c: +6 -0
drivers/net/ethernet/intel/i40evf/i40e_common.c: +0 -1
drivers/net/ethernet/intel/i40evf/i40e_devids.h: +0 -1
drivers/net/ethernet/intel/i40evf/i40e_txrx.c: +1 -2
drivers/net/ethernet/intel/i40evf/i40evf_main.c: +5 -3
drivers/net/ethernet/intel/i40evf/i40evf_virtchnl.c: +8 -0
drivers/net/ethernet/intel/igb/igb.h: +6 -1
drivers/net/ethernet/intel/igb/igb_main.c: +8 -4
drivers/net/ethernet/intel/igb/igb_ptp.c: +42 -50
drivers/net/ethernet/intel/ixgbe/ixgbe.h: +0 -2
drivers/net/ethernet/intel/ixgbe/ixgbe_82599.c: +0 -3
drivers/net/ethernet/intel/ixgbe/ixgbe_common.c: +84 -1
drivers/net/ethernet/intel/ixgbe/ixgbe_ethtool.c: +8 -4
drivers/net/ethernet/intel/ixgbe/ixgbe_main.c: +101 -78
drivers/net/ethernet/intel/ixgbe/ixgbe_model.h: +4 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_sriov.c: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_type.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_x550.c: +2 -2
drivers/net/ethernet/intel/ixgbevf/defines.h: +1 -0
drivers/net/ethernet/intel/ixgbevf/ixgbevf.h: +2 -0
drivers/net/ethernet/intel/ixgbevf/ixgbevf_main.c: +18 -6
drivers/net/ethernet/intel/ixgbevf/vf.c: +46 -50
drivers/net/ethernet/intel/ixgbevf/vf.h: +2 -1
drivers/net/ethernet/lantiq_etop.c: +7 -30
drivers/net/ethernet/marvell/mvpp2.c: +14 -34
drivers/net/ethernet/marvell/pxa168_eth.c: +32 -39
drivers/net/ethernet/mediatek/mtk_eth_soc.c: +110 -70
drivers/net/ethernet/mediatek/mtk_eth_soc.h: +14 -2
drivers/net/ethernet/mellanox/mlx4/Kconfig: +0 -7
drivers/net/ethernet/mellanox/mlx4/en_dcb_nl.c: +263 -14
drivers/net/ethernet/mellanox/mlx4/en_ethtool.c: +20 -14
drivers/net/ethernet/mellanox/mlx4/en_netdev.c: +172 -23
drivers/net/ethernet/mellanox/mlx4/en_rx.c: +114 -12
drivers/net/ethernet/mellanox/mlx4/en_tx.c: +210 -64
drivers/net/ethernet/mellanox/mlx4/fw.c: +1 -0
drivers/net/ethernet/mellanox/mlx4/fw.h: +1 -0
drivers/net/ethernet/mellanox/mlx4/intf.c: +4 -1
drivers/net/ethernet/mellanox/mlx4/main.c: +2 -1
drivers/net/ethernet/mellanox/mlx4/mcg.c: +4 -4
drivers/net/ethernet/mellanox/mlx4/mlx4_en.h: +68 -4
drivers/net/ethernet/mellanox/mlx4/mr.c: +1 -1
drivers/net/ethernet/mellanox/mlx4/port.c: +12 -0
drivers/net/ethernet/mellanox/mlx4/resource_tracker.c: +10 -12
drivers/net/ethernet/mellanox/mlx5/core/Kconfig: +1 -0
drivers/net/ethernet/mellanox/mlx5/core/Makefile: +7 -5
drivers/net/ethernet/mellanox/mlx5/core/en.h: +167 -13
drivers/net/ethernet/mellanox/mlx5/core/en_arfs.c: +36 -46
drivers/net/ethernet/mellanox/mlx5/core/en_common.c: +160 -0
drivers/net/ethernet/mellanox/mlx5/core/en_dcbnl.c: +1 -8
drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c: +351 -194
drivers/net/ethernet/mellanox/mlx5/core/en_fs.c: +43 -58
drivers/net/ethernet/mellanox/mlx5/core/en_fs_ethtool.c: +586 -0
drivers/net/ethernet/mellanox/mlx5/core/en_main.c: +564 -285
drivers/net/ethernet/mellanox/mlx5/core/en_rep.c: +432 -0
drivers/net/ethernet/mellanox/mlx5/core/en_rx_am.c: +335 -0
drivers/net/ethernet/mellanox/mlx5/core/en_stats.h: +22 -5
drivers/net/ethernet/mellanox/mlx5/core/en_tc.c: +108 -35
drivers/net/ethernet/mellanox/mlx5/core/en_tx.c: +45 -4
drivers/net/ethernet/mellanox/mlx5/core/en_txrx.c: +5 -0
drivers/net/ethernet/mellanox/mlx5/core/eswitch.c: +91 -99
drivers/net/ethernet/mellanox/mlx5/core/eswitch.h: +81 -4
drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c: +624 -0
drivers/net/ethernet/mellanox/mlx5/core/fs_cmd.c: +67 -0
drivers/net/ethernet/mellanox/mlx5/core/fs_cmd.h: +12 -0
drivers/net/ethernet/mellanox/mlx5/core/fs_core.c: +122 -185
drivers/net/ethernet/mellanox/mlx5/core/fs_core.h: +9 -0
drivers/net/ethernet/mellanox/mlx5/core/fs_counters.c: +112 -29
drivers/net/ethernet/mellanox/mlx5/core/fw.c: +6 -0
drivers/net/ethernet/mellanox/mlx5/core/health.c: +2 -5
drivers/net/ethernet/mellanox/mlx5/core/main.c: +32 -4
drivers/net/ethernet/mellanox/mlx5/core/port.c: +44 -4
drivers/net/ethernet/mellanox/mlx5/core/rl.c: +209 -0
drivers/net/ethernet/mellanox/mlx5/core/sriov.c: +3 -2
drivers/net/ethernet/mellanox/mlx5/core/vport.c: +12 -0
drivers/net/ethernet/mellanox/mlxsw/Makefile: +2 -1
drivers/net/ethernet/mellanox/mlxsw/cmd.h: +75 -0
drivers/net/ethernet/mellanox/mlxsw/core.c: +23 -7
drivers/net/ethernet/mellanox/mlxsw/core.h: +15 -2
drivers/net/ethernet/mellanox/mlxsw/pci.c: +77 -1
drivers/net/ethernet/mellanox/mlxsw/reg.h: +1383 -3
drivers/net/ethernet/mellanox/mlxsw/spectrum.c: +1659 -707
drivers/net/ethernet/mellanox/mlxsw/spectrum.h: +229 -35
drivers/net/ethernet/mellanox/mlxsw/spectrum_kvdl.c: +91 -0
drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c: +1814 -0
drivers/net/ethernet/mellanox/mlxsw/spectrum_switchdev.c: +239 -207
drivers/net/ethernet/mellanox/mlxsw/switchx2.c: +1 -0
drivers/net/ethernet/mellanox/mlxsw/trap.h: +5 -0
drivers/net/ethernet/netronome/nfp/nfp_net.h: +1 -1
drivers/net/ethernet/netronome/nfp/nfp_net_common.c: +22 -15
drivers/net/ethernet/netronome/nfp/nfp_net_ethtool.c: +1 -0
drivers/net/ethernet/netronome/nfp/nfp_netvf_main.c: +2 -2
drivers/net/ethernet/nxp/lpc_eth.c: +9 -36
drivers/net/ethernet/pasemi/pasemi_mac.c: +13 -15
drivers/net/ethernet/pasemi/pasemi_mac.h: +0 -1
drivers/net/ethernet/pasemi/pasemi_mac_ethtool.c: +2 -28
drivers/net/ethernet/qlogic/Kconfig: +0 -30
drivers/net/ethernet/qlogic/qed/qed.h: +15 -2
drivers/net/ethernet/qlogic/qed/qed_cxt.c: +1310 -37
drivers/net/ethernet/qlogic/qed/qed_cxt.h: +24 -0
drivers/net/ethernet/qlogic/qed/qed_dcbx.c: +1622 -1
drivers/net/ethernet/qlogic/qed/qed_dcbx.h: +28 -0
drivers/net/ethernet/qlogic/qed/qed_dev.c: +548 -98
drivers/net/ethernet/qlogic/qed/qed_dev_api.h: +50 -5
drivers/net/ethernet/qlogic/qed/qed_hsi.h: +6631 -4317
drivers/net/ethernet/qlogic/qed/qed_hw.c: +46 -9
drivers/net/ethernet/qlogic/qed/qed_hw.h: +10 -2
drivers/net/ethernet/qlogic/qed/qed_init_fw_funcs.c: +80 -104
drivers/net/ethernet/qlogic/qed/qed_init_ops.c: +6 -3
drivers/net/ethernet/qlogic/qed/qed_int.c: +70 -5
drivers/net/ethernet/qlogic/qed/qed_int.h: +3 -0
drivers/net/ethernet/qlogic/qed/qed_l2.c: +65 -50
drivers/net/ethernet/qlogic/qed/qed_main.c: +49 -12
drivers/net/ethernet/qlogic/qed/qed_mcp.c: +47 -10
drivers/net/ethernet/qlogic/qed/qed_mcp.h: +3 -0
drivers/net/ethernet/qlogic/qed/qed_reg_addr.h: +42 -1
drivers/net/ethernet/qlogic/qed/qed_sp.h: +26 -0
drivers/net/ethernet/qlogic/qed/qed_sp_commands.c: +22 -4
drivers/net/ethernet/qlogic/qed/qed_spq.c: +26 -21
drivers/net/ethernet/qlogic/qed/qed_sriov.c: +376 -130
drivers/net/ethernet/qlogic/qed/qed_sriov.h: +8 -1
drivers/net/ethernet/qlogic/qed/qed_vf.c: +67 -28
drivers/net/ethernet/qlogic/qed/qed_vf.h: +11 -2
drivers/net/ethernet/qlogic/qede/Makefile: +1 -0
drivers/net/ethernet/qlogic/qede/qede.h: +8 -1
drivers/net/ethernet/qlogic/qede/qede_dcbnl.c: +348 -0
drivers/net/ethernet/qlogic/qede/qede_ethtool.c: +104 -0
drivers/net/ethernet/qlogic/qede/qede_main.c: +145 -134
drivers/net/ethernet/qlogic/qlcnic/qlcnic.h: +0 -2
drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_hw.c: +0 -1
drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_init.c: +0 -4
drivers/net/ethernet/qlogic/qlcnic/qlcnic_main.c: +14 -16
drivers/net/ethernet/rdc/r6040.c: +34 -57
drivers/net/ethernet/renesas/ravb_main.c: +3 -6
drivers/net/ethernet/renesas/sh_eth.c: +0 -1
drivers/net/ethernet/rocker/rocker_main.c: +2 -1
drivers/net/ethernet/samsung/sxgbe/sxgbe_common.h: +0 -1
drivers/net/ethernet/samsung/sxgbe/sxgbe_ethtool.c: +5 -26
drivers/net/ethernet/samsung/sxgbe/sxgbe_main.c: +15 -17
drivers/net/ethernet/sfc/ef10.c: +623 -121
drivers/net/ethernet/sfc/ef10_sriov.c: +37 -7
drivers/net/ethernet/sfc/ef10_sriov.h: +3 -0
drivers/net/ethernet/sfc/efx.c: +60 -6
drivers/net/ethernet/sfc/efx.h: +9 -0
drivers/net/ethernet/sfc/mcdi_pcol.h: +1279 -48
drivers/net/ethernet/sfc/net_driver.h: +17 -2
drivers/net/ethernet/sfc/nic.h: +5 -0
drivers/net/ethernet/smsc/smc91x.c: +10 -3
drivers/net/ethernet/smsc/smsc911x.c: +31 -49
drivers/net/ethernet/smsc/smsc9420.c: +15 -45
drivers/net/ethernet/stmicro/stmmac/Kconfig: +7 -7
drivers/net/ethernet/stmicro/stmmac/Makefile: +2 -1
drivers/net/ethernet/stmicro/stmmac/altr_tse_pcs.c: +274 -0
drivers/net/ethernet/stmicro/stmmac/altr_tse_pcs.h: +36 -0
drivers/net/ethernet/stmicro/stmmac/common.h: +14 -5
drivers/net/ethernet/stmicro/stmmac/dwmac-rk.c: +160 -5
drivers/net/ethernet/stmicro/stmmac/dwmac-socfpga.c: +108 -21
drivers/net/ethernet/stmicro/stmmac/dwmac1000.h: +37 -49
drivers/net/ethernet/stmicro/stmmac/dwmac1000_core.c: +82 -65
drivers/net/ethernet/stmicro/stmmac/dwmac4.h: +28 -15
drivers/net/ethernet/stmicro/stmmac/dwmac4_core.c: +66 -30
drivers/net/ethernet/stmicro/stmmac/stmmac.h: +0 -1
drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c: +43 -17
drivers/net/ethernet/stmicro/stmmac/stmmac_main.c: +38 -12
drivers/net/ethernet/stmicro/stmmac/stmmac_pcs.h: +159 -0
drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c: +8 -2
drivers/net/ethernet/synopsys/dwc_eth_qos.c: +26 -49
drivers/net/ethernet/ti/Kconfig: +1 -2
drivers/net/ethernet/ti/cpmac.c: +23 -47
drivers/net/ethernet/ti/cpsw.c: +71 -26
drivers/net/ethernet/ti/cpsw.h: +0 -1
drivers/net/ethernet/ti/davinci_cpdma.c: +65 -193
drivers/net/ethernet/ti/davinci_cpdma.h: +1 -2
drivers/net/ethernet/ti/davinci_emac.c: +25 -163
drivers/net/ethernet/ti/davinci_mdio.c: +108 -61
drivers/net/ethernet/ti/tlan.c: +0 -1
drivers/net/ethernet/toshiba/tc35815.c: +21 -44
drivers/net/ethernet/wiznet/w5100.c: +1 -2
drivers/net/ethernet/xilinx/ll_temac.h: +0 -1
drivers/net/ethernet/xilinx/ll_temac_main.c: +16 -31
drivers/net/ethernet/xilinx/xilinx_axienet.h: +0 -2
drivers/net/ethernet/xilinx/xilinx_axienet_main.c: +18 -64
drivers/net/ethernet/xircom/xirc2ps_cs.c: +2 -2
drivers/net/ethernet/xscale/ixp4xx_eth.c: +16 -30
drivers/net/fjes/fjes_main.c: +3 -2
drivers/net/geneve.c: +8 -53
drivers/net/gtp.c: +0 -1
drivers/net/hamradio/baycom_par.c: +3 -3
drivers/net/hyperv/hyperv_net.h: +16 -3
drivers/net/hyperv/netvsc.c: +65 -48
drivers/net/hyperv/netvsc_drv.c: +10 -12
drivers/net/hyperv/rndis_filter.c: +41 -118
drivers/net/ieee802154/atusb.c: +1 -5
drivers/net/ieee802154/fakelb.c: +8 -0
drivers/net/ieee802154/mrf24j40.c: +2 -0
drivers/net/ipvlan/ipvlan_core.c: +25 -14
drivers/net/ipvlan/ipvlan_main.c: +1 -21
drivers/net/loopback.c: +2 -3
drivers/net/macsec.c: +78 -33
drivers/net/macvlan.c: +42 -17
drivers/net/macvtap.c: +81 -100
drivers/net/phy/Kconfig: +36 -0
drivers/net/phy/Makefile: +6 -1
drivers/net/phy/fixed_phy.c: +28 -125
drivers/net/phy/intel-xway.c: +376 -0
drivers/net/phy/marvell.c: +328 -18
drivers/net/phy/mdio-hisi-femac.c: +166 -0
drivers/net/phy/mdio-mux-bcm-iproc.c: +248 -0
drivers/net/phy/mdio-mux-gpio.c: +1 -1
drivers/net/phy/mdio-mux-mmioreg.c: +1 -1
drivers/net/phy/mdio-mux.c: +17 -9
drivers/net/phy/mdio-xgene.c: +477 -0
drivers/net/phy/mdio-xgene.h: +143 -0
drivers/net/phy/micrel.c: +32 -2
drivers/net/phy/swphy.c: +179 -0
drivers/net/phy/swphy.h: +9 -0
drivers/net/ppp/ppp_generic.c: +1 -2
drivers/net/team/team.c: +3 -18
drivers/net/tun.c: +156 -84
drivers/net/usb/ax88172a.c: +2 -20
drivers/net/usb/cdc_ether.c: +51 -0
drivers/net/usb/r8152.c: +44 -42
drivers/net/usb/rndis_host.c: +5 -1
drivers/net/virtio_net.c: +29 -74
drivers/net/vmxnet3/Makefile: +2 -2
drivers/net/vmxnet3/upt1_defs.h: +2 -2
drivers/net/vmxnet3/vmxnet3_defs.h: +98 -7
drivers/net/vmxnet3/vmxnet3_drv.c: +234 -51
drivers/net/vmxnet3/vmxnet3_ethtool.c: +200 -15
drivers/net/vmxnet3/vmxnet3_int.h: +49 -5
drivers/net/vrf.c: +530 -52
drivers/net/vxlan.c: +16 -69
drivers/net/wan/Kconfig: +22 -0
drivers/net/wan/Makefile: +2 -0
drivers/net/wan/fsl_ucc_hdlc.c: +1177 -0
drivers/net/wan/fsl_ucc_hdlc.h: +147 -0
drivers/net/wan/slic_ds26522.c: +255 -0
drivers/net/wan/slic_ds26522.h: +134 -0
drivers/net/wireless/ath/ath10k/ahb.c: +5 -6
drivers/net/wireless/ath/ath10k/core.c: +128 -5
drivers/net/wireless/ath/ath10k/core.h: +29 -5
drivers/net/wireless/ath/ath10k/debug.c: +39 -12
drivers/net/wireless/ath/ath10k/debug.h: +8 -3
drivers/net/wireless/ath/ath10k/debugfs_sta.c: +47 -27
drivers/net/wireless/ath/ath10k/hif.h: +14 -0
drivers/net/wireless/ath/ath10k/htc.h: +0 -1
drivers/net/wireless/ath/ath10k/htt.h: +3 -3
drivers/net/wireless/ath/ath10k/htt_rx.c: +6 -38
drivers/net/wireless/ath/ath10k/htt_tx.c: +14 -8
drivers/net/wireless/ath/ath10k/hw.c: +32 -7
drivers/net/wireless/ath/ath10k/hw.h: +85 -21
drivers/net/wireless/ath/ath10k/mac.c: +122 -18
drivers/net/wireless/ath/ath10k/pci.c: +240 -29
drivers/net/wireless/ath/ath10k/pci.h: +6 -0
drivers/net/wireless/ath/ath10k/rx_desc.h: +47 -40
drivers/net/wireless/ath/ath10k/spectral.c: +2 -2
drivers/net/wireless/ath/ath10k/targaddrs.h: +3 -0
drivers/net/wireless/ath/ath10k/txrx.c: +7 -2
drivers/net/wireless/ath/ath10k/wmi.c: +54 -17
drivers/net/wireless/ath/ath10k/wmi.h: +17 -1
drivers/net/wireless/ath/ath5k/pcu.c: +1 -1
drivers/net/wireless/ath/ath6kl/cfg80211.c: +17 -6
drivers/net/wireless/ath/ath6kl/core.h: +1 -1
drivers/net/wireless/ath/ath6kl/txrx.c: +5 -4
drivers/net/wireless/ath/ath6kl/wmi.c: +1 -2
drivers/net/wireless/ath/ath9k/ahb.c: +3 -15
drivers/net/wireless/ath/ath9k/ar9002_phy.c: +23 -9
drivers/net/wireless/ath/ath9k/ar9002_phy.h: +4 -1
drivers/net/wireless/ath/ath9k/ar9003_calib.c: +68 -60
drivers/net/wireless/ath/ath9k/ar9003_eeprom.c: +2 -3
drivers/net/wireless/ath/ath9k/ar9003_phy.h: +10 -15
drivers/net/wireless/ath/ath9k/ath9k.h: +5 -2
drivers/net/wireless/ath/ath9k/beacon.c: +135 -105
drivers/net/wireless/ath/ath9k/channel.c: +4 -1
drivers/net/wireless/ath/ath9k/common.h: +1 -0
drivers/net/wireless/ath/ath9k/dynack.c: +2 -2
drivers/net/wireless/ath/ath9k/eeprom.c: +25 -8
drivers/net/wireless/ath/ath9k/htc_drv_beacon.c: +1 -1
drivers/net/wireless/ath/ath9k/htc_drv_init.c: +1 -1
drivers/net/wireless/ath/ath9k/hw.c: +25 -29
drivers/net/wireless/ath/ath9k/hw.h: +1 -0
drivers/net/wireless/ath/ath9k/init.c: +29 -25
drivers/net/wireless/ath/ath9k/mac.h: +0 -4
drivers/net/wireless/ath/ath9k/main.c: +50 -23
drivers/net/wireless/ath/ath9k/pci.c: +13 -28
drivers/net/wireless/ath/ath9k/tx99.c: +1 -2
drivers/net/wireless/ath/carl9170/Kconfig: +3 -5
drivers/net/wireless/ath/wcn36xx/dxe.c: +18 -13
drivers/net/wireless/ath/wcn36xx/dxe.h: +3 -4
drivers/net/wireless/ath/wcn36xx/hal.h: +2 -2
drivers/net/wireless/ath/wcn36xx/main.c: +41 -26
drivers/net/wireless/ath/wcn36xx/smd.c: +23 -21
drivers/net/wireless/ath/wcn36xx/smd.h: +2 -2
drivers/net/wireless/ath/wcn36xx/wcn36xx.h: +4 -6
drivers/net/wireless/ath/wil6210/cfg80211.c: +20 -0
drivers/net/wireless/ath/wil6210/debug.c: +20 -26
drivers/net/wireless/ath/wil6210/main.c: +10 -2
drivers/net/wireless/ath/wil6210/p2p.c: +9 -3
drivers/net/wireless/ath/wil6210/pcie_bus.c: +66 -2
drivers/net/wireless/ath/wil6210/pm.c: +24 -1
drivers/net/wireless/ath/wil6210/txrx.c: +41 -1
drivers/net/wireless/ath/wil6210/wil6210.h: +6 -0
drivers/net/wireless/ath/wil6210/wil_platform.h: +3 -1
drivers/net/wireless/ath/wil6210/wmi.c: +5 -3
drivers/net/wireless/atmel/at76c50x-usb.c: +4 -1
drivers/net/wireless/broadcom/b43/Makefile: +1 -1
drivers/net/wireless/broadcom/b43/leds.c: +6 -2
drivers/net/wireless/broadcom/b43/main.c: +4 -27
drivers/net/wireless/broadcom/b43/phy_a.c: +0 -595
drivers/net/wireless/broadcom/b43/phy_a.h: +0 -22
drivers/net/wireless/broadcom/b43/phy_common.h: +0 -3
drivers/net/wireless/broadcom/b43/phy_g.c: +20 -5
drivers/net/wireless/broadcom/b43/wa.c: +19 -264
drivers/net/wireless/broadcom/b43/xmit.c: +11 -19
drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c: +31 -20
drivers/net/wireless/broadcom/brcm80211/brcmfmac/cfg80211.c: +199 -60
drivers/net/wireless/broadcom/brcm80211/brcmfmac/cfg80211.h: +5 -4
drivers/net/wireless/broadcom/brcm80211/brcmfmac/chip.c: +2 -0
drivers/net/wireless/broadcom/brcm80211/brcmfmac/core.c: +19 -38
drivers/net/wireless/broadcom/brcm80211/brcmfmac/core.h: +2 -3
drivers/net/wireless/broadcom/brcm80211/brcmfmac/fweh.c: +8 -2
drivers/net/wireless/broadcom/brcm80211/brcmfmac/fwsignal.c: +18 -6
drivers/net/wireless/broadcom/brcm80211/brcmfmac/p2p.c: +11 -13
drivers/net/wireless/broadcom/brcm80211/brcmfmac/pcie.c: +5 -1
drivers/net/wireless/broadcom/brcm80211/brcmfmac/sdio.c: +5 -7
drivers/net/wireless/broadcom/brcm80211/brcmfmac/sdio.h: +2 -1
drivers/net/wireless/broadcom/brcm80211/brcmsmac/dma.c: +3 -1
drivers/net/wireless/broadcom/brcm80211/brcmsmac/main.c: +2 -2
drivers/net/wireless/broadcom/brcm80211/brcmsmac/phy/phy_n.c: +1 -1
drivers/net/wireless/broadcom/brcm80211/brcmsmac/stf.c: +1 -1
drivers/net/wireless/broadcom/brcm80211/brcmutil/d11.c: +10 -8
drivers/net/wireless/broadcom/brcm80211/include/brcm_hw_ids.h: +2 -0
drivers/net/wireless/broadcom/brcm80211/include/brcmu_d11.h: +22 -0
drivers/net/wireless/cisco/airo.c: +2 -2
drivers/net/wireless/intel/ipw2x00/ipw2200.c: +1 -1
drivers/net/wireless/intel/iwlegacy/3945.c: +2 -1
drivers/net/wireless/intel/iwlegacy/common.c: +5 -1
drivers/net/wireless/intel/iwlwifi/Makefile: +1 -1
drivers/net/wireless/intel/iwlwifi/dvm/lib.c: +0 -17
drivers/net/wireless/intel/iwlwifi/dvm/main.c: +3 -0
drivers/net/wireless/intel/iwlwifi/dvm/rxon.c: +0 -5
drivers/net/wireless/intel/iwlwifi/dvm/scan.c: +5 -1
drivers/net/wireless/intel/iwlwifi/iwl-7000.c: +2 -2
drivers/net/wireless/intel/iwlwifi/iwl-8000.c: +2 -2
drivers/net/wireless/intel/iwlwifi/iwl-9000.c: +2 -1
drivers/net/wireless/intel/iwlwifi/iwl-a000.c: +131 -0
drivers/net/wireless/intel/iwlwifi/iwl-config.h: +9 -4
drivers/net/wireless/intel/iwlwifi/iwl-csr.h: +4 -2
drivers/net/wireless/intel/iwlwifi/iwl-debug.h: +1 -0
drivers/net/wireless/intel/iwlwifi/iwl-devtrace-io.h: +35 -0
drivers/net/wireless/intel/iwlwifi/iwl-devtrace.h: +22 -3
drivers/net/wireless/intel/iwlwifi/iwl-drv.c: +22 -27
drivers/net/wireless/intel/iwlwifi/iwl-eeprom-parse.c: +3 -1
drivers/net/wireless/intel/iwlwifi/iwl-eeprom-parse.h: +1 -0
drivers/net/wireless/intel/iwlwifi/iwl-fh.h: +97 -2
drivers/net/wireless/intel/iwlwifi/iwl-fw-error-dump.h: +4 -0
drivers/net/wireless/intel/iwlwifi/iwl-fw-file.h: +11 -2
drivers/net/wireless/intel/iwlwifi/iwl-fw.h: +13 -4
drivers/net/wireless/intel/iwlwifi/iwl-io.c: +140 -2
drivers/net/wireless/intel/iwlwifi/iwl-io.h: +3 -0
drivers/net/wireless/intel/iwlwifi/iwl-modparams.h: +5 -5
drivers/net/wireless/intel/iwlwifi/iwl-nvm-parse.c: +7 -0
drivers/net/wireless/intel/iwlwifi/iwl-prph.h: +1 -0
drivers/net/wireless/intel/iwlwifi/iwl-trans.h: +27 -6
drivers/net/wireless/intel/iwlwifi/mvm/coex.c: +3 -3
drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c: +2 -0
drivers/net/wireless/intel/iwlwifi/mvm/fw-api-coex.h: +0 -222
drivers/net/wireless/intel/iwlwifi/mvm/fw-api-mac.h: +3 -0
drivers/net/wireless/intel/iwlwifi/mvm/fw-api-power.h: +18 -4
drivers/net/wireless/intel/iwlwifi/mvm/fw-api-rx.h: +34 -22
drivers/net/wireless/intel/iwlwifi/mvm/fw-api-sta.h: +5 -3
drivers/net/wireless/intel/iwlwifi/mvm/fw-api-stats.h: +23 -1
drivers/net/wireless/intel/iwlwifi/mvm/fw-api-tx.h: +47 -11
drivers/net/wireless/intel/iwlwifi/mvm/fw-api.h: +22 -4
drivers/net/wireless/intel/iwlwifi/mvm/fw-dbg.c: +2 -1
drivers/net/wireless/intel/iwlwifi/mvm/fw.c: +213 -4
drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c: +95 -13
drivers/net/wireless/intel/iwlwifi/mvm/mac80211.c: +56 -16
drivers/net/wireless/intel/iwlwifi/mvm/mvm.h: +35 -12
drivers/net/wireless/intel/iwlwifi/mvm/nvm.c: +22 -23
drivers/net/wireless/intel/iwlwifi/mvm/ops.c: +46 -15
drivers/net/wireless/intel/iwlwifi/mvm/power.c: +1 -1
drivers/net/wireless/intel/iwlwifi/mvm/rs.c: +66 -28
drivers/net/wireless/intel/iwlwifi/mvm/rs.h: +2 -1
drivers/net/wireless/intel/iwlwifi/mvm/rx.c: +37 -7
drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c: +70 -33
drivers/net/wireless/intel/iwlwifi/mvm/scan.c: +39 -16
drivers/net/wireless/intel/iwlwifi/mvm/sf.c: +1 -1
drivers/net/wireless/intel/iwlwifi/mvm/sta.c: +503 -36
drivers/net/wireless/intel/iwlwifi/mvm/sta.h: +8 -0
drivers/net/wireless/intel/iwlwifi/mvm/tx.c: +74 -32
drivers/net/wireless/intel/iwlwifi/mvm/utils.c: +181 -5
drivers/net/wireless/intel/iwlwifi/pcie/drv.c: +17 -9
drivers/net/wireless/intel/iwlwifi/pcie/internal.h: +47 -23
drivers/net/wireless/intel/iwlwifi/pcie/rx.c: +88 -57
drivers/net/wireless/intel/iwlwifi/pcie/trans.c: +108 -59
drivers/net/wireless/intel/iwlwifi/pcie/tx.c: +90 -98
drivers/net/wireless/intersil/orinoco/scan.c: +10 -2
drivers/net/wireless/mac80211_hwsim.c: +184 -41
drivers/net/wireless/marvell/libertas/cfg.c: +10 -5
drivers/net/wireless/marvell/libertas/cmdresp.c: +4 -0
drivers/net/wireless/marvell/libertas/if_sdio.c: +1 -2
drivers/net/wireless/marvell/libertas/if_spi.c: +1 -3
drivers/net/wireless/marvell/libertas_tf/main.c: +1 -8
drivers/net/wireless/marvell/mwifiex/11n_aggr.c: +1 -1
drivers/net/wireless/marvell/mwifiex/cfg80211.c: +84 -21
drivers/net/wireless/marvell/mwifiex/cmdevt.c: +2 -38
drivers/net/wireless/marvell/mwifiex/fw.h: +5 -2
drivers/net/wireless/marvell/mwifiex/init.c: +4 -1
drivers/net/wireless/marvell/mwifiex/ioctl.h: +7 -5
drivers/net/wireless/marvell/mwifiex/join.c: +13 -1
drivers/net/wireless/marvell/mwifiex/main.c: +9 -3
drivers/net/wireless/marvell/mwifiex/main.h: +5 -1
drivers/net/wireless/marvell/mwifiex/pcie.c: +70 -16
drivers/net/wireless/marvell/mwifiex/pcie.h: +3 -3
drivers/net/wireless/marvell/mwifiex/scan.c: +45 -3
drivers/net/wireless/marvell/mwifiex/sdio.c: +44 -20
drivers/net/wireless/marvell/mwifiex/sta_cmd.c: +46 -32
drivers/net/wireless/marvell/mwifiex/sta_cmdresp.c: +28 -24
drivers/net/wireless/marvell/mwifiex/sta_event.c: +9 -9
drivers/net/wireless/marvell/mwifiex/sta_ioctl.c: +15 -10
drivers/net/wireless/marvell/mwifiex/uap_cmd.c: +28 -2
drivers/net/wireless/marvell/mwifiex/uap_txrx.c: +1 -1
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu.h: +10 -8
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu_8192c.c: +4 -7
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu_8192e.c: +2 -9
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu_8723a.c: +2 -0
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu_8723b.c: +2 -7
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu_core.c: +217 -98
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu_regs.h: +11 -3
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtcoutsrc.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtcoutsrc.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/core.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/debug.c: +25 -0
drivers/net/wireless/realtek/rtlwifi/debug.h: +9 -8
drivers/net/wireless/realtek/rtlwifi/efuse.c: +78 -0
drivers/net/wireless/realtek/rtlwifi/efuse.h: +2 -0
drivers/net/wireless/realtek/rtlwifi/ps.c: +9 -16
drivers/net/wireless/realtek/rtlwifi/ps.h: +0 -3
drivers/net/wireless/realtek/rtlwifi/rc.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/Makefile: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/dm.c: +4 -2
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/hw.c: +13 -61
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/phy.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/trx.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/trx.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8192c/dm_common.h: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192c/phy_common.c: +5 -5
drivers/net/wireless/realtek/rtlwifi/rtl8192c/phy_common.h: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ce/hw.c: +12 -64
drivers/net/wireless/realtek/rtlwifi/rtl8192ce/phy.h: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ce/trx.c: +5 -5
drivers/net/wireless/realtek/rtlwifi/rtl8192ce/trx.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/hw.c: +16 -41
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/mac.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/mac.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192de/hw.c: +16 -57
drivers/net/wireless/realtek/rtlwifi/rtl8192de/phy.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192de/phy.h: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192de/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192de/trx.c: +5 -5
drivers/net/wireless/realtek/rtlwifi/rtl8192de/trx.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/dm.c: +4 -2
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/hw.c: +12 -59
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/phy.c: +10 -19
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/phy.h: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/trx.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/trx.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8192se/hw.c: +15 -7
drivers/net/wireless/realtek/rtlwifi/rtl8192se/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192se/trx.c: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/dm.c: +4 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/hal_btc.c: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/hw.c: +128 -174
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/phy.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/trx.c: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/trx.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723be/dm.c: +4 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723be/hw.c: +13 -55
drivers/net/wireless/realtek/rtlwifi/rtl8723be/phy.c: +6 -6
drivers/net/wireless/realtek/rtlwifi/rtl8723be/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8723be/trx.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/rtl8723be/trx.h: +4 -4
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/dm.c: +7 -5
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/hw.c: +12 -67
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/phy.c: +31 -31
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/phy.h: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/rf.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/trx.c: +8 -8
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/trx.h: +5 -5
drivers/net/wireless/realtek/rtlwifi/stats.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/stats.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/wifi.h: +34 -34
drivers/net/wireless/rndis_wlan.c: +8 -2
drivers/net/wireless/rsi/rsi_91x_mgmt.c: +1 -1
drivers/net/wireless/st/cw1200/scan.c: +5 -1
drivers/net/wireless/ti/wl1251/event.c: +5 -1
drivers/net/wireless/ti/wl1251/main.c: +5 -1
drivers/net/wireless/ti/wl18xx/event.c: +17 -9
drivers/net/wireless/ti/wl18xx/event.h: +13 -6
drivers/net/wireless/ti/wl18xx/main.c: +16 -3
drivers/net/wireless/ti/wl18xx/tx.c: +18 -4
drivers/net/wireless/ti/wl18xx/wl18xx.h: +6 -2
drivers/net/wireless/ti/wlcore/acx.h: +1 -0
drivers/net/wireless/ti/wlcore/boot.c: +1 -1
drivers/net/wireless/ti/wlcore/cmd.c: +15 -5
drivers/net/wireless/ti/wlcore/main.c: +54 -6
drivers/net/wireless/ti/wlcore/rx.c: +7 -0
drivers/net/wireless/ti/wlcore/scan.c: +4 -1
drivers/net/wireless/ti/wlcore/sdio.c: +0 -1
drivers/net/wireless/ti/wlcore/spi.c: +105 -19
drivers/net/wireless/ti/wlcore/wlcore_i.h: +14 -0
drivers/net/wireless/wl3501_cs.c: +21 -10
drivers/nfc/Kconfig: +1 -0
drivers/nfc/fdp/fdp.c: +3 -3
drivers/nfc/nfcsim.c: +305 -338
drivers/nfc/nfcwilink.c: +2 -2
drivers/nfc/pn533/usb.c: +3 -6
drivers/nfc/port100.c: +76 -6
drivers/nfc/trf7970a.c: +4 -0
drivers/of/Kconfig: +1 -0
drivers/of/of_mdio.c: +36 -2
drivers/phy/Kconfig: +8 -0
drivers/phy/Makefile: +1 -1
drivers/phy/phy-bcm-ns2-pcie.c: +115 -0
drivers/s390/net/qeth_core.h: +29 -16
drivers/s390/net/qeth_core_main.c: +154 -77
drivers/s390/net/qeth_core_sys.c: +4 -0
drivers/s390/net/qeth_l2.h: +7 -0
drivers/s390/net/qeth_l2_main.c: +58 -47
drivers/s390/net/qeth_l3.h: +27 -4
drivers/s390/net/qeth_l3_main.c: +483 -541
drivers/s390/net/qeth_l3_sys.c: +38 -40
drivers/scsi/cxgbi/Makefile: +2 -0
drivers/scsi/cxgbi/cxgb3i/Kbuild: +1 -0
drivers/scsi/cxgbi/cxgb3i/Kconfig: +1 -0
drivers/scsi/cxgbi/cxgb3i/cxgb3i.c: +77 -87
drivers/scsi/cxgbi/cxgb4i/Kbuild: +1 -0
drivers/scsi/cxgbi/cxgb4i/Kconfig: +1 -0
drivers/scsi/cxgbi/cxgb4i/cxgb4i.c: +103 -100
drivers/scsi/cxgbi/libcxgbi.c: +244 -490
drivers/scsi/cxgbi/libcxgbi.h: +25 -163
drivers/soc/fsl/qe/Kconfig: +5 -1
drivers/soc/fsl/qe/Makefile: +1 -0
drivers/soc/fsl/qe/qe.c: +6 -0
drivers/soc/fsl/qe/qe_tdm.c: +276 -0
drivers/soc/fsl/qe/ucc.c: +450 -0
drivers/soc/fsl/qe/ucc_fast.c: +36 -0
drivers/staging/rtl8723au/os_dep/ioctl_cfg80211.c: +8 -3
drivers/staging/wilc1000/wilc_wfi_cfgoperations.c: +10 -2
drivers/staging/wlan-ng/cfg80211.c: +4 -1
drivers/target/iscsi/cxgbit/Kconfig: +1 -1
drivers/target/iscsi/cxgbit/Makefile: +1 -0
drivers/target/iscsi/cxgbit/cxgbit.h: +1 -1
drivers/target/iscsi/cxgbit/cxgbit_main.c: +2 -0
drivers/vhost/net.c: +48 -32
fs/afs/rxrpc.c: +19 -15
include/linux/acpi.h: +13 -0
include/linux/ath9k_platform.h: +1 -0
include/linux/bcma/bcma_driver_chipcommon.h: +3 -0
include/linux/bpf.h: +37 -8
include/linux/cgroup.h: +1 -0
include/linux/etherdevice.h: +23 -0
include/linux/filter.h: +18 -0
include/linux/icmpv6.h: +4 -1
include/linux/ieee80211.h: +31 -1
include/linux/ieee802154.h: +29 -0
include/linux/ipv6.h: +7 -0
include/linux/mdio-mux.h: +3 -1
include/linux/micrel_phy.h: +1 -0
include/linux/mlx4/device.h: +2 -0
include/linux/mlx4/qp.h: +10 -8
include/linux/mlx5/device.h: +11 -0
include/linux/mlx5/driver.h: +42 -6
include/linux/mlx5/fs.h: +9 -3
include/linux/mlx5/mlx5_ifc.h: +276 -17
include/linux/mlx5/port.h: +14 -2
include/linux/mlx5/vport.h: +2 -0
include/linux/mroute.h: +1 -0
include/linux/mroute6.h: +1 -0
include/linux/net.h: +1 -0
include/linux/netdev_features.h: +5 -2
include/linux/netdevice.h: +111 -45
include/linux/netfilter/x_tables.h: +8 -0
include/linux/netfilter_bridge/ebtables.h: +0 -2
include/linux/of_mdio.h: +12 -6
include/linux/perf_event.h: +19 -1
include/linux/platform_data/b53.h: +33 -0
include/linux/ptr_ring.h: +448 -0
include/linux/qed/common_hsi.h: +338 -59
include/linux/qed/eth_common.h: +73 -51
include/linux/qed/iscsi_common.h: +1439 -0
include/linux/qed/qed_chain.h: +335 -221
include/linux/qed/qed_eth_if.h: +63 -0
include/linux/qed/qed_if.h: +181 -1
include/linux/qed/rdma_common.h: +44 -0
include/linux/qed/roce_common.h: +17 -0
include/linux/qed/storage_common.h: +91 -0
include/linux/qed/tcp_common.h: +226 -0
include/linux/rbtree.h: +2 -0
include/linux/rbtree_augmented.h: +13 -0
include/linux/rcupdate.h: +6 -2
include/linux/rtnetlink.h: +3 -2
include/linux/rxrpc.h: +12 -9
include/linux/skb_array.h: +178 -0
include/linux/skbuff.h: +18 -0
include/linux/stmmac.h: +3 -0
include/linux/ti_wilink_st.h: +1 -1
include/linux/virtio_net.h: +101 -0
include/net/6lowpan.h: +16 -0
include/net/act_api.h: +69 -50
include/net/addrconf.h: +10 -0
include/net/bluetooth/hci.h: +2 -1
include/net/bluetooth/hci_core.h: +7 -3
include/net/bluetooth/mgmt.h: +1 -0
include/net/cfg80211.h: +112 -21
include/net/cfg802154.h: +13 -0
include/net/codel_qdisc.h: +1 -0
include/net/devlink.h: +3 -0
include/net/dsa.h: +51 -9
include/net/fib_rules.h: +22 -2
include/net/gen_stats.h: +8 -4
include/net/geneve.h: +0 -9
include/net/gro_cells.h: +5 -6
include/net/gtp.h: +1 -1
include/net/ip.h: +1 -0
include/net/ip6_route.h: +20 -3
include/net/ip_tunnels.h: +2 -0
include/net/l3mdev.h: +57 -3
include/net/mac80211.h: +16 -7
include/net/mac802154.h: +113 -4
include/net/ncsi.h: +52 -0
include/net/ndisc.h: +234 -14
include/net/netevent.h: +1 -0
include/net/netfilter/nf_conntrack.h: +11 -2
include/net/netfilter/nf_conntrack_core.h: +2 -0
include/net/netfilter/nf_conntrack_extend.h: +0 -7
include/net/netfilter/nf_conntrack_helper.h: +15 -0
include/net/netfilter/nf_conntrack_labels.h: +4 -14
include/net/netfilter/nf_conntrack_zones.h: +23 -22
include/net/netfilter/nf_log.h: +7 -0
include/net/netfilter/nf_nat.h: +1 -2
include/net/netfilter/nf_tables.h: +47 -17
include/net/nfc/digital.h: +2 -2
include/net/nfc/llc.h: +0 -4
include/net/nl802154.h: +7 -2
include/net/pkt_cls.h: +11 -0
include/net/pkt_sched.h: +2 -2
include/net/rtnetlink.h: +3 -2
include/net/sch_generic.h: +58 -100
include/net/sctp/sctp.h: +4 -0
include/net/sctp/structs.h: +49 -2
include/net/sctp/ulpevent.h: +6 -6
include/net/switchdev.h: +8 -0
include/net/tc_act/tc_bpf.h: +2 -3
include/net/tc_act/tc_connmark.h: +2 -3
include/net/tc_act/tc_csum.h: +2 -3
include/net/tc_act/tc_defact.h: +4 -5
include/net/tc_act/tc_gact.h: +3 -4
include/net/tc_act/tc_ife.h: +2 -3
include/net/tc_act/tc_ipt.h: +2 -3
include/net/tc_act/tc_mirred.h: +11 -3
include/net/tc_act/tc_nat.h: +2 -5
include/net/tc_act/tc_pedit.h: +2 -3
include/net/tc_act/tc_skbedit.h: +7 -8
include/net/tc_act/tc_vlan.h: +2 -3
include/net/tcp.h: +4 -3
include/net/udp.h: +2 -2
include/net/udp_tunnel.h: +42 -0
include/net/vxlan.h: +2 -11
include/soc/fsl/qe/immap_qe.h: +1 -4
include/soc/fsl/qe/qe.h: +19 -0
include/soc/fsl/qe/qe_tdm.h: +94 -0
include/soc/fsl/qe/ucc.h: +4 -0
include/soc/fsl/qe/ucc_fast.h: +24 -3
include/trace/events/devlink.h: +68 -0
include/trace/events/napi.h: +9 -4
include/uapi/linux/batman_adv.h: +114 -0
include/uapi/linux/bpf.h: +85 -1
include/uapi/linux/can/bcm.h: +1 -0
include/uapi/linux/devlink.h: +8 -0
include/uapi/linux/elf-em.h: +1 -0
include/uapi/linux/ethtool.h: +2 -1
include/uapi/linux/fib_rules.h: +1 -0
include/uapi/linux/icmp.h: +1 -0
include/uapi/linux/if_bridge.h: +29 -0
include/uapi/linux/if_ether.h: +1 -0
include/uapi/linux/if_link.h: +14 -0
include/uapi/linux/if_macsec.h: +2 -0
include/uapi/linux/if_tunnel.h: +1 -0
include/uapi/linux/inet_diag.h: +1 -0
include/uapi/linux/netfilter/nf_tables.h: +6 -0
include/uapi/linux/netfilter/xt_NFLOG.h: +5 -1
include/uapi/linux/netlink_diag.h: +1 -0
include/uapi/linux/nl80211.h: +89 -1
include/uapi/linux/openvswitch.h: +8 -0
include/uapi/linux/pkt_cls.h: +16 -3
include/uapi/linux/sctp.h: +42 -0
include/uapi/linux/tc_act/tc_skbedit.h: +2 -0
include/uapi/linux/tcp.h: +10 -0
include/uapi/linux/tipc.h: +26 -4
include/uapi/linux/tipc_netlink.h: +37 -0
include/uapi/linux/virtio_net.h: +6 -3
include/uapi/linux/wireless.h: +22 -41
kernel/bpf/arraymap.c: +126 -37
kernel/bpf/core.c: +5 -4
kernel/bpf/helpers.c: +1 -1
kernel/bpf/inode.c: +1 -3
kernel/bpf/syscall.c: +44 -22
kernel/bpf/verifier.c: +25 -1
kernel/cgroup.c: +35 -0
kernel/events/core.c: +47 -21
kernel/events/internal.h: +19 -6
kernel/trace/bpf_trace.c: +115 -49
lib/rbtree.c: +24 -2
net/6lowpan/6lowpan_i.h: +4 -0
net/6lowpan/Makefile: +1 -1
net/6lowpan/core.c: +48 -2
net/6lowpan/debugfs.c: +39 -0
net/6lowpan/iphc.c: +138 -29
net/6lowpan/ndisc.c: +241 -0
net/8021q/vlan_dev.c: +2 -0
net/Kconfig: +1 -0
net/Makefile: +1 -0
net/atm/clip.c: +1 -1
net/batman-adv/Kconfig: +1 -1
net/batman-adv/Makefile: +5 -0
net/batman-adv/bat_algo.c: +140 -0
net/batman-adv/bat_algo.h: +9 -23
net/batman-adv/bat_iv_ogm.c: +88 -18
net/batman-adv/bat_iv_ogm.h: +25 -0
net/batman-adv/bat_v.c: +32 -26
net/batman-adv/bat_v.h: +52 -0
net/batman-adv/bat_v_elp.c: +4 -3
net/batman-adv/bat_v_elp.h: +2 -2
net/batman-adv/bat_v_ogm.c: +6 -3
net/batman-adv/bat_v_ogm.h: +2 -2
net/batman-adv/bitarray.c: +2 -0
net/batman-adv/bridge_loop_avoidance.c: +1 -0
net/batman-adv/debugfs.c: +25 -215
net/batman-adv/distributed-arp-table.c: +2 -0
net/batman-adv/fragmentation.c: +35 -18
net/batman-adv/fragmentation.h: +3 -3
net/batman-adv/gateway_client.c: +8 -8
net/batman-adv/gateway_common.c: +6 -4
net/batman-adv/hard-interface.c: +13 -12
net/batman-adv/icmp_socket.c: +1 -0
net/batman-adv/log.c: +231 -0
net/batman-adv/log.h: +111 -0
net/batman-adv/main.c: +12 -697
net/batman-adv/main.h: +14 -107
net/batman-adv/multicast.c: +471 -30
net/batman-adv/multicast.h: +3 -0
net/batman-adv/netlink.c: +424 -0
net/batman-adv/netlink.h: +32 -0
net/batman-adv/network-coding.c: +2 -0
net/batman-adv/originator.c: +54 -37
net/batman-adv/originator.h: +3 -3
net/batman-adv/packet.h: +59 -2
net/batman-adv/routing.c: +30 -15
net/batman-adv/send.c: +27 -75
net/batman-adv/send.h: +1 -3
net/batman-adv/soft-interface.c: +10 -3
net/batman-adv/sysfs.c: +15 -14
net/batman-adv/tp_meter.c: +1507 -0
net/batman-adv/tp_meter.h: +34 -0
net/batman-adv/translation-table.c: +5 -5
net/batman-adv/tvlv.c: +632 -0
net/batman-adv/tvlv.h: +61 -0
net/batman-adv/types.h: +199 -59
net/bluetooth/6lowpan.c: +1 -12
net/bluetooth/af_bluetooth.c: +5 -0
net/bluetooth/hci_conn.c: +1 -1
net/bluetooth/hci_core.c: +37 -15
net/bluetooth/hci_debugfs.c: +35 -0
net/bluetooth/hci_event.c: +16 -2
net/bluetooth/hci_sock.c: +6 -1
net/bluetooth/hci_sysfs.c: +0 -99
net/bluetooth/l2cap_core.c: +1 -1
net/bluetooth/l2cap_sock.c: +1 -1
net/bluetooth/mgmt.c: +9 -9
net/bluetooth/smp.c: +28 -39
net/bridge/br_device.c: +22 -12
net/bridge/br_forward.c: +79 -124
net/bridge/br_if.c: +7 -2
net/bridge/br_input.c: +38 -35
net/bridge/br_multicast.c: +229 -14
net/bridge/br_netlink.c: +120 -28
net/bridge/br_private.h: +53 -20
net/bridge/br_stp.c: +1 -1
net/bridge/br_stp_if.c: +1 -1
net/bridge/br_sysfs_br.c: +25 -0
net/bridge/netfilter/ebt_802_3.c: +3 -3
net/bridge/netfilter/ebt_arp.c: +20 -23
net/bridge/netfilter/ebt_ip.c: +14 -14
net/bridge/netfilter/ebt_ip6.c: +23 -18
net/bridge/netfilter/ebt_stp.c: +47 -50
net/bridge/netfilter/ebtables.c: +14 -18
net/bridge/netfilter/nft_reject_bridge.c: +4 -4
net/caif/chnl_net.c: +0 -1
net/can/Makefile: +2 -1
net/can/af_can.c: +12 -10
net/can/bcm.c: +179 -130
net/can/proc.c: +1 -2
net/core/dev.c: +152 -34
net/core/devlink.c: +91 -0
net/core/drop_monitor.c: +2 -1
net/core/ethtool.c: +1 -0
net/core/fib_rules.c: +77 -5
net/core/filter.c: +461 -43
net/core/gen_estimator.c: +16 -8
net/core/gen_stats.c: +24 -11
net/core/neighbour.c: +5 -8
net/core/net-sysfs.c: +14 -1
net/core/netpoll.c: +1 -1
net/core/pktgen.c: +40 -3
net/core/rtnetlink.c: +150 -6
net/core/skbuff.c: +43 -3
net/core/utils.c: +4 -4
net/dsa/Makefile: +1 -1
net/dsa/dsa.c: +169 -90
net/dsa/dsa2.c: +695 -0
net/dsa/dsa_priv.h: +8 -1
net/dsa/slave.c: +62 -59
net/dsa/tag_brcm.c: +2 -2
net/dsa/tag_dsa.c: +7 -3
net/dsa/tag_edsa.c: +7 -3
net/dsa/tag_trailer.c: +2 -2
net/ieee802154/6lowpan/core.c: +15 -15
net/ieee802154/6lowpan/rx.c: +1 -1
net/ieee802154/6lowpan/tx.c: +57 -56
net/ieee802154/core.c: +69 -1
net/ieee802154/core.h: +2 -0
net/ieee802154/nl802154.c: +49 -5
net/ipv4/Kconfig: +16 -0
net/ipv4/Makefile: +1 -0
net/ipv4/af_inet.c: +1 -4
net/ipv4/devinet.c: +6 -6
net/ipv4/fib_rules.c: +4 -2
net/ipv4/fou.c: +76 -5
net/ipv4/gre_demux.c: +1 -0
net/ipv4/inet_diag.c: +25 -0
net/ipv4/inet_fragment.c: +1 -1
net/ipv4/ip_forward.c: +2 -2
net/ipv4/ip_gre.c: +42 -9
net/ipv4/ip_output.c: +5 -3
net/ipv4/ip_tunnel.c: +1 -1
net/ipv4/ip_tunnel_core.c: +9 -0
net/ipv4/ipip.c: +121 -16
net/ipv4/ipmr.c: +10 -5
net/ipv4/netfilter/arp_tables.c: +45 -43
net/ipv4/netfilter/ip_tables.c: +33 -32
net/ipv4/netfilter/iptable_mangle.c: +0 -4
net/ipv4/netfilter/nf_conntrack_l3proto_ipv4_compat.c: +10 -4
net/ipv4/netfilter/nf_reject_ipv4.c: +3 -0
net/ipv4/tcp.c: +67 -0
net/ipv4/tcp_dctcp.c: +2 -2
net/ipv4/tcp_input.c: +27 -4
net/ipv4/tcp_ipv4.c: +14 -17
net/ipv4/tcp_nv.c: +476 -0
net/ipv4/tcp_output.c: +3 -1
net/ipv4/tcp_timer.c: +64 -17
net/ipv4/tunnel4.c: +65 -7
net/ipv4/udp.c: +1 -3
net/ipv4/udp_tunnel.c: +61 -0
net/ipv4/xfrm4_policy.c: +4 -4
net/ipv6/addrconf.c: +177 -99
net/ipv6/af_inet6.c: +6 -0
net/ipv6/fib6_rules.c: +4 -2
net/ipv6/icmp.c: +74 -4
net/ipv6/ila/ila.h: +2 -1
net/ipv6/ila/ila_common.c: +9 -7
net/ipv6/ila/ila_lwt.c: +2 -2
net/ipv6/ila/ila_xlat.c: +4 -4
net/ipv6/ip6_icmp.c: +1 -1
net/ipv6/ip6_input.c: +1 -0
net/ipv6/ip6_output.c: +11 -3
net/ipv6/ip6mr.c: +16 -10
net/ipv6/ndisc.c: +79 -44
net/ipv6/netfilter/ip6_tables.c: +32 -29
net/ipv6/netfilter/ip6table_mangle.c: +0 -4
net/ipv6/ping.c: +3 -1
net/ipv6/raw.c: +5 -3
net/ipv6/route.c: +9 -23
net/ipv6/sit.c: +82 -58
net/ipv6/tcp_ipv6.c: +16 -13
net/ipv6/udp.c: +6 -6
net/ipv6/xfrm6_policy.c: +2 -2
net/irda/af_irda.c: +5 -2
net/iucv/af_iucv.c: +122 -101
net/kcm/kcmproc.c: +1 -5
net/kcm/kcmsock.c: +1 -7
net/l2tp/l2tp_eth.c: +2 -2
net/l2tp/l2tp_ip6.c: +5 -3
net/l2tp/l2tp_ppp.c: +2 -5
net/l3mdev/l3mdev.c: +63 -1
net/mac80211/agg-rx.c: +18 -0
net/mac80211/agg-tx.c: +6 -2
net/mac80211/cfg.c: +1 -0
net/mac80211/debugfs.c: +173 -0
net/mac80211/debugfs_sta.c: +76 -2
net/mac80211/ieee80211_i.h: +26 -6
net/mac80211/iface.c: +18 -8
net/mac80211/main.c: +7 -3
net/mac80211/mesh.c: +1 -19
net/mac80211/mesh_plink.c: +12 -4
net/mac80211/rx.c: +7 -2
net/mac80211/scan.c: +37 -5
net/mac80211/spectmgmt.c: +17 -28
net/mac80211/sta_info.c: +7 -7
net/mac80211/tdls.c: +1 -0
net/mac80211/tx.c: +261 -41
net/mac80211/util.c: +8 -26
net/mpls/af_mpls.c: +7 -4
net/ncsi/Kconfig: +12 -0
net/ncsi/Makefile: +4 -0
net/ncsi/internal.h: +328 -0
net/ncsi/ncsi-aen.c: +193 -0
net/ncsi/ncsi-cmd.c: +367 -0
net/ncsi/ncsi-manage.c: +1205 -0
net/ncsi/ncsi-pkt.h: +415 -0
net/ncsi/ncsi-rsp.c: +1035 -0
net/netfilter/Kconfig: +4 -6
net/netfilter/ipvs/ip_vs_proto_tcp.c: +23 -2
net/netfilter/nf_conntrack_core.c: +98 -93
net/netfilter/nf_conntrack_extend.c: +2 -13
net/netfilter/nf_conntrack_ftp.c: +18 -40
net/netfilter/nf_conntrack_h323_asn1.c: +2 -1
net/netfilter/nf_conntrack_h323_main.c: +1 -14
net/netfilter/nf_conntrack_helper.c: +97 -30
net/netfilter/nf_conntrack_irc.c: +12 -24
net/netfilter/nf_conntrack_labels.c: +2 -26
net/netfilter/nf_conntrack_netlink.c: +5 -5
net/netfilter/nf_conntrack_sane.c: +20 -37
net/netfilter/nf_conntrack_sip.c: +28 -47
net/netfilter/nf_conntrack_standalone.c: +40 -10
net/netfilter/nf_conntrack_tftp.c: +15 -33
net/netfilter/nf_log.c: +27 -6
net/netfilter/nf_nat_core.c: +70 -79
net/netfilter/nf_tables_api.c: +230 -184
net/netfilter/nfnetlink_cttimeout.c: +14 -6
net/netfilter/nfnetlink_log.c: +6 -3
net/netfilter/nft_compat.c: +44 -31
net/netfilter/nft_ct.c: +25 -16
net/netfilter/nft_dynset.c: +5 -2
net/netfilter/nft_hash.c: +13 -11
net/netfilter/nft_log.c: +24 -27
net/netfilter/nft_lookup.c: +36 -7
net/netfilter/nft_meta.c: +1 -8
net/netfilter/nft_rbtree.c: +14 -12
net/netfilter/x_tables.c: +53 -0
net/netfilter/xt_NFLOG.c: +3 -0
net/netfilter/xt_RATEEST.c: +1 -1
net/netfilter/xt_TRACE.c: +19 -6
net/netfilter/xt_connlabel.c: +16 -13
net/netfilter/xt_owner.c: +35 -6
net/netfilter/xt_physdev.c: +4 -4
net/netfilter/xt_tcpudp.c: +2 -5
net/netlink/af_netlink.h: +0 -14
net/nfc/digital_core.c: +22 -6
net/nfc/digital_dep.c: +211 -105
net/nfc/digital_technology.c: +1 -10
net/nfc/hci/llc.c: +5 -12
net/nfc/llcp_commands.c: +11 -12
net/nfc/llcp_core.c: +4 -5
net/openvswitch/actions.c: +36 -4
net/openvswitch/conntrack.c: +47 -26
net/openvswitch/datapath.c: +29 -13
net/openvswitch/datapath.h: +4 -1
net/openvswitch/flow_netlink.c: +9 -0
net/openvswitch/vport-internal_dev.c: +1 -1
net/openvswitch/vport.c: +1 -0
net/packet/af_packet.c: +3 -39
net/rds/bind.c: +6 -0
net/rds/cong.c: +2 -1
net/rds/connection.c: +229 -100
net/rds/ib.c: +5 -4
net/rds/ib.h: +4 -4
net/rds/ib_cm.c: +6 -3
net/rds/ib_rdma.c: +2 -1
net/rds/ib_recv.c: +3 -1
net/rds/ib_send.c: +3 -1
net/rds/loop.c: +8 -7
net/rds/message.c: +1 -0
net/rds/rdma_transport.c: +1 -0
net/rds/rds.h: +125 -53
net/rds/rds_single_path.h: +30 -0
net/rds/recv.c: +102 -4
net/rds/send.c: +204 -152
net/rds/tcp.c: +94 -66
net/rds/tcp.h: +12 -11
net/rds/tcp_connect.c: +26 -17
net/rds/tcp_listen.c: +64 -12
net/rds/tcp_recv.c: +21 -17
net/rds/tcp_send.c: +24 -15
net/rds/threads.c: +63 -42
net/rxrpc/Makefile: +20 -17
net/rxrpc/af_rxrpc.c: +95 -192
net/rxrpc/ar-connection.c: +0 -927
net/rxrpc/ar-error.c: +0 -230
net/rxrpc/ar-internal.h: +297 -218
net/rxrpc/ar-local.c: +0 -415
net/rxrpc/ar-peer.c: +0 -303
net/rxrpc/ar-transport.c: +0 -284
net/rxrpc/{ar-accept.c => call_accept.c}: +18 -58
net/rxrpc/{ar-ack.c => call_event.c}: +30 -21
net/rxrpc/{ar-call.c => call_object.c}: +174 -384
net/rxrpc/conn_client.c: +372 -0
net/rxrpc/{ar-connevent.c => conn_event.c}: +33 -40
net/rxrpc/conn_object.c: +340 -0
net/rxrpc/conn_service.c: +230 -0
net/rxrpc/{ar-input.c => input.c}: +36 -74
net/rxrpc/insecure.c: +4 -3
net/rxrpc/{ar-key.c => key.c}: +4 -2
net/rxrpc/local_event.c: +116 -0
net/rxrpc/local_object.c: +390 -0
net/rxrpc/misc.c: +6 -0
net/rxrpc/{ar-output.c => output.c}: +110 -123
net/rxrpc/peer_event.c: +281 -0
net/rxrpc/peer_object.c: +315 -0
net/rxrpc/{ar-proc.c => proc.c}: +31 -31
net/rxrpc/{ar-recvmsg.c => recvmsg.c}: +6 -4
net/rxrpc/rxkad.c: +112 -151
net/rxrpc/{ar-security.c => security.c}: +4 -4
net/rxrpc/{ar-skbuff.c => skbuff.c}: +2 -0
net/rxrpc/sysctl.c: +7 -5
net/rxrpc/utils.c: +46 -0
net/sched/Kconfig: +10 -0
net/sched/Makefile: +1 -0
net/sched/act_api.c: +115 -159
net/sched/act_bpf.c: +18 -23
net/sched/act_connmark.c: +15 -15
net/sched/act_csum.c: +15 -14
net/sched/act_gact.c: +16 -15
net/sched/act_ife.c: +26 -25
net/sched/act_ipt.c: +37 -30
net/sched/act_mirred.c: +18 -17
net/sched/act_nat.c: +15 -14
net/sched/act_pedit.c: +19 -17
net/sched/act_police.c: +28 -31
net/sched/act_simple.c: +20 -19
net/sched/act_skbedit.c: +38 -24
net/sched/act_vlan.c: +21 -20
net/sched/cls_api.c: +40 -8
net/sched/cls_bpf.c: +1 -6
net/sched/cls_flower.c: +43 -22
net/sched/cls_matchall.c: +318 -0
net/sched/sch_api.c: +12 -18
net/sched/sch_atm.c: +10 -23
net/sched/sch_blackhole.c: +3 -2
net/sched/sch_cbq.c: +17 -288
net/sched/sch_choke.c: +13 -28
net/sched/sch_codel.c: +6 -4
net/sched/sch_drr.c: +10 -28
net/sched/sch_dsmark.c: +5 -22
net/sched/sch_fifo.c: +9 -9
net/sched/sch_fq.c: +18 -11
net/sched/sch_fq_codel.c: +33 -31
net/sched/sch_generic.c: +73 -17
net/sched/sch_gred.c: +4 -38
net/sched/sch_hfsc.c: +40 -68
net/sched/sch_hhf.c: +7 -17
net/sched/sch_htb.c: +25 -43
net/sched/sch_mq.c: +1 -1
net/sched/sch_mqprio.c: +7 -4
net/sched/sch_multiq.c: +6 -26
net/sched/sch_netem.c: +23 -50
net/sched/sch_pie.c: +4 -3
net/sched/sch_plug.c: +11 -8
net/sched/sch_prio.c: +4 -23
net/sched/sch_qfq.c: +10 -53
net/sched/sch_red.c: +4 -24
net/sched/sch_sfb.c: +4 -3
net/sched/sch_sfq.c: +5 -6
net/sched/sch_tbf.c: +10 -24
net/sched/sch_teql.c: +2 -2
net/sctp/Makefile: +2 -1
net/sctp/associola.c: +1 -0
net/sctp/chunk.c: +22 -3
net/sctp/endpointola.c: +1 -0
net/sctp/input.c: +39 -29
net/sctp/inqueue.c: +66 -19
net/sctp/ipv6.c: +8 -7
net/sctp/offload.c: +119 -0
net/sctp/output.c: +264 -114
net/sctp/outqueue.c: +99 -0
net/sctp/protocol.c: +7 -2
net/sctp/sm_make_chunk.c: +25 -22
net/sctp/sm_sideeffect.c: +3 -1
net/sctp/sm_statefuns.c: +3 -6
net/sctp/socket.c: +271 -22
net/sctp/ulpevent.c: +14 -3
net/switchdev/switchdev.c: +3 -2
net/tipc/Makefile: +1 -1
net/tipc/addr.h: +2 -4
net/tipc/bearer.c: +30 -3
net/tipc/bearer.h: +2 -1
net/tipc/core.c: +1 -0
net/tipc/core.h: +13 -2
net/tipc/discover.c: +4 -1
net/tipc/link.c: +37 -14
net/tipc/monitor.c: +803 -0
net/tipc/monitor.h: +82 -0
net/tipc/netlink.c: +25 -2
net/tipc/netlink.h: +1 -0
net/tipc/node.c: +189 -24
net/tipc/node.h: +5 -0
net/tipc/server.c: +1 -2
net/tipc/udp_media.c: +12 -12
net/wireless/core.c: +32 -2
net/wireless/core.h: +14 -2
net/wireless/nl80211.c: +279 -126
net/wireless/nl80211.h: +1 -1
net/wireless/scan.c: +12 -6
net/wireless/sme.c: +3 -5
net/wireless/trace.h: +25 -8
samples/bpf/Makefile: +16 -0
samples/bpf/bpf_helpers.h: +4 -0
samples/bpf/bpf_load.c: +8 -0
samples/bpf/sockex2_user.c: +3 -0
samples/bpf/sockex3_user.c: +3 -0
samples/bpf/test_cgrp2_array_pin.c: +109 -0
samples/bpf/test_cgrp2_tc.sh: +184 -0
samples/bpf/test_cgrp2_tc_kern.c: +69 -0
samples/bpf/test_probe_write_user_kern.c: +52 -0
samples/bpf/test_probe_write_user_user.c: +78 -0
samples/bpf/xdp1_kern.c: +93 -0
samples/bpf/xdp1_user.c: +181 -0
samples/bpf/xdp2_kern.c: +114 -0
samples/pktgen/parameters.sh: +6 -1
samples/pktgen/pktgen.conf-1-1-flows: +0 -67
samples/pktgen/pktgen.conf-1-1-rdos: +0 -64
samples/pktgen/pktgen_bench_xmit_mode_netif_receive.sh: +4 -2
samples/pktgen/pktgen_bench_xmit_mode_queue_xmit.sh: +68 -0
samples/pktgen/pktgen_sample01_simple.sh: +4 -2
samples/pktgen/pktgen_sample02_multiqueue.sh: +4 -2
samples/pktgen/pktgen_sample03_burst_single_flow.sh: +4 -2
samples/pktgen/pktgen_sample04_many_flows.sh: +93 -0
samples/pktgen/pktgen_sample05_flow_per_thread.sh: +81 -0
tools/hv/bondvf.sh: +193 -0
tools/perf/scripts/python/netdev-times.py: +7 -4
tools/virtio/ringtest/Makefile: +4 -1
tools/virtio/ringtest/ptr_ring.c: +197 -0
