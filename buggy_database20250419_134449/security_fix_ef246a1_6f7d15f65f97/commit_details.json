{
  "hash": "ef246a1480cc484cd2aeda75737cb0848616ddf3",
  "hash_short": "ef246a14",
  "subject": "wifi: mac80211: support antenna control in injection",
  "body": "Support antenna control for injection by parsing the antenna\nradiotap field (which may be presented multiple times) and\ntelling the driver about the resulting antenna bitmap. Of\ncourse there's no guarantee the driver will actually honour\nthis, just like any other injection control.\n\nIf misconfigured, i.e. the injected HT/VHT MCS needs more\nchains than antennas are configured, the bitmap is reset to\nzero, indicating no selection.\n\nFor now this is only set up for two anntenas so we keep more\nfree bits, but that can be trivially extended if any driver\nimplements support for it that can deal with hardware with\nmore antennas.\n\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nSigned-off-by: Gregory Greenman <gregory.greenman@intel.com>\nLink: https://lore.kernel.org/r/20230920211508.f71001aa4da9.I00ccb762a806ea62bc3d728fa3a0d29f4f285eeb@changeid\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "full_message": "wifi: mac80211: support antenna control in injection\n\nSupport antenna control for injection by parsing the antenna\nradiotap field (which may be presented multiple times) and\ntelling the driver about the resulting antenna bitmap. Of\ncourse there's no guarantee the driver will actually honour\nthis, just like any other injection control.\n\nIf misconfigured, i.e. the injected HT/VHT MCS needs more\nchains than antennas are configured, the bitmap is reset to\nzero, indicating no selection.\n\nFor now this is only set up for two anntenas so we keep more\nfree bits, but that can be trivially extended if any driver\nimplements support for it that can deal with hardware with\nmore antennas.\n\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nSigned-off-by: Gregory Greenman <gregory.greenman@intel.com>\nLink: https://lore.kernel.org/r/20230920211508.f71001aa4da9.I00ccb762a806ea62bc3d728fa3a0d29f4f285eeb@changeid\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "author_name": "Johannes Berg",
  "author_email": "johannes.berg@intel.com",
  "author_date": "Wed Sep 20 21:25:26 2023 +0300",
  "author_date_iso": "2023-09-20T21:25:26+03:00",
  "committer_name": "Johannes Berg",
  "committer_email": "johannes.berg@intel.com",
  "committer_date": "Mon Sep 25 09:12:34 2023 +0200",
  "committer_date_iso": "2023-09-25T09:12:34+02:00",
  "files_changed": [
    "include/linux/ieee80211.h",
    "include/net/mac80211.h",
    "net/mac80211/tx.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "include/linux/ieee80211.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/net/mac80211.h",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "net/mac80211/tx.c",
      "insertions": 14,
      "deletions": 0
    }
  ],
  "total_insertions": 21,
  "total_deletions": 1,
  "total_changes": 22,
  "parents": [
    "702e80470a3359ce02b3f846f48f6db4ac7fd837"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/linux/ieee80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/net/mac80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/tx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}