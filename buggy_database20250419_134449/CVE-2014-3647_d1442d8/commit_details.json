{
  "hash": "d1442d85cc30ea75f7d399474ca738e0bc96f715",
  "hash_short": "d1442d85",
  "subject": "KVM: x86: Handle errors when RIP is set during far jumps",
  "body": "Far jmp/call/ret may fault while loading a new RIP.  Currently KVM does not\nhandle this case, and may result in failed vm-entry once the assignment is\ndone.  The tricky part of doing so is that loading the new CS affects the\nVMCS/VMCB state, so if we fail during loading the new RIP, we are left in\nunconsistent state.  Therefore, this patch saves on 64-bit the old CS\ndescriptor and restores it if loading RIP failed.\n\nThis fixes CVE-2014-3647.\n\nCc: stable@vger.kernel.org\nSigned-off-by: Nadav Amit <namit@cs.technion.ac.il>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "full_message": "KVM: x86: Handle errors when RIP is set during far jumps\n\nFar jmp/call/ret may fault while loading a new RIP.  Currently KVM does not\nhandle this case, and may result in failed vm-entry once the assignment is\ndone.  The tricky part of doing so is that loading the new CS affects the\nVMCS/VMCB state, so if we fail during loading the new RIP, we are left in\nunconsistent state.  Therefore, this patch saves on 64-bit the old CS\ndescriptor and restores it if loading RIP failed.\n\nThis fixes CVE-2014-3647.\n\nCc: stable@vger.kernel.org\nSigned-off-by: Nadav Amit <namit@cs.technion.ac.il>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "author_name": "Nadav Amit",
  "author_email": "namit@cs.technion.ac.il",
  "author_date": "Thu Sep 18 22:39:39 2014 +0300",
  "author_date_iso": "2014-09-18T22:39:39+03:00",
  "committer_name": "Paolo Bonzini",
  "committer_email": "pbonzini@redhat.com",
  "committer_date": "Fri Oct 24 13:21:16 2014 +0200",
  "committer_date_iso": "2014-10-24T13:21:16+02:00",
  "files_changed": [
    "arch/x86/kvm/emulate.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kvm/emulate.c",
      "insertions": 88,
      "deletions": 30
    }
  ],
  "total_insertions": 88,
  "total_deletions": 30,
  "total_changes": 118,
  "parents": [
    "234f3ce485d54017f15cf5e0699cff4100121601"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.18",
    "v3.18-rc2",
    "v3.18-rc3",
    "v3.18-rc4",
    "v3.18-rc5",
    "v3.18-rc6",
    "v3.18-rc7",
    "v3.19",
    "v3.19-rc1",
    "v3.19-rc2"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2014-3647"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "arch/x86/kvm/emulate.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}