Commit Hash: ef54bcfeea6c8b04e2a4f9396e16d88558aa2eee
Subject: KVM: x86: skip writeback on injection of nested exception


Security Keywords:
- injection

Full commit message:
KVM: x86: skip writeback on injection of nested exception

If a nested page fault happens during emulation, we will inject a vmexit,
not a page fault.  However because writeback happens after the injection,
we will write ctxt->eip from L2 into the L1 EIP.  We do not write back
if an instruction caused an interception vmexit---do the same for page
faults.

Suggested-by: Gleb Natapov <gleb@kernel.org>
Reviewed-by: Gleb Natapov <gleb@kernel.org>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Paolo Bonzini <pbonzini@redhat.com>
Author Date: Thu Sep 4 19:46:15 2014 +0200
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Fri Sep 5 12:01:06 2014 +0200

Files Changed: 2
Lines Added: 10
Lines Removed: 6
Total Changes: 16
