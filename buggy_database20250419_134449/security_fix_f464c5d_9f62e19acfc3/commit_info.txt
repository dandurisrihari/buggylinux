Commit Hash: f464c5dd4d918d4dd84eda7e68d4a0b6d41fe37f
Subject: drm/amdgpu: add check for RAS instance mask


Security Keywords:
- injection

Full commit message:
drm/amdgpu: add check for RAS instance mask

The mask is only needed to be set when RAS block instance number is
more than 1 and invalid bits should be also masked out.
We only check valid bits for GFX and SDMA block for now, and will
add check for other RAS blocks in the future.

v2: move the check under injection operation since the mask is only
    used by RAS error inject.
v3: add valid bits handling for SDMA.
v4: print message if the mask is adjusted.

Signed-off-by: Tao Zhou <tao.zhou1@amd.com>
Hawking Zhang <Hawking.Zhang@amd.com>
Reviewed-by: Stanley.Yang <Stanley.Yang@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>

Metadata:
Author: Tao Zhou <tao.zhou1@amd.com>
Author Date: Mon Mar 20 18:21:14 2023 +0800
Committer: Alex Deucher <alexander.deucher@amd.com>
Commit Date: Fri Jun 9 10:37:18 2023 -0400

Files Changed: 1
Lines Added: 38
Lines Removed: 0
Total Changes: 38
