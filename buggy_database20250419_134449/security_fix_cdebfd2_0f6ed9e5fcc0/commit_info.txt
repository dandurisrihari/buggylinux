Commit Hash: cdebfd27292ecdebe7d493830354e302368b3188
Subject: powerpc/config: Disable SLAB_DEBUG_ON in skiroot


Security Keywords:
- hardening

Full commit message:
powerpc/config: Disable SLAB_DEBUG_ON in skiroot

In 5.10 commit 5e84dd547bce ("powerpc/configs/skiroot: Enable some more
hardening options") set SLUB_DEBUG_ON.

When 5.14 came around, commit 792702911f58 ("slub: force on
no_hash_pointers when slub_debug is enabled") print all the
pointers when SLUB_DEBUG_ON is set. This was fine, but in 5.12 commit
5ead723a20e0 ("lib/vsprintf: no_hash_pointers prints all addresses as
unhashed") added the warning at boot.

Disable SLAB_DEBUG_ON as we don't want the nasty warning. We have
CONFIG_EXPERT so SLAB_DEBUG is enabled. We do lose the settings in
DEBUG_DEFAULT_FLAGS, but it's not clear that these should have been
always-on anyway.

Signed-off-by: Joel Stanley <joel@jms.id.au>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: https://msgid.link/20230705023056.16273-1-joel@jms.id.au

Metadata:
Author: Joel Stanley <joel@jms.id.au>
Author Date: Wed Jul 5 12:00:56 2023 +0930
Committer: Michael Ellerman <mpe@ellerman.id.au>
Commit Date: Fri Aug 25 08:39:30 2023 +1000

Files Changed: 1
Lines Added: 0
Lines Removed: 1
Total Changes: 1
