{
  "hash": "aa3b483ff1d71c50b33db154048dff9a8f08ac71",
  "hash_short": "aa3b483f",
  "subject": "virt: acrn: Introduce irqfd",
  "body": "irqfd is a mechanism to inject a specific interrupt to a User VM using a\ndecoupled eventfd mechanism.\n\nVhost is a kernel-level virtio server which uses eventfd for interrupt\ninjection. To support vhost on ACRN, irqfd is introduced in HSM.\n\nHSM provides ioctls to associate a virtual Message Signaled Interrupt\n(MSI) with an eventfd. The corresponding virtual MSI will be injected\ninto a User VM once the eventfd got signal.\n\nCc: Zhi Wang <zhi.a.wang@intel.com>\nCc: Zhenyu Wang <zhenyuw@linux.intel.com>\nCc: Yu Wang <yu1.wang@intel.com>\nCc: Reinette Chatre <reinette.chatre@intel.com>\nCc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nReviewed-by: Zhi Wang <zhi.a.wang@intel.com>\nReviewed-by: Reinette Chatre <reinette.chatre@intel.com>\nSigned-off-by: Shuo Liu <shuo.a.liu@intel.com>\nLink: https://lore.kernel.org/r/20210207031040.49576-17-shuo.a.liu@intel.com\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>",
  "full_message": "virt: acrn: Introduce irqfd\n\nirqfd is a mechanism to inject a specific interrupt to a User VM using a\ndecoupled eventfd mechanism.\n\nVhost is a kernel-level virtio server which uses eventfd for interrupt\ninjection. To support vhost on ACRN, irqfd is introduced in HSM.\n\nHSM provides ioctls to associate a virtual Message Signaled Interrupt\n(MSI) with an eventfd. The corresponding virtual MSI will be injected\ninto a User VM once the eventfd got signal.\n\nCc: Zhi Wang <zhi.a.wang@intel.com>\nCc: Zhenyu Wang <zhenyuw@linux.intel.com>\nCc: Yu Wang <yu1.wang@intel.com>\nCc: Reinette Chatre <reinette.chatre@intel.com>\nCc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nReviewed-by: Zhi Wang <zhi.a.wang@intel.com>\nReviewed-by: Reinette Chatre <reinette.chatre@intel.com>\nSigned-off-by: Shuo Liu <shuo.a.liu@intel.com>\nLink: https://lore.kernel.org/r/20210207031040.49576-17-shuo.a.liu@intel.com\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>",
  "author_name": "Shuo Liu",
  "author_email": "shuo.a.liu@intel.com",
  "author_date": "Sun Feb 7 11:10:38 2021 +0800",
  "author_date_iso": "2021-02-07T11:10:38+08:00",
  "committer_name": "Greg Kroah-Hartman",
  "committer_email": "gregkh@linuxfoundation.org",
  "committer_date": "Tue Feb 9 10:58:19 2021 +0100",
  "committer_date_iso": "2021-02-09T10:58:19+01:00",
  "files_changed": [
    "drivers/virt/acrn/Makefile",
    "drivers/virt/acrn/acrn_drv.h",
    "drivers/virt/acrn/hsm.c",
    "drivers/virt/acrn/irqfd.c",
    "drivers/virt/acrn/vm.c",
    "include/uapi/linux/acrn.h"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "drivers/virt/acrn/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/virt/acrn/acrn_drv.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "drivers/virt/acrn/hsm.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/virt/acrn/irqfd.c",
      "insertions": 235,
      "deletions": 0
    },
    {
      "file": "drivers/virt/acrn/vm.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/acrn.h",
      "insertions": 15,
      "deletions": 0
    }
  ],
  "total_insertions": 271,
  "total_deletions": 1,
  "total_changes": 272,
  "parents": [
    "d8ad515156b66e7e79a6e4c814f997ee54eb47c7"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/uapi/linux/acrn.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/acrn_drv.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/Makefile",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/vm.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/irqfd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/hsm.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}