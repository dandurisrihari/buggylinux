Commit Hash: c6ade20f5e50e188d20b711a618b20dd1d50457e
Subject: libata: reject passthrough WRITE SAME requests


Security Keywords:
- security fix

Full commit message:
libata: reject passthrough WRITE SAME requests

The WRITE SAME to TRIM translation rewrites the DATA OUT buffer.  While
the SCSI code accomodates for this by passing a read-writable buffer
userspace applications don't cater for this behavior.  In fact it can
be used to rewrite e.g. a readonly file through mmap and should be
considered as a security fix.

Signed-off-by: Christoph Hellwig <hch@lst.de>
Cc: stable@vger.kernel.org
Reviewed-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Tejun Heo <tj@kernel.org>

Metadata:
Author: Christoph Hellwig <hch@lst.de>
Author Date: Tue Apr 25 13:39:54 2017 +0200
Committer: Tejun Heo <tj@kernel.org>
Commit Date: Fri Apr 28 18:08:21 2017 -0400

Files Changed: 1
Lines Added: 8
Lines Removed: 0
Total Changes: 8
