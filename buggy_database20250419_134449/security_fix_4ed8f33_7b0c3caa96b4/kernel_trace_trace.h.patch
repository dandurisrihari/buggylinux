commit 4ed8f337dee32df71435689c19d22e4ee846e15a
Author: Masami Hiramatsu (Google) <mhiramat@kernel.org>
Date:   Tue Jul 11 23:15:57 2023 +0900

    Revert "tracing: Add "(fault)" name injection to kernel probes"
    
    This reverts commit 2e9906f84fc7c99388bb7123ade167250d50f1c0.
    
    It was turned out that commit 2e9906f84fc7 ("tracing: Add "(fault)"
    name injection to kernel probes") did not work correctly and probe
    events still show just '(fault)' (instead of '"(fault)"'). Also,
    current '(fault)' is more explicit that it faulted.
    
    This also moves FAULT_STRING macro to trace.h so that synthetic
    event can keep using it, and uses it in trace_probe.c too.
    
    Link: https://lore.kernel.org/all/168908495772.123124.1250788051922100079.stgit@devnote2/
    Link: https://lore.kernel.org/all/20230706230642.3793a593@rorschach.local.home/
    
    Cc: stable@vger.kernel.org
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Cc: Tom Zanussi <zanussi@kernel.org>
    Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
    Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>

diff --git a/kernel/trace/trace.h b/kernel/trace/trace.h
index 79bdefe9261b..eee1f3ca4749 100644
--- a/kernel/trace/trace.h
+++ b/kernel/trace/trace.h
@@ -113,6 +113,8 @@ enum trace_type {
 #define MEM_FAIL(condition, fmt, ...)					\
 	DO_ONCE_LITE_IF(condition, pr_err, "ERROR: " fmt, ##__VA_ARGS__)
 
+#define FAULT_STRING "(fault)"
+
 #define HIST_STACKTRACE_DEPTH	16
 #define HIST_STACKTRACE_SIZE	(HIST_STACKTRACE_DEPTH * sizeof(unsigned long))
 #define HIST_STACKTRACE_SKIP	5