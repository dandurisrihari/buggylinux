{
  "hash": "6d87c225f5d82d29243dc124f1ffcbb0e14ec358",
  "hash_short": "6d87c225",
  "subject": "Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/sage/ceph-client",
  "body": "Pull Ceph updates from Sage Weil:\n \"This has a mix of bug fixes and cleanups.\n\n  Alex's patch fixes a rare race in RBD.  Ilya's patches fix an ENOENT\n  check when a second rbd image is mapped and a couple memory leaks.\n  Zheng fixes several issues with fragmented directories and multiple\n  MDSs.  Josh fixes a spin/sleep issue, and Josh and Guangliang's\n  patches fix setting and unsetting RBD images read-only.\n\n  Naturally there are several other cleanups mixed in for good measure\"\n\n* 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/sage/ceph-client: (23 commits)\n  rbd: only set disk to read-only once\n  rbd: move calls that may sleep out of spin lock range\n  rbd: add ioctl for rbd\n  ceph: use truncate_pagecache() instead of truncate_inode_pages()\n  ceph: include time stamp in every MDS request\n  rbd: fix ida/idr memory leak\n  rbd: use reference counts for image requests\n  rbd: fix osd_request memory leak in __rbd_dev_header_watch_sync()\n  rbd: make sure we have latest osdmap on 'rbd map'\n  libceph: add ceph_monc_wait_osdmap()\n  libceph: mon_get_version request infrastructure\n  libceph: recognize poolop requests in debugfs\n  ceph: refactor readpage_nounlock() to make the logic clearer\n  mds: check cap ID when handling cap export message\n  ceph: remember subtree root dirfrag's auth MDS\n  ceph: introduce ceph_fill_fragtree()\n  ceph: handle cap import atomically\n  ceph: pre-allocate ceph_cap struct for ceph_add_cap()\n  ceph: update inode fields according to issued caps\n  rbd: replace IS_ERR and PTR_ERR with PTR_ERR_OR_ZERO\n  ...",
  "full_message": "Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/sage/ceph-client\n\nPull Ceph updates from Sage Weil:\n \"This has a mix of bug fixes and cleanups.\n\n  Alex's patch fixes a rare race in RBD.  Ilya's patches fix an ENOENT\n  check when a second rbd image is mapped and a couple memory leaks.\n  Zheng fixes several issues with fragmented directories and multiple\n  MDSs.  Josh fixes a spin/sleep issue, and Josh and Guangliang's\n  patches fix setting and unsetting RBD images read-only.\n\n  Naturally there are several other cleanups mixed in for good measure\"\n\n* 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/sage/ceph-client: (23 commits)\n  rbd: only set disk to read-only once\n  rbd: move calls that may sleep out of spin lock range\n  rbd: add ioctl for rbd\n  ceph: use truncate_pagecache() instead of truncate_inode_pages()\n  ceph: include time stamp in every MDS request\n  rbd: fix ida/idr memory leak\n  rbd: use reference counts for image requests\n  rbd: fix osd_request memory leak in __rbd_dev_header_watch_sync()\n  rbd: make sure we have latest osdmap on 'rbd map'\n  libceph: add ceph_monc_wait_osdmap()\n  libceph: mon_get_version request infrastructure\n  libceph: recognize poolop requests in debugfs\n  ceph: refactor readpage_nounlock() to make the logic clearer\n  mds: check cap ID when handling cap export message\n  ceph: remember subtree root dirfrag's auth MDS\n  ceph: introduce ceph_fill_fragtree()\n  ceph: handle cap import atomically\n  ceph: pre-allocate ceph_cap struct for ceph_add_cap()\n  ceph: update inode fields according to issued caps\n  rbd: replace IS_ERR and PTR_ERR with PTR_ERR_OR_ZERO\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Jun 12 23:06:23 2014 -0700",
  "author_date_iso": "2014-06-12T23:06:23-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Jun 12 23:06:23 2014 -0700",
  "committer_date_iso": "2014-06-12T23:06:23-07:00",
  "files_changed": [
    "fs/ceph/addr.c",
    "fs/ceph/inode.c",
    "fs/ceph/mds_client.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "drivers/block/rbd.c",
      "insertions": 197,
      "deletions": 45
    },
    {
      "file": "fs/ceph/acl.c",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "fs/ceph/addr.c",
      "insertions": 7,
      "deletions": 10
    },
    {
      "file": "fs/ceph/caps.c",
      "insertions": 132,
      "deletions": 114
    },
    {
      "file": "fs/ceph/export.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/ceph/inode.c",
      "insertions": 154,
      "deletions": 93
    },
    {
      "file": "fs/ceph/mds_client.c",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "fs/ceph/mds_client.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/ceph/super.h",
      "insertions": 7,
      "deletions": 6
    },
    {
      "file": "include/linux/ceph/ceph_fs.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/linux/ceph/mon_client.h",
      "insertions": 8,
      "deletions": 3
    },
    {
      "file": "net/ceph/ceph_common.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/ceph/debugfs.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "net/ceph/mon_client.c",
      "insertions": 145,
      "deletions": 5
    }
  ],
  "total_insertions": 670,
  "total_deletions": 286,
  "total_changes": 956,
  "parents": [
    "338c09a94b14c449dd53227e9bea44816668c6a5",
    "22001f619f29ddf66582d834223dcff4c0b74595"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.16",
    "v3.16-rc1",
    "v3.16-rc2",
    "v3.16-rc3",
    "v3.16-rc4",
    "v3.16-rc5",
    "v3.16-rc6",
    "v3.16-rc7",
    "v3.17",
    "v3.17-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/ceph/addr.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ceph/inode.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ceph/mds_client.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}