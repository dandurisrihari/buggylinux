Commit Hash: 948961964b2404ea474a3643fc0e1b77c592bb7c
Subject: Merge tag 'maxrefcount-fixes-6.2_2022-12-01' of git://git.kernel.org/pub/scm/linux/kernel/git/djwong/xfs-linux into xfs-6.2-mergeD


Security Keywords:
- exploit

Full commit message:
Merge tag 'maxrefcount-fixes-6.2_2022-12-01' of git://git.kernel.org/pub/scm/linux/kernel/git/djwong/xfs-linux into xfs-6.2-mergeD

xfs: fix broken MAXREFCOUNT handling

This series fixes a bug in the refcount code where we don't merge
records correctly if the refcount is hovering around MAXREFCOUNT.  This
fixes regressions in xfs/179 when fsdax is enabled.  xfs/179 itself will
be modified to exploit the bug through the pagecache path.

Signed-off-by: Darrick J. Wong <djwong@kernel.org>

* tag 'maxrefcount-fixes-6.2_2022-12-01' of git://git.kernel.org/pub/scm/linux/kernel/git/djwong/xfs-linux:
  xfs: estimate post-merge refcounts correctly
  xfs: hoist refcount record merge predicates

Metadata:
Author: Darrick J. Wong <djwong@kernel.org>
Author Date: Thu Dec 1 09:35:52 2022 -0800
Committer: Darrick J. Wong <djwong@kernel.org>
Commit Date: Thu Dec 1 09:35:52 2022 -0800

Files Changed: 0
Lines Added: 130
Lines Removed: 16
Total Changes: 146
