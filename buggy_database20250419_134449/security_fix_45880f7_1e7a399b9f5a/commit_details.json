{
  "hash": "45880f7b7b19e043ce0aaa4cb7d05369425c82fa",
  "hash_short": "45880f7b",
  "subject": "error-injection: Consolidate override function definition",
  "body": "The function override_function_with_return() is defined separately for\neach architecture and every architecture's definition is almost same\nwith each other.  E.g. x86 and powerpc both define function in its own\nasm/error-injection.h header and override_function_with_return() has\nthe same definition, the only difference is that x86 defines an extra\nfunction just_return_func() but it is specific for x86 and is only used\nby x86's override_function_with_return(), so don't need to export this\nfunction.\n\nThis patch consolidates override_function_with_return() definition into\nasm-generic/error-injection.h header, thus all architectures can use the\ncommon definition.  As result, the architecture specific headers are\nremoved; the include/linux/error-injection.h header also changes to\ninclude asm-generic/error-injection.h header rather than architecture\nheader, furthermore, it includes linux/compiler.h for successful\ncompilation.\n\nReviewed-by: Masami Hiramatsu <mhiramat@kernel.org>\nSigned-off-by: Leo Yan <leo.yan@linaro.org>\nSigned-off-by: Will Deacon <will@kernel.org>",
  "full_message": "error-injection: Consolidate override function definition\n\nThe function override_function_with_return() is defined separately for\neach architecture and every architecture's definition is almost same\nwith each other.  E.g. x86 and powerpc both define function in its own\nasm/error-injection.h header and override_function_with_return() has\nthe same definition, the only difference is that x86 defines an extra\nfunction just_return_func() but it is specific for x86 and is only used\nby x86's override_function_with_return(), so don't need to export this\nfunction.\n\nThis patch consolidates override_function_with_return() definition into\nasm-generic/error-injection.h header, thus all architectures can use the\ncommon definition.  As result, the architecture specific headers are\nremoved; the include/linux/error-injection.h header also changes to\ninclude asm-generic/error-injection.h header rather than architecture\nheader, furthermore, it includes linux/compiler.h for successful\ncompilation.\n\nReviewed-by: Masami Hiramatsu <mhiramat@kernel.org>\nSigned-off-by: Leo Yan <leo.yan@linaro.org>\nSigned-off-by: Will Deacon <will@kernel.org>",
  "author_name": "Leo Yan",
  "author_email": "leo.yan@linaro.org",
  "author_date": "Tue Aug 6 18:00:13 2019 +0800",
  "author_date_iso": "2019-08-06T18:00:13+08:00",
  "committer_name": "Will Deacon",
  "committer_email": "will@kernel.org",
  "committer_date": "Wed Aug 7 13:52:43 2019 +0100",
  "committer_date_iso": "2019-08-07T13:52:43+01:00",
  "files_changed": [
    "arch/powerpc/include/asm/error-injection.h",
    "arch/x86/include/asm/error-injection.h",
    "include/asm-generic/error-injection.h",
    "include/linux/error-injection.h"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "arch/powerpc/include/asm/error-injection.h",
      "insertions": 0,
      "deletions": 13
    },
    {
      "file": "arch/x86/include/asm/error-injection.h",
      "insertions": 0,
      "deletions": 13
    },
    {
      "file": "include/asm-generic/error-injection.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "include/linux/error-injection.h",
      "insertions": 3,
      "deletions": 3
    }
  ],
  "total_insertions": 9,
  "total_deletions": 29,
  "total_changes": 38,
  "parents": [
    "e21a712a9685488f5ce80495b37b9fdbe96c230d"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.4",
    "v5.4-rc1",
    "v5.4-rc2",
    "v5.4-rc3",
    "v5.4-rc4",
    "v5.4-rc5",
    "v5.4-rc6",
    "v5.4-rc7",
    "v5.4-rc8",
    "v5.5"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/powerpc/include/asm/error-injection.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/error-injection.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/asm-generic/error-injection.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/error-injection.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}