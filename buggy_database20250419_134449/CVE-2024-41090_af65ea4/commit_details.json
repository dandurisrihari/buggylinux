{
  "hash": "af65ea42bd1d28d818b74b9b3b4f8da7ada9f88b",
  "hash_short": "af65ea42",
  "subject": "Merge branch 'tap-tun-harden-by-dropping-short-frame'",
  "body": "Dongli Zhang says:\n\n====================\ntap/tun: harden by dropping short frame\n\nThis is to harden all of tap/tun to avoid any short frame smaller than the\nEthernet header (ETH_HLEN).\n\nWhile the xen-netback already rejects short frame smaller than ETH_HLEN ...\n\n 914 static void xenvif_tx_build_gops(struct xenvif_queue *queue,\n 915                                      int budget,\n 916                                      unsigned *copy_ops,\n 917                                      unsigned *map_ops)\n 918 {\n... ...\n1007                 if (unlikely(txreq.size < ETH_HLEN)) {\n1008                         netdev_dbg(queue->vif->dev,\n1009                                    \"Bad packet size: %d\\n\", txreq.size);\n1010                         xenvif_tx_err(queue, &txreq, extra_count, idx);\n1011                         break;\n1012                 }\n\n... the short frame may not be dropped by vhost-net/tap/tun.\n\nThis fixes CVE-2024-41090 and CVE-2024-41091.\n====================\n\nLink: https://patch.msgid.link/20240724170452.16837-1-dongli.zhang@oracle.com\nSigned-off-by: Jakub Kicinski <kuba@kernel.org>",
  "full_message": "Merge branch 'tap-tun-harden-by-dropping-short-frame'\n\nDongli Zhang says:\n\n====================\ntap/tun: harden by dropping short frame\n\nThis is to harden all of tap/tun to avoid any short frame smaller than the\nEthernet header (ETH_HLEN).\n\nWhile the xen-netback already rejects short frame smaller than ETH_HLEN ...\n\n 914 static void xenvif_tx_build_gops(struct xenvif_queue *queue,\n 915                                      int budget,\n 916                                      unsigned *copy_ops,\n 917                                      unsigned *map_ops)\n 918 {\n... ...\n1007                 if (unlikely(txreq.size < ETH_HLEN)) {\n1008                         netdev_dbg(queue->vif->dev,\n1009                                    \"Bad packet size: %d\\n\", txreq.size);\n1010                         xenvif_tx_err(queue, &txreq, extra_count, idx);\n1011                         break;\n1012                 }\n\n... the short frame may not be dropped by vhost-net/tap/tun.\n\nThis fixes CVE-2024-41090 and CVE-2024-41091.\n====================\n\nLink: https://patch.msgid.link/20240724170452.16837-1-dongli.zhang@oracle.com\nSigned-off-by: Jakub Kicinski <kuba@kernel.org>",
  "author_name": "Jakub Kicinski",
  "author_email": "kuba@kernel.org",
  "author_date": "Thu Jul 25 08:07:06 2024 -0700",
  "author_date_iso": "2024-07-25T08:07:06-07:00",
  "committer_name": "Jakub Kicinski",
  "committer_email": "kuba@kernel.org",
  "committer_date": "Thu Jul 25 08:07:07 2024 -0700",
  "committer_date_iso": "2024-07-25T08:07:07-07:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "drivers/net/tap.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/net/tun.c",
      "insertions": 3,
      "deletions": 0
    }
  ],
  "total_insertions": 8,
  "total_deletions": 0,
  "total_changes": 8,
  "parents": [
    "61ab751451f5ebd0b98e02276a44e23a10110402",
    "049584807f1d797fc3078b68035450a9769eb5c3"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [
      "CVE-2024-41090",
      "CVE-2024-41091"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": []
}