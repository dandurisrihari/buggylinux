{
  "hash": "85e97f0b984eb36cba0ecaf87c66a9f7445d73dc",
  "hash_short": "85e97f0b",
  "subject": "net: phy: mscc: improved serdes calibration applied to VSC8514",
  "body": "The current IB serdes calibration algorithm (performed by the onboard 8051)\nhas proven to be unstable for the VSC8514 QSGMII phy.\nA new algorithm has been developed based on\n'Frequency-offset Jittered-Injection' or 'FoJi' method which solves\nall known issues.  This patch disables the 8051 algorithm and\nreplaces it with the new FoJi algorithm.\nThe calibration is now performed in a new file (mscc_serdes.c),\nwhich can act as an placeholder for future serdes configurations.\n\nFixes: e4f9ba642f0b (\"net: phy: mscc: add support for VSC8514 PHY.\")\nSigned-off-by: Steen Hegelund <steen.hegelund@microchip.com>\nSigned-off-by: Bjarni Jonasson <bjarni.jonasson@microchip.com>\nTested-by: Vladimir Oltean <vladimir.oltean@nxp.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "net: phy: mscc: improved serdes calibration applied to VSC8514\n\nThe current IB serdes calibration algorithm (performed by the onboard 8051)\nhas proven to be unstable for the VSC8514 QSGMII phy.\nA new algorithm has been developed based on\n'Frequency-offset Jittered-Injection' or 'FoJi' method which solves\nall known issues.  This patch disables the 8051 algorithm and\nreplaces it with the new FoJi algorithm.\nThe calibration is now performed in a new file (mscc_serdes.c),\nwhich can act as an placeholder for future serdes configurations.\n\nFixes: e4f9ba642f0b (\"net: phy: mscc: add support for VSC8514 PHY.\")\nSigned-off-by: Steen Hegelund <steen.hegelund@microchip.com>\nSigned-off-by: Bjarni Jonasson <bjarni.jonasson@microchip.com>\nTested-by: Vladimir Oltean <vladimir.oltean@nxp.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "Bjarni Jonasson",
  "author_email": "bjarni.jonasson@microchip.com",
  "author_date": "Tue Feb 16 16:29:43 2021 +0100",
  "author_date_iso": "2021-02-16T16:29:43+01:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Tue Feb 16 14:06:18 2021 -0800",
  "committer_date_iso": "2021-02-16T14:06:18-08:00",
  "files_changed": [
    "drivers/net/phy/mscc/Makefile",
    "drivers/net/phy/mscc/mscc.h",
    "drivers/net/phy/mscc/mscc_main.c",
    "drivers/net/phy/mscc/mscc_serdes.c",
    "drivers/net/phy/mscc/mscc_serdes.h"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "drivers/net/phy/mscc/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/phy/mscc/mscc.h",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "drivers/net/phy/mscc/mscc_main.c",
      "insertions": 142,
      "deletions": 166
    },
    {
      "file": "drivers/net/phy/mscc/mscc_serdes.c",
      "insertions": 650,
      "deletions": 0
    },
    {
      "file": "drivers/net/phy/mscc/mscc_serdes.h",
      "insertions": 31,
      "deletions": 0
    }
  ],
  "total_insertions": 840,
  "total_deletions": 166,
  "total_changes": 1006,
  "parents": [
    "3cc2c646be0b22037f31c958e96c0544a073d108"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/phy/mscc/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/phy/mscc/mscc.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/phy/mscc/mscc_main.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/phy/mscc/mscc_serdes.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/phy/mscc/mscc_serdes.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}