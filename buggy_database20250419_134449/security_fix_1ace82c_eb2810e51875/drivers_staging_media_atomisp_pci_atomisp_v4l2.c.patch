commit 1ace82c7f9afee232c7e39f533fb40d636941090
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sat Aug 27 16:28:50 2022 +0200

    media: atomisp: Remove atomisp_file_fops and atomisp_file_ioctl_ops
    
    After the file-injection support removal, atomisp_video_pipe->type never
    is V4L2_BUF_TYPE_VIDEO_OUTPUT anymore, so the V4L2_BUF_TYPE_VIDEO_OUTPUT
    support path in atomisp_video_init() is never hit and this path is
    the only user of atomisp_file_fops and atomisp_file_ioctl_ops.
    
    Remove atomisp_file_fops and atomisp_file_ioctl_ops and all of
    the functions which are only referenced by these ops structs.
    
    Reviewed-by: Andy Shevchenko <andriy.shevchenko@intel.com>
    Signed-off-by: Hans de Goede <hdegoede@redhat.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@kernel.org>

diff --git a/drivers/staging/media/atomisp/pci/atomisp_v4l2.c b/drivers/staging/media/atomisp/pci/atomisp_v4l2.c
index 5488a02200ed..672b3b68c613 100644
--- a/drivers/staging/media/atomisp/pci/atomisp_v4l2.c
+++ b/drivers/staging/media/atomisp/pci/atomisp_v4l2.c
@@ -442,12 +442,6 @@ int atomisp_video_init(struct atomisp_video_pipe *video, const char *name,
 		video->vdev.fops = &atomisp_fops;
 		video->vdev.ioctl_ops = &atomisp_ioctl_ops;
 		break;
-	case V4L2_BUF_TYPE_VIDEO_OUTPUT:
-		direction = "input";
-		video->pad.flags = MEDIA_PAD_FL_SOURCE;
-		video->vdev.fops = &atomisp_file_fops;
-		video->vdev.ioctl_ops = &atomisp_file_ioctl_ops;
-		break;
 	default:
 		return -EINVAL;
 	}