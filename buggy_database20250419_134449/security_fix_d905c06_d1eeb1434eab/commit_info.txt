Commit Hash: d905c0693514e6f713b207377b67c9972c5d7d49
Subject: KVM: rearrange injection cancelling code


Security Keywords:
- injection

Full commit message:
KVM: rearrange injection cancelling code

Each time we need to cancel injection we invoke same code
(cancel_injection callback).  Move it towards the end of function using
the familiar goto on error pattern.

Will make it easier to do more cleanups for PV EOI.

Signed-off-by: Michael S. Tsirkin <mst@redhat.com>
Signed-off-by: Avi Kivity <avi@redhat.com>

Metadata:
Author: Michael S. Tsirkin <mst@redhat.com>
Author Date: Sun Jun 24 19:25:00 2012 +0300
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Mon Jun 25 12:40:50 2012 +0300

Files Changed: 1
Lines Added: 6
Lines Removed: 4
Total Changes: 10
