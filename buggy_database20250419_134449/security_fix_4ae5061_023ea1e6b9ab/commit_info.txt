Commit Hash: 4ae5061a19b550dfe25397843427ed2ebab16b16
Subject: ARM: 8937/1: spectre-v2: remove Brahma-B53 from hardening


Security Keywords:
- hardening

Full commit message:
ARM: 8937/1: spectre-v2: remove Brahma-B53 from hardening

When the default processor handling was added to the function
cpu_v7_spectre_init() it only excluded other ARM implemented processor
cores. The Broadcom Brahma B53 core is not implemented by ARM so it
ended up falling through into the set of processors that attempt to use
the ARM_SMCCC_ARCH_WORKAROUND_1 service to harden the branch predictor.

Since this workaround is not necessary for the Brahma-B53 this commit
explicitly checks for it and prevents it from applying a branch
predictor hardening workaround.

Fixes: 10115105cb3a ("ARM: spectre-v2: add firmware based hardening")
Signed-off-by: Doug Berger <opendmb@gmail.com>
Signed-off-by: Florian Fainelli <f.fainelli@gmail.com>
Signed-off-by: Russell King <rmk+kernel@armlinux.org.uk>

Metadata:
Author: Doug Berger <opendmb@gmail.com>
Author Date: Mon Nov 11 04:32:04 2019 +0100
Committer: Russell King <rmk+kernel@armlinux.org.uk>
Commit Date: Sat Nov 16 10:51:23 2019 +0000

Files Changed: 1
Lines Added: 3
Lines Removed: 0
Total Changes: 3
