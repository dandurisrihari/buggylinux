{
  "hash": "fe38bd6862074c0a2b9be7f31f043aaa70b2af5f",
  "hash_short": "fe38bd68",
  "subject": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm",
  "body": "Pull KVM updates from Paolo Bonzini:\n \"s390:\n   - ioctl hardening\n   - selftests\n\n  ARM:\n   - ITS translation cache\n   - support for 512 vCPUs\n   - various cleanups and bugfixes\n\n  PPC:\n   - various minor fixes and preparation\n\n  x86:\n   - bugfixes all over the place (posted interrupts, SVM, emulation\n     corner cases, blocked INIT)\n   - some IPI optimizations\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (75 commits)\n  KVM: X86: Use IPI shorthands in kvm guest when support\n  KVM: x86: Fix INIT signal handling in various CPU states\n  KVM: VMX: Introduce exit reason for receiving INIT signal on guest-mode\n  KVM: VMX: Stop the preemption timer during vCPU reset\n  KVM: LAPIC: Micro optimize IPI latency\n  kvm: Nested KVM MMUs need PAE root too\n  KVM: x86: set ctxt->have_exception in x86_decode_insn()\n  KVM: x86: always stop emulation on page fault\n  KVM: nVMX: trace nested VM-Enter failures detected by H/W\n  KVM: nVMX: add tracepoint for failed nested VM-Enter\n  x86: KVM: svm: Fix a check in nested_svm_vmrun()\n  KVM: x86: Return to userspace with internal error on unexpected exit reason\n  KVM: x86: Add kvm_emulate_{rd,wr}msr() to consolidate VXM/SVM code\n  KVM: x86: Refactor up kvm_{g,s}et_msr() to simplify callers\n  doc: kvm: Fix return description of KVM_SET_MSRS\n  KVM: X86: Tune PLE Window tracepoint\n  KVM: VMX: Change ple_window type to unsigned int\n  KVM: X86: Remove tailing newline for tracepoints\n  KVM: X86: Trace vcpu_id for vmexit\n  KVM: x86: Manually calculate reserved bits when loading PDPTRS\n  ...",
  "full_message": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm\n\nPull KVM updates from Paolo Bonzini:\n \"s390:\n   - ioctl hardening\n   - selftests\n\n  ARM:\n   - ITS translation cache\n   - support for 512 vCPUs\n   - various cleanups and bugfixes\n\n  PPC:\n   - various minor fixes and preparation\n\n  x86:\n   - bugfixes all over the place (posted interrupts, SVM, emulation\n     corner cases, blocked INIT)\n   - some IPI optimizations\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (75 commits)\n  KVM: X86: Use IPI shorthands in kvm guest when support\n  KVM: x86: Fix INIT signal handling in various CPU states\n  KVM: VMX: Introduce exit reason for receiving INIT signal on guest-mode\n  KVM: VMX: Stop the preemption timer during vCPU reset\n  KVM: LAPIC: Micro optimize IPI latency\n  kvm: Nested KVM MMUs need PAE root too\n  KVM: x86: set ctxt->have_exception in x86_decode_insn()\n  KVM: x86: always stop emulation on page fault\n  KVM: nVMX: trace nested VM-Enter failures detected by H/W\n  KVM: nVMX: add tracepoint for failed nested VM-Enter\n  x86: KVM: svm: Fix a check in nested_svm_vmrun()\n  KVM: x86: Return to userspace with internal error on unexpected exit reason\n  KVM: x86: Add kvm_emulate_{rd,wr}msr() to consolidate VXM/SVM code\n  KVM: x86: Refactor up kvm_{g,s}et_msr() to simplify callers\n  doc: kvm: Fix return description of KVM_SET_MSRS\n  KVM: X86: Tune PLE Window tracepoint\n  KVM: VMX: Change ple_window type to unsigned int\n  KVM: X86: Remove tailing newline for tracepoints\n  KVM: X86: Trace vcpu_id for vmexit\n  KVM: x86: Manually calculate reserved bits when loading PDPTRS\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Wed Sep 18 09:49:13 2019 -0700",
  "author_date_iso": "2019-09-18T09:49:13-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Wed Sep 18 09:49:13 2019 -0700",
  "committer_date_iso": "2019-09-18T09:49:13-07:00",
  "files_changed": [
    "arch/s390/kvm/kvm-s390.c",
    "arch/x86/include/asm/kvm_host.h",
    "arch/x86/kernel/kvm.c",
    "arch/x86/kvm/lapic.c",
    "arch/x86/kvm/mmu.c",
    "arch/x86/kvm/svm.c",
    "arch/x86/kvm/vmx/nested.c",
    "arch/x86/kvm/vmx/vmx.c",
    "arch/x86/kvm/x86.c",
    "virt/kvm/arm/vgic/vgic-init.c",
    "virt/kvm/arm/vgic/vgic-v2.c",
    "virt/kvm/arm/vgic/vgic-v3.c",
    "virt/kvm/arm/vgic/vgic.c"
  ],
  "files_changed_count": 13,
  "stats": [
    {
      "file": "Documentation/virt/kvm/api.txt",
      "insertions": 24,
      "deletions": 9
    },
    {
      "file": "Documentation/virt/kvm/mmu.txt",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm/include/uapi/asm/kvm.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/pgtable-prot.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/uapi/asm/kvm.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/tlb.c",
      "insertions": 13,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/include/asm/kvm_host.h",
      "insertions": 18,
      "deletions": 4
    },
    {
      "file": "arch/powerpc/include/asm/kvm_ppc.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/include/asm/xive.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/kvm/book3s.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv.c",
      "insertions": 18,
      "deletions": 6
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv_rm_mmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv_rmhandlers.S",
      "insertions": 25,
      "deletions": 13
    },
    {
      "file": "arch/powerpc/kvm/book3s_xive.c",
      "insertions": 51,
      "deletions": 9
    },
    {
      "file": "arch/powerpc/kvm/book3s_xive.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/kvm/book3s_xive_native.c",
      "insertions": 18,
      "deletions": 5
    },
    {
      "file": "arch/powerpc/kvm/e500.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/kvm/emulate.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/kvm/emulate_loadstore.c",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "arch/powerpc/kvm/powerpc.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/sysdev/xive/common.c",
      "insertions": 64,
      "deletions": 23
    },
    {
      "file": "arch/powerpc/sysdev/xive/native.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/uapi/asm/kvm.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/kvm_emulate.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "insertions": 15,
      "deletions": 4
    },
    {
      "file": "arch/x86/include/asm/vmx.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/uapi/asm/vmx.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/x86/kernel/kvm.c",
      "insertions": 0,
      "deletions": 12
    },
    {
      "file": "arch/x86/kvm/cpuid.c",
      "insertions": 19,
      "deletions": 8
    },
    {
      "file": "arch/x86/kvm/emulate.c",
      "insertions": 25,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/lapic.c",
      "insertions": 11,
      "deletions": 9
    },
    {
      "file": "arch/x86/kvm/mmu.c",
      "insertions": 39,
      "deletions": 22
    },
    {
      "file": "arch/x86/kvm/mmu.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/svm.c",
      "insertions": 93,
      "deletions": 105
    },
    {
      "file": "arch/x86/kvm/trace.h",
      "insertions": 54,
      "deletions": 20
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "insertions": 162,
      "deletions": 143
    },
    {
      "file": "arch/x86/kvm/vmx/vmenter.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "insertions": 48,
      "deletions": 46
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 128,
      "deletions": 69
    },
    {
      "file": "arch/x86/kvm/x86.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/kvm/arm_vgic.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/uapi/linux/kvm.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "insertions": 6,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/dirty_log_test.c",
      "insertions": 53,
      "deletions": 8
    },
    {
      "file": "tools/testing/selftests/kvm/include/kvm_util.h",
      "insertions": 1,
      "deletions": 7
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/ucall.c",
      "insertions": 112,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/s390x/ucall.c",
      "insertions": 56,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/ucall.c",
      "insertions": 0,
      "deletions": 157
    },
    {
      "file": "tools/testing/selftests/kvm/lib/x86_64/ucall.c",
      "insertions": 56,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/s390x/memop.c",
      "insertions": 166,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/s390x/sync_regs_test.c",
      "insertions": 34,
      "deletions": 2
    },
    {
      "file": "virt/kvm/arm/arm.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-init.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-irqfd.c",
      "insertions": 30,
      "deletions": 6
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-its.c",
      "insertions": 207,
      "deletions": 0
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-mmio-v3.c",
      "insertions": 27,
      "deletions": 58
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-v2.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-v3.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "virt/kvm/arm/vgic/vgic.c",
      "insertions": 17,
      "deletions": 9
    },
    {
      "file": "virt/kvm/arm/vgic/vgic.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "insertions": 3,
      "deletions": 4
    }
  ],
  "total_insertions": 1694,
  "total_deletions": 797,
  "total_changes": 2491,
  "parents": [
    "404e634fdb96a3c99c7517353bfafbd88e04ab41",
    "fb3925d06c285e1acb248addc5d80b33ea771b0f"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.4",
    "v5.4-rc1",
    "v5.4-rc2",
    "v5.4-rc3",
    "v5.4-rc4",
    "v5.4-rc5",
    "v5.4-rc6",
    "v5.4-rc7",
    "v5.4-rc8",
    "v5.5"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/lapic.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/mmu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/kvm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-init.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-v3.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-v2.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/arm/vgic/vgic.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}