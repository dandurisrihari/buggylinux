Commit Hash: bebfd2a203736a42510ecf48ae82c9d7e801eeb0
Subject: KVM: arm/arm64: vITS: Add MSI translation helpers


Security Keywords:
- injection

Full commit message:
KVM: arm/arm64: vITS: Add MSI translation helpers

The whole MSI injection process is fairly monolithic. An MSI write
gets turned into an injected LPI in one swift go. But this is actually
a more fine-grained process:

- First, a virtual ITS gets selected using the doorbell address
- Then the DevID/EventID pair gets translated into an LPI
- Finally the LPI is injected

Since the GICv4 code needs the first two steps in order to match
an IRQ routing entry to an LPI, let's expose them as helpers,
and refactor the existing code to use them

Reviewed-by: Christoffer Dall <cdall@linaro.org>
Reviewed-by: Eric Auger <eric.auger@redhat.com>
Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>
Signed-off-by: Christoffer Dall <christoffer.dall@linaro.org>

Metadata:
Author: Marc Zyngier <marc.zyngier@arm.com>
Author Date: Fri Oct 27 15:28:35 2017 +0100
Committer: Christoffer Dall <christoffer.dall@linaro.org>
Commit Date: Fri Nov 10 08:51:15 2017 +0100

Files Changed: 2
Lines Added: 58
Lines Removed: 41
Total Changes: 99
