{
  "hash": "bebfd2a203736a42510ecf48ae82c9d7e801eeb0",
  "hash_short": "bebfd2a2",
  "subject": "KVM: arm/arm64: vITS: Add MSI translation helpers",
  "body": "The whole MSI injection process is fairly monolithic. An MSI write\ngets turned into an injected LPI in one swift go. But this is actually\na more fine-grained process:\n\n- First, a virtual ITS gets selected using the doorbell address\n- Then the DevID/EventID pair gets translated into an LPI\n- Finally the LPI is injected\n\nSince the GICv4 code needs the first two steps in order to match\nan IRQ routing entry to an LPI, let's expose them as helpers,\nand refactor the existing code to use them\n\nReviewed-by: Christoffer Dall <cdall@linaro.org>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Marc Zyngier <marc.zyngier@arm.com>\nSigned-off-by: Christoffer Dall <christoffer.dall@linaro.org>",
  "full_message": "KVM: arm/arm64: vITS: Add MSI translation helpers\n\nThe whole MSI injection process is fairly monolithic. An MSI write\ngets turned into an injected LPI in one swift go. But this is actually\na more fine-grained process:\n\n- First, a virtual ITS gets selected using the doorbell address\n- Then the DevID/EventID pair gets translated into an LPI\n- Finally the LPI is injected\n\nSince the GICv4 code needs the first two steps in order to match\nan IRQ routing entry to an LPI, let's expose them as helpers,\nand refactor the existing code to use them\n\nReviewed-by: Christoffer Dall <cdall@linaro.org>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Marc Zyngier <marc.zyngier@arm.com>\nSigned-off-by: Christoffer Dall <christoffer.dall@linaro.org>",
  "author_name": "Marc Zyngier",
  "author_email": "marc.zyngier@arm.com",
  "author_date": "Fri Oct 27 15:28:35 2017 +0100",
  "author_date_iso": "2017-10-27T15:28:35+01:00",
  "committer_name": "Christoffer Dall",
  "committer_email": "christoffer.dall@linaro.org",
  "committer_date": "Fri Nov 10 08:51:15 2017 +0100",
  "committer_date_iso": "2017-11-10T08:51:15+01:00",
  "files_changed": [
    "virt/kvm/arm/vgic/vgic-its.c",
    "virt/kvm/arm/vgic/vgic.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "virt/kvm/arm/vgic/vgic-its.c",
      "insertions": 54,
      "deletions": 41
    },
    {
      "file": "virt/kvm/arm/vgic/vgic.h",
      "insertions": 4,
      "deletions": 0
    }
  ],
  "total_insertions": 58,
  "total_deletions": 41,
  "total_changes": 99,
  "parents": [
    "b2c9a85dd75a8cfa18da94b19e84eb0199011187"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.15",
    "v4.15-rc1",
    "v4.15-rc2",
    "v4.15-rc3",
    "v4.15-rc4",
    "v4.15-rc5",
    "v4.15-rc6",
    "v4.15-rc7",
    "v4.15-rc8",
    "v4.15-rc9"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "virt/kvm/arm/vgic/vgic-its.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/arm/vgic/vgic.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}