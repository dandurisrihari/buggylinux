{
  "hash": "0c02183427b4d2002992f26d4917c1263c5d4a7f",
  "hash_short": "0c021834",
  "subject": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm",
  "body": "Pull kvm updates from Paolo Bonzini:\n \"ARM:\n\n   - Clean up vCPU targets, always returning generic v8 as the preferred\n     target\n\n   - Trap forwarding infrastructure for nested virtualization (used for\n     traps that are taken from an L2 guest and are needed by the L1\n     hypervisor)\n\n   - FEAT_TLBIRANGE support to only invalidate specific ranges of\n     addresses when collapsing a table PTE to a block PTE. This avoids\n     that the guest refills the TLBs again for addresses that aren't\n     covered by the table PTE.\n\n   - Fix vPMU issues related to handling of PMUver.\n\n   - Don't unnecessary align non-stack allocations in the EL2 VA space\n\n   - Drop HCR_VIRT_EXCP_MASK, which was never used...\n\n   - Don't use smp_processor_id() in kvm_arch_vcpu_load(), but the cpu\n     parameter instead\n\n   - Drop redundant call to kvm_set_pfn_accessed() in user_mem_abort()\n\n   - Remove prototypes without implementations\n\n  RISC-V:\n\n   - Zba, Zbs, Zicntr, Zicsr, Zifencei, and Zihpm support for guest\n\n   - Added ONE_REG interface for SATP mode\n\n   - Added ONE_REG interface to enable/disable multiple ISA extensions\n\n   - Improved error codes returned by ONE_REG interfaces\n\n   - Added KVM_GET_REG_LIST ioctl() implementation for KVM RISC-V\n\n   - Added get-reg-list selftest for KVM RISC-V\n\n  s390:\n\n   - PV crypto passthrough enablement (Tony, Steffen, Viktor, Janosch)\n\n     Allows a PV guest to use crypto cards. Card access is governed by\n     the firmware and once a crypto queue is \"bound\" to a PV VM every\n     other entity (PV or not) looses access until it is not bound\n     anymore. Enablement is done via flags when creating the PV VM.\n\n   - Guest debug fixes (Ilya)\n\n  x86:\n\n   - Clean up KVM's handling of Intel architectural events\n\n   - Intel bugfixes\n\n   - Add support for SEV-ES DebugSwap, allowing SEV-ES guests to use\n     debug registers and generate/handle #DBs\n\n   - Clean up LBR virtualization code\n\n   - Fix a bug where KVM fails to set the target pCPU during an IRTE\n     update\n\n   - Fix fatal bugs in SEV-ES intrahost migration\n\n   - Fix a bug where the recent (architecturally correct) change to\n     reinject #BP and skip INT3 broke SEV guests (can't decode INT3 to\n     skip it)\n\n   - Retry APIC map recalculation if a vCPU is added/enabled\n\n   - Overhaul emergency reboot code to bring SVM up to par with VMX, tie\n     the \"emergency disabling\" behavior to KVM actually being loaded,\n     and move all of the logic within KVM\n\n   - Fix user triggerable WARNs in SVM where KVM incorrectly assumes the\n     TSC ratio MSR cannot diverge from the default when TSC scaling is\n     disabled up related code\n\n   - Add a framework to allow \"caching\" feature flags so that KVM can\n     check if the guest can use a feature without needing to search\n     guest CPUID\n\n   - Rip out the ancient MMU_DEBUG crud and replace the useful bits with\n     CONFIG_KVM_PROVE_MMU\n\n   - Fix KVM's handling of !visible guest roots to avoid premature\n     triple fault injection\n\n   - Overhaul KVM's page-track APIs, and KVMGT's usage, to reduce the\n     API surface that is needed by external users (currently only\n     KVMGT), and fix a variety of issues in the process\n\n  Generic:\n\n   - Wrap kvm_{gfn,hva}_range.pte in a union to allow mmu_notifier\n     events to pass action specific data without needing to constantly\n     update the main handlers.\n\n   - Drop unused function declarations\n\n  Selftests:\n\n   - Add testcases to x86's sync_regs_test for detecting KVM TOCTOU bugs\n\n   - Add support for printf() in guest code and covert all guest asserts\n     to use printf-based reporting\n\n   - Clean up the PMU event filter test and add new testcases\n\n   - Include x86 selftests in the KVM x86 MAINTAINERS entry\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (279 commits)\n  KVM: x86/mmu: Include mmu.h in spte.h\n  KVM: x86/mmu: Use dummy root, backed by zero page, for !visible guest roots\n  KVM: x86/mmu: Disallow guest from using !visible slots for page tables\n  KVM: x86/mmu: Harden TDP MMU iteration against root w/o shadow page\n  KVM: x86/mmu: Harden new PGD against roots without shadow pages\n  KVM: x86/mmu: Add helper to convert root hpa to shadow page\n  drm/i915/gvt: Drop final dependencies on KVM internal details\n  KVM: x86/mmu: Handle KVM bookkeeping in page-track APIs, not callers\n  KVM: x86/mmu: Drop @slot param from exported/external page-track APIs\n  KVM: x86/mmu: Bug the VM if write-tracking is used but not enabled\n  KVM: x86/mmu: Assert that correct locks are held for page write-tracking\n  KVM: x86/mmu: Rename page-track APIs to reflect the new reality\n  KVM: x86/mmu: Drop infrastructure for multiple page-track modes\n  KVM: x86/mmu: Use page-track notifiers iff there are external users\n  KVM: x86/mmu: Move KVM-only page-track declarations to internal header\n  KVM: x86: Remove the unused page-track hook track_flush_slot()\n  drm/i915/gvt: switch from ->track_flush_slot() to ->track_remove_region()\n  KVM: x86: Add a new page-track hook to handle memslot deletion\n  drm/i915/gvt: Don't bother removing write-protection on to-be-deleted slot\n  KVM: x86: Reject memslot MOVE operations if KVMGT is attached\n  ...",
  "full_message": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm\n\nPull kvm updates from Paolo Bonzini:\n \"ARM:\n\n   - Clean up vCPU targets, always returning generic v8 as the preferred\n     target\n\n   - Trap forwarding infrastructure for nested virtualization (used for\n     traps that are taken from an L2 guest and are needed by the L1\n     hypervisor)\n\n   - FEAT_TLBIRANGE support to only invalidate specific ranges of\n     addresses when collapsing a table PTE to a block PTE. This avoids\n     that the guest refills the TLBs again for addresses that aren't\n     covered by the table PTE.\n\n   - Fix vPMU issues related to handling of PMUver.\n\n   - Don't unnecessary align non-stack allocations in the EL2 VA space\n\n   - Drop HCR_VIRT_EXCP_MASK, which was never used...\n\n   - Don't use smp_processor_id() in kvm_arch_vcpu_load(), but the cpu\n     parameter instead\n\n   - Drop redundant call to kvm_set_pfn_accessed() in user_mem_abort()\n\n   - Remove prototypes without implementations\n\n  RISC-V:\n\n   - Zba, Zbs, Zicntr, Zicsr, Zifencei, and Zihpm support for guest\n\n   - Added ONE_REG interface for SATP mode\n\n   - Added ONE_REG interface to enable/disable multiple ISA extensions\n\n   - Improved error codes returned by ONE_REG interfaces\n\n   - Added KVM_GET_REG_LIST ioctl() implementation for KVM RISC-V\n\n   - Added get-reg-list selftest for KVM RISC-V\n\n  s390:\n\n   - PV crypto passthrough enablement (Tony, Steffen, Viktor, Janosch)\n\n     Allows a PV guest to use crypto cards. Card access is governed by\n     the firmware and once a crypto queue is \"bound\" to a PV VM every\n     other entity (PV or not) looses access until it is not bound\n     anymore. Enablement is done via flags when creating the PV VM.\n\n   - Guest debug fixes (Ilya)\n\n  x86:\n\n   - Clean up KVM's handling of Intel architectural events\n\n   - Intel bugfixes\n\n   - Add support for SEV-ES DebugSwap, allowing SEV-ES guests to use\n     debug registers and generate/handle #DBs\n\n   - Clean up LBR virtualization code\n\n   - Fix a bug where KVM fails to set the target pCPU during an IRTE\n     update\n\n   - Fix fatal bugs in SEV-ES intrahost migration\n\n   - Fix a bug where the recent (architecturally correct) change to\n     reinject #BP and skip INT3 broke SEV guests (can't decode INT3 to\n     skip it)\n\n   - Retry APIC map recalculation if a vCPU is added/enabled\n\n   - Overhaul emergency reboot code to bring SVM up to par with VMX, tie\n     the \"emergency disabling\" behavior to KVM actually being loaded,\n     and move all of the logic within KVM\n\n   - Fix user triggerable WARNs in SVM where KVM incorrectly assumes the\n     TSC ratio MSR cannot diverge from the default when TSC scaling is\n     disabled up related code\n\n   - Add a framework to allow \"caching\" feature flags so that KVM can\n     check if the guest can use a feature without needing to search\n     guest CPUID\n\n   - Rip out the ancient MMU_DEBUG crud and replace the useful bits with\n     CONFIG_KVM_PROVE_MMU\n\n   - Fix KVM's handling of !visible guest roots to avoid premature\n     triple fault injection\n\n   - Overhaul KVM's page-track APIs, and KVMGT's usage, to reduce the\n     API surface that is needed by external users (currently only\n     KVMGT), and fix a variety of issues in the process\n\n  Generic:\n\n   - Wrap kvm_{gfn,hva}_range.pte in a union to allow mmu_notifier\n     events to pass action specific data without needing to constantly\n     update the main handlers.\n\n   - Drop unused function declarations\n\n  Selftests:\n\n   - Add testcases to x86's sync_regs_test for detecting KVM TOCTOU bugs\n\n   - Add support for printf() in guest code and covert all guest asserts\n     to use printf-based reporting\n\n   - Clean up the PMU event filter test and add new testcases\n\n   - Include x86 selftests in the KVM x86 MAINTAINERS entry\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (279 commits)\n  KVM: x86/mmu: Include mmu.h in spte.h\n  KVM: x86/mmu: Use dummy root, backed by zero page, for !visible guest roots\n  KVM: x86/mmu: Disallow guest from using !visible slots for page tables\n  KVM: x86/mmu: Harden TDP MMU iteration against root w/o shadow page\n  KVM: x86/mmu: Harden new PGD against roots without shadow pages\n  KVM: x86/mmu: Add helper to convert root hpa to shadow page\n  drm/i915/gvt: Drop final dependencies on KVM internal details\n  KVM: x86/mmu: Handle KVM bookkeeping in page-track APIs, not callers\n  KVM: x86/mmu: Drop @slot param from exported/external page-track APIs\n  KVM: x86/mmu: Bug the VM if write-tracking is used but not enabled\n  KVM: x86/mmu: Assert that correct locks are held for page write-tracking\n  KVM: x86/mmu: Rename page-track APIs to reflect the new reality\n  KVM: x86/mmu: Drop infrastructure for multiple page-track modes\n  KVM: x86/mmu: Use page-track notifiers iff there are external users\n  KVM: x86/mmu: Move KVM-only page-track declarations to internal header\n  KVM: x86: Remove the unused page-track hook track_flush_slot()\n  drm/i915/gvt: switch from ->track_flush_slot() to ->track_remove_region()\n  KVM: x86: Add a new page-track hook to handle memslot deletion\n  drm/i915/gvt: Don't bother removing write-protection on to-be-deleted slot\n  KVM: x86: Reject memslot MOVE operations if KVMGT is attached\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Sep 7 13:52:20 2023 -0700",
  "author_date_iso": "2023-09-07T13:52:20-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Sep 7 13:52:20 2023 -0700",
  "committer_date_iso": "2023-09-07T13:52:20-07:00",
  "files_changed": [
    "Documentation/virt/kvm/api.rst",
    "MAINTAINERS",
    "arch/arm64/include/asm/sysreg.h",
    "arch/arm64/include/asm/tlbflush.h",
    "arch/arm64/kernel/cpufeature.c",
    "arch/s390/kvm/interrupt.c",
    "arch/s390/mm/fault.c",
    "arch/x86/include/asm/cpufeatures.h",
    "arch/x86/include/asm/kexec.h",
    "arch/x86/kernel/crash.c",
    "arch/x86/kvm/vmx/vmx.c",
    "drivers/gpu/drm/i915/gvt/kvmgt.c",
    "drivers/perf/arm_pmuv3.c",
    "virt/kvm/kvm_main.c"
  ],
  "files_changed_count": 14,
  "stats": [
    {
      "file": "Documentation/virt/kvm/api.rst",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "MAINTAINERS",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm/include/asm/arm_pmuv3.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_arm.h",
      "insertions": 50,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/kvm_asm.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "insertions": 15,
      "deletions": 9
    },
    {
      "file": "arch/arm64/include/asm/kvm_mmu.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_nested.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_pgtable.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 266,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/tlbflush.h",
      "insertions": 71,
      "deletions": 53
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "insertions": 20,
      "deletions": 45
    },
    {
      "file": "arch/arm64/kvm/emulate-nested.c",
      "insertions": 1852,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/guest.c",
      "insertions": 0,
      "deletions": 15
    },
    {
      "file": "arch/arm64/kvm/handle_exit.c",
      "insertions": 28,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/switch.h",
      "insertions": 94,
      "deletions": 33
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/mm.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-main.c",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/mm.c",
      "insertions": 66,
      "deletions": 17
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/setup.c",
      "insertions": 1,
      "deletions": 26
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/switch.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/tlb.c",
      "insertions": 30,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/pgtable.c",
      "insertions": 55,
      "deletions": 8
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/tlb.c",
      "insertions": 28,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/mmu.c",
      "insertions": 81,
      "deletions": 23
    },
    {
      "file": "arch/arm64/kvm/nested.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/pmu-emul.c",
      "insertions": 26,
      "deletions": 11
    },
    {
      "file": "arch/arm64/kvm/pmu.c",
      "insertions": 18,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/reset.c",
      "insertions": 10,
      "deletions": 15
    },
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/trace_arm.h",
      "insertions": 26,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/tools/cpucaps",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/tools/sysreg",
      "insertions": 129,
      "deletions": 0
    },
    {
      "file": "arch/mips/include/asm/kvm_host.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/mips/kvm/mips.c",
      "insertions": 3,
      "deletions": 9
    },
    {
      "file": "arch/mips/kvm/mmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/riscv/include/asm/csr.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/riscv/include/asm/kvm_host.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/riscv/include/asm/kvm_vcpu_vector.h",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "arch/riscv/include/uapi/asm/kvm.h",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/aia.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/riscv/kvm/mmu.c",
      "insertions": 1,
      "deletions": 7
    },
    {
      "file": "arch/riscv/kvm/vcpu.c",
      "insertions": 19,
      "deletions": 528
    },
    {
      "file": "arch/riscv/kvm/vcpu_fp.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "arch/riscv/kvm/vcpu_onereg.c",
      "insertions": 1051,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/vcpu_sbi.c",
      "insertions": 9,
      "deletions": 7
    },
    {
      "file": "arch/riscv/kvm/vcpu_timer.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "arch/riscv/kvm/vcpu_vector.c",
      "insertions": 35,
      "deletions": 37
    },
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/uv.h",
      "insertions": 18,
      "deletions": 1
    },
    {
      "file": "arch/s390/include/uapi/asm/kvm.h",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/uv.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/intercept.c",
      "insertions": 32,
      "deletions": 6
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 96,
      "deletions": 6
    },
    {
      "file": "arch/s390/kvm/pv.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "arch/s390/mm/fault.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/kexec.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "insertions": 33,
      "deletions": 13
    },
    {
      "file": "arch/x86/include/asm/kvm_page_track.h",
      "insertions": 25,
      "deletions": 42
    },
    {
      "file": "arch/x86/include/asm/reboot.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/svm.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/x86/include/asm/virtext.h",
      "insertions": 0,
      "deletions": 154
    },
    {
      "file": "arch/x86/include/asm/vmx.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kernel/crash.c",
      "insertions": 0,
      "deletions": 31
    },
    {
      "file": "arch/x86/kernel/reboot.c",
      "insertions": 50,
      "deletions": 16
    },
    {
      "file": "arch/x86/kvm/Kconfig",
      "insertions": 14,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/cpuid.c",
      "insertions": 39,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/cpuid.h",
      "insertions": 46,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/emulate.c",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/governed_features.h",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/hyperv.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/kvm_emulate.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/lapic.c",
      "insertions": 25,
      "deletions": 4
    },
    {
      "file": "arch/x86/kvm/mmu.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/mmu/mmu.c",
      "insertions": 160,
      "deletions": 211
    },
    {
      "file": "arch/x86/kvm/mmu/mmu_internal.h",
      "insertions": 13,
      "deletions": 14
    },
    {
      "file": "arch/x86/kvm/mmu/page_track.c",
      "insertions": 128,
      "deletions": 124
    },
    {
      "file": "arch/x86/kvm/mmu/page_track.h",
      "insertions": 58,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/mmu/paging_tmpl.h",
      "insertions": 30,
      "deletions": 11
    },
    {
      "file": "arch/x86/kvm/mmu/spte.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "arch/x86/kvm/mmu/spte.h",
      "insertions": 17,
      "deletions": 4
    },
    {
      "file": "arch/x86/kvm/mmu/tdp_iter.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "arch/x86/kvm/mmu/tdp_mmu.c",
      "insertions": 19,
      "deletions": 18
    },
    {
      "file": "arch/x86/kvm/pmu.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/reverse_cpuid.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/svm/avic.c",
      "insertions": 51,
      "deletions": 8
    },
    {
      "file": "arch/x86/kvm/svm/nested.c",
      "insertions": 33,
      "deletions": 24
    },
    {
      "file": "arch/x86/kvm/svm/sev.c",
      "insertions": 83,
      "deletions": 17
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "insertions": 214,
      "deletions": 113
    },
    {
      "file": "arch/x86/kvm/svm/svm.h",
      "insertions": 6,
      "deletions": 55
    },
    {
      "file": "arch/x86/kvm/vmx/capabilities.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/vmx/hyperv.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "insertions": 7,
      "deletions": 6
    },
    {
      "file": "arch/x86/kvm/vmx/nested.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/vmx/pmu_intel.c",
      "insertions": 55,
      "deletions": 26
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "insertions": 116,
      "deletions": 112
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 44,
      "deletions": 39
    },
    {
      "file": "arch/x86/kvm/x86.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/gtt.c",
      "insertions": 13,
      "deletions": 89
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/gtt.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/gvt.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/kvmgt.c",
      "insertions": 46,
      "deletions": 74
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/page_track.c",
      "insertions": 2,
      "deletions": 8
    },
    {
      "file": "drivers/perf/arm_pmuv3.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/kvm/arm_pmu.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/linux/kvm_host.h",
      "insertions": 42,
      "deletions": 11
    },
    {
      "file": "tools/arch/x86/include/asm/cpufeatures.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "insertions": 18,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/aarch32_id_regs.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/arch_timer.c",
      "insertions": 9,
      "deletions": 13
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/debug-exceptions.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/get-reg-list.c",
      "insertions": 61,
      "deletions": 493
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/hypercalls.c",
      "insertions": 9,
      "deletions": 11
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/page_fault_test.c",
      "insertions": 8,
      "deletions": 9
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/vgic_irq.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/get-reg-list.c",
      "insertions": 401,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/guest_print_test.c",
      "insertions": 219,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/arch_timer.h",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/ucall.h",
      "insertions": 20,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/kvm_util_base.h",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/riscv/processor.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/riscv/ucall.h",
      "insertions": 20,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/s390x/ucall.h",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/test_util.h",
      "insertions": 12,
      "deletions": 8
    },
    {
      "file": "tools/testing/selftests/kvm/include/ucall_common.h",
      "insertions": 40,
      "deletions": 58
    },
    {
      "file": "tools/testing/selftests/kvm/include/x86_64/processor.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/x86_64/ucall.h",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/kvm_page_table_test.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/ucall.c",
      "insertions": 1,
      "deletions": 10
    },
    {
      "file": "tools/testing/selftests/kvm/lib/guest_sprintf.c",
      "insertions": 307,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/kvm_util.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/lib/riscv/ucall.c",
      "insertions": 0,
      "deletions": 11
    },
    {
      "file": "tools/testing/selftests/kvm/lib/s390x/ucall.c",
      "insertions": 0,
      "deletions": 10
    },
    {
      "file": "tools/testing/selftests/kvm/lib/sparsebit.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/lib/string_override.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/test_util.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/ucall_common.c",
      "insertions": 44,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/x86_64/processor.c",
      "insertions": 6,
      "deletions": 12
    },
    {
      "file": "tools/testing/selftests/kvm/lib/x86_64/ucall.c",
      "insertions": 30,
      "deletions": 6
    },
    {
      "file": "tools/testing/selftests/kvm/max_guest_memory_test.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/memslot_perf_test.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/riscv/get-reg-list.c",
      "insertions": 872,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/s390x/cmma_test.c",
      "insertions": 31,
      "deletions": 31
    },
    {
      "file": "tools/testing/selftests/kvm/s390x/debug_test.c",
      "insertions": 160,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/s390x/memop.c",
      "insertions": 6,
      "deletions": 7
    },
    {
      "file": "tools/testing/selftests/kvm/s390x/tprot.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "tools/testing/selftests/kvm/set_memory_region_test.c",
      "insertions": 12,
      "deletions": 9
    },
    {
      "file": "tools/testing/selftests/kvm/steal_time.c",
      "insertions": 10,
      "deletions": 10
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/cpuid_test.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/dirty_log_page_splitting_test.c",
      "insertions": 9,
      "deletions": 9
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/exit_on_emulation_failure_test.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/hyperv_extended_hypercalls.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/hyperv_features.c",
      "insertions": 19,
      "deletions": 10
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/kvm_pv_test.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/monitor_mwait_test.c",
      "insertions": 20,
      "deletions": 15
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/nested_exceptions_test.c",
      "insertions": 7,
      "deletions": 9
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/pmu_event_filter_test.c",
      "insertions": 223,
      "deletions": 94
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/recalc_apic_map_test.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/set_boot_cpu_id.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/svm_nested_soft_inject_test.c",
      "insertions": 11,
      "deletions": 11
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/sync_regs_test.c",
      "insertions": 132,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/tsc_msrs_test.c",
      "insertions": 17,
      "deletions": 17
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/userspace_io_test.c",
      "insertions": 6,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/vmx_exception_with_invalid_guest_state.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/vmx_pmu_caps_test.c",
      "insertions": 16,
      "deletions": 15
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/xapic_state_test.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/xcr0_cpuid_test.c",
      "insertions": 17,
      "deletions": 12
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/xen_vmcall_test.c",
      "insertions": 10,
      "deletions": 10
    },
    {
      "file": "virt/kvm/Kconfig",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "insertions": 40,
      "deletions": 14
    }
  ],
  "total_insertions": 8673,
  "total_deletions": 3127,
  "total_changes": 11800,
  "parents": [
    "4a0fc73da97efd23a383ca839e6fe86410268f6b",
    "d011151616e73de20c139580b73fa4c7042bd861"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/mm/fault.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/tlbflush.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/crash.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "Documentation/virt/kvm/api.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/kexec.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/kvmgt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/perf/arm_pmuv3.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}