{
  "hash": "4953919feedaeb6d0161ecea920c35d1d1f639d3",
  "hash_short": "4953919f",
  "subject": "KVM: s390: interpretive execution of SIGP EXTERNAL CALL",
  "body": "If the sigp interpretation facility is installed, most SIGP EXTERNAL CALL\noperations will be interpreted instead of intercepted. A partial execution\ninterception will occurr at the sending cpu only if the target cpu is in the\nwait state (\"W\" bit in the cpuflags set). Instruction interception will only\nhappen in error cases (e.g. cpu addr invalid).\n\nAs a sending cpu might set the external call interrupt pending flags at the\ntarget cpu at every point in time, we can't handle this kind of interrupt using\nour kvm interrupt injection mechanism. The injection will be done automatically\nby the SIE when preparing the start of the target cpu.\n\nSigned-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nCC: Thomas Huth <thuth@linux.vnet.ibm.com>\n[Adopt external call injection to check for sigp interpretion]\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "full_message": "KVM: s390: interpretive execution of SIGP EXTERNAL CALL\n\nIf the sigp interpretation facility is installed, most SIGP EXTERNAL CALL\noperations will be interpreted instead of intercepted. A partial execution\ninterception will occurr at the sending cpu only if the target cpu is in the\nwait state (\"W\" bit in the cpuflags set). Instruction interception will only\nhappen in error cases (e.g. cpu addr invalid).\n\nAs a sending cpu might set the external call interrupt pending flags at the\ntarget cpu at every point in time, we can't handle this kind of interrupt using\nour kvm interrupt injection mechanism. The injection will be done automatically\nby the SIE when preparing the start of the target cpu.\n\nSigned-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nCC: Thomas Huth <thuth@linux.vnet.ibm.com>\n[Adopt external call injection to check for sigp interpretion]\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "author_name": "David Hildenbrand",
  "author_email": "dahi@linux.vnet.ibm.com",
  "author_date": "Fri Feb 21 08:59:59 2014 +0100",
  "author_date_iso": "2014-02-21T08:59:59+01:00",
  "committer_name": "Christian Borntraeger",
  "committer_email": "borntraeger@de.ibm.com",
  "committer_date": "Fri May 16 14:57:28 2014 +0200",
  "committer_date_iso": "2014-05-16T14:57:28+02:00",
  "files_changed": [
    "arch/s390/include/asm/kvm_host.h",
    "arch/s390/kvm/intercept.c",
    "arch/s390/kvm/interrupt.c",
    "arch/s390/kvm/kvm-s390.c",
    "arch/s390/kvm/kvm-s390.h",
    "arch/s390/kvm/sigp.c",
    "arch/s390/kvm/trace.h"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/intercept.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "insertions": 26,
      "deletions": 4
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/kvm-s390.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/sigp.c",
      "insertions": 35,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/trace.h",
      "insertions": 23,
      "deletions": 0
    }
  ],
  "total_insertions": 94,
  "total_deletions": 6,
  "total_changes": 100,
  "parents": [
    "d26b8655f088ac6e972fd8f016b8dfa7cc1b9e5a"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.16",
    "v3.16-rc1",
    "v3.16-rc2",
    "v3.16-rc3",
    "v3.16-rc4",
    "v3.16-rc5",
    "v3.16-rc6",
    "v3.16-rc7",
    "v3.17",
    "v3.17-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/sigp.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/intercept.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/kvm-s390.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/trace.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}