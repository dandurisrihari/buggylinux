Commit Hash: a8fdfb0b39c2b31722c70bdf2272b949d5af4b7b
Subject: scsi: qla2xxx: edif: Fix session thrash


Security Keywords:
- authentication

Full commit message:
scsi: qla2xxx: edif: Fix session thrash

Current code prematurely sends out PRLI before authentication application
has given the OK to do so. This causes PRLI failure and session teardown.

Prevents PRLI from going out before authentication app gives the OK.

Link: https://lore.kernel.org/r/20220608115849.16693-7-njavali@marvell.com
Fixes: 91f6f5fbe87b ("scsi: qla2xxx: edif: Reduce connection thrash")
Reviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>
Signed-off-by: Quinn Tran <qutran@marvell.com>
Signed-off-by: Nilesh Javali <njavali@marvell.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

Metadata:
Author: Quinn Tran <qutran@marvell.com>
Author Date: Wed Jun 8 04:58:45 2022 -0700
Committer: Martin K. Petersen <martin.petersen@oracle.com>
Commit Date: Fri Jun 10 13:04:04 2022 -0400

Files Changed: 3
Lines Added: 14
Lines Removed: 2
Total Changes: 16
