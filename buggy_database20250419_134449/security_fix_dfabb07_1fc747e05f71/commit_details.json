{
  "hash": "dfabb077d62552797ca0ae7756cb30d3e195ead5",
  "hash_short": "dfabb077",
  "subject": "Merge tag 'mmc-v5.7' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc",
  "body": "Pull MMC updates from Ulf Hansson:\n \"MMC core:\n   - Add support for host software queue for (e)MMC/SD\n   - Throttle polling rate for CMD6\n   - Update CMD13 busy condition check for CMD6 commands\n   - Improve busy detect polling for erase/trim/discard/HPI\n   - Fixup support for HW busy detection for HPI commands\n   - Re-work and improve support for eMMC sanitize commands\n\n  MMC host:\n   - mmci:\n       * Add support for sdmmc variant revision 2.0\n   - mmci_sdmmc:\n       * Improve support for busyend detection\n       * Fixup support for signal voltage switch\n       * Add support for tuning with delay block\n   - mtk-sd:\n       * Fix another SDIO irq issue\n   - sdhci:\n       * Disable native card detect when GPIO based type exist\n   - sdhci:\n       * Add option to defer request completion\n   - sdhci_am654:\n       * Add support to set a tap value per speed mode\n   - sdhci-esdhc-imx:\n       * Add support for i.MX8MM based variant\n       * Fixup support for standard tuning on i.MX8 usdhc\n       * Optimize for strobe/clock dll settings\n       * Fixup support for system and runtime suspend/resume\n   - sdhci-iproc:\n       * Update regulator/bus-voltage management for bcm2711\n   - sdhci-msm:\n       * Prevent clock gating with PWRSAVE_DLL on broken variants\n       * Fix management of CQE during SDHCI reset\n   - sdhci-of-arasan:\n       * Add support for auto tuning on ZynqMP based platforms\n   - sdhci-omap:\n       * Add support for system suspend/resume\n   - sdhci-sprd:\n       * Add support for HW busy detection\n       * Enable support host software queue\n   - sdhci-tegra:\n       * Add support for HW busy detection\n   - tmio/renesas_sdhi:\n       * Enforce retune after runtime suspend\n   - renesas_sdhi:\n       * Use manual tap correction for HS400 on some variants\n       * Add support for manual correction of tap values for tunings\"\n\n* tag 'mmc-v5.7' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc: (86 commits)\n  mmc: cavium-octeon: remove nonsense variable coercion\n  mmc: mediatek: fix SDIO irq issue\n  mmc: mmci_sdmmc: Fix clear busyd0end irq flag\n  dt-bindings: mmc: Fix node name in an example\n  mmc: core: Re-work the code for eMMC sanitize\n  mmc: sdhci: use FIELD_GET for preset value bit masks\n  mmc: sdhci-of-at91: Display clock changes for debug purpose only\n  mmc: sdhci: iproc: Add custom set_power() callback for bcm2711\n  mmc: sdhci: am654: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: at91: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: milbeaut: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: arasan: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: Introduce sdhci_set_power_and_bus_voltage()\n  mmc: vub300: Use scnprintf() for avoiding potential buffer overflow\n  dt-bindings: mmc: synopsys-dw-mshc: fix clock-freq-min-max in example\n  sdhci: tegra: Enable MMC_CAP_WAIT_WHILE_BUSY host capability\n  sdhci: tegra: Implement Tegra specific set_timeout callback\n  mmc: sdhci-omap: Add Support for Suspend/Resume\n  mmc: renesas_sdhi: simplify execute_tuning\n  mmc: renesas_sdhi: Use BITS_PER_LONG helper\n  ...",
  "full_message": "Merge tag 'mmc-v5.7' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc\n\nPull MMC updates from Ulf Hansson:\n \"MMC core:\n   - Add support for host software queue for (e)MMC/SD\n   - Throttle polling rate for CMD6\n   - Update CMD13 busy condition check for CMD6 commands\n   - Improve busy detect polling for erase/trim/discard/HPI\n   - Fixup support for HW busy detection for HPI commands\n   - Re-work and improve support for eMMC sanitize commands\n\n  MMC host:\n   - mmci:\n       * Add support for sdmmc variant revision 2.0\n   - mmci_sdmmc:\n       * Improve support for busyend detection\n       * Fixup support for signal voltage switch\n       * Add support for tuning with delay block\n   - mtk-sd:\n       * Fix another SDIO irq issue\n   - sdhci:\n       * Disable native card detect when GPIO based type exist\n   - sdhci:\n       * Add option to defer request completion\n   - sdhci_am654:\n       * Add support to set a tap value per speed mode\n   - sdhci-esdhc-imx:\n       * Add support for i.MX8MM based variant\n       * Fixup support for standard tuning on i.MX8 usdhc\n       * Optimize for strobe/clock dll settings\n       * Fixup support for system and runtime suspend/resume\n   - sdhci-iproc:\n       * Update regulator/bus-voltage management for bcm2711\n   - sdhci-msm:\n       * Prevent clock gating with PWRSAVE_DLL on broken variants\n       * Fix management of CQE during SDHCI reset\n   - sdhci-of-arasan:\n       * Add support for auto tuning on ZynqMP based platforms\n   - sdhci-omap:\n       * Add support for system suspend/resume\n   - sdhci-sprd:\n       * Add support for HW busy detection\n       * Enable support host software queue\n   - sdhci-tegra:\n       * Add support for HW busy detection\n   - tmio/renesas_sdhi:\n       * Enforce retune after runtime suspend\n   - renesas_sdhi:\n       * Use manual tap correction for HS400 on some variants\n       * Add support for manual correction of tap values for tunings\"\n\n* tag 'mmc-v5.7' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc: (86 commits)\n  mmc: cavium-octeon: remove nonsense variable coercion\n  mmc: mediatek: fix SDIO irq issue\n  mmc: mmci_sdmmc: Fix clear busyd0end irq flag\n  dt-bindings: mmc: Fix node name in an example\n  mmc: core: Re-work the code for eMMC sanitize\n  mmc: sdhci: use FIELD_GET for preset value bit masks\n  mmc: sdhci-of-at91: Display clock changes for debug purpose only\n  mmc: sdhci: iproc: Add custom set_power() callback for bcm2711\n  mmc: sdhci: am654: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: at91: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: milbeaut: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: arasan: Use sdhci_set_power_and_voltage()\n  mmc: sdhci: Introduce sdhci_set_power_and_bus_voltage()\n  mmc: vub300: Use scnprintf() for avoiding potential buffer overflow\n  dt-bindings: mmc: synopsys-dw-mshc: fix clock-freq-min-max in example\n  sdhci: tegra: Enable MMC_CAP_WAIT_WHILE_BUSY host capability\n  sdhci: tegra: Implement Tegra specific set_timeout callback\n  mmc: sdhci-omap: Add Support for Suspend/Resume\n  mmc: renesas_sdhi: simplify execute_tuning\n  mmc: renesas_sdhi: Use BITS_PER_LONG helper\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue Mar 31 16:13:09 2020 -0700",
  "author_date_iso": "2020-03-31T16:13:09-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Mar 31 16:13:09 2020 -0700",
  "committer_date_iso": "2020-03-31T16:13:09-07:00",
  "files_changed": [
    "drivers/mmc/host/sdhci-acpi.c",
    "drivers/mmc/host/sdhci-esdhc-imx.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "Documentation/devicetree/bindings/mmc/fsl-imx-esdhc.txt",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/mmc-controller.yaml",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/mmci.txt",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/sdhci-am654.txt",
      "insertions": 19,
      "deletions": 2
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/sdhci-msm.txt",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/synopsys-dw-mshc.yaml",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/firmware/xilinx/zynqmp.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/core/block.c",
      "insertions": 67,
      "deletions": 58
    },
    {
      "file": "drivers/mmc/core/core.c",
      "insertions": 2,
      "deletions": 52
    },
    {
      "file": "drivers/mmc/core/mmc.c",
      "insertions": 30,
      "deletions": 26
    },
    {
      "file": "drivers/mmc/core/mmc_ops.c",
      "insertions": 129,
      "deletions": 65
    },
    {
      "file": "drivers/mmc/core/mmc_ops.h",
      "insertions": 11,
      "deletions": 4
    },
    {
      "file": "drivers/mmc/core/mmc_test.c",
      "insertions": 40,
      "deletions": 12
    },
    {
      "file": "drivers/mmc/core/queue.c",
      "insertions": 18,
      "deletions": 4
    },
    {
      "file": "drivers/mmc/core/sd.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/core/sdio_irq.c",
      "insertions": 8,
      "deletions": 7
    },
    {
      "file": "drivers/mmc/host/Kconfig",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/cavium-octeon.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/host/cqhci.c",
      "insertions": 11,
      "deletions": 5
    },
    {
      "file": "drivers/mmc/host/cqhci.h",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/mmc_hsq.c",
      "insertions": 348,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/mmc_hsq.h",
      "insertions": 30,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/mmci.c",
      "insertions": 41,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/host/mmci.h",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/mmci_stm32_sdmmc.c",
      "insertions": 200,
      "deletions": 8
    },
    {
      "file": "drivers/mmc/host/mtk-sd.c",
      "insertions": 41,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/renesas_sdhi.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/renesas_sdhi_core.c",
      "insertions": 135,
      "deletions": 48
    },
    {
      "file": "drivers/mmc/host/sdhci-acpi.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/sdhci-cadence.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/sdhci-esdhc-imx.c",
      "insertions": 146,
      "deletions": 21
    },
    {
      "file": "drivers/mmc/host/sdhci-esdhc.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/sdhci-iproc.c",
      "insertions": 16,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/sdhci-milbeaut.c",
      "insertions": 1,
      "deletions": 12
    },
    {
      "file": "drivers/mmc/host/sdhci-msm.c",
      "insertions": 23,
      "deletions": 4
    },
    {
      "file": "drivers/mmc/host/sdhci-of-arasan.c",
      "insertions": 60,
      "deletions": 14
    },
    {
      "file": "drivers/mmc/host/sdhci-of-at91.c",
      "insertions": 3,
      "deletions": 19
    },
    {
      "file": "drivers/mmc/host/sdhci-omap.c",
      "insertions": 57,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/sdhci-pci.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/sdhci-pltfm.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/sdhci-sprd.c",
      "insertions": 29,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/sdhci-tegra.c",
      "insertions": 33,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/host/sdhci.c",
      "insertions": 36,
      "deletions": 9
    },
    {
      "file": "drivers/mmc/host/sdhci.h",
      "insertions": 11,
      "deletions": 7
    },
    {
      "file": "drivers/mmc/host/sdhci_am654.c",
      "insertions": 174,
      "deletions": 90
    },
    {
      "file": "drivers/mmc/host/tmio_mmc.h",
      "insertions": 2,
      "deletions": 9
    },
    {
      "file": "drivers/mmc/host/tmio_mmc_core.c",
      "insertions": 8,
      "deletions": 69
    },
    {
      "file": "drivers/mmc/host/vub300.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/firmware/xlnx-zynqmp.h",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "include/linux/mmc/core.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "include/linux/mmc/host.h",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "include/linux/mmc/mmc.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "include/linux/mmc/sdio_func.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/platform_data/mmc-esdhc-imx.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/mmc/ioctl.h",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1825,
  "total_deletions": 570,
  "total_changes": 2395,
  "parents": [
    "5b67fbfc32b544daa7f4e0f4e0ecdec4e4895938",
    "92075d98abf0f42db1cb518150364f196d4ad217"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "sanitize"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/mmc/host/sdhci-acpi.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/mmc/host/sdhci-esdhc-imx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}