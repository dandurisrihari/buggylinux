Commit Hash: e2b67859ab6efd4458bda1baaee20331a367d995
Subject: crypto: qat - add heartbeat error simulator


Security Keywords:
- inject

Full commit message:
crypto: qat - add heartbeat error simulator

Add a mechanism that allows to inject a heartbeat error for testing
purposes.
A new attribute `inject_error` is added to debugfs for each QAT device.
Upon a write on this attribute, the driver will inject an error on the
device which can then be detected by the heartbeat feature.
Errors are breaking the device functionality thus they require a
device reset in order to be recovered.

This functionality is not compiled by default, to enable it
CRYPTO_DEV_QAT_ERROR_INJECTION must be set.

Signed-off-by: Damian Muszynski <damian.muszynski@intel.com>
Reviewed-by: Giovanni Cabiddu <giovanni.cabiddu@intel.com>
Reviewed-by: Lucas Segarra Fernandez <lucas.segarra.fernandez@intel.com>
Reviewed-by: Ahsan Atta <ahsan.atta@intel.com>
Reviewed-by: Markas Rapoportas <markas.rapoportas@intel.com>
Signed-off-by: Mun Chun Yep <mun.chun.yep@intel.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

Metadata:
Author: Damian Muszynski <damian.muszynski@intel.com>
Author Date: Fri Feb 2 18:53:16 2024 +0800
Committer: Herbert Xu <herbert@gondor.apana.org.au>
Commit Date: Fri Feb 9 12:57:18 2024 +0800

Files Changed: 9
Lines Added: 214
Lines Removed: 6
Total Changes: 220
