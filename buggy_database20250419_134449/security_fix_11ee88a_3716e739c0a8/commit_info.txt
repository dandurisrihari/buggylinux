Commit Hash: 11ee88a0f98770719f29b7d1efb2a2ca6a83af3c
Subject: fault-injection: enhance failcmd to exit on non-hex address input


Security Keywords:
- injection

Full commit message:
fault-injection: enhance failcmd to exit on non-hex address input

The failcmd.sh script in the fault-injection toolkit does not currently
validate whether the provided address is in hexadecimal format.  This can
lead to silent failures if the address is sourced from places like
`/proc/kallsyms`, which omits the '0x' prefix, potentially causing users
to operate under incorrect assumptions.

Introduce a new function, `exit_if_not_hex`, which checks the format of
the provided address and exits with an error message if the address is not
a valid hexadecimal number.

This enhancement prevents users from running the command with improperly
formatted addresses, thus improving the robustness and usability of the
failcmd tool.

Link: https://lkml.kernel.org/r/20240729084512.3349928-1-leitao@debian.org
Signed-off-by: Breno Leitao <leitao@debian.org>
Reviewed-by: Akinobu Mita <akinobu.mita@gmail.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

Metadata:
Author: Breno Leitao <leitao@debian.org>
Author Date: Mon Jul 29 01:45:08 2024 -0700
Committer: Andrew Morton <akpm@linux-foundation.org>
Commit Date: Sun Sep 1 20:43:31 2024 -0700

Files Changed: 1
Lines Added: 12
Lines Removed: 0
Total Changes: 12
