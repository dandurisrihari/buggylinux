{
  "hash": "49538d12380fa8970f35db1f063189e49e69399c",
  "hash_short": "49538d12",
  "subject": "KVM: s390: fix bug in sigp emergency signal injection",
  "body": "Currently we are always setting the wrong bit in the\nbitmap for pending emergency signals. Instead of using\nemerg.code from the passed in irq parameter, we use the\nvalue in our per-vcpu local_int structure, which is always zero.\nThat means all emergency signals will have address 0 as parameter.\nIf two CPUs send a SIGP to the same target, one might be lost.\n\nLet's fix this by using the value from the parameter and\nalso trace the correct value.\n\nReviewed-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Jens Freimann <jfrei@linux.vnet.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "full_message": "KVM: s390: fix bug in sigp emergency signal injection\n\nCurrently we are always setting the wrong bit in the\nbitmap for pending emergency signals. Instead of using\nemerg.code from the passed in irq parameter, we use the\nvalue in our per-vcpu local_int structure, which is always zero.\nThat means all emergency signals will have address 0 as parameter.\nIf two CPUs send a SIGP to the same target, one might be lost.\n\nLet's fix this by using the value from the parameter and\nalso trace the correct value.\n\nReviewed-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Jens Freimann <jfrei@linux.vnet.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "author_name": "Jens Freimann",
  "author_email": "jfrei@linux.vnet.ibm.com",
  "author_date": "Thu Dec 18 15:48:14 2014 +0100",
  "author_date_iso": "2014-12-18T15:48:14+01:00",
  "committer_name": "Christian Borntraeger",
  "committer_email": "borntraeger@de.ibm.com",
  "committer_date": "Fri Jan 23 13:25:39 2015 +0100",
  "committer_date_iso": "2015-01-23T13:25:39+01:00",
  "files_changed": [
    "arch/s390/kvm/interrupt.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/s390/kvm/interrupt.c",
      "insertions": 2,
      "deletions": 3
    }
  ],
  "total_insertions": 2,
  "total_deletions": 3,
  "total_changes": 5,
  "parents": [
    "3cfad02380f761af99770f22c327e5eedfad3934"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.0",
    "v4.0-rc1",
    "v4.0-rc2",
    "v4.0-rc3",
    "v4.0-rc4",
    "v4.0-rc5",
    "v4.0-rc6",
    "v4.0-rc7",
    "v4.1",
    "v4.1-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/kvm/interrupt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}