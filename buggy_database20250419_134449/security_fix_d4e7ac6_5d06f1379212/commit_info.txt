Commit Hash: d4e7ac68f771addc19352121706d8584eb0166cd
Subject: ipmi: kcs_bmc: Strip private client data from struct kcs_bmc


Security Keywords:
- exploit

Full commit message:
ipmi: kcs_bmc: Strip private client data from struct kcs_bmc

Move all client-private data out of `struct kcs_bmc` into the KCS client
implementation.

With this change the KCS BMC core code now only concerns itself with
abstract `struct kcs_bmc` and `struct kcs_bmc_client` types, achieving
expected separation of concerns. Further, the change clears the path for
implementation of alternative userspace interfaces.

The chardev data-structures are rearranged in the same manner applied to
the KCS device driver data-structures in an earlier patch - `struct
kcs_bmc_client` is embedded in the client's private data and we exploit
container_of() to translate as required.

Finally, now that it is free of client data, `struct kcs_bmc` is renamed
to `struct kcs_bmc_device` to contrast `struct kcs_bmc_client`.

Signed-off-by: Andrew Jeffery <andrew@aj.id.au>
Reviewed-by: Zev Weiss <zweiss@equinix.com>
Message-Id: <20210608104757.582199-8-andrew@aj.id.au>
Signed-off-by: Corey Minyard <cminyard@mvista.com>

Metadata:
Author: Andrew Jeffery <andrew@aj.id.au>
Author Date: Tue Jun 8 20:17:48 2021 +0930
Committer: Corey Minyard <cminyard@mvista.com>
Commit Date: Mon Jun 21 19:50:22 2021 -0500

Files Changed: 7
Lines Added: 367
Lines Removed: 294
Total Changes: 661
