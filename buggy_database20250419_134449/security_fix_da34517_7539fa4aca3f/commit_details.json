{
  "hash": "da345174ceca052469e4775e4ae263b5f27a9355",
  "hash_short": "da345174",
  "subject": "KVM: arm/arm64: Allow user injection of external data aborts",
  "body": "In some scenarios, such as buggy guest or incorrect configuration of the\nVMM and firmware description data, userspace will detect a memory access\nto a portion of the IPA, which is not mapped to any MMIO region.\n\nFor this purpose, the appropriate action is to inject an external abort\nto the guest.  The kernel already has functionality to inject an\nexternal abort, but we need to wire up a signal from user space that\nlets user space tell the kernel to do this.\n\nIt turns out, we already have the set event functionality which we can\nperfectly reuse for this.\n\nSigned-off-by: Christoffer Dall <christoffer.dall@arm.com>\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "full_message": "KVM: arm/arm64: Allow user injection of external data aborts\n\nIn some scenarios, such as buggy guest or incorrect configuration of the\nVMM and firmware description data, userspace will detect a memory access\nto a portion of the IPA, which is not mapped to any MMIO region.\n\nFor this purpose, the appropriate action is to inject an external abort\nto the guest.  The kernel already has functionality to inject an\nexternal abort, but we need to wire up a signal from user space that\nlets user space tell the kernel to do this.\n\nIt turns out, we already have the set event functionality which we can\nperfectly reuse for this.\n\nSigned-off-by: Christoffer Dall <christoffer.dall@arm.com>\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "author_name": "Christoffer Dall",
  "author_email": "christoffer.dall@arm.com",
  "author_date": "Fri Oct 11 13:07:06 2019 +0200",
  "author_date_iso": "2019-10-11T13:07:06+02:00",
  "committer_name": "Marc Zyngier",
  "committer_email": "maz@kernel.org",
  "committer_date": "Mon Oct 21 18:59:51 2019 +0100",
  "committer_date_iso": "2019-10-21T18:59:51+01:00",
  "files_changed": [
    "Documentation/virt/kvm/api.txt",
    "arch/arm/include/uapi/asm/kvm.h",
    "arch/arm/kvm/guest.c",
    "arch/arm64/include/uapi/asm/kvm.h",
    "arch/arm64/kvm/guest.c",
    "arch/arm64/kvm/inject_fault.c",
    "include/uapi/linux/kvm.h",
    "virt/kvm/arm/arm.c"
  ],
  "files_changed_count": 8,
  "stats": [
    {
      "file": "Documentation/virt/kvm/api.txt",
      "insertions": 21,
      "deletions": 1
    },
    {
      "file": "arch/arm/include/uapi/asm/kvm.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm/kvm/guest.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/uapi/asm/kvm.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/guest.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/inject_fault.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/uapi/linux/kvm.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "virt/kvm/arm/arm.c",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 49,
  "total_deletions": 5,
  "total_changes": 54,
  "parents": [
    "c726200dd106d4c58a281eea7159b8ba28a4ab34"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.5",
    "v5.5-rc1",
    "v5.5-rc2",
    "v5.5-rc3",
    "v5.5-rc4",
    "v5.5-rc5",
    "v5.5-rc6",
    "v5.5-rc7",
    "v5.6",
    "v5.6-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/include/uapi/asm/kvm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "Documentation/virt/kvm/api.txt",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/guest.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/kvm/guest.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/include/uapi/asm/kvm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/arm/arm.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/kvm.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/inject_fault.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}