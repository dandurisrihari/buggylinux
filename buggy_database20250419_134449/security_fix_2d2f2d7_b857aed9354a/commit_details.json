{
  "hash": "2d2f2d7322ff43e0fe92bf8cccdc0b09449bf2e1",
  "hash_short": "2d2f2d73",
  "subject": "ovl: user xattr",
  "body": "Optionally allow using \"user.overlay.\" namespace instead of\n\"trusted.overlay.\"\n\nThis is necessary for overlayfs to be able to be mounted in an unprivileged\nnamepsace.\n\nMake the option explicit, since it makes the filesystem format be\nincompatible.\n\nDisable redirect_dir and metacopy options, because these would allow\nprivilege escalation through direct manipulation of the\n\"user.overlay.redirect\" or \"user.overlay.metacopy\" xattrs.\n\nSigned-off-by: Miklos Szeredi <mszeredi@redhat.com>\nReviewed-by: Amir Goldstein <amir73il@gmail.com>",
  "full_message": "ovl: user xattr\n\nOptionally allow using \"user.overlay.\" namespace instead of\n\"trusted.overlay.\"\n\nThis is necessary for overlayfs to be able to be mounted in an unprivileged\nnamepsace.\n\nMake the option explicit, since it makes the filesystem format be\nincompatible.\n\nDisable redirect_dir and metacopy options, because these would allow\nprivilege escalation through direct manipulation of the\n\"user.overlay.redirect\" or \"user.overlay.metacopy\" xattrs.\n\nSigned-off-by: Miklos Szeredi <mszeredi@redhat.com>\nReviewed-by: Amir Goldstein <amir73il@gmail.com>",
  "author_name": "Miklos Szeredi",
  "author_email": "mszeredi@redhat.com",
  "author_date": "Mon Dec 14 15:26:14 2020 +0100",
  "author_date_iso": "2020-12-14T15:26:14+01:00",
  "committer_name": "Miklos Szeredi",
  "committer_email": "mszeredi@redhat.com",
  "committer_date": "Mon Dec 14 15:26:14 2020 +0100",
  "committer_date_iso": "2020-12-14T15:26:14+01:00",
  "files_changed": [
    "Documentation/filesystems/overlayfs.rst",
    "fs/overlayfs/inode.c",
    "fs/overlayfs/overlayfs.h",
    "fs/overlayfs/ovl_entry.h",
    "fs/overlayfs/super.c",
    "fs/overlayfs/util.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/filesystems/overlayfs.rst",
      "insertions": 11,
      "deletions": 2
    },
    {
      "file": "fs/overlayfs/inode.c",
      "insertions": 9,
      "deletions": 3
    },
    {
      "file": "fs/overlayfs/overlayfs.h",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "fs/overlayfs/ovl_entry.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/overlayfs/super.c",
      "insertions": 53,
      "deletions": 8
    },
    {
      "file": "fs/overlayfs/util.c",
      "insertions": 3,
      "deletions": 2
    }
  ],
  "total_insertions": 82,
  "total_deletions": 18,
  "total_changes": 100,
  "parents": [
    "82a763e61e2b601309d696d4fa514c77d64ee1be"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "privilege escalation"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/overlayfs/inode.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/overlayfs/ovl_entry.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "Documentation/filesystems/overlayfs.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/overlayfs/super.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/overlayfs/overlayfs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/overlayfs/util.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}