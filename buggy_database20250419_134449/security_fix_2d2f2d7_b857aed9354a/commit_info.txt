Commit Hash: 2d2f2d7322ff43e0fe92bf8cccdc0b09449bf2e1
Subject: ovl: user xattr


Security Keywords:
- privilege escalation

Full commit message:
ovl: user xattr

Optionally allow using "user.overlay." namespace instead of
"trusted.overlay."

This is necessary for overlayfs to be able to be mounted in an unprivileged
namepsace.

Make the option explicit, since it makes the filesystem format be
incompatible.

Disable redirect_dir and metacopy options, because these would allow
privilege escalation through direct manipulation of the
"user.overlay.redirect" or "user.overlay.metacopy" xattrs.

Signed-off-by: Miklos Szeredi <mszeredi@redhat.com>
Reviewed-by: Amir Goldstein <amir73il@gmail.com>

Metadata:
Author: Miklos Szeredi <mszeredi@redhat.com>
Author Date: Mon Dec 14 15:26:14 2020 +0100
Committer: Miklos Szeredi <mszeredi@redhat.com>
Commit Date: Mon Dec 14 15:26:14 2020 +0100

Files Changed: 6
Lines Added: 82
Lines Removed: 18
Total Changes: 100
