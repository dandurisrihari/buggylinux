Commit Hash: b463a6f744a263fccd7da14db1afdc880371a280
Subject: KVM: Non-atomic interrupt injection


Security Keywords:
- injection

Full commit message:
KVM: Non-atomic interrupt injection

Change the interrupt injection code to work from preemptible, interrupts
enabled context.  This works by adding a ->cancel_injection() operation
that undoes an injection in case we were not able to actually enter the guest
(this condition could never happen with atomic injection).

Signed-off-by: Avi Kivity <avi@redhat.com>

Metadata:
Author: Avi Kivity <avi@redhat.com>
Author Date: Tue Jul 20 15:06:17 2010 +0300
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Sun Oct 24 10:52:54 2010 +0200

Files Changed: 4
Lines Added: 40
Lines Removed: 20
Total Changes: 60
