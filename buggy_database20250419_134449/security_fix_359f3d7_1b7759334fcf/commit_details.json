{
  "hash": "359f3d743f3a762cc2cc7ddb7c6fb4c57b9a06cc",
  "hash_short": "359f3d74",
  "subject": "Merge tag 'mmc-v5.15' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc",
  "body": "Pull MMC and MEMSTICK updates from Ulf Hansson:\n \"MMC core:\n   - Return a proper response in case of an ioctl error\n   - Issue HPI to interrupt BKOPS for eMMC if it timed out\n   - Avoid hogging the CPU while polling for busy\n   - Extend sd8787 pwrseq to support the wilc1000 SDIO\n   - Remove a couple of confusing warning messages\n   - Clarify comment for ->card_busy() host ops\n\n  MMC host:\n   - dw_mmc: Add data CRC error injection\n   - mmci: De-assert reset during ->probe()\n   - rtsx_pci: Fix long reads when clock is pre-scaled\n   - sdhci: Correct the tuning command handle for PIO mode\n   - sdhci-esdhc-imx: Improve support for auto tuning\n   - sdhci-msm: Add support for the sc7280\n   - sdhci-of-arasan: Don't auto tune for DDR50 mode for ZynqMP\n   - sdhci-of-arasan: Enable support for auto cmd12\n   - sdhci-of-arasan: Use 19MHz for SD default speed for ZynqMP for level shifter\n   - usdhi6rol0: Implement the ->card_busy() host ops\n\n  MEMSTICK:\n   - A couple of minor cleanups\"\n\n* tag 'mmc-v5.15' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc: (52 commits)\n  mmc: queue: Remove unused parameters(request_queue)\n  mmc: pwrseq: sd8787: fix compilation warning\n  mmc: core: Return correct emmc response in case of ioctl error\n  mmc: sdhci-esdhc-imx: Select the correct mode for auto tuning\n  mmc: sdhci-esdhc-imx: Remove redundant code for manual tuning\n  mmc: core: Issue HPI in case the BKOPS timed out\n  mmc: queue: Match the data type of max_segments\n  mmc: switch from 'pci_' to 'dma_' API\n  memstick: switch from 'pci_' to 'dma_' API\n  memstick: r592: Change the name of the 'pci_driver' structure to be consistent\n  mmc: pwrseq: add wilc1000_sdio dependency for pwrseq_sd8787\n  mmc: pwrseq: sd8787: add support for wilc1000\n  dt-bindings: mmc: Extend pwrseq-sd8787 binding for wilc1000\n  dt-bindings: mmc: fsl-imx-esdhc: change the pinctrl-names rule\n  dt-bindings: mmc: fsl-imx-esdhc: add a new compatible string\n  dt-bindings: mmc: renesas,sdhi: Document RZ/G2L bindings\n  dt-bindings: mmc: renesas,sdhi: Fix dtbs-check warning\n  mmc: core: Update ->card_busy() callback comment\n  mmc: usdhi6rol0: Implement card_busy function\n  mmc: sdhci: Correct the tuning command handle for PIO mode\n  ...",
  "full_message": "Merge tag 'mmc-v5.15' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc\n\nPull MMC and MEMSTICK updates from Ulf Hansson:\n \"MMC core:\n   - Return a proper response in case of an ioctl error\n   - Issue HPI to interrupt BKOPS for eMMC if it timed out\n   - Avoid hogging the CPU while polling for busy\n   - Extend sd8787 pwrseq to support the wilc1000 SDIO\n   - Remove a couple of confusing warning messages\n   - Clarify comment for ->card_busy() host ops\n\n  MMC host:\n   - dw_mmc: Add data CRC error injection\n   - mmci: De-assert reset during ->probe()\n   - rtsx_pci: Fix long reads when clock is pre-scaled\n   - sdhci: Correct the tuning command handle for PIO mode\n   - sdhci-esdhc-imx: Improve support for auto tuning\n   - sdhci-msm: Add support for the sc7280\n   - sdhci-of-arasan: Don't auto tune for DDR50 mode for ZynqMP\n   - sdhci-of-arasan: Enable support for auto cmd12\n   - sdhci-of-arasan: Use 19MHz for SD default speed for ZynqMP for level shifter\n   - usdhi6rol0: Implement the ->card_busy() host ops\n\n  MEMSTICK:\n   - A couple of minor cleanups\"\n\n* tag 'mmc-v5.15' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc: (52 commits)\n  mmc: queue: Remove unused parameters(request_queue)\n  mmc: pwrseq: sd8787: fix compilation warning\n  mmc: core: Return correct emmc response in case of ioctl error\n  mmc: sdhci-esdhc-imx: Select the correct mode for auto tuning\n  mmc: sdhci-esdhc-imx: Remove redundant code for manual tuning\n  mmc: core: Issue HPI in case the BKOPS timed out\n  mmc: queue: Match the data type of max_segments\n  mmc: switch from 'pci_' to 'dma_' API\n  memstick: switch from 'pci_' to 'dma_' API\n  memstick: r592: Change the name of the 'pci_driver' structure to be consistent\n  mmc: pwrseq: add wilc1000_sdio dependency for pwrseq_sd8787\n  mmc: pwrseq: sd8787: add support for wilc1000\n  dt-bindings: mmc: Extend pwrseq-sd8787 binding for wilc1000\n  dt-bindings: mmc: fsl-imx-esdhc: change the pinctrl-names rule\n  dt-bindings: mmc: fsl-imx-esdhc: add a new compatible string\n  dt-bindings: mmc: renesas,sdhi: Document RZ/G2L bindings\n  dt-bindings: mmc: renesas,sdhi: Fix dtbs-check warning\n  mmc: core: Update ->card_busy() callback comment\n  mmc: usdhi6rol0: Implement card_busy function\n  mmc: sdhci: Correct the tuning command handle for PIO mode\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue Aug 31 14:31:10 2021 -0700",
  "author_date_iso": "2021-08-31T14:31:10-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Aug 31 14:31:10 2021 -0700",
  "committer_date_iso": "2021-08-31T14:31:10-07:00",
  "files_changed": [
    "drivers/mmc/core/block.c",
    "drivers/mmc/core/core.c",
    "include/linux/mmc/host.h"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "Documentation/devicetree/bindings/mmc/fsl-imx-esdhc.yaml",
      "insertions": 12,
      "deletions": 6
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/mmc-pwrseq-sd8787.yaml",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/renesas,sdhi.yaml",
      "insertions": 89,
      "deletions": 44
    },
    {
      "file": "Documentation/devicetree/bindings/mmc/sdhci-msm.txt",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/memstick/core/ms_block.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/memstick/host/r592.c",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "drivers/memstick/host/tifm_ms.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "drivers/mmc/core/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/core/block.c",
      "insertions": 33,
      "deletions": 44
    },
    {
      "file": "drivers/mmc/core/core.c",
      "insertions": 7,
      "deletions": 6
    },
    {
      "file": "drivers/mmc/core/crypto.c",
      "insertions": 4,
      "deletions": 11
    },
    {
      "file": "drivers/mmc/core/host.c",
      "insertions": 11,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/core/host.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/core/mmc_ops.c",
      "insertions": 13,
      "deletions": 3
    },
    {
      "file": "drivers/mmc/core/mmc_ops.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/core/pwrseq_sd8787.c",
      "insertions": 12,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/core/queue.c",
      "insertions": 8,
      "deletions": 26
    },
    {
      "file": "drivers/mmc/core/sdio_cis.c",
      "insertions": 17,
      "deletions": 5
    },
    {
      "file": "drivers/mmc/host/cqhci-crypto.h",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/host/dw_mmc.c",
      "insertions": 74,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/dw_mmc.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/mmc_spi.c",
      "insertions": 4,
      "deletions": 11
    },
    {
      "file": "drivers/mmc/host/mmci.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/moxart-mmc.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/renesas_sdhi.h",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "drivers/mmc/host/renesas_sdhi_core.c",
      "insertions": 3,
      "deletions": 87
    },
    {
      "file": "drivers/mmc/host/renesas_sdhi_internal_dmac.c",
      "insertions": 128,
      "deletions": 7
    },
    {
      "file": "drivers/mmc/host/renesas_sdhi_sys_dmac.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/mmc/host/rtsx_pci_sdmmc.c",
      "insertions": 23,
      "deletions": 13
    },
    {
      "file": "drivers/mmc/host/sdhci-esdhc-imx.c",
      "insertions": 66,
      "deletions": 12
    },
    {
      "file": "drivers/mmc/host/sdhci-msm.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/sdhci-of-arasan.c",
      "insertions": 44,
      "deletions": 7
    },
    {
      "file": "drivers/mmc/host/sdhci.c",
      "insertions": 18,
      "deletions": 9
    },
    {
      "file": "drivers/mmc/host/sdhci.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/mmc/host/sh_mmcif.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/host/tifm_sd.c",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "drivers/mmc/host/usdhi6rol0.c",
      "insertions": 12,
      "deletions": 2
    },
    {
      "file": "drivers/mmc/host/via-sdmmc.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/mmc/core.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "include/linux/mmc/host.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/platform_data/mmc-esdhc-imx.h",
      "insertions": 0,
      "deletions": 42
    }
  ],
  "total_insertions": 647,
  "total_deletions": 374,
  "total_changes": 1021,
  "parents": [
    "8e235ff9a1e3dc3d800224ab97bcd2418d3b19c3",
    "a75c956162978097c0a60d95971c97ae486a68d7"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/mmc/core/block.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/mmc/core/core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/mmc/host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}