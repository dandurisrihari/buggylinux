commit 366fd1000995d4cf64e1a61a0d78a051550b9841
Author: Slawomir Mrozowicz <slawomirx.mrozowicz@intel.com>
Date:   Tue Mar 1 11:40:08 2022 +0000

    ixgbe: add the ability for the PF to disable VF link state
    
    Add support for ndo_set_vf_link_state the Network Device Option that
    allows the PF driver to control the virtual link state of the VF devices.
    Without this change a VF cannot be disabled/enabled by the administrator.
    In the implementation the auto state takes over PF link state to
    VF link setting, the enable state is not supported, the disable state
    shut off the VF link regardless of the PF setting.
    
    Signed-off-by: Slawomir Mrozowicz <slawomirx.mrozowicz@intel.com>
    Tested-by: Konrad Jankowski <konrad0.jankowski@intel.com>
    Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>

diff --git a/drivers/net/ethernet/intel/ixgbe/ixgbe.h b/drivers/net/ethernet/intel/ixgbe/ixgbe.h
index 4a69823e6abd..c9bf18086d9c 100644
--- a/drivers/net/ethernet/intel/ixgbe/ixgbe.h
+++ b/drivers/net/ethernet/intel/ixgbe/ixgbe.h
@@ -177,6 +177,8 @@ struct vf_data_storage {
 	u16 pf_vlan; /* When set, guest VLAN config not allowed. */
 	u16 pf_qos;
 	u16 tx_rate;
+	int link_enable;
+	int link_state;
 	u8 spoofchk_enabled;
 	bool rss_query_enabled;
 	u8 trusted;