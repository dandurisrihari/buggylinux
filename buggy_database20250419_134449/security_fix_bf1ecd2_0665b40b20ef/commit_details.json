{
  "hash": "bf1ecd210541ef5f3a110e88e8ca5d33b4aa5c23",
  "hash_short": "bf1ecd21",
  "subject": "cfg80211: Allow cfg80211_connect_result() errors to be distinguished",
  "body": "Previously, the status parameter to cfg80211_connect_result() was\ndocumented as using WLAN_STATUS_UNSPECIFIED_FAILURE (1) when the real\nstatus code for the failure is not known. This value can be used by an\nAP (and often is) and as such, user space cannot distinguish between\nexplicitly rejected authentication/association and not being able to\neven try to associate or not receiving a response from the AP.\n\nAdd a new inline function, cfg80211_connect_timeout(), to be used when\nthe driver knows that the connection attempt failed due to a reason\nwhere connection could not be attempt or no response was received from\nthe AP. The internal functions now allow a negative status value (-1) to\nbe used as an indication of this special case. This results in the\nNL80211_ATTR_TIMED_OUT to be added to the NL80211_CMD_CONNECT event to\nallow user space to determine this case was hit. For backwards\ncompatibility, NL80211_STATUS_CODE with the value\nWLAN_STATUS_UNSPECIFIED_FAILURE is still indicated in the event in such\na case.\n\nSigned-off-by: Jouni Malinen <jouni@qca.qualcomm.com>\n[johannes: fix cfg80211_connect_bss() prototype to use int for status,\n add cfg80211_connect_timeout() to docbook, fix docbook]\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "full_message": "cfg80211: Allow cfg80211_connect_result() errors to be distinguished\n\nPreviously, the status parameter to cfg80211_connect_result() was\ndocumented as using WLAN_STATUS_UNSPECIFIED_FAILURE (1) when the real\nstatus code for the failure is not known. This value can be used by an\nAP (and often is) and as such, user space cannot distinguish between\nexplicitly rejected authentication/association and not being able to\neven try to associate or not receiving a response from the AP.\n\nAdd a new inline function, cfg80211_connect_timeout(), to be used when\nthe driver knows that the connection attempt failed due to a reason\nwhere connection could not be attempt or no response was received from\nthe AP. The internal functions now allow a negative status value (-1) to\nbe used as an indication of this special case. This results in the\nNL80211_ATTR_TIMED_OUT to be added to the NL80211_CMD_CONNECT event to\nallow user space to determine this case was hit. For backwards\ncompatibility, NL80211_STATUS_CODE with the value\nWLAN_STATUS_UNSPECIFIED_FAILURE is still indicated in the event in such\na case.\n\nSigned-off-by: Jouni Malinen <jouni@qca.qualcomm.com>\n[johannes: fix cfg80211_connect_bss() prototype to use int for status,\n add cfg80211_connect_timeout() to docbook, fix docbook]\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "author_name": "Jouni Malinen",
  "author_email": "jouni@qca.qualcomm.com",
  "author_date": "Tue May 31 00:16:50 2016 +0300",
  "author_date_iso": "2016-05-31T00:16:50+03:00",
  "committer_name": "Johannes Berg",
  "committer_email": "johannes.berg@intel.com",
  "committer_date": "Tue May 31 15:22:15 2016 +0200",
  "committer_date_iso": "2016-05-31T15:22:15+02:00",
  "files_changed": [
    "Documentation/DocBook/80211.tmpl",
    "include/net/cfg80211.h",
    "include/uapi/linux/nl80211.h",
    "net/wireless/core.h",
    "net/wireless/nl80211.c",
    "net/wireless/nl80211.h",
    "net/wireless/sme.c"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "Documentation/DocBook/80211.tmpl",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/net/cfg80211.h",
      "insertions": 40,
      "deletions": 13
    },
    {
      "file": "include/uapi/linux/nl80211.h",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "net/wireless/core.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/wireless/nl80211.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "net/wireless/nl80211.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/wireless/sme.c",
      "insertions": 3,
      "deletions": 5
    }
  ],
  "total_insertions": 58,
  "total_deletions": 24,
  "total_changes": 82,
  "parents": [
    "0bb7ed426373cebf406ff3ae7b6d2344f2f4364c"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/DocBook/80211.tmpl",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/core.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/nl80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/nl80211.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/nl80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/net/cfg80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/sme.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}