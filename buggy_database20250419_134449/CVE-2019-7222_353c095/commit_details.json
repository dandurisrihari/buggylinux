{
  "hash": "353c0956a618a07ba4bbe7ad00ff29fe70e8412a",
  "hash_short": "353c0956",
  "subject": "KVM: x86: work around leak of uninitialized stack contents (CVE-2019-7222)",
  "body": "Bugzilla: 1671930\n\nEmulation of certain instructions (VMXON, VMCLEAR, VMPTRLD, VMWRITE with\nmemory operand, INVEPT, INVVPID) can incorrectly inject a page fault\nwhen passed an operand that points to an MMIO address.  The page fault\nwill use uninitialized kernel stack memory as the CR2 and error code.\n\nThe right behavior would be to abort the VM with a KVM_EXIT_INTERNAL_ERROR\nexit to userspace; however, it is not an easy fix, so for now just\nensure that the error code and CR2 are zero.\n\nEmbargoed until Feb 7th 2019.\n\nReported-by: Felix Wilhelm <fwilhelm@google.com>\nCc: stable@kernel.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "full_message": "KVM: x86: work around leak of uninitialized stack contents (CVE-2019-7222)\n\nBugzilla: 1671930\n\nEmulation of certain instructions (VMXON, VMCLEAR, VMPTRLD, VMWRITE with\nmemory operand, INVEPT, INVVPID) can incorrectly inject a page fault\nwhen passed an operand that points to an MMIO address.  The page fault\nwill use uninitialized kernel stack memory as the CR2 and error code.\n\nThe right behavior would be to abort the VM with a KVM_EXIT_INTERNAL_ERROR\nexit to userspace; however, it is not an easy fix, so for now just\nensure that the error code and CR2 are zero.\n\nEmbargoed until Feb 7th 2019.\n\nReported-by: Felix Wilhelm <fwilhelm@google.com>\nCc: stable@kernel.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "author_name": "Paolo Bonzini",
  "author_email": "pbonzini@redhat.com",
  "author_date": "Tue Jan 29 18:41:16 2019 +0100",
  "author_date_iso": "2019-01-29T18:41:16+01:00",
  "committer_name": "Paolo Bonzini",
  "committer_email": "pbonzini@redhat.com",
  "committer_date": "Thu Feb 7 19:02:56 2019 +0100",
  "committer_date_iso": "2019-02-07T19:02:56+01:00",
  "files_changed": [
    "arch/x86/kvm/x86.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 7,
      "deletions": 0
    }
  ],
  "total_insertions": 7,
  "total_deletions": 0,
  "total_changes": 7,
  "parents": [
    "cfa39381173d5f969daf43582c95ad679189cbc9"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.0",
    "v5.0-rc6",
    "v5.0-rc7",
    "v5.0-rc8",
    "v5.1",
    "v5.1-rc1",
    "v5.1-rc2",
    "v5.1-rc3",
    "v5.1-rc4",
    "v5.1-rc5"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2019-7222",
      "CVE-2019-7222"
    ],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "arch/x86/kvm/x86.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}