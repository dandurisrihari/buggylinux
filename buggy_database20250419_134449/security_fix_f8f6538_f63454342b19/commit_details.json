{
  "hash": "f8f65382c98a28e3c2b20df9dd4231dca5a11682",
  "hash_short": "f8f65382",
  "subject": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm",
  "body": "Pull KVM fixes from Radim Kr\u010dm\u00e1\u0159:\n \"ARM:\n   - Fix a VFP corruption in 32-bit guest\n   - Add missing cache invalidation for CoW pages\n   - Two small cleanups\n\n  s390:\n   - Fallout from the hugetlbfs support: pfmf interpretion and locking\n   - VSIE: fix keywrapping for nested guests\n\n  PPC:\n   - Fix a bug where pages might not get marked dirty, causing guest\n     memory corruption on migration\n   - Fix a bug causing reads from guest memory to use the wrong guest\n     real address for very large HPT guests (>256G of memory), leading\n     to failures in instruction emulation.\n\n  x86:\n   - Fix out of bound access from malicious pv ipi hypercalls\n     (introduced in rc1)\n   - Fix delivery of pending interrupts when entering a nested guest,\n     preventing arbitrarily late injection\n   - Sanitize kvm_stat output after destroying a guest\n   - Fix infinite loop when emulating a nested guest page fault and\n     improve the surrounding emulation code\n   - Two minor cleanups\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (28 commits)\n  KVM: LAPIC: Fix pv ipis out-of-bounds access\n  KVM: nVMX: Fix loss of pending IRQ/NMI before entering L2\n  arm64: KVM: Remove pgd_lock\n  KVM: Remove obsolete kvm_unmap_hva notifier backend\n  arm64: KVM: Only force FPEXC32_EL2.EN if trapping FPSIMD\n  KVM: arm/arm64: Clean dcache to PoC when changing PTE due to CoW\n  KVM: s390: Properly lock mm context allow_gmap_hpage_1m setting\n  KVM: s390: vsie: copy wrapping keys to right place\n  KVM: s390: Fix pfmf and conditional skey emulation\n  tools/kvm_stat: re-animate display of dead guests\n  tools/kvm_stat: indicate dead guests as such\n  tools/kvm_stat: handle guest removals more gracefully\n  tools/kvm_stat: don't reset stats when setting PID filter for debugfs\n  tools/kvm_stat: fix updates for dead guests\n  tools/kvm_stat: fix handling of invalid paths in debugfs provider\n  tools/kvm_stat: fix python3 issues\n  KVM: x86: Unexport x86_emulate_instruction()\n  KVM: x86: Rename emulate_instruction() to kvm_emulate_instruction()\n  KVM: x86: Do not re-{try,execute} after failed emulation in L2\n  KVM: x86: Default to not allowing emulation retry in kvm_mmu_page_fault\n  ...",
  "full_message": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm\n\nPull KVM fixes from Radim Kr\u010dm\u00e1\u0159:\n \"ARM:\n   - Fix a VFP corruption in 32-bit guest\n   - Add missing cache invalidation for CoW pages\n   - Two small cleanups\n\n  s390:\n   - Fallout from the hugetlbfs support: pfmf interpretion and locking\n   - VSIE: fix keywrapping for nested guests\n\n  PPC:\n   - Fix a bug where pages might not get marked dirty, causing guest\n     memory corruption on migration\n   - Fix a bug causing reads from guest memory to use the wrong guest\n     real address for very large HPT guests (>256G of memory), leading\n     to failures in instruction emulation.\n\n  x86:\n   - Fix out of bound access from malicious pv ipi hypercalls\n     (introduced in rc1)\n   - Fix delivery of pending interrupts when entering a nested guest,\n     preventing arbitrarily late injection\n   - Sanitize kvm_stat output after destroying a guest\n   - Fix infinite loop when emulating a nested guest page fault and\n     improve the surrounding emulation code\n   - Two minor cleanups\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (28 commits)\n  KVM: LAPIC: Fix pv ipis out-of-bounds access\n  KVM: nVMX: Fix loss of pending IRQ/NMI before entering L2\n  arm64: KVM: Remove pgd_lock\n  KVM: Remove obsolete kvm_unmap_hva notifier backend\n  arm64: KVM: Only force FPEXC32_EL2.EN if trapping FPSIMD\n  KVM: arm/arm64: Clean dcache to PoC when changing PTE due to CoW\n  KVM: s390: Properly lock mm context allow_gmap_hpage_1m setting\n  KVM: s390: vsie: copy wrapping keys to right place\n  KVM: s390: Fix pfmf and conditional skey emulation\n  tools/kvm_stat: re-animate display of dead guests\n  tools/kvm_stat: indicate dead guests as such\n  tools/kvm_stat: handle guest removals more gracefully\n  tools/kvm_stat: don't reset stats when setting PID filter for debugfs\n  tools/kvm_stat: fix updates for dead guests\n  tools/kvm_stat: fix handling of invalid paths in debugfs provider\n  tools/kvm_stat: fix python3 issues\n  KVM: x86: Unexport x86_emulate_instruction()\n  KVM: x86: Rename emulate_instruction() to kvm_emulate_instruction()\n  KVM: x86: Do not re-{try,execute} after failed emulation in L2\n  KVM: x86: Default to not allowing emulation retry in kvm_mmu_page_fault\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sat Sep 8 15:52:45 2018 -0700",
  "author_date_iso": "2018-09-08T15:52:45-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sat Sep 8 15:52:45 2018 -0700",
  "committer_date_iso": "2018-09-08T15:52:45-07:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "arch/arm/include/asm/kvm_host.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/hyp/switch.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "arch/mips/include/asm/kvm_host.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/mips/kvm/mmu.c",
      "insertions": 0,
      "deletions": 10
    },
    {
      "file": "arch/powerpc/kvm/book3s_64_mmu_hv.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/book3s_64_mmu_radix.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/s390/include/asm/mmu.h",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/priv.c",
      "insertions": 18,
      "deletions": 12
    },
    {
      "file": "arch/s390/kvm/vsie.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "insertions": 7,
      "deletions": 15
    },
    {
      "file": "arch/x86/kvm/lapic.c",
      "insertions": 20,
      "deletions": 7
    },
    {
      "file": "arch/x86/kvm/mmu.c",
      "insertions": 15,
      "deletions": 11
    },
    {
      "file": "arch/x86/kvm/svm.c",
      "insertions": 9,
      "deletions": 10
    },
    {
      "file": "arch/x86/kvm/vmx.c",
      "insertions": 31,
      "deletions": 12
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 23,
      "deletions": 5
    },
    {
      "file": "arch/x86/kvm/x86.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/kvm/kvm_stat/kvm_stat",
      "insertions": 49,
      "deletions": 10
    },
    {
      "file": "virt/kvm/arm/mmu.c",
      "insertions": 8,
      "deletions": 13
    },
    {
      "file": "virt/kvm/arm/trace.h",
      "insertions": 0,
      "deletions": 15
    }
  ],
  "total_insertions": 204,
  "total_deletions": 134,
  "total_changes": 338,
  "parents": [
    "0f3aa48ad4c307fb72b8eb43add26c8f314d396a",
    "bdf7ffc89922a52a4f08a12f7421ea24bb7626a0"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.19",
    "v4.19-rc3",
    "v4.19-rc4",
    "v4.19-rc5",
    "v4.19-rc6",
    "v4.19-rc7",
    "v4.19-rc8",
    "v4.20",
    "v4.20-rc1",
    "v4.20-rc2"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Sanitize",
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": []
}