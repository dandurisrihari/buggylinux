{
  "hash": "4a7d37e824f57dbace61abf62f53843800bd245c",
  "hash_short": "4a7d37e8",
  "subject": "Merge tag 'hardening-v6.3-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux",
  "body": "Pull hardening updates from Kees Cook:\n \"Beyond some specific LoadPin, UBSAN, and fortify features, there are\n  other fixes scattered around in various subsystems where maintainers\n  were okay with me carrying them in my tree or were non-responsive but\n  the patches were reviewed by others:\n\n   - Replace 0-length and 1-element arrays with flexible arrays in\n     various subsystems (Paulo Miguel Almeida, Stephen Rothwell, Kees\n     Cook)\n\n   - randstruct: Disable Clang 15 support (Eric Biggers)\n\n   - GCC plugins: Drop -std=gnu++11 flag (Sam James)\n\n   - strpbrk(): Refactor to use strchr() (Andy Shevchenko)\n\n   - LoadPin LSM: Allow root filesystem switching when non-enforcing\n\n   - fortify: Use dynamic object size hints when available\n\n   - ext4: Fix CFI function prototype mismatch\n\n   - Nouveau: Fix DP buffer size arguments\n\n   - hisilicon: Wipe entire crypto DMA pool on error\n\n   - coda: Fully allocate sig_inputArgs\n\n   - UBSAN: Improve arm64 trap code reporting\n\n   - copy_struct_from_user(): Add minimum bounds check on kernel buffer\n     size\"\n\n* tag 'hardening-v6.3-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux:\n  randstruct: disable Clang 15 support\n  uaccess: Add minimum bounds check on kernel buffer size\n  arm64: Support Clang UBSAN trap codes for better reporting\n  coda: Avoid partial allocation of sig_inputArgs\n  gcc-plugins: drop -std=gnu++11 to fix GCC 13 build\n  lib/string: Use strchr() in strpbrk()\n  crypto: hisilicon: Wipe entire pool on error\n  net/i40e: Replace 0-length array with flexible array\n  io_uring: Replace 0-length array with flexible array\n  ext4: Fix function prototype mismatch for ext4_feat_ktype\n  i915/gvt: Replace one-element array with flexible-array member\n  drm/nouveau/disp: Fix nvif_outp_acquire_dp() argument size\n  LoadPin: Allow filesystem switch when not enforcing\n  LoadPin: Move pin reporting cleanly out of locking\n  LoadPin: Refactor sysctl initialization\n  LoadPin: Refactor read-only check into a helper\n  ARM: ixp4xx: Replace 0-length arrays with flexible arrays\n  fortify: Use __builtin_dynamic_object_size() when available\n  rxrpc: replace zero-lenth array with DECLARE_FLEX_ARRAY() helper",
  "full_message": "Merge tag 'hardening-v6.3-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux\n\nPull hardening updates from Kees Cook:\n \"Beyond some specific LoadPin, UBSAN, and fortify features, there are\n  other fixes scattered around in various subsystems where maintainers\n  were okay with me carrying them in my tree or were non-responsive but\n  the patches were reviewed by others:\n\n   - Replace 0-length and 1-element arrays with flexible arrays in\n     various subsystems (Paulo Miguel Almeida, Stephen Rothwell, Kees\n     Cook)\n\n   - randstruct: Disable Clang 15 support (Eric Biggers)\n\n   - GCC plugins: Drop -std=gnu++11 flag (Sam James)\n\n   - strpbrk(): Refactor to use strchr() (Andy Shevchenko)\n\n   - LoadPin LSM: Allow root filesystem switching when non-enforcing\n\n   - fortify: Use dynamic object size hints when available\n\n   - ext4: Fix CFI function prototype mismatch\n\n   - Nouveau: Fix DP buffer size arguments\n\n   - hisilicon: Wipe entire crypto DMA pool on error\n\n   - coda: Fully allocate sig_inputArgs\n\n   - UBSAN: Improve arm64 trap code reporting\n\n   - copy_struct_from_user(): Add minimum bounds check on kernel buffer\n     size\"\n\n* tag 'hardening-v6.3-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux:\n  randstruct: disable Clang 15 support\n  uaccess: Add minimum bounds check on kernel buffer size\n  arm64: Support Clang UBSAN trap codes for better reporting\n  coda: Avoid partial allocation of sig_inputArgs\n  gcc-plugins: drop -std=gnu++11 to fix GCC 13 build\n  lib/string: Use strchr() in strpbrk()\n  crypto: hisilicon: Wipe entire pool on error\n  net/i40e: Replace 0-length array with flexible array\n  io_uring: Replace 0-length array with flexible array\n  ext4: Fix function prototype mismatch for ext4_feat_ktype\n  i915/gvt: Replace one-element array with flexible-array member\n  drm/nouveau/disp: Fix nvif_outp_acquire_dp() argument size\n  LoadPin: Allow filesystem switch when not enforcing\n  LoadPin: Move pin reporting cleanly out of locking\n  LoadPin: Refactor sysctl initialization\n  LoadPin: Refactor read-only check into a helper\n  ARM: ixp4xx: Replace 0-length arrays with flexible arrays\n  fortify: Use __builtin_dynamic_object_size() when available\n  rxrpc: replace zero-lenth array with DECLARE_FLEX_ARRAY() helper",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue Feb 21 11:07:23 2023 -0800",
  "author_date_iso": "2023-02-21T11:07:23-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Feb 21 11:07:23 2023 -0800",
  "committer_date_iso": "2023-02-21T11:07:23-08:00",
  "files_changed": [
    "include/uapi/linux/io_uring.h",
    "lib/Makefile",
    "lib/ubsan.c",
    "net/rxrpc/ar-internal.h"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "arch/arm64/include/asm/brk-imm.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/traps.c",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "drivers/crypto/hisilicon/sgl.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/firmware.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/nouveau/include/nvif/outp.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/nouveau/nvif/outp.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/misc/lkdtm/heap.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/intel/i40e/i40e.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/soc/ixp4xx/ixp4xx-npe.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "fs/coda/upcall.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/ext4/sysfs.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "include/linux/compiler_attributes.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "include/linux/fortify-string.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "include/linux/uaccess.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "include/linux/ubsan.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/io_uring.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "lib/Makefile",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "lib/string.c",
      "insertions": 4,
      "deletions": 6
    },
    {
      "file": "lib/ubsan.c",
      "insertions": 68,
      "deletions": 0
    },
    {
      "file": "lib/ubsan.h",
      "insertions": 32,
      "deletions": 0
    },
    {
      "file": "net/rxrpc/ar-internal.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "scripts/gcc-plugins/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "security/Kconfig.hardening",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "security/loadpin/loadpin.c",
      "insertions": 52,
      "deletions": 37
    }
  ],
  "total_insertions": 229,
  "total_deletions": 60,
  "total_changes": 289,
  "parents": [
    "902d9fcd8dccf6a5ccd009f2ae8fec5b3db7f41b",
    "78f7a3fd6dc66cb788c21d7705977ed13c879351"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/uapi/linux/io_uring.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/ubsan.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/ar-internal.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}