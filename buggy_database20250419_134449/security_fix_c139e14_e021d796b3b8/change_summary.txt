Files changed: 12
Insertions: 12673
Deletions: 5775
Total changes: 18448

File-specific changes:
CREDITS: +5 -0
Documentation/Changes: +0 -11
Documentation/DocBook/device-drivers.tmpl: +1 -1
Documentation/DocBook/media/v4l/vidioc-expbuf.xml: +5 -3
Documentation/assoc_array.txt: +3 -3
Documentation/device-mapper/cache.txt: +6 -4
Documentation/devicetree/bindings/arm/omap/mpu.txt: +8 -0
Documentation/devicetree/bindings/arm/pmu.txt: +1 -0
Documentation/devicetree/bindings/arm/samsung/exynos-adc.txt: +1 -1
Documentation/devicetree/bindings/clock/exynos4-clock.txt: +1 -1
Documentation/devicetree/bindings/clock/exynos5250-clock.txt: +1 -1
Documentation/devicetree/bindings/clock/exynos5420-clock.txt: +1 -1
Documentation/devicetree/bindings/clock/exynos5440-clock.txt: +1 -1
Documentation/devicetree/bindings/gpio/8xxx_gpio.txt: +40 -26
Documentation/devicetree/bindings/i2c/i2c-omap.txt: +2 -1
Documentation/devicetree/bindings/mmc/ti-omap.txt: +54 -0
Documentation/devicetree/bindings/net/davinci_emac.txt: +1 -1
Documentation/devicetree/bindings/net/fsl-fec.txt: +2 -0
Documentation/devicetree/bindings/net/smsc-lan91c111.txt: +4 -0
Documentation/devicetree/bindings/rng/qcom,prng.txt: +17 -0
Documentation/devicetree/bindings/spi/nvidia,tegra20-spi.txt: +0 -5
Documentation/devicetree/bindings/vendor-prefixes.txt: +2 -0
Documentation/gpio/00-INDEX: +14 -0
Documentation/gpio/board.txt: +115 -0
Documentation/gpio/consumer.txt: +197 -0
Documentation/gpio/driver.txt: +75 -0
Documentation/{gpio.txt => gpio/gpio-legacy.txt}: +0 -0
Documentation/gpio/gpio.txt: +119 -0
Documentation/gpio/sysfs.txt: +155 -0
Documentation/mic/mpssd/mpssd.c: +12 -6
Documentation/networking/packet_mmap.txt: +10 -0
MAINTAINERS: +63 -17
Makefile: +1 -1
arch/arc/Kconfig: +1 -0
arch/arc/include/uapi/asm/unistd.h: +5 -0
arch/arc/kernel/perf_event.c: +2 -2
arch/arm/boot/dts/am335x-base0033.dts: +79 -0
arch/arm/boot/dts/am335x-igep0033.dtsi: +29 -0
arch/arm/boot/dts/am3517-evm.dts: +3 -3
arch/arm/boot/dts/am3517.dtsi: +63 -0
arch/arm/boot/dts/armada-370-db.dts: +14 -14
arch/arm/boot/dts/armada-370-xp.dtsi: +1 -1
arch/arm/boot/dts/armada-xp-mv78230.dtsi: +12 -12
arch/arm/boot/dts/armada-xp-mv78260.dtsi: +85 -24
arch/arm/boot/dts/at91sam9x5_usart3.dtsi: +4 -0
arch/arm/boot/dts/bcm2835.dtsi: +4 -0
arch/arm/boot/dts/cros5250-common.dtsi: +12 -0
arch/arm/boot/dts/imx6qdl.dtsi: +1 -1
arch/arm/boot/dts/omap-gpmc-smsc911x.dtsi: +2 -2
arch/arm/boot/dts/omap-zoom-common.dtsi: +1 -1
arch/arm/boot/dts/omap2.dtsi: +96 -0
arch/arm/boot/dts/omap2420.dtsi: +23 -0
arch/arm/boot/dts/omap2430.dtsi: +49 -0
arch/arm/boot/dts/omap3-beagle-xm.dts: +7 -0
arch/arm/boot/dts/omap3-beagle.dts: +21 -0
arch/arm/boot/dts/omap3-igep.dtsi: +77 -8
arch/arm/boot/dts/omap3-igep0020.dts: +48 -2
arch/arm/boot/dts/omap3-igep0030.dts: +2 -2
arch/arm/boot/dts/omap3-n900.dts: +23 -2
arch/arm/boot/dts/omap3-n950-n9.dtsi: +1 -1
arch/arm/boot/dts/omap3.dtsi: +42 -0
arch/arm/boot/dts/omap34xx-hs.dtsi: +16 -0
arch/arm/boot/dts/omap36xx-hs.dtsi: +16 -0
arch/arm/boot/dts/omap4-panda-common.dtsi: +10 -10
arch/arm/boot/dts/omap4-sdp.dts: +6 -6
arch/arm/boot/dts/socfpga.dtsi: +4 -3
arch/arm/boot/dts/sun6i-a31.dtsi: +15 -12
arch/arm/boot/dts/sun7i-a20.dtsi: +21 -21
arch/arm/configs/multi_v7_defconfig: +3 -0
arch/arm/configs/omap2plus_defconfig: +1 -0
arch/arm/configs/sunxi_defconfig: +7 -0
arch/arm/configs/u8500_defconfig: +3 -0
arch/arm/include/asm/memory.h: +14 -17
arch/arm/include/asm/pgtable.h: +1 -1
arch/arm/kernel/head-nommu.S: +2 -2
arch/arm/kernel/head.S: +1 -1
arch/arm/kernel/machine_kexec.c: +10 -7
arch/arm/kernel/process.c: +5 -2
arch/arm/kernel/relocate_kernel.S: +6 -2
arch/arm/kernel/setup.c: +1 -2
arch/arm/kernel/sigreturn_codes.S: +31 -9
arch/arm/kernel/stacktrace.c: +1 -1
arch/arm/kernel/traps.c: +2 -1
arch/arm/lib/delay-loop.S: +1 -0
arch/arm/mach-at91/at91rm9200_time.c: +2 -5
arch/arm/mach-at91/pm.h: +4 -0
arch/arm/mach-at91/sama5d3.c: +3 -3
arch/arm/mach-davinci/devices-da8xx.c: +2 -2
arch/arm/mach-davinci/dm355.c: +2 -1
arch/arm/mach-davinci/dm365.c: +2 -1
arch/arm/mach-davinci/dm644x.c: +2 -1
arch/arm/mach-davinci/dm646x.c: +3 -3
arch/arm/mach-footbridge/common.c: +3 -0
arch/arm/mach-footbridge/dc21285.c: +0 -2
arch/arm/mach-footbridge/ebsa285.c: +13 -9
arch/arm/mach-highbank/highbank.c: +23 -0
arch/arm/mach-omap2/Makefile: +3 -3
arch/arm/mach-omap2/board-generic.c: +18 -0
arch/arm/mach-omap2/common.h: +0 -1
arch/arm/mach-omap2/display.c: +0 -78
arch/arm/mach-omap2/dss-common.c: +1 -1
arch/arm/mach-omap2/gpmc.c: +19 -39
arch/arm/mach-omap2/omap-secure.h: +7 -0
arch/arm/mach-omap2/omap4-common.c: +0 -57
arch/arm/mach-omap2/omap_device.c: +24 -0
arch/arm/mach-omap2/omap_device.h: +1 -0
arch/arm/mach-omap2/omap_hwmod.c: +122 -21
arch/arm/mach-omap2/omap_hwmod_3xxx_data.c: +3 -10
arch/arm/mach-omap2/omap_hwmod_44xx_data.c: +2 -10
arch/arm/mach-omap2/omap_hwmod_54xx_data.c: +3 -10
arch/arm/mach-omap2/pdata-quirks.c: +1 -0
arch/arm/mach-omap2/pm34xx.c: +1 -1
arch/arm/mach-omap2/powerdomain.c: +2 -1
arch/arm/mach-omap2/prm44xx_54xx.h: +1 -1
arch/arm/mach-pxa/reset.c: +7 -1
arch/arm/mach-pxa/tosa.c: +51 -51
arch/arm/mach-socfpga/Kconfig: +1 -0
arch/arm/mach-tegra/fuse.c: +2 -10
arch/arm/mach-ux500/cpu-db8500.c: +4 -0
arch/arm/mach-vexpress/spc.c: +40 -0
arch/arm/mach-vexpress/spc.h: +1 -0
arch/arm/mach-vexpress/tc2_pm.c: +61 -5
arch/arm/mm/dma-mapping.c: +41 -47
arch/arm/mm/init.c: +1 -1
arch/arm/mm/mmap.c: +1 -1
arch/arm/mm/pgd.c: +2 -1
arch/arm/plat-omap/include/plat/dmtimer.h: +4 -1
arch/arm/xen/p2m.c: +3 -2
arch/arm64/Kconfig: +1 -2
arch/arm64/boot/dts/foundation-v8.dts: +2 -0
arch/arm64/include/asm/io.h: +1 -1
arch/arm64/include/asm/irqflags.h: +3 -0
arch/arm64/include/asm/pgtable-hwdef.h: +1 -1
arch/arm64/include/asm/pgtable.h: +18 -15
arch/arm64/kernel/debug-monitors.c: +12 -8
arch/arm64/kernel/entry.S: +7 -22
arch/arm64/kernel/head.S: +2 -1
arch/arm64/kernel/ptrace.c: +19 -21
arch/arm64/kernel/setup.c: +5 -0
arch/arm64/kernel/smp.c: +1 -0
arch/arm64/mm/proc.S: +1 -1
arch/avr32/boards/favr-32/setup.c: +3 -1
arch/avr32/configs/atngw100_defconfig: +0 -1
arch/avr32/configs/atngw100_evklcd100_defconfig: +0 -1
arch/avr32/configs/atngw100_evklcd101_defconfig: +0 -1
arch/avr32/configs/atngw100_mrmt_defconfig: +0 -1
arch/avr32/configs/atngw100mkii_defconfig: +0 -1
arch/avr32/configs/atngw100mkii_evklcd100_defconfig: +0 -1
arch/avr32/configs/atngw100mkii_evklcd101_defconfig: +0 -1
arch/avr32/configs/atstk1002_defconfig: +0 -1
arch/avr32/configs/atstk1003_defconfig: +0 -1
arch/avr32/configs/atstk1004_defconfig: +0 -1
arch/avr32/configs/atstk1006_defconfig: +0 -1
arch/avr32/configs/favr-32_defconfig: +0 -1
arch/avr32/configs/hammerhead_defconfig: +0 -1
arch/avr32/configs/merisc_defconfig: +0 -1
arch/avr32/configs/mimc200_defconfig: +0 -1
arch/avr32/kernel/time.c: +1 -1
arch/avr32/mach-at32ap/pm.c: +1 -1
arch/parisc/configs/c3000_defconfig: +1 -1
arch/parisc/configs/c8000_defconfig: +3 -33
arch/parisc/configs/generic-64bit_defconfig: +4 -35
arch/parisc/include/asm/serial.h: +0 -2
arch/parisc/kernel/hardware.c: +6 -1
arch/parisc/kernel/head.S: +2 -4
arch/parisc/kernel/sys_parisc.c: +15 -10
arch/parisc/kernel/unwind.c: +3 -6
arch/parisc/kernel/vmlinux.lds.S: +60 -78
arch/parisc/mm/init.c: +16 -3
arch/powerpc/Makefile: +7 -0
arch/powerpc/boot/dts/mpc5121.dtsi: +0 -1
arch/powerpc/boot/dts/xcalibur1501.dts: +2 -2
arch/powerpc/boot/dts/xpedite5301.dts: +2 -2
arch/powerpc/boot/dts/xpedite5330.dts: +2 -2
arch/powerpc/boot/dts/xpedite5370.dts: +2 -2
arch/powerpc/boot/util.S: +14 -0
arch/powerpc/configs/52xx/cm5200_defconfig: +2 -1
arch/powerpc/configs/52xx/lite5200b_defconfig: +2 -1
arch/powerpc/configs/52xx/motionpro_defconfig: +2 -1
arch/powerpc/configs/52xx/pcm030_defconfig: +2 -1
arch/powerpc/configs/52xx/tqm5200_defconfig: +2 -1
arch/powerpc/configs/mpc5200_defconfig: +2 -1
arch/powerpc/configs/pasemi_defconfig: +3 -4
arch/powerpc/include/asm/pgalloc-32.h: +2 -4
arch/powerpc/include/asm/pgalloc-64.h: +3 -4
arch/powerpc/include/asm/ppc_asm.h: +2 -0
arch/powerpc/include/asm/reg.h: +7 -0
arch/powerpc/include/asm/timex.h: +8 -0
arch/powerpc/kernel/machine_kexec.c: +13 -1
arch/powerpc/kernel/misc_64.S: +4 -1
arch/powerpc/kernel/nvram_64.c: +1 -1
arch/powerpc/kernel/signal_32.c: +7 -9
arch/powerpc/kernel/signal_64.c: +6 -0
arch/powerpc/kernel/vdso32/gettimeofday.S: +6 -0
arch/powerpc/mm/hugetlbpage-book3e.c: +1 -2
arch/powerpc/mm/tlb_nohash.c: +1 -1
arch/powerpc/platforms/Kconfig.cputype: +17 -3
arch/powerpc/platforms/powernv/pci-ioda.c: +1 -0
arch/powerpc/sysdev/ppc4xx_ocm.c: +1 -1
arch/s390/Kconfig: +4 -4
arch/s390/crypto/aes_s390.c: +29 -21
arch/s390/include/asm/page.h: +13 -25
arch/s390/include/asm/sclp.h: +2 -1
arch/s390/include/asm/vdso.h: +3 -2
arch/s390/kernel/asm-offsets.c: +3 -1
arch/s390/kernel/compat_signal.c: +1 -1
arch/s390/kernel/pgm_check.S: +1 -1
arch/s390/kernel/signal.c: +1 -1
arch/s390/kernel/time.c: +22 -24
arch/s390/kernel/vdso.c: +1 -1
arch/s390/kernel/vdso32/clock_gettime.S: +14 -17
arch/s390/kernel/vdso32/gettimeofday.S: +5 -4
arch/s390/kernel/vdso64/clock_getres.S: +3 -1
arch/s390/kernel/vdso64/clock_gettime.S: +13 -11
arch/s390/kernel/vdso64/gettimeofday.S: +5 -4
arch/s390/lib/uaccess_pt.c: +3 -0
arch/um/Makefile: +4 -5
arch/um/kernel/sysrq.c: +2 -2
arch/x86/Makefile: +7 -1
arch/x86/boot/Makefile: +3 -3
arch/x86/boot/compressed/Makefile: +1 -0
arch/x86/crypto/Makefile: +2 -1
arch/x86/crypto/aesni-intel_glue.c: +1 -1
arch/x86/crypto/camellia_aesni_avx2_glue.c: +1 -1
arch/x86/crypto/camellia_aesni_avx_glue.c: +1 -1
arch/x86/crypto/cast5_avx_glue.c: +1 -1
arch/x86/crypto/cast6_avx_glue.c: +1 -1
arch/x86/crypto/serpent_avx2_glue.c: +1 -1
arch/x86/crypto/serpent_avx_glue.c: +1 -1
arch/x86/crypto/serpent_sse2_glue.c: +1 -1
arch/x86/crypto/sha256_ssse3_glue.c: +2 -2
arch/x86/crypto/twofish_avx_glue.c: +1 -1
arch/x86/include/asm/atomic.h: +2 -2
arch/x86/include/asm/atomic64_64.h: +2 -2
arch/x86/include/asm/bitops.h: +3 -3
arch/x86/include/asm/local.h: +2 -2
arch/x86/include/asm/rmwcc.h: +4 -4
arch/x86/include/asm/simd.h: +11 -0
arch/x86/include/asm/trace/irq_vectors.h: +11 -0
arch/x86/kernel/reboot.c: +11 -0
arch/x86/kvm/lapic.c: +21 -14
arch/x86/kvm/lapic.h: +2 -2
arch/x86/kvm/x86.c: +1 -39
arch/x86/platform/efi/early_printk.c: +1 -1
arch/x86/platform/efi/efi.c: +0 -7
arch/x86/platform/uv/tlb_uv.c: +3 -2
arch/x86/realmode/rm/Makefile: +2 -1
block/blk-cgroup.h: +4 -4
block/blk-flush.c: +1 -18
block/blk-mq.c: +10 -6
crypto/Kconfig: +11 -12
crypto/Makefile: +7 -1
{arch/x86/crypto => crypto}/ablk_helper.c: +7 -6
crypto/ablkcipher.c: +1 -20
crypto/algif_hash.c: +3 -0
crypto/algif_skcipher.c: +3 -0
crypto/ansi_cprng.c: +2 -2
crypto/asymmetric_keys/rsa.c: +3 -2
crypto/asymmetric_keys/x509_public_key.c: +1 -80
crypto/authenc.c: +37 -24
crypto/authencesn.c: +8 -26
crypto/ccm.c: +4 -3
crypto/gcm.c: +1 -1
crypto/memneq.c: +138 -0
crypto/tcrypt.c: +4 -0
crypto/testmgr.c: +12 -14
drivers/acpi/acpica/acresrc.h: +3 -3
drivers/acpi/acpica/nsalloc.c: +14 -4
drivers/acpi/acpica/nsutils.c: +10 -8
drivers/acpi/acpica/rscalc.c: +7 -2
drivers/acpi/acpica/rscreate.c: +17 -19
drivers/acpi/acpica/rsutils.c: +1 -1
drivers/acpi/acpica/utdebug.c: +24 -7
drivers/acpi/nvs.c: +0 -1
drivers/acpi/pci_root.c: +3 -0
drivers/acpi/scan.c: +1 -1
drivers/acpi/sleep.c: +1 -1
drivers/acpi/sysfs.c: +28 -26
drivers/ata/ahci.c: +2 -0
drivers/ata/ahci_platform.c: +1 -0
drivers/ata/libata-core.c: +1 -2
drivers/ata/libata-scsi.c: +1 -0
drivers/ata/libata-zpodd.c: +1 -3
drivers/ata/pata_arasan_cf.c: +1 -0
drivers/base/regmap/regmap-mmio.c: +6 -5
drivers/base/regmap/regmap.c: +4 -4
drivers/block/null_blk.c: +4 -4
drivers/block/xen-blkfront.c: +6 -1
drivers/char/hw_random/Kconfig: +25 -0
drivers/char/hw_random/Makefile: +2 -0
drivers/char/hw_random/msm-rng.c: +197 -0
drivers/char/hw_random/omap3-rom-rng.c: +141 -0
drivers/char/hw_random/pseries-rng.c: +2 -3
drivers/char/hw_random/via-rng.c: +1 -1
drivers/char/i8k.c: +7 -0
drivers/clocksource/Kconfig: +1 -0
drivers/clocksource/sh_mtu2.c: +14 -2
drivers/clocksource/sh_tmu.c: +17 -3
drivers/cpufreq/at32ap-cpufreq.c: +1 -1
drivers/cpufreq/exynos4210-cpufreq.c: +0 -1
drivers/cpufreq/exynos4x12-cpufreq.c: +0 -1
drivers/cpufreq/exynos5250-cpufreq.c: +0 -1
drivers/cpufreq/tegra-cpufreq.c: +1 -3
drivers/cpuidle/cpuidle.c: +1 -1
drivers/crypto/caam/Kconfig: +19 -6
drivers/crypto/caam/Makefile: +3 -1
drivers/crypto/caam/caamalg.c: +49 -85
drivers/crypto/caam/caamhash.c: +26 -62
drivers/crypto/caam/caamrng.c: +9 -20
drivers/crypto/caam/ctrl.c: +331 -87
drivers/crypto/caam/desc.h: +9 -8
drivers/crypto/caam/intern.h: +11 -9
drivers/crypto/caam/jr.c: +232 -108
drivers/crypto/caam/jr.h: +2 -3
drivers/crypto/caam/regs.h: +11 -3
drivers/crypto/caam/sg_sw_sec4.h: +25 -9
drivers/crypto/dcp.c: +20 -29
drivers/crypto/ixp4xx_crypto.c: +9 -17
drivers/crypto/mv_cesa.c: +7 -7
drivers/crypto/omap-aes.c: +3 -3
drivers/crypto/omap-sham.c: +1 -0
drivers/crypto/picoxcell_crypto.c: +8 -24
drivers/crypto/sahara.c: +1 -1
drivers/crypto/talitos.c: +47 -56
drivers/crypto/tegra-aes.c: +8 -18
drivers/dma/amba-pl08x.c: +1 -1
drivers/dma/mmp_pdma.c: +1 -0
drivers/dma/s3c24xx-dma.c: +2 -31
drivers/dma/sh/rcar-hpbdma.c: +10 -1
drivers/edac/sb_edac.c: +1 -1
drivers/extcon/extcon-arizona.c: +1 -3
drivers/extcon/extcon-class.c: +2 -1
drivers/firewire/sbp2.c: +1 -0
drivers/firmware/efi/efi-pstore.c: +147 -16
drivers/firmware/efi/efivars.c: +8 -4
drivers/firmware/efi/vars.c: +10 -2
drivers/gpio/gpio-bcm-kona.c: +1 -1
drivers/gpio/gpio-davinci.c: +3 -1
drivers/gpio/gpio-mpc8xxx.c: +6 -2
drivers/gpio/gpio-msm-v2.c: +1 -1
drivers/gpio/gpio-mvebu.c: +1 -1
drivers/gpio/gpio-pl061.c: +5 -5
drivers/gpio/gpio-rcar.c: +1 -1
drivers/gpio/gpio-tb10x.c: +1 -0
drivers/gpio/gpio-twl4030.c: +9 -4
drivers/gpio/gpio-ucb1400.c: +1 -0
drivers/gpio/gpiolib.c: +47 -31
drivers/gpu/drm/drm_edid.c: +2 -2
drivers/gpu/drm/drm_sysfs.c: +1 -1
drivers/gpu/drm/exynos/exynos_drm_drv.c: +22 -13
drivers/gpu/drm/exynos/exynos_drm_fimd.c: +1 -1
drivers/gpu/drm/i915/i915_drv.c: +2 -0
drivers/gpu/drm/i915/i915_gem.c: +3 -4
drivers/gpu/drm/i915/i915_gem_dmabuf.c: +8 -5
drivers/gpu/drm/i915/i915_gem_execbuffer.c: +32 -28
drivers/gpu/drm/i915/i915_gem_gtt.c: +4 -2
drivers/gpu/drm/i915/i915_reg.h: +1 -0
drivers/gpu/drm/i915/intel_ddi.c: +3 -2
drivers/gpu/drm/i915/intel_display.c: +7 -7
drivers/gpu/drm/i915/intel_dp.c: +13 -21
drivers/gpu/drm/i915/intel_drv.h: +1 -1
drivers/gpu/drm/i915/intel_pm.c: +8 -7
drivers/gpu/drm/nouveau/Makefile: +1 -0
drivers/gpu/drm/nouveau/core/engine/device/nv50.c: +2 -2
drivers/gpu/drm/nouveau/core/engine/fifo/nv50.c: +3 -0
drivers/gpu/drm/nouveau/core/engine/fifo/nv84.c: +3 -0
drivers/gpu/drm/nouveau/core/engine/software/nv50.c: +1 -1
drivers/gpu/drm/nouveau/core/include/subdev/clock.h: +4 -0
drivers/gpu/drm/nouveau/core/subdev/clock/nv04.c: +6 -1
drivers/gpu/drm/nouveau/core/subdev/clock/nvaa.c: +445 -0
drivers/gpu/drm/nouveau/dispnv04/overlay.c: +31 -11
drivers/gpu/drm/nouveau/nouveau_display.c: +2 -1
drivers/gpu/drm/nouveau/nouveau_hwmon.c: +0 -1
drivers/gpu/drm/nouveau/nv50_display.c: +1 -1
drivers/gpu/drm/qxl/qxl_release.c: +1 -0
drivers/gpu/drm/radeon/atombios_i2c.c: +9 -6
drivers/gpu/drm/radeon/dce6_afmt.c: +7 -5
drivers/gpu/drm/radeon/ni_dpm.c: +11 -17
drivers/gpu/drm/radeon/r600_hdmi.c: +2 -6
drivers/gpu/drm/radeon/radeon.h: +4 -4
drivers/gpu/drm/radeon/radeon_atombios.c: +1 -1
drivers/gpu/drm/radeon/radeon_cs.c: +2 -2
drivers/gpu/drm/radeon/radeon_drv.h: +2 -1
drivers/gpu/drm/radeon/radeon_gart.c: +10 -6
drivers/gpu/drm/radeon/radeon_pm.c: +14 -41
drivers/gpu/drm/radeon/radeon_trace.h: +33 -0
drivers/gpu/drm/radeon/reg_srcs/cayman: +2 -2
drivers/gpu/drm/radeon/reg_srcs/evergreen: +2 -2
drivers/gpu/drm/radeon/si.c: +9 -2
drivers/gpu/drm/tegra/drm.c: +19 -15
drivers/gpu/drm/tegra/drm.h: +1 -1
drivers/gpu/drm/tegra/fb.c: +1 -1
drivers/gpu/drm/tegra/rgb.c: +7 -4
drivers/gpu/drm/udl/udl_gem.c: +6 -0
drivers/gpu/drm/vmwgfx/vmwgfx_buffer.c: +2 -0
drivers/gpu/drm/vmwgfx/vmwgfx_drv.h: +1 -0
drivers/gpu/drm/vmwgfx/vmwgfx_kms.c: +1 -0
drivers/gpu/drm/vmwgfx/vmwgfx_ldu.c: +4 -0
drivers/gpu/drm/vmwgfx/vmwgfx_resource.c: +81 -37
drivers/gpu/drm/vmwgfx/vmwgfx_scrn.c: +5 -0
drivers/gpu/host1x/bus.c: +3 -2
drivers/gpu/host1x/hw/cdma_hw.c: +2 -2
drivers/gpu/host1x/hw/debug_hw.c: +2 -2
drivers/hid/Kconfig: +1 -0
drivers/hid/hid-appleir.c: +3 -0
drivers/hid/hid-core.c: +1 -1
drivers/hid/hid-ids.h: +4 -1
drivers/hid/hid-kye.c: +14 -0
drivers/hid/hid-multitouch.c: +6 -0
drivers/hid/hid-sensor-hub.c: +10 -12
drivers/hid/hid-sony.c: +42 -11
drivers/hid/hid-wiimote-core.c: +1 -4
drivers/hid/uhid.c: +1 -1
drivers/hwmon/asus_atk0110.c: +0 -1
drivers/hwmon/hih6130.c: +14 -2
drivers/hwmon/lm78.c: +2 -0
drivers/hwmon/lm90.c: +3 -1
drivers/hwmon/sis5595.c: +2 -0
drivers/hwmon/vt8231.c: +1 -1
drivers/hwmon/w83l786ng.c: +8 -5
drivers/i2c/busses/i2c-bcm-kona.c: +1 -2
drivers/i2c/busses/i2c-bcm2835.c: +1 -0
drivers/i2c/busses/i2c-davinci.c: +2 -2
drivers/i2c/busses/i2c-diolan-u2c.c: +11 -5
drivers/i2c/busses/i2c-imx.c: +3 -1
drivers/i2c/busses/i2c-omap.c: +26 -4
drivers/i2c/i2c-mux.c: +2 -0
drivers/idle/intel_idle.c: +2 -2
drivers/iio/accel/hid-sensor-accel-3d.c: +3 -2
drivers/iio/accel/kxsd9.c: +4 -3
drivers/iio/adc/at91_adc.c: +1 -0
drivers/iio/adc/mcp3422.c: +4 -4
drivers/iio/adc/ti_am335x_adc.c: +5 -2
drivers/iio/common/hid-sensors/Kconfig: +0 -9
drivers/iio/common/hid-sensors/hid-sensor-trigger.c: +19 -10
drivers/iio/common/hid-sensors/hid-sensor-trigger.h: +1 -1
drivers/iio/gyro/hid-sensor-gyro-3d.c: +3 -2
drivers/iio/light/Kconfig: +3 -0
drivers/iio/light/hid-sensor-als.c: +3 -2
drivers/iio/magnetometer/Kconfig: +2 -0
drivers/iio/magnetometer/hid-sensor-magn-3d.c: +3 -2
drivers/iio/magnetometer/mag3110.c: +6 -1
drivers/input/keyboard/adp5588-keys.c: +2 -1
drivers/input/keyboard/adp5589-keys.c: +2 -1
drivers/input/keyboard/bf54x-keys.c: +2 -1
drivers/input/misc/adxl34x.c: +1 -1
drivers/input/misc/hp_sdc_rtc.c: +4 -1
drivers/input/misc/pcf8574_keypad.c: +5 -2
drivers/input/mouse/alps.c: +203 -3
drivers/input/mouse/alps.h: +1 -0
drivers/input/mouse/elantech.c: +1 -0
drivers/input/serio/serio.c: +17 -7
drivers/input/touchscreen/Kconfig: +11 -0
drivers/input/touchscreen/Makefile: +1 -0
drivers/input/touchscreen/atmel-wm97xx.c: +1 -1
drivers/input/touchscreen/cyttsp4_core.c: +1 -2
drivers/input/touchscreen/sur40.c: +466 -0
drivers/input/touchscreen/usbtouchscreen.c: +18 -4
drivers/iommu/arm-smmu.c: +28 -38
drivers/irqchip/irq-gic.c: +5 -4
drivers/leds/leds-pwm.c: +26 -27
drivers/macintosh/Makefile: +1 -0
drivers/md/dm-bufio.c: +5 -0
drivers/md/dm-cache-policy-mq.c: +8 -5
drivers/md/dm-cache-target.c: +1 -1
drivers/md/dm-delay.c: +11 -12
drivers/md/dm-snap.c: +64 -7
drivers/md/dm-stats.c: +1 -0
drivers/md/dm-table.c: +5 -0
drivers/md/dm-thin-metadata.c: +8 -0
drivers/md/dm-thin-metadata.h: +1 -0
drivers/md/dm-thin.c: +39 -27
drivers/md/md.c: +2 -12
drivers/md/persistent-data/dm-array.c: +9 -1
drivers/md/persistent-data/dm-block-manager.c: +6 -0
drivers/md/persistent-data/dm-block-manager.h: +4 -3
drivers/md/persistent-data/dm-space-map-common.c: +23 -9
drivers/md/persistent-data/dm-space-map-metadata.c: +6 -2
drivers/md/raid5.c: +5 -8
drivers/media/common/siano/smscoreapi.h: +2 -2
drivers/media/common/siano/smsdvb.h: +1 -1
drivers/media/dvb-core/dvb_demux.c: +7 -2
drivers/media/dvb-frontends/af9033.c: +6 -6
drivers/media/dvb-frontends/cxd2820r_c.c: +1 -1
drivers/media/dvb-frontends/dib8000.c: +2 -2
drivers/media/dvb-frontends/drxk_hard.c: +9 -9
drivers/media/dvb-frontends/rtl2830.c: +1 -0
drivers/media/i2c/adv7183_regs.h: +3 -3
drivers/media/i2c/adv7604.c: +1 -1
drivers/media/i2c/adv7842.c: +1 -1
drivers/media/i2c/ir-kbd-i2c.c: +1 -1
drivers/media/i2c/m5mols/m5mols_controls.c: +1 -1
drivers/media/i2c/mt9p031.c: +1 -0
drivers/media/i2c/s5c73m3/s5c73m3-core.c: +1 -1
drivers/media/i2c/s5c73m3/s5c73m3.h: +1 -1
drivers/media/i2c/saa7115.c: +1 -1
drivers/media/i2c/soc_camera/ov5642.c: +1 -1
drivers/media/i2c/ths7303.c: +2 -1
drivers/media/i2c/wm8775.c: +1 -3
drivers/media/pci/bt8xx/bttv-driver.c: +2 -1
drivers/media/pci/cx18/cx18-driver.h: +1 -1
drivers/media/pci/cx23885/cx23885-417.c: +1 -1
drivers/media/pci/pluto2/pluto2.c: +1 -1
drivers/media/pci/saa7164/saa7164-core.c: +3 -1
drivers/media/platform/coda.c: +1 -1
drivers/media/platform/exynos4-is/fimc-core.c: +1 -1
drivers/media/platform/exynos4-is/media-dev.c: +1 -1
drivers/media/platform/marvell-ccic/mmp-driver.c: +8 -38
drivers/media/platform/omap3isp/isp.c: +1 -1
drivers/media/platform/omap3isp/ispvideo.c: +2 -5
drivers/media/platform/s5p-mfc/regs-mfc.h: +1 -1
drivers/media/platform/s5p-mfc/s5p_mfc.c: +6 -6
drivers/media/platform/s5p-mfc/s5p_mfc_ctrl.c: +1 -1
drivers/media/platform/s5p-tv/mixer.h: +1 -1
drivers/media/platform/s5p-tv/mixer_video.c: +2 -2
drivers/media/platform/soc_camera/omap1_camera.c: +1 -1
drivers/media/platform/vivi.c: +2 -2
drivers/media/platform/vsp1/vsp1_drv.c: +1 -1
drivers/media/platform/vsp1/vsp1_video.c: +3 -1
drivers/media/radio/radio-shark.c: +1 -3
drivers/media/radio/radio-shark2.c: +1 -3
drivers/media/radio/radio-si476x.c: +2 -2
drivers/media/radio/radio-tea5764.c: +1 -1
drivers/media/radio/tef6862.c: +1 -1
drivers/media/rc/imon.c: +1 -1
drivers/media/rc/redrat3.c: +1 -1
drivers/media/tuners/mt2063.c: +2 -2
drivers/media/tuners/tuner-xc2028-types.h: +1 -1
drivers/media/usb/cx231xx/cx231xx-cards.c: +1 -1
drivers/media/usb/dvb-usb-v2/af9035.c: +11 -6
drivers/media/usb/dvb-usb-v2/mxl111sf.c: +2 -2
drivers/media/usb/dvb-usb/technisat-usb2.c: +1 -1
drivers/media/usb/em28xx/em28xx-video.c: +1 -1
drivers/media/usb/gspca/gl860/gl860.c: +1 -1
drivers/media/usb/gspca/pac207.c: +1 -1
drivers/media/usb/gspca/pac7302.c: +1 -1
drivers/media/usb/gspca/stk1135.c: +3 -0
drivers/media/usb/gspca/stv0680.c: +1 -1
drivers/media/usb/gspca/sunplus.c: +1 -0
drivers/media/usb/gspca/zc3xx.c: +1 -1
drivers/media/usb/pwc/pwc-if.c: +1 -1
drivers/media/usb/usbtv/usbtv.c: +136 -38
drivers/media/usb/uvc/uvc_video.c: +1 -1
drivers/media/v4l2-core/v4l2-ctrls.c: +1 -1
drivers/media/v4l2-core/videobuf2-core.c: +24 -5
drivers/media/v4l2-core/videobuf2-dma-contig.c: +2 -2
drivers/media/v4l2-core/videobuf2-dma-sg.c: +2 -1
drivers/mfd/Kconfig: +1 -1
drivers/mfd/lpc_ich.c: +1 -1
drivers/mfd/sec-core.c: +22 -8
drivers/mfd/sec-irq.c: +3 -3
drivers/mfd/ti-ssp.c: +1 -1
drivers/misc/enclosure.c: +7 -0
drivers/misc/mei/hw-me-regs.h: +4 -1
drivers/misc/mei/pci-me.c: +3 -1
drivers/misc/mic/card/mic_virtio.c: +18 -15
drivers/misc/mic/card/mic_virtio.h: +3 -4
drivers/misc/mic/host/mic_boot.c: +1 -1
drivers/misc/mic/host/mic_virtio.c: +15 -15
drivers/misc/mic/host/mic_x100.c: +2 -2
drivers/mmc/host/omap.c: +22 -23
drivers/mtd/nand/pxa3xx_nand.c: +1 -5
drivers/net/bonding/bond_main.c: +5 -5
drivers/net/bonding/bond_options.c: +9 -4
drivers/net/bonding/bond_sysfs.c: +3 -5
drivers/net/bonding/bonding.h: +7 -0
drivers/net/can/c_can/c_can.c: +16 -6
drivers/net/can/flexcan.c: +1 -1
drivers/net/can/sja1000/sja1000.c: +9 -8
drivers/net/ethernet/allwinner/sun4i-emac.c: +3 -2
drivers/net/ethernet/broadcom/bnx2x/bnx2x_sriov.c: +5 -0
drivers/net/ethernet/broadcom/tg3.c: +28 -26
drivers/net/ethernet/chelsio/cxgb4/cxgb4.h: +53 -29
drivers/net/ethernet/chelsio/cxgb4/cxgb4_main.c: +142 -136
drivers/net/ethernet/chelsio/cxgb4/sge.c: +6 -6
drivers/net/ethernet/chelsio/cxgb4/t4_hw.c: +146 -84
drivers/net/ethernet/chelsio/cxgb4/t4_regs.h: +14 -0
drivers/net/ethernet/chelsio/cxgb4/t4fw_api.h: +6 -1
drivers/net/ethernet/chelsio/cxgb4vf/adapter.h: +0 -1
drivers/net/ethernet/chelsio/cxgb4vf/cxgb4vf_main.c: +11 -4
drivers/net/ethernet/chelsio/cxgb4vf/sge.c: +1 -1
drivers/net/ethernet/chelsio/cxgb4vf/t4vf_common.h: +16 -8
drivers/net/ethernet/chelsio/cxgb4vf/t4vf_hw.c: +2 -2
drivers/net/ethernet/emulex/benet/be.h: +1 -0
drivers/net/ethernet/emulex/benet/be_cmds.c: +7 -0
drivers/net/ethernet/emulex/benet/be_hw.h: +3 -0
drivers/net/ethernet/emulex/benet/be_main.c: +37 -20
drivers/net/ethernet/freescale/fec_main.c: +4 -9
drivers/net/ethernet/ibm/ehea/ehea_main.c: +1 -1
drivers/net/ethernet/intel/e1000/e1000.h: +5 -2
drivers/net/ethernet/intel/e1000/e1000_main.c: +23 -37
drivers/net/ethernet/intel/i40e/i40e_main.c: +3 -0
drivers/net/ethernet/intel/igb/e1000_phy.c: +4 -1
drivers/net/ethernet/intel/igb/igb_ethtool.c: +4 -3
drivers/net/ethernet/intel/ixgbe/ixgbe_main.c: +4 -5
drivers/net/ethernet/intel/ixgbe/ixgbe_phy.c: +2 -1
drivers/net/ethernet/intel/ixgbe/ixgbe_phy.h: +0 -1
drivers/net/ethernet/marvell/mvneta.c: +2 -2
drivers/net/ethernet/mellanox/mlx4/en_selftest.c: +0 -7
drivers/net/ethernet/mellanox/mlx4/main.c: +2 -0
drivers/net/ethernet/nvidia/forcedeth.c: +5 -3
drivers/net/ethernet/qlogic/qlge/qlge.h: +1 -1
drivers/net/ethernet/qlogic/qlge/qlge_ethtool.c: +4 -0
drivers/net/ethernet/qlogic/qlge/qlge_main.c: +0 -8
drivers/net/ethernet/realtek/8139cp.c: +2 -3
drivers/net/ethernet/realtek/r8169.c: +5 -0
drivers/net/ethernet/sfc/efx.c: +7 -1
drivers/net/ethernet/sfc/mcdi.c: +29 -10
drivers/net/ethernet/sfc/mcdi.h: +2 -0
drivers/net/ethernet/sfc/mcdi_mon.c: +30 -48
drivers/net/ethernet/sfc/net_driver.h: +3 -0
drivers/net/ethernet/sfc/nic.h: +2 -0
drivers/net/ethernet/sfc/ptp.c: +57 -9
drivers/net/ethernet/sfc/rx.c: +3 -3
drivers/net/ethernet/smsc/smc91x.c: +35 -10
drivers/net/ethernet/smsc/smc91x.h: +4 -18
drivers/net/ethernet/tehuti/tehuti.c: +0 -1
drivers/net/ethernet/ti/cpsw.c: +16 -3
drivers/net/ethernet/ti/davinci_emac.c: +25 -1
drivers/net/ethernet/via/via-velocity.c: +6 -5
drivers/net/ethernet/xilinx/ll_temac_main.c: +1 -1
drivers/net/ethernet/xilinx/xilinx_axienet_main.c: +1 -1
drivers/net/ethernet/xilinx/xilinx_emaclite.c: +13 -38
drivers/net/macvtap.c: +9 -16
drivers/net/phy/micrel.c: +15 -0
drivers/net/phy/vitesse.c: +15 -0
drivers/net/team/team.c: +4 -0
drivers/net/tun.c: +11 -7
drivers/net/virtio_net.c: +99 -54
drivers/net/vxlan.c: +1 -1
drivers/net/wireless/ath/ath9k/ar9003_eeprom.c: +12 -10
drivers/net/wireless/ath/ath9k/hw.c: +3 -4
drivers/net/wireless/ath/ath9k/xmit.c: +4 -0
drivers/net/wireless/ath/wcn36xx/smd.c: +13 -6
drivers/net/wireless/brcm80211/Kconfig: +2 -0
drivers/net/wireless/brcm80211/brcmfmac/bcmsdh_sdmmc.c: +2 -0
drivers/net/wireless/iwlwifi/iwl-7000.c: +27 -2
drivers/net/wireless/iwlwifi/iwl-config.h: +5 -0
drivers/net/wireless/iwlwifi/iwl-csr.h: +1 -4
drivers/net/wireless/iwlwifi/mvm/bt-coex.c: +5 -1
drivers/net/wireless/iwlwifi/mvm/d3.c: +3 -2
drivers/net/wireless/iwlwifi/mvm/debugfs.c: +4 -0
drivers/net/wireless/iwlwifi/mvm/time-event.c: +5 -2
drivers/net/wireless/iwlwifi/pcie/drv.c: +21 -0
drivers/net/wireless/iwlwifi/pcie/internal.h: +8 -0
drivers/net/wireless/iwlwifi/pcie/rx.c: +6 -1
drivers/net/wireless/iwlwifi/pcie/trans.c: +0 -3
drivers/net/wireless/iwlwifi/pcie/tx.c: +3 -3
drivers/net/wireless/mac80211_hwsim.c: +12 -4
drivers/net/wireless/mwifiex/sta_ioctl.c: +2 -2
drivers/net/xen-netback/interface.c: +12 -8
drivers/net/xen-netback/netback.c: +151 -116
drivers/ntb/ntb_hw.c: +103 -18
drivers/ntb/ntb_hw.h: +4 -3
drivers/ntb/ntb_regs.h: +8 -8
drivers/ntb/ntb_transport.c: +41 -36
drivers/pci/host/pci-mvebu.c: +5 -0
drivers/pci/pci-driver.c: +30 -8
drivers/pci/pci.c: +8 -0
drivers/pci/quirks.c: +0 -4
drivers/pci/remove.c: +3 -1
drivers/pinctrl/pinctrl-abx500.c: +3 -3
drivers/pinctrl/pinctrl-abx500.h: +1 -1
drivers/pinctrl/pinctrl-rockchip.c: +3 -2
drivers/pinctrl/sh-pfc/pfc-r8a7740.c: +1 -1
drivers/pinctrl/sh-pfc/pfc-sh7372.c: +1 -1
drivers/platform/Kconfig: +1 -0
drivers/platform/Makefile: +1 -0
drivers/platform/chrome/Kconfig: +28 -0
drivers/platform/chrome/Makefile: +2 -0
drivers/platform/{x86 => chrome}/chromeos_laptop.c: +0 -0
drivers/platform/x86/Kconfig: +0 -11
drivers/platform/x86/Makefile: +0 -1
drivers/platform/x86/asus-laptop.c: +2 -3
drivers/platform/x86/dell-laptop.c: +288 -0
drivers/platform/x86/dell-wmi.c: +4 -3
drivers/platform/x86/eeepc-laptop.c: +1 -3
drivers/platform/x86/hp-wmi.c: +13 -1
drivers/platform/x86/ideapad-laptop.c: +1 -3
drivers/platform/x86/intel_mid_powerbtn.c: +1 -3
drivers/platform/x86/intel_scu_ipc.c: +103 -14
drivers/platform/x86/panasonic-laptop.c: +1 -4
drivers/platform/x86/sony-laptop.c: +14 -33
drivers/platform/x86/thinkpad_acpi.c: +6 -2
drivers/platform/x86/topstar-laptop.c: +1 -3
drivers/platform/x86/toshiba_acpi.c: +1 -3
drivers/platform/x86/wmi.c: +4 -2
drivers/pnp/driver.c: +11 -1
drivers/powercap/powercap_sys.c: +6 -1
drivers/regulator/arizona-micsupp.c: +52 -2
drivers/regulator/as3722-regulator.c: +1 -1
drivers/regulator/core.c: +11 -3
drivers/regulator/gpio-regulator.c: +6 -1
drivers/regulator/pfuze100-regulator.c: +10 -4
drivers/regulator/s5m8767.c: +1 -1
drivers/rtc/rtc-at91rm9200.c: +2 -0
drivers/rtc/rtc-s5m.c: +85 -33
drivers/s390/block/dasd_eckd.c: +2 -0
drivers/s390/block/dasd_genhd.c: +0 -1
drivers/s390/char/sclp_early.c: +2 -3
drivers/scsi/3w-9xxx.c: +2 -1
drivers/scsi/3w-sas.c: +2 -1
drivers/scsi/3w-xxxx.c: +2 -1
drivers/scsi/aacraid/linit.c: +1 -0
drivers/scsi/arcmsr/arcmsr_hba.c: +1 -0
drivers/scsi/bfa/bfa_fcs.h: +1 -0
drivers/scsi/bfa/bfa_fcs_lport.c: +11 -3
drivers/scsi/bfa/bfad_attr.c: +2 -5
drivers/scsi/gdth.c: +1 -0
drivers/scsi/hosts.c: +1 -0
drivers/scsi/hpsa.c: +3 -2
drivers/scsi/ipr.c: +2 -1
drivers/scsi/ips.c: +1 -0
drivers/scsi/libsas/sas_ata.c: +1 -1
drivers/scsi/megaraid.c: +1 -0
drivers/scsi/megaraid/megaraid_mbox.c: +1 -0
drivers/scsi/megaraid/megaraid_sas_base.c: +1 -0
drivers/scsi/pm8001/pm8001_hwi.c: +2 -0
drivers/scsi/pm8001/pm8001_hwi.h: +4 -0
drivers/scsi/pm8001/pm8001_init.c: +53 -38
drivers/scsi/pm8001/pm8001_sas.c: +3 -1
drivers/scsi/pm8001/pm8001_sas.h: +6 -3
drivers/scsi/pm8001/pm80xx_hwi.c: +2 -0
drivers/scsi/pm8001/pm80xx_hwi.h: +2 -0
drivers/scsi/pmcraid.c: +16 -5
drivers/scsi/sd.c: +6 -0
drivers/scsi/storvsc_drv.c: +1 -0
drivers/spi/spi-bcm2835.c: +1 -1
drivers/spi/spi-bcm63xx.c: +1 -1
drivers/spi/spi-mpc512x-psc.c: +1 -1
drivers/spi/spi-mxs.c: +1 -1
drivers/spi/spi-pxa2xx.c: +5 -0
drivers/spi/spi-rspi.c: +1 -2
drivers/spi/spi-ti-qspi.c: +19 -4
drivers/spi/spi-txx9.c: +1 -1
drivers/spi/spi.c: +1 -1
drivers/staging/btmtk_usb/btmtk_usb.c: +1 -2
drivers/staging/comedi/drivers/pcl730.c: +3 -3
drivers/staging/comedi/drivers/s626.c: +1 -1
drivers/staging/comedi/drivers/vmk80xx.c: +1 -1
drivers/staging/ft1000/ft1000-usb/ft1000_download.c: +1 -2
drivers/staging/iio/magnetometer/Kconfig: +2 -0
drivers/staging/imx-drm/Makefile: +3 -1
drivers/staging/imx-drm/imx-drm-core.c: +1 -0
drivers/staging/lustre/lustre/ptlrpc/pinger.c: +2 -2
drivers/staging/media/go7007/go7007-usb.c: +15 -13
drivers/staging/nvec/nvec.c: +2 -1
drivers/staging/rtl8188eu/core/rtw_ap.c: +3 -0
drivers/staging/tidspbridge/Kconfig: +1 -1
drivers/staging/tidspbridge/rmgr/drv_interface.c: +5 -8
drivers/staging/vt6655/hostap.c: +2 -1
drivers/staging/vt6656/baseband.c: +11 -0
drivers/staging/vt6656/hostap.c: +2 -1
drivers/staging/vt6656/rndis.h: +2 -0
drivers/staging/zram/zram_drv.c: +14 -5
drivers/staging/zsmalloc/zsmalloc-main.c: +13 -4
drivers/tty/amiserial.c: +3 -0
drivers/tty/n_tty.c: +14 -8
drivers/tty/serial/8250/Kconfig: +1 -1
drivers/tty/serial/pmac_zilog.c: +3 -0
drivers/tty/tty_io.c: +1 -0
drivers/uio/uio.c: +2 -0
drivers/usb/class/cdc-acm.c: +2 -0
drivers/usb/core/hub.c: +3 -2
drivers/usb/dwc3/ep0.c: +2 -0
drivers/usb/dwc3/gadget.c: +1 -4
drivers/usb/gadget/Kconfig: +1 -0
drivers/usb/gadget/composite.c: +1 -0
drivers/usb/gadget/f_mass_storage.c: +13 -12
drivers/usb/gadget/pxa25x_udc.c: +1 -0
drivers/usb/gadget/s3c-hsotg.c: +6 -1
drivers/usb/gadget/storage_common.h: +0 -4
drivers/usb/gadget/tcm_usb_gadget.c: +1 -1
drivers/usb/gadget/zero.c: +3 -3
drivers/usb/host/ohci-pxa27x.c: +1 -0
drivers/usb/host/xhci-ring.c: +52 -2
drivers/usb/musb/musb_core.c: +5 -4
drivers/usb/musb/musb_cppi41.c: +140 -24
drivers/usb/musb/musb_gadget.c: +4 -0
drivers/usb/phy/phy-am335x.c: +1 -4
drivers/usb/phy/phy-generic.c: +34 -34
drivers/usb/phy/phy-generic.h: +3 -1
drivers/usb/phy/phy-keystone.c: +1 -2
drivers/usb/phy/phy-mxs-usb.c: +1 -1
drivers/usb/phy/phy-rcar-gen2-usb.c: +2 -2
drivers/usb/serial/ftdi_sio.c: +24 -13
drivers/usb/serial/generic.c: +2 -10
drivers/usb/serial/mos7840.c: +16 -16
drivers/usb/serial/option.c: +27 -0
drivers/usb/serial/pl2303.c: +14 -16
drivers/usb/serial/spcp8x5.c: +14 -16
drivers/usb/wusbcore/devconnect.c: +27 -45
drivers/usb/wusbcore/security.c: +57 -41
drivers/usb/wusbcore/wusbhc.h: +2 -4
drivers/video/atmel_lcdfb.c: +1 -0
drivers/video/kyro/fbdev.c: +3 -3
drivers/video/offb.c: +21 -8
drivers/video/omap2/displays-new/panel-sony-acx565akm.c: +2 -3
drivers/video/sh_mobile_meram.c: +2 -0
drivers/video/vt8500lcdfb.c: +11 -14
drivers/watchdog/bcm2835_wdt.c: +0 -1
drivers/watchdog/ep93xx_wdt.c: +0 -1
drivers/watchdog/ie6xx_wdt.c: +0 -1
drivers/watchdog/jz4740_wdt.c: +0 -1
drivers/watchdog/kempld_wdt.c: +0 -1
drivers/watchdog/max63xx_wdt.c: +0 -1
drivers/watchdog/orion_wdt.c: +0 -1
drivers/watchdog/pnx4008_wdt.c: +0 -1
drivers/watchdog/rt2880_wdt.c: +0 -1
drivers/watchdog/sc1200wdt.c: +2 -1
drivers/watchdog/shwdt.c: +0 -1
drivers/watchdog/softdog.c: +0 -1
drivers/watchdog/stmp3xxx_rtc_wdt.c: +0 -1
drivers/watchdog/txx9wdt.c: +0 -1
drivers/watchdog/ux500_wdt.c: +0 -1
drivers/xen/grant-table.c: +4 -2
drivers/xen/swiotlb-xen.c: +5 -0
fs/affs/Changes: +1 -1
fs/aio.c: +6 -2
fs/btrfs/check-integrity.c: +13 -19
fs/btrfs/check-integrity.h: +2 -0
fs/btrfs/extent-tree.c: +10 -12
fs/btrfs/extent_io.c: +1 -11
fs/btrfs/ioctl.c: +2 -1
fs/btrfs/relocation.c: +57 -24
fs/btrfs/scrub.c: +4 -29
fs/btrfs/send.c: +2 -2
fs/btrfs/super.c: +2 -3
fs/ceph/addr.c: +1 -1
fs/ceph/cache.c: +3 -0
fs/ceph/caps.c: +17 -10
fs/ceph/dir.c: +10 -1
fs/ceph/inode.c: +43 -6
fs/ceph/mds_client.c: +45 -16
fs/ceph/mds_client.h: +1 -0
fs/ceph/super.h: +1 -7
fs/cifs/cifsglob.h: +1 -0
fs/cifs/ioctl.c: +4 -2
fs/cifs/smb2ops.c: +86 -13
fs/cifs/smb2pdu.c: +87 -5
fs/cifs/smb2pdu.h: +9 -3
fs/cifs/smb2proto.h: +1 -0
fs/cifs/smbfsctl.h: +1 -1
fs/dcache.c: +1 -1
fs/eventpoll.c: +1 -2
fs/hfsplus/wrapper.c: +1 -16
fs/logfs/dev_bdev.c: +1 -12
fs/namei.c: +2 -8
fs/nfs/blocklayout/blocklayout.h: +1 -0
fs/nfs/blocklayout/extents.c: +1 -1
fs/nfs/dns_resolve.c: +2 -0
fs/nfs/inode.c: +1 -1
fs/nfs/internal.h: +15 -0
fs/nfs/nfs4_fs.h: +8 -0
fs/nfs/nfs4proc.c: +23 -7
fs/nfsd/nfscache.c: +8 -1
fs/pipe.c: +19 -20
fs/proc/inode.c: +9 -5
fs/squashfs/file_direct.c: +4 -1
fs/sysfs/file.c: +20 -2
fs/xfs/xfs_discard.c: +3 -2
fs/xfs/xfs_fsops.c: +5 -1
fs/xfs/xfs_ioctl.c: +2 -1
fs/xfs/xfs_ioctl32.c: +2 -1
include/acpi/acconfig.h: +2 -0
include/acpi/acpi_bus.h: +1 -0
include/acpi/acpixf.h: +1 -1
include/asm-generic/simd.h: +14 -0
include/asm-generic/word-at-a-time.h: +8 -0
{arch/x86/include/asm => include}/crypto/ablk_helper.h: +0 -0
include/crypto/algapi.h: +17 -1
include/crypto/authenc.h: +11 -1
include/crypto/scatterwalk.h: +2 -1
include/linux/assoc_array.h: +3 -3
include/linux/compiler-intel.h: +0 -2
include/linux/dcache.h: +2 -0
include/linux/efi.h: +4 -0
include/linux/ftrace_event.h: +16 -0
include/linux/gpio/driver.h: +12 -2
include/linux/hid-sensor-hub.h: +5 -0
include/linux/hid-sensor-ids.h: +12 -0
include/linux/hugetlb.h: +4 -1
include/linux/ipv6.h: +1 -0
include/linux/irqreturn.h: +1 -1
include/linux/kernel.h: +2 -1
include/linux/kexec.h: +3 -0
include/linux/mfd/samsung/core.h: +2 -1
include/linux/micrel_phy.h: +2 -0
include/linux/net.h: +1 -1
include/linux/netdevice.h: +1 -1
include/linux/nfs4.h: +0 -10
include/linux/nfs_fs.h: +0 -18
include/linux/padata.h: +1 -2
include/linux/pci.h: +16 -15
include/linux/sched.h: +0 -2
include/linux/shmem_fs.h: +2 -0
include/linux/skbuff.h: +18 -21
include/linux/slab.h: +46 -56
include/linux/tegra-powergate.h: +27 -0
include/linux/tracepoint.h: +4 -0
include/linux/usb.h: +2 -0
include/linux/usb/wusb.h: +2 -0
include/media/videobuf2-core.h: +1 -1
include/net/ip.h: +1 -1
include/net/ipv6.h: +6 -3
include/net/ping.h: +2 -1
include/net/sctp/structs.h: +1 -6
include/net/sock.h: +2 -4
include/scsi/scsi_host.h: +6 -0
include/sound/memalloc.h: +1 -1
include/sound/soc-dapm.h: +2 -1
include/trace/ftrace.h: +10 -2
include/uapi/linux/eventpoll.h: +12 -1
include/uapi/linux/genetlink.h: +1 -0
include/uapi/linux/if_link.h: +3 -1
include/uapi/linux/input.h: +3 -0
include/uapi/linux/mic_common.h: +16 -24
include/uapi/linux/netlink_diag.h: +1 -0
include/uapi/linux/packet_diag.h: +1 -0
include/uapi/linux/unix_diag.h: +1 -0
include/uapi/sound/compress_offload.h: +3 -3
kernel/.gitignore: +1 -0
kernel/cgroup.c: +31 -4
kernel/cpuset.c: +6 -2
kernel/events/core.c: +0 -8
kernel/extable.c: +2 -2
kernel/futex.c: +4 -3
kernel/irq/pm.c: +1 -1
kernel/kexec.c: +4 -0
kernel/padata.c: +4 -5
kernel/rcu/tree_plugin.h: +2 -2
kernel/sched/core.c: +4 -4
kernel/sched/fair.c: +24 -3
kernel/system_certificates.S: +12 -2
kernel/system_keyring.c: +2 -2
kernel/time/tick-common.c: +15 -0
kernel/time/tick-sched.c: +12 -13
kernel/time/timekeeping.c: +1 -1
kernel/timer.c: +2 -3
kernel/trace/ftrace.c: +35 -29
kernel/trace/trace_event_perf.c: +7 -1
kernel/trace/trace_events.c: +3 -0
kernel/trace/trace_syscalls.c: +0 -10
kernel/workqueue.c: +47 -35
lib/assoc_array.c: +2 -2
lib/lockref.c: +1 -8
mm/huge_memory.c: +11 -1
mm/memcontrol.c: +40 -1
mm/shmem.c: +29 -7
net/bridge/br_private.h: +10 -0
net/bridge/br_stp_bpdu.c: +1 -1
net/compat.c: +1 -1
net/core/drop_monitor.c: +0 -1
net/core/pktgen.c: +7 -0
net/core/skbuff.c: +1 -0
net/core/sock.c: +1 -1
net/dccp/ipv6.c: +0 -1
net/hsr/hsr_framereg.c: +2 -1
net/hsr/hsr_netlink.c: +28 -0
net/ipv4/fib_rules.c: +4 -1
net/ipv4/ip_sockglue.c: +2 -1
net/ipv4/ping.c: +4 -3
net/ipv4/protocol.c: +0 -8
net/ipv4/raw.c: +1 -1
net/ipv4/tcp_ipv4.c: +1 -1
net/ipv4/tcp_memcontrol.c: +0 -9
net/ipv4/tcp_offload.c: +15 -16
net/ipv4/udp.c: +33 -21
net/ipv6/addrconf.c: +1 -1
net/ipv6/datagram.c: +6 -3
net/ipv6/fib6_rules.c: +5 -1
net/ipv6/ip6_output.c: +2 -2
net/ipv6/ndisc.c: +3 -0
net/ipv6/ping.c: +2 -1
net/ipv6/protocol.c: +0 -4
net/ipv6/raw.c: +2 -3
net/ipv6/route.c: +13 -17
net/ipv6/sit.c: +41 -9
net/ipv6/tcp_ipv6.c: +0 -1
net/ipv6/tcpv6_offload.c: +15 -17
net/ipv6/udp.c: +2 -3
net/l2tp/l2tp_ip6.c: +1 -2
net/mac80211/cfg.c: +11 -4
net/mac80211/ibss.c: +4 -0
net/mac80211/ieee80211_i.h: +1 -0
net/mac80211/iface.c: +0 -1
net/mac80211/main.c: +3 -0
net/mac80211/mesh.c: +12 -8
net/mac80211/mlme.c: +2 -0
net/mac80211/rc80211_minstrel_ht.c: +4 -3
net/mac80211/rx.c: +2 -1
net/mac80211/scan.c: +1 -1
net/mac80211/spectmgmt.c: +2 -0
net/mac80211/util.c: +2 -9
net/netfilter/ipset/ip_set_hash_netnet.c: +1 -1
net/netfilter/nf_tables_api.c: +33 -13
net/netfilter/xt_hashlimit.c: +11 -14
net/netlink/genetlink.c: +10 -3
net/packet/af_packet.c: +42 -27
net/rds/ib_send.c: +2 -3
net/sched/act_api.c: +14 -12
net/sched/act_csum.c: +0 -2
net/sched/act_gact.c: +0 -2
net/sched/act_ipt.c: +0 -4
net/sched/act_mirred.c: +0 -2
net/sched/act_nat.c: +0 -2
net/sched/act_pedit.c: +0 -2
net/sched/act_police.c: +0 -1
net/sched/act_simple.c: +0 -1
net/sched/act_skbedit.c: +0 -1
net/sched/sch_htb.c: +12 -8
net/sched/sch_netem.c: +4 -3
net/sched/sch_tbf.c: +92 -47
net/sctp/associola.c: +1 -4
net/sctp/output.c: +4 -2
net/sctp/outqueue.c: +5 -1
net/sctp/sm_statefuns.c: +6 -6
net/sctp/socket.c: +26 -10
net/sctp/sysctl.c: +67 -9
net/sctp/transport.c: +1 -1
net/socket.c: +1 -1
net/sunrpc/auth_gss/auth_gss.c: +1 -1
net/tipc/core.c: +4 -3
net/tipc/handler.c: +8 -3
net/unix/af_unix.c: +6 -2
net/wireless/core.c: +9 -0
net/wireless/ibss.c: +9 -9
net/wireless/nl80211.c: +37 -23
scripts/recordmcount.pl: +2 -1
scripts/sortextable.c: +5 -0
security/integrity/digsig.c: +1 -29
security/integrity/ima/Kconfig: +0 -8
security/integrity/ima/ima.h: +5 -2
security/integrity/ima/ima_api.c: +18 -4
security/integrity/ima/ima_appraise.c: +0 -11
security/integrity/ima/ima_crypto.c: +12 -5
security/integrity/ima/ima_fs.c: +11 -3
security/integrity/ima/ima_init.c: +1 -2
security/integrity/ima/ima_template.c: +15 -6
security/integrity/ima/ima_template_lib.c: +5 -1
security/integrity/integrity.h: +0 -7
security/keys/big_key.c: +1 -1
security/keys/key.c: +1 -7
security/keys/keyring.c: +8 -9
security/selinux/hooks.c: +130 -47
security/selinux/include/xfrm.h: +5 -3
security/selinux/ss/services.c: +4 -38
security/selinux/xfrm.c: +48 -14
sound/atmel/abdac.c: +2 -1
sound/firewire/amdtp.c: +6 -9
sound/firewire/dice.c: +2 -2
sound/pci/hda/hda_codec.h: +0 -1
sound/pci/hda/hda_generic.c: +104 -22
sound/pci/hda/hda_generic.h: +3 -0
sound/pci/hda/hda_intel.c: +6 -6
sound/pci/hda/patch_analog.c: +16 -0
sound/pci/hda/patch_conexant.c: +23 -1
sound/pci/hda/patch_hdmi.c: +18 -14
sound/pci/hda/patch_realtek.c: +118 -23
sound/pci/hda/patch_sigmatel.c: +2 -1
sound/soc/atmel/sam9x5_wm8731.c: +2 -0
sound/soc/codecs/wm5110.c: +0 -25
sound/soc/codecs/wm8731.c: +2 -2
sound/soc/codecs/wm8990.c: +2 -0
sound/soc/fsl/pcm030-audio-fabric.c: +2 -1
sound/soc/kirkwood/kirkwood-i2s.c: +13 -9
sound/soc/omap/n810.c: +2 -2
sound/soc/sh/Kconfig: +1 -0
sound/soc/soc-core.c: +2 -2
sound/soc/soc-devres.c: +2 -2
sound/soc/soc-pcm.c: +12 -6
sound/usb/endpoint.c: +15 -1
sound/usb/mixer_quirks.c: +1 -1
tools/lib/traceevent/event-parse.c: +22 -3
tools/perf/util/header.c: +4 -2
tools/perf/util/thread.c: +5 -6
tools/power/cpupower/man/cpupower-idle-info.1: +2 -1
tools/power/cpupower/man/cpupower-idle-set.1: +71 -0
tools/power/cpupower/utils/helpers/sysfs.c: +2 -2
tools/usb/Makefile: +3 -2
virt/kvm/kvm_main.c: +3 -0
