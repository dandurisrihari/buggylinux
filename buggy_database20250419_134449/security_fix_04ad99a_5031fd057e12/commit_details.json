{
  "hash": "04ad99a0b160450ae615e41b839e444eccb5c99b",
  "hash_short": "04ad99a0",
  "subject": "arm64: unwind: strip PAC from kernel addresses",
  "body": "When we enable pointer authentication in the kernel, LR values saved to\nthe stack will have a PAC which we must strip in order to retrieve the\nreal return address.\n\nStrip PACs when unwinding the stack in order to account for this.\n\nWhen function graph tracer is used with patchable-function-entry then\nreturn_to_handler will also have pac bits so strip it too.\n\nReviewed-by: Kees Cook <keescook@chromium.org>\nAcked-by: Catalin Marinas <catalin.marinas@arm.com>\nReviewed-by: James Morse <james.morse@arm.com>\nSigned-off-by: Mark Rutland <mark.rutland@arm.com>\nSigned-off-by: Kristina Martsenko <kristina.martsenko@arm.com>\n[Amit: Re-position ptrauth_strip_insn_pac, comment]\nSigned-off-by: Amit Daniel Kachhap <amit.kachhap@arm.com>\nSigned-off-by: Catalin Marinas <catalin.marinas@arm.com>",
  "full_message": "arm64: unwind: strip PAC from kernel addresses\n\nWhen we enable pointer authentication in the kernel, LR values saved to\nthe stack will have a PAC which we must strip in order to retrieve the\nreal return address.\n\nStrip PACs when unwinding the stack in order to account for this.\n\nWhen function graph tracer is used with patchable-function-entry then\nreturn_to_handler will also have pac bits so strip it too.\n\nReviewed-by: Kees Cook <keescook@chromium.org>\nAcked-by: Catalin Marinas <catalin.marinas@arm.com>\nReviewed-by: James Morse <james.morse@arm.com>\nSigned-off-by: Mark Rutland <mark.rutland@arm.com>\nSigned-off-by: Kristina Martsenko <kristina.martsenko@arm.com>\n[Amit: Re-position ptrauth_strip_insn_pac, comment]\nSigned-off-by: Amit Daniel Kachhap <amit.kachhap@arm.com>\nSigned-off-by: Catalin Marinas <catalin.marinas@arm.com>",
  "author_name": "Mark Rutland",
  "author_email": "mark.rutland@arm.com",
  "author_date": "Fri Mar 13 14:34:59 2020 +0530",
  "author_date_iso": "2020-03-13T14:34:59+05:30",
  "committer_name": "Catalin Marinas",
  "committer_email": "catalin.marinas@arm.com",
  "committer_date": "Wed Mar 18 09:50:20 2020 +0000",
  "committer_date_iso": "2020-03-18T09:50:20+00:00",
  "files_changed": [
    "arch/arm64/kernel/stacktrace.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/arm64/kernel/stacktrace.c",
      "insertions": 4,
      "deletions": 1
    }
  ],
  "total_insertions": 4,
  "total_deletions": 1,
  "total_changes": 5,
  "parents": [
    "689eae42afd7a916634146edca38463769969184"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/kernel/stacktrace.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}