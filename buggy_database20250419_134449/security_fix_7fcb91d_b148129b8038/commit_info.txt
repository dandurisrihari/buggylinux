Commit Hash: 7fcb91d94e897413c0345bb32ea11293f33efbb1
Subject: configs/hardening: Disable CONFIG_UBSAN_SIGNED_WRAP


Security Keywords:
- hardening

Full commit message:
configs/hardening: Disable CONFIG_UBSAN_SIGNED_WRAP

kernel/configs/hardening.config turns on UBSAN for the bounds sanitizer,
as that in combination with trapping can stop the exploitation of buffer
overflows within the kernel. At the same time, hardening.config turns
off every other UBSAN sanitizer because trapping means all UBSAN reports
will be fatal and the problems brought up by other sanitizers generally
do not have security implications.

The signed integer overflow sanitizer was recently added back to the
kernel and it is default on with just CONFIG_UBSAN=y, meaning that it
gets enabled when merging hardening.config into another configuration.
While this sanitizer does have security implications like the array
bounds sanitizer, work to clean up enough instances to allow this to run
in production environments is still ramping up, which means regular
users and testers may be broken by these instances with
CONFIG_UBSAN_TRAP=y. Disable CONFIG_UBSAN_SIGNED_WRAP in
hardening.config to avoid this situation.

Fixes: 557f8c582a9b ("ubsan: Reintroduce signed overflow sanitizer")
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
Link: https://lore.kernel.org/r/20240411-fix-ubsan-in-hardening-config-v1-2-e0177c80ffaa@kernel.org
Signed-off-by: Kees Cook <keescook@chromium.org>

Metadata:
Author: Nathan Chancellor <nathan@kernel.org>
Author Date: Thu Apr 11 11:11:07 2024 -0700
Committer: Kees Cook <keescook@chromium.org>
Commit Date: Mon Apr 15 11:08:24 2024 -0700

Files Changed: 1
Lines Added: 1
Lines Removed: 0
Total Changes: 1
