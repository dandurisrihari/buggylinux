{
  "hash": "6ed92e559a2ea572ae2bac5cbeddd1dc8cb667b6",
  "hash_short": "6ed92e55",
  "subject": "Merge tag 'scsi-misc' of git://git.kernel.org/pub/scm/linux/kernel/git/jejb/scsi",
  "body": "Pull SCSI updates from James Bottomley:\n \"Updates to the usual drivers (ufs, megaraid_sas, lpfc, target, ibmvfc,\n  scsi_debug) plus the usual assorted minor fixes and updates.\n\n  The major change this time around is a prep patch for rethreading of\n  the driver reset handler API not to take a scsi_cmd structure which\n  starts to reduce various drivers' dependence on scsi_cmd in error\n  handling\"\n\n* tag 'scsi-misc' of git://git.kernel.org/pub/scm/linux/kernel/git/jejb/scsi: (132 commits)\n  scsi: ufs: core: Leave space for '\\0' in utf8 desc string\n  scsi: ufs: core: Conversion to bool not necessary\n  scsi: ufs: core: Fix race between force complete and ISR\n  scsi: megaraid: Fix up debug message in megaraid_abort_and_reset()\n  scsi: aic79xx: Fix up NULL command in ahd_done()\n  scsi: message: fusion: Initialize return value in mptfc_bus_reset()\n  scsi: mpt3sas: Fix loop logic\n  scsi: snic: Remove useless code in snic_dr_clean_pending_req()\n  scsi: core: Add comment to target_destroy in scsi_host_template\n  scsi: core: Clean up scsi_dev_queue_ready()\n  scsi: pmcraid: Add missing scsi_device_put() in pmcraid_eh_target_reset_handler()\n  scsi: target: core: Fix kernel-doc comment\n  scsi: pmcraid: Fix kernel-doc comment\n  scsi: core: Handle depopulation and restoration in progress\n  scsi: ufs: core: Add support for parsing OPP\n  scsi: ufs: core: Add OPP support for scaling clocks and regulators\n  scsi: ufs: dt-bindings: common: Add OPP table\n  scsi: scsi_debug: Add param to control sdev's allow_restart\n  scsi: scsi_debug: Add debugfs interface to fail target reset\n  scsi: scsi_debug: Add new error injection type: Reset LUN failed\n  ...",
  "full_message": "Merge tag 'scsi-misc' of git://git.kernel.org/pub/scm/linux/kernel/git/jejb/scsi\n\nPull SCSI updates from James Bottomley:\n \"Updates to the usual drivers (ufs, megaraid_sas, lpfc, target, ibmvfc,\n  scsi_debug) plus the usual assorted minor fixes and updates.\n\n  The major change this time around is a prep patch for rethreading of\n  the driver reset handler API not to take a scsi_cmd structure which\n  starts to reduce various drivers' dependence on scsi_cmd in error\n  handling\"\n\n* tag 'scsi-misc' of git://git.kernel.org/pub/scm/linux/kernel/git/jejb/scsi: (132 commits)\n  scsi: ufs: core: Leave space for '\\0' in utf8 desc string\n  scsi: ufs: core: Conversion to bool not necessary\n  scsi: ufs: core: Fix race between force complete and ISR\n  scsi: megaraid: Fix up debug message in megaraid_abort_and_reset()\n  scsi: aic79xx: Fix up NULL command in ahd_done()\n  scsi: message: fusion: Initialize return value in mptfc_bus_reset()\n  scsi: mpt3sas: Fix loop logic\n  scsi: snic: Remove useless code in snic_dr_clean_pending_req()\n  scsi: core: Add comment to target_destroy in scsi_host_template\n  scsi: core: Clean up scsi_dev_queue_ready()\n  scsi: pmcraid: Add missing scsi_device_put() in pmcraid_eh_target_reset_handler()\n  scsi: target: core: Fix kernel-doc comment\n  scsi: pmcraid: Fix kernel-doc comment\n  scsi: core: Handle depopulation and restoration in progress\n  scsi: ufs: core: Add support for parsing OPP\n  scsi: ufs: core: Add OPP support for scaling clocks and regulators\n  scsi: ufs: dt-bindings: common: Add OPP table\n  scsi: scsi_debug: Add param to control sdev's allow_restart\n  scsi: scsi_debug: Add debugfs interface to fail target reset\n  scsi: scsi_debug: Add new error injection type: Reset LUN failed\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Nov 2 15:13:50 2023 -1000",
  "author_date_iso": "2023-11-02T15:13:50-10:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Nov 2 15:13:50 2023 -1000",
  "committer_date_iso": "2023-11-02T15:13:50-10:00",
  "files_changed": [
    "MAINTAINERS",
    "drivers/scsi/qla2xxx/qla_os.c",
    "drivers/scsi/scsi.c",
    "drivers/scsi/sd.c",
    "drivers/target/target_core_device.c",
    "drivers/ufs/core/ufshcd.c",
    "include/scsi/scsi_host.h"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "Documentation/devicetree/bindings/ufs/ufs-common.yaml",
      "insertions": 32,
      "deletions": 3
    },
    {
      "file": "MAINTAINERS",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/infiniband/ulp/srpt/ib_srpt.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/message/fusion/mptctl.c",
      "insertions": 9,
      "deletions": 10
    },
    {
      "file": "drivers/message/fusion/mptfc.c",
      "insertions": 65,
      "deletions": 29
    },
    {
      "file": "drivers/message/fusion/mptsas.c",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "drivers/message/fusion/mptscsih.c",
      "insertions": 54,
      "deletions": 1
    },
    {
      "file": "drivers/message/fusion/mptscsih.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/Kconfig",
      "insertions": 0,
      "deletions": 15
    },
    {
      "file": "drivers/scsi/aic7xxx/aic79xx_osm.c",
      "insertions": 26,
      "deletions": 12
    },
    {
      "file": "drivers/scsi/aic7xxx/aic7xxx_osm.c",
      "insertions": 70,
      "deletions": 57
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_hwi.c",
      "insertions": 9,
      "deletions": 5
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_io.c",
      "insertions": 47,
      "deletions": 47
    },
    {
      "file": "drivers/scsi/cxgbi/libcxgbi.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/device_handler/scsi_dh_hp_sw.c",
      "insertions": 40,
      "deletions": 39
    },
    {
      "file": "drivers/scsi/device_handler/scsi_dh_rdac.c",
      "insertions": 12,
      "deletions": 9
    },
    {
      "file": "drivers/scsi/elx/efct/efct_lio.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/esas2r/esas2r_ioctl.c",
      "insertions": 6,
      "deletions": 10
    },
    {
      "file": "drivers/scsi/fnic/fnic_fcs.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "drivers/scsi/hisi_sas/hisi_sas.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/hisi_sas/hisi_sas_main.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/hisi_sas/hisi_sas_v3_hw.c",
      "insertions": 53,
      "deletions": 63
    },
    {
      "file": "drivers/scsi/ibmvscsi/ibmvfc.c",
      "insertions": 349,
      "deletions": 140
    },
    {
      "file": "drivers/scsi/ibmvscsi/ibmvfc.h",
      "insertions": 34,
      "deletions": 16
    },
    {
      "file": "drivers/scsi/ibmvscsi_tgt/ibmvscsi_tgt.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/imm.c",
      "insertions": 37,
      "deletions": 33
    },
    {
      "file": "drivers/scsi/imm.h",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "drivers/scsi/ips.c",
      "insertions": 0,
      "deletions": 18
    },
    {
      "file": "drivers/scsi/libfc/fc_lport.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/libsas/sas_discover.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/libsas/sas_init.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/libsas/sas_internal.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_els.c",
      "insertions": 23,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_hbadisc.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_logmsg.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_nportdisc.c",
      "insertions": 14,
      "deletions": 4
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_nvme.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_sli.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_version.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/megaraid.c",
      "insertions": 23,
      "deletions": 30
    },
    {
      "file": "drivers/scsi/megaraid/megaraid_sas.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/megaraid/megaraid_sas_base.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/megaraid/megaraid_sas_fusion.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/mpi3mr/mpi3mr_os.c",
      "insertions": 37,
      "deletions": 20
    },
    {
      "file": "drivers/scsi/mpt3sas/mpt3sas_base.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/pm8001/pm8001_hwi.c",
      "insertions": 16,
      "deletions": 73
    },
    {
      "file": "drivers/scsi/pm8001/pm8001_init.c",
      "insertions": 153,
      "deletions": 132
    },
    {
      "file": "drivers/scsi/pm8001/pm8001_sas.h",
      "insertions": 3,
      "deletions": 8
    },
    {
      "file": "drivers/scsi/pm8001/pm80xx_hwi.c",
      "insertions": 19,
      "deletions": 40
    },
    {
      "file": "drivers/scsi/pmcraid.c",
      "insertions": 57,
      "deletions": 12
    },
    {
      "file": "drivers/scsi/qedf/qedf.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/qedf/qedf_io.c",
      "insertions": 20,
      "deletions": 55
    },
    {
      "file": "drivers/scsi/qedf/qedf_main.c",
      "insertions": 10,
      "deletions": 9
    },
    {
      "file": "drivers/scsi/qla1280.c",
      "insertions": 22,
      "deletions": 20
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_os.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/qla2xxx/tcm_qla2xxx.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/scsi.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/scsi_debug.c",
      "insertions": 570,
      "deletions": 5
    },
    {
      "file": "drivers/scsi/scsi_lib.c",
      "insertions": 18,
      "deletions": 19
    },
    {
      "file": "drivers/scsi/scsi_transport_spi.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/sd.c",
      "insertions": 27,
      "deletions": 21
    },
    {
      "file": "drivers/scsi/snic/snic_scsi.c",
      "insertions": 4,
      "deletions": 10
    },
    {
      "file": "drivers/scsi/sr.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/sym53c8xx_2/sym_glue.c",
      "insertions": 121,
      "deletions": 68
    },
    {
      "file": "drivers/target/iscsi/Kconfig",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "drivers/target/iscsi/iscsi_target.c",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_configfs.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_erl1.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_tmr.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/target/loopback/tcm_loop.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/target/sbp/sbp_target.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/target/target_core_alua.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/target/target_core_configfs.c",
      "insertions": 22,
      "deletions": 0
    },
    {
      "file": "drivers/target/target_core_device.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/target/target_core_fabric_configfs.c",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "drivers/target/target_core_transport.c",
      "insertions": 59,
      "deletions": 57
    },
    {
      "file": "drivers/target/target_core_user.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/target/tcm_fc/tfc_conf.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/ufs/core/ufshcd.c",
      "insertions": 193,
      "deletions": 75
    },
    {
      "file": "drivers/ufs/host/cdns-pltfrm.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/ufs/host/tc-dwc-g210-pltfrm.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/ufs/host/ti-j721e-ufs.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/ufs/host/ufs-exynos.c",
      "insertions": 9,
      "deletions": 6
    },
    {
      "file": "drivers/ufs/host/ufs-hisi.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/ufs/host/ufs-mediatek.c",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "drivers/ufs/host/ufs-qcom.c",
      "insertions": 166,
      "deletions": 50
    },
    {
      "file": "drivers/ufs/host/ufs-qcom.h",
      "insertions": 17,
      "deletions": 3
    },
    {
      "file": "drivers/ufs/host/ufs-renesas.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/ufs/host/ufs-sprd.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/ufs/host/ufshcd-pci.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/ufs/host/ufshcd-pltfrm.c",
      "insertions": 88,
      "deletions": 5
    },
    {
      "file": "drivers/ufs/host/ufshcd-pltfrm.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/usb/gadget/function/f_tcm.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/vhost/scsi.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "drivers/xen/xen-scsiback.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/scsi/libsas.h",
      "insertions": 0,
      "deletions": 17
    },
    {
      "file": "include/scsi/scsi_host.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/target/target_core_base.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "include/target/target_core_fabric.h",
      "insertions": 12,
      "deletions": 7
    },
    {
      "file": "include/trace/events/ufs.h",
      "insertions": 8,
      "deletions": 7
    },
    {
      "file": "include/ufs/ufs.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "include/ufs/ufshcd.h",
      "insertions": 9,
      "deletions": 5
    }
  ],
  "total_insertions": 2747,
  "total_deletions": 1362,
  "total_changes": 4109,
  "parents": [
    "90a300dc0553c5c4a3324ca6de5877c834d27af7",
    "a75a16c62a2540f11eeae4f2b50e95deefb652ea"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/scsi.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_os.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/ufs/core/ufshcd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/target/target_core_device.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/scsi/scsi_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/sd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}