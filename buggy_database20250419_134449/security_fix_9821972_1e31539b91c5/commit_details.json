{
  "hash": "982197277c85018cc6eb77f1d3bef17933b0c5fd",
  "hash_short": "98219727",
  "subject": "Merge branch 'for-3.8' of git://linux-nfs.org/~bfields/linux",
  "body": "Pull nfsd update from Bruce Fields:\n \"Included this time:\n\n   - more nfsd containerization work from Stanislav Kinsbursky: we're\n     not quite there yet, but should be by 3.9.\n\n   - NFSv4.1 progress: implementation of basic backchannel security\n     negotiation and the mandatory BACKCHANNEL_CTL operation.  See\n\n       http://wiki.linux-nfs.org/wiki/index.php/Server_4.0_and_4.1_issues\n\n     for remaining TODO's\n\n   - Fixes for some bugs that could be triggered by unusual compounds.\n     Our xdr code wasn't designed with v4 compounds in mind, and it\n     shows.  A more thorough rewrite is still a todo.\n\n   - If you've ever seen \"RPC: multiple fragments per record not\n     supported\" logged while using some sort of odd userland NFS client,\n     that should now be fixed.\n\n   - Further work from Jeff Layton on our mechanism for storing\n     information about NFSv4 clients across reboots.\n\n   - Further work from Bryan Schumaker on his fault-injection mechanism\n     (which allows us to discard selective NFSv4 state, to excercise\n     rarely-taken recovery code paths in the client.)\n\n   - The usual mix of miscellaneous bugs and cleanup.\n\n  Thanks to everyone who tested or contributed this cycle.\"\n\n* 'for-3.8' of git://linux-nfs.org/~bfields/linux: (111 commits)\n  nfsd4: don't leave freed stateid hashed\n  nfsd4: free_stateid can use the current stateid\n  nfsd4: cleanup: replace rq_resused count by rq_next_page pointer\n  nfsd: warn on odd reply state in nfsd_vfs_read\n  nfsd4: fix oops on unusual readlike compound\n  nfsd4: disable zero-copy on non-final read ops\n  svcrpc: fix some printks\n  NFSD: Correct the size calculation in fault_inject_write\n  NFSD: Pass correct buffer size to rpc_ntop\n  nfsd: pass proper net to nfsd_destroy() from NFSd kthreads\n  nfsd: simplify service shutdown\n  nfsd: replace boolean nfsd_up flag by users counter\n  nfsd: simplify NFSv4 state init and shutdown\n  nfsd: introduce helpers for generic resources init and shutdown\n  nfsd: make NFSd service structure allocated per net\n  nfsd: make NFSd service boot time per-net\n  nfsd: per-net NFSd up flag introduced\n  nfsd: move per-net startup code to separated function\n  nfsd: pass net to __write_ports() and down\n  nfsd: pass net to nfsd_set_nrthreads()\n  ...",
  "full_message": "Merge branch 'for-3.8' of git://linux-nfs.org/~bfields/linux\n\nPull nfsd update from Bruce Fields:\n \"Included this time:\n\n   - more nfsd containerization work from Stanislav Kinsbursky: we're\n     not quite there yet, but should be by 3.9.\n\n   - NFSv4.1 progress: implementation of basic backchannel security\n     negotiation and the mandatory BACKCHANNEL_CTL operation.  See\n\n       http://wiki.linux-nfs.org/wiki/index.php/Server_4.0_and_4.1_issues\n\n     for remaining TODO's\n\n   - Fixes for some bugs that could be triggered by unusual compounds.\n     Our xdr code wasn't designed with v4 compounds in mind, and it\n     shows.  A more thorough rewrite is still a todo.\n\n   - If you've ever seen \"RPC: multiple fragments per record not\n     supported\" logged while using some sort of odd userland NFS client,\n     that should now be fixed.\n\n   - Further work from Jeff Layton on our mechanism for storing\n     information about NFSv4 clients across reboots.\n\n   - Further work from Bryan Schumaker on his fault-injection mechanism\n     (which allows us to discard selective NFSv4 state, to excercise\n     rarely-taken recovery code paths in the client.)\n\n   - The usual mix of miscellaneous bugs and cleanup.\n\n  Thanks to everyone who tested or contributed this cycle.\"\n\n* 'for-3.8' of git://linux-nfs.org/~bfields/linux: (111 commits)\n  nfsd4: don't leave freed stateid hashed\n  nfsd4: free_stateid can use the current stateid\n  nfsd4: cleanup: replace rq_resused count by rq_next_page pointer\n  nfsd: warn on odd reply state in nfsd_vfs_read\n  nfsd4: fix oops on unusual readlike compound\n  nfsd4: disable zero-copy on non-final read ops\n  svcrpc: fix some printks\n  NFSD: Correct the size calculation in fault_inject_write\n  NFSD: Pass correct buffer size to rpc_ntop\n  nfsd: pass proper net to nfsd_destroy() from NFSd kthreads\n  nfsd: simplify service shutdown\n  nfsd: replace boolean nfsd_up flag by users counter\n  nfsd: simplify NFSv4 state init and shutdown\n  nfsd: introduce helpers for generic resources init and shutdown\n  nfsd: make NFSd service structure allocated per net\n  nfsd: make NFSd service boot time per-net\n  nfsd: per-net NFSd up flag introduced\n  nfsd: move per-net startup code to separated function\n  nfsd: pass net to __write_ports() and down\n  nfsd: pass net to nfsd_set_nrthreads()\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Dec 20 14:04:11 2012 -0800",
  "author_date_iso": "2012-12-20T14:04:11-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Dec 20 14:04:11 2012 -0800",
  "committer_date_iso": "2012-12-20T14:04:11-08:00",
  "files_changed": [
    "fs/exportfs/expfs.c",
    "fs/fhandle.c",
    "include/linux/exportfs.h",
    "net/sunrpc/rpcb_clnt.c",
    "net/sunrpc/svc.c",
    "net/sunrpc/svcsock.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/filesystems/nfs/nfs41-server.txt",
      "insertions": 4,
      "deletions": 16
    },
    {
      "file": "fs/exportfs/expfs.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "fs/fhandle.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/fault_inject.c",
      "insertions": 98,
      "deletions": 15
    },
    {
      "file": "fs/nfsd/fault_inject.h",
      "insertions": 0,
      "deletions": 28
    },
    {
      "file": "fs/nfsd/netns.h",
      "insertions": 66,
      "deletions": 0
    },
    {
      "file": "fs/nfsd/nfs2acl.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/nfs3acl.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/nfs3proc.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "fs/nfsd/nfs3xdr.c",
      "insertions": 26,
      "deletions": 21
    },
    {
      "file": "fs/nfsd/nfs4callback.c",
      "insertions": 48,
      "deletions": 21
    },
    {
      "file": "fs/nfsd/nfs4proc.c",
      "insertions": 61,
      "deletions": 13
    },
    {
      "file": "fs/nfsd/nfs4recover.c",
      "insertions": 461,
      "deletions": 100
    },
    {
      "file": "fs/nfsd/nfs4state.c",
      "insertions": 595,
      "deletions": 420
    },
    {
      "file": "fs/nfsd/nfs4xdr.c",
      "insertions": 156,
      "deletions": 168
    },
    {
      "file": "fs/nfsd/nfsctl.c",
      "insertions": 59,
      "deletions": 41
    },
    {
      "file": "fs/nfsd/nfsd.h",
      "insertions": 11,
      "deletions": 25
    },
    {
      "file": "fs/nfsd/nfsfh.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "fs/nfsd/nfssvc.c",
      "insertions": 131,
      "deletions": 72
    },
    {
      "file": "fs/nfsd/nfsxdr.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "fs/nfsd/state.h",
      "insertions": 51,
      "deletions": 13
    },
    {
      "file": "fs/nfsd/vfs.c",
      "insertions": 22,
      "deletions": 31
    },
    {
      "file": "fs/nfsd/xdr4.h",
      "insertions": 13,
      "deletions": 2
    },
    {
      "file": "include/linux/exportfs.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "include/linux/sunrpc/cache.h",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "include/linux/sunrpc/svc.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "include/linux/sunrpc/svcsock.h",
      "insertions": 19,
      "deletions": 2
    },
    {
      "file": "net/sunrpc/rpcb_clnt.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/svc.c",
      "insertions": 3,
      "deletions": 5
    },
    {
      "file": "net/sunrpc/svcsock.c",
      "insertions": 50,
      "deletions": 48
    },
    {
      "file": "net/sunrpc/xprtrdma/svc_rdma_recvfrom.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "net/sunrpc/xprtrdma/svc_rdma_sendto.c",
      "insertions": 3,
      "deletions": 1
    }
  ],
  "total_insertions": 1911,
  "total_deletions": 1067,
  "total_changes": 2978,
  "parents": [
    "40889e8d9fc6355980cf2bc94ef4356c10dec4ec",
    "24ffb93872f7363a01ad639e3c8a9889b46c3f0a"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/fhandle.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/rpcb_clnt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/exportfs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/exportfs/expfs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/svcsock.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/svc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}