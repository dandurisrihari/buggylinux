{
  "hash": "2ec98f567888501df0140c858af5f5ea10216a6f",
  "hash_short": "2ec98f56",
  "subject": "Merge tag 'gpio-v5.3-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio",
  "body": "Pull GPIO updates from Linus Walleij:\n \"This is the big slew of GPIO changes for the v5.3 kernel cycle. This\n  is mostly incremental work this time.\n\n  Three important things:\n\n   - The FMC subsystem is deleted through my tree. This happens through\n     GPIO as its demise was discussed in relation to a patch decoupling\n     its GPIO implementation from the standard way of handling GPIO. As\n     it turns out, that is not the only subsystem it reimplements and\n     the authors think it is better do scratch it and start over using\n     the proper kernel subsystems than try to polish the rust shiny. See\n     the commit (ACKed by the maintainers) for details.\n\n   - Arnd made a small devres patch that was ACKed by Greg and goes into\n     the device core.\n\n   - SPDX header change colissions may happen, because at times I've\n     seen that quite a lot changed during the -rc:s in regards to SPDX.\n     (It is good stuff, tglx has me convinced, and it is worth the\n     occasional pain.)\n\n  Apart from this is is nothing controversial or problematic.\n\n  Summary:\n\n  Core:\n\n   - When a gpio_chip request GPIOs from itself, it can now fully\n     control the line characteristics, both machine and consumer flags.\n     This makes a lot of sense, but took some time before I figured out\n     that this is how it has to work.\n\n   - Several smallish documentation fixes.\n\n  New drivers:\n\n   - The PCA953x driver now supports the TI TCA9539.\n\n   - The DaVinci driver now supports the K3 AM654 SoCs.\n\n  Driver improvements:\n\n   - Major overhaul and hardening of the OMAP driver by Russell King.\n\n   - Starting to move some drivers to the new API passing irq_chip along\n     with the gpio_chip when adding the gpio_chip instead of adding it\n     separately.\n\n  Unrelated:\n\n   - Delete the FMC subsystem\"\n\n* tag 'gpio-v5.3-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio: (87 commits)\n  Revert \"gpio: tegra: Clean-up debugfs initialisation\"\n  gpiolib: Use spinlock_t instead of struct spinlock\n  gpio: stp-xway: allow compile-testing\n  gpio: stp-xway: get rid of the #include <lantiq_soc.h> dependency\n  gpio: stp-xway: improve module clock error handling\n  gpio: stp-xway: simplify error handling in xway_stp_probe()\n  gpiolib: Clarify use of non-sleeping functions\n  gpiolib: Fix references to gpiod_[gs]et_*value_cansleep() variants\n  gpiolib: Document new gpio_chip.init_valid_mask field\n  Documentation: gpio: Fix reference to gpiod_get_array()\n  gpio: pl061: drop duplicate printing of device name\n  gpio: altera: Pass irqchip when adding gpiochip\n  gpio: siox: Use devm_ managed gpiochip\n  gpio: siox: Add struct device *dev helper variable\n  gpio: siox: Pass irqchip when adding gpiochip\n  drivers: gpio: amd-fch: make resource struct const\n  devres: allow const resource arguments\n  gpio: ath79: Pass irqchip when adding gpiochip\n  gpio: tegra: Clean-up debugfs initialisation\n  gpio: siox: Switch to IRQ_TYPE_NONE\n  ...",
  "full_message": "Merge tag 'gpio-v5.3-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio\n\nPull GPIO updates from Linus Walleij:\n \"This is the big slew of GPIO changes for the v5.3 kernel cycle. This\n  is mostly incremental work this time.\n\n  Three important things:\n\n   - The FMC subsystem is deleted through my tree. This happens through\n     GPIO as its demise was discussed in relation to a patch decoupling\n     its GPIO implementation from the standard way of handling GPIO. As\n     it turns out, that is not the only subsystem it reimplements and\n     the authors think it is better do scratch it and start over using\n     the proper kernel subsystems than try to polish the rust shiny. See\n     the commit (ACKed by the maintainers) for details.\n\n   - Arnd made a small devres patch that was ACKed by Greg and goes into\n     the device core.\n\n   - SPDX header change colissions may happen, because at times I've\n     seen that quite a lot changed during the -rc:s in regards to SPDX.\n     (It is good stuff, tglx has me convinced, and it is worth the\n     occasional pain.)\n\n  Apart from this is is nothing controversial or problematic.\n\n  Summary:\n\n  Core:\n\n   - When a gpio_chip request GPIOs from itself, it can now fully\n     control the line characteristics, both machine and consumer flags.\n     This makes a lot of sense, but took some time before I figured out\n     that this is how it has to work.\n\n   - Several smallish documentation fixes.\n\n  New drivers:\n\n   - The PCA953x driver now supports the TI TCA9539.\n\n   - The DaVinci driver now supports the K3 AM654 SoCs.\n\n  Driver improvements:\n\n   - Major overhaul and hardening of the OMAP driver by Russell King.\n\n   - Starting to move some drivers to the new API passing irq_chip along\n     with the gpio_chip when adding the gpio_chip instead of adding it\n     separately.\n\n  Unrelated:\n\n   - Delete the FMC subsystem\"\n\n* tag 'gpio-v5.3-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio: (87 commits)\n  Revert \"gpio: tegra: Clean-up debugfs initialisation\"\n  gpiolib: Use spinlock_t instead of struct spinlock\n  gpio: stp-xway: allow compile-testing\n  gpio: stp-xway: get rid of the #include <lantiq_soc.h> dependency\n  gpio: stp-xway: improve module clock error handling\n  gpio: stp-xway: simplify error handling in xway_stp_probe()\n  gpiolib: Clarify use of non-sleeping functions\n  gpiolib: Fix references to gpiod_[gs]et_*value_cansleep() variants\n  gpiolib: Document new gpio_chip.init_valid_mask field\n  Documentation: gpio: Fix reference to gpiod_get_array()\n  gpio: pl061: drop duplicate printing of device name\n  gpio: altera: Pass irqchip when adding gpiochip\n  gpio: siox: Use devm_ managed gpiochip\n  gpio: siox: Add struct device *dev helper variable\n  gpio: siox: Pass irqchip when adding gpiochip\n  drivers: gpio: amd-fch: make resource struct const\n  devres: allow const resource arguments\n  gpio: ath79: Pass irqchip when adding gpiochip\n  gpio: tegra: Clean-up debugfs initialisation\n  gpio: siox: Switch to IRQ_TYPE_NONE\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue Jul 9 09:07:00 2019 -0700",
  "author_date_iso": "2019-07-09T09:07:00-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Jul 9 09:07:00 2019 -0700",
  "committer_date_iso": "2019-07-09T09:07:00-07:00",
  "files_changed": [
    "arch/arm/mach-omap1/ams-delta-fiq.c",
    "arch/arm/mach-omap1/board-ams-delta.c",
    "drivers/gpio/Kconfig",
    "drivers/gpio/gpio-amdpt.c",
    "drivers/gpio/gpio-ath79.c",
    "drivers/gpio/gpio-davinci.c",
    "drivers/gpio/gpio-em.c",
    "drivers/gpio/gpio-grgpio.c",
    "drivers/gpio/gpio-janz-ttl.c",
    "drivers/gpio/gpio-max732x.c",
    "drivers/gpio/gpio-omap.c",
    "drivers/gpio/gpio-pca953x.c",
    "drivers/gpio/gpio-pl061.c",
    "drivers/gpio/gpio-stp-xway.c",
    "drivers/gpio/gpio-tegra.c",
    "drivers/gpio/gpio-xilinx.c",
    "drivers/gpio/gpiolib-of.c",
    "drivers/hid/hid-cp2112.c",
    "drivers/memory/omap-gpmc.c",
    "include/linux/platform_data/gpio-omap.h",
    "include/linux/siox.h"
  ],
  "files_changed_count": 21,
  "stats": [
    {
      "file": "Documentation/devicetree/bindings/gpio/gpio-davinci.txt",
      "insertions": 18,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/gpio/pl061-gpio.txt",
      "insertions": 0,
      "deletions": 10
    },
    {
      "file": "Documentation/devicetree/bindings/gpio/pl061-gpio.yaml",
      "insertions": 69,
      "deletions": 0
    },
    {
      "file": "Documentation/driver-api/gpio/consumer.rst",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "Documentation/driver-api/gpio/driver.rst",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "Documentation/fmc/API.txt",
      "insertions": 0,
      "deletions": 47
    },
    {
      "file": "Documentation/fmc/FMC-and-SDB.txt",
      "insertions": 0,
      "deletions": 88
    },
    {
      "file": "Documentation/fmc/carrier.txt",
      "insertions": 0,
      "deletions": 311
    },
    {
      "file": "Documentation/fmc/fmc-chardev.txt",
      "insertions": 0,
      "deletions": 64
    },
    {
      "file": "Documentation/fmc/fmc-fakedev.txt",
      "insertions": 0,
      "deletions": 36
    },
    {
      "file": "Documentation/fmc/fmc-trivial.txt",
      "insertions": 0,
      "deletions": 17
    },
    {
      "file": "Documentation/fmc/fmc-write-eeprom.txt",
      "insertions": 0,
      "deletions": 98
    },
    {
      "file": "Documentation/fmc/identifiers.txt",
      "insertions": 0,
      "deletions": 168
    },
    {
      "file": "Documentation/fmc/mezzanine.txt",
      "insertions": 0,
      "deletions": 123
    },
    {
      "file": "Documentation/fmc/parameters.txt",
      "insertions": 0,
      "deletions": 56
    },
    {
      "file": "arch/arm/mach-omap1/ams-delta-fiq.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm/mach-omap1/board-ams-delta.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/Kconfig",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "drivers/Makefile",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/fmc/Kconfig",
      "insertions": 0,
      "deletions": 52
    },
    {
      "file": "drivers/fmc/Makefile",
      "insertions": 0,
      "deletions": 15
    },
    {
      "file": "drivers/fmc/fmc-chardev.c",
      "insertions": 0,
      "deletions": 199
    },
    {
      "file": "drivers/fmc/fmc-core.c",
      "insertions": 0,
      "deletions": 388
    },
    {
      "file": "drivers/fmc/fmc-debug.c",
      "insertions": 0,
      "deletions": 172
    },
    {
      "file": "drivers/fmc/fmc-dump.c",
      "insertions": 0,
      "deletions": 58
    },
    {
      "file": "drivers/fmc/fmc-fakedev.c",
      "insertions": 0,
      "deletions": 355
    },
    {
      "file": "drivers/fmc/fmc-match.c",
      "insertions": 0,
      "deletions": 113
    },
    {
      "file": "drivers/fmc/fmc-private.h",
      "insertions": 0,
      "deletions": 8
    },
    {
      "file": "drivers/fmc/fmc-sdb.c",
      "insertions": 0,
      "deletions": 219
    },
    {
      "file": "drivers/fmc/fmc-trivial.c",
      "insertions": 0,
      "deletions": 103
    },
    {
      "file": "drivers/fmc/fmc-write-eeprom.c",
      "insertions": 0,
      "deletions": 175
    },
    {
      "file": "drivers/fmc/fru-parse.c",
      "insertions": 0,
      "deletions": 80
    },
    {
      "file": "drivers/gpio/Kconfig",
      "insertions": 8,
      "deletions": 12
    },
    {
      "file": "drivers/gpio/Makefile",
      "insertions": 148,
      "deletions": 148
    },
    {
      "file": "drivers/gpio/TODO",
      "insertions": 40,
      "deletions": 0
    },
    {
      "file": "drivers/gpio/gpio-altera.c",
      "insertions": 29,
      "deletions": 36
    },
    {
      "file": "drivers/gpio/gpio-amd-fch.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-amdpt.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "drivers/gpio/gpio-ath79.c",
      "insertions": 27,
      "deletions": 39
    },
    {
      "file": "drivers/gpio/gpio-davinci.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-eic-sprd.c",
      "insertions": 2,
      "deletions": 7
    },
    {
      "file": "drivers/gpio/gpio-em.c",
      "insertions": 10,
      "deletions": 24
    },
    {
      "file": "drivers/gpio/gpio-ep93xx.c",
      "insertions": 2,
      "deletions": 5
    },
    {
      "file": "drivers/gpio/gpio-ftgpio010.c",
      "insertions": 19,
      "deletions": 16
    },
    {
      "file": "drivers/gpio/gpio-grgpio.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-ixp4xx.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "drivers/gpio/gpio-janz-ttl.c",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "drivers/gpio/gpio-madera.c",
      "insertions": 1,
      "deletions": 5
    },
    {
      "file": "drivers/gpio/gpio-max732x.c",
      "insertions": 16,
      "deletions": 29
    },
    {
      "file": "drivers/gpio/gpio-mockup.c",
      "insertions": 5,
      "deletions": 16
    },
    {
      "file": "drivers/gpio/gpio-mvebu.c",
      "insertions": 4,
      "deletions": 7
    },
    {
      "file": "drivers/gpio/gpio-omap.c",
      "insertions": 171,
      "deletions": 338
    },
    {
      "file": "drivers/gpio/gpio-pca953x.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpio/gpio-pl061.c",
      "insertions": 16,
      "deletions": 14
    },
    {
      "file": "drivers/gpio/gpio-rcar.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpio/gpio-siox.c",
      "insertions": 13,
      "deletions": 38
    },
    {
      "file": "drivers/gpio/gpio-stp-xway.c",
      "insertions": 17,
      "deletions": 16
    },
    {
      "file": "drivers/gpio/gpio-tegra.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpio/gpio-vf610.c",
      "insertions": 8,
      "deletions": 6
    },
    {
      "file": "drivers/gpio/gpio-vr41xx.c",
      "insertions": 5,
      "deletions": 14
    },
    {
      "file": "drivers/gpio/gpio-xilinx.c",
      "insertions": 36,
      "deletions": 54
    },
    {
      "file": "drivers/gpio/gpiolib-acpi.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpiolib-of.c",
      "insertions": 43,
      "deletions": 0
    },
    {
      "file": "drivers/gpio/gpiolib.c",
      "insertions": 43,
      "deletions": 45
    },
    {
      "file": "drivers/gpio/gpiolib.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/hid/hid-cp2112.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "drivers/memory/omap-gpmc.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/linux/fmc-sdb.h",
      "insertions": 0,
      "deletions": 39
    },
    {
      "file": "include/linux/fmc.h",
      "insertions": 0,
      "deletions": 269
    },
    {
      "file": "include/linux/gpio/driver.h",
      "insertions": 13,
      "deletions": 16
    },
    {
      "file": "include/linux/gpio/gpio-reg.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/gpio/machine.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/platform_data/gpio-omap.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/siox.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "tools/gpio/.gitignore",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 831,
  "total_deletions": 4206,
  "total_changes": 5037,
  "parents": [
    "96407298ff6ef59c4554833d47d29c775d1e7652",
    "9b3b623804a67d2274ee372c1587926ab0275833"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.3",
    "v5.3-rc1",
    "v5.3-rc2",
    "v5.3-rc3",
    "v5.3-rc4",
    "v5.3-rc5",
    "v5.3-rc6",
    "v5.3-rc7",
    "v5.3-rc8",
    "v5.4"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm/mach-omap1/board-ams-delta.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/mach-omap1/ams-delta-fiq.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-grgpio.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-ath79.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-em.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-amdpt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-davinci.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-omap.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-janz-ttl.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-stp-xway.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-pl061.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-tegra.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-max732x.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-pca953x.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpiolib-of.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-xilinx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/hid/hid-cp2112.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/platform_data/gpio-omap.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/memory/omap-gpmc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/siox.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}