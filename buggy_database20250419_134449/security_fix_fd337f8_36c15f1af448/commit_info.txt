Commit Hash: fd337f852b2677b53d0859a47b58e6e6bd189f30
Subject: crypto: hisilicon/sec2 - fix for aead icv error


Security Keywords:
- authentication

Full commit message:
crypto: hisilicon/sec2 - fix for aead icv error

When the AEAD algorithm is used for encryption or decryption,
the input authentication length varies, the hardware needs to
obtain the input length to pass the integrity check verification.
Currently, the driver uses a fixed authentication length,which
causes decryption failure, so the length configuration is modified.
In addition, the step of setting the auth length is unnecessary,
so it was deleted from the setkey function.

Fixes: 2f072d75d1ab ("crypto: hisilicon - Add aead support on SEC2")
Signed-off-by: Wenkai Lin <linwenkai6@hisilicon.com>
Signed-off-by: Chenghai Huang <huangchenghai2@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

Metadata:
Author: Wenkai Lin <linwenkai6@hisilicon.com>
Author Date: Fri Dec 13 17:13:34 2024 +0800
Committer: Herbert Xu <herbert@gondor.apana.org.au>
Commit Date: Sat Dec 21 22:46:24 2024 +0800

Files Changed: 3
Lines Added: 44
Lines Removed: 69
Total Changes: 113
