Commit Hash: 144b5ae3e343f193a6a7edef8f30aab4fad2d12b
Subject: Merge tag 'gpio-v4.7-4' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio


Security Keywords:
- hardening

Full commit message:
Merge tag 'gpio-v4.7-4' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio

Pull GPIO fixes from Linus Walleij:
 "More GPIO fixes.  Most prominent the gpiod_to_irq() fix brought to my
  attention by Hans de Goede.  The hardening patch is a consequence of
  the reasoning around that bug.

   - It was discovered that too many parts of the kernel does not
     respect gpiod_to_irq() returning zero for an invalid IRQ.  While
     this gets fixed, we need to make it return negative errorcodes
     again.

   - Harden the library a bit when passed error pointers.  It is a bug
     to use these, but let's be helpful and warn the users.

   - Fix an uninitialized spinlock in the 104-idi-48 driver"

* tag 'gpio-v4.7-4' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio:
  gpio: make library immune to error pointers
  gpio: make sure gpiod_to_irq() returns negative on NULL desc
  gpio: 104-idi-48: Fix missing spin_lock_init for ack_lock

Metadata:
Author: Linus Torvalds <torvalds@linux-foundation.org>
Author Date: Wed Jun 22 10:13:25 2016 -0700
Committer: Linus Torvalds <torvalds@linux-foundation.org>
Commit Date: Wed Jun 22 10:13:25 2016 -0700

Files Changed: 0
Lines Added: 19
Lines Removed: 3
Total Changes: 22
