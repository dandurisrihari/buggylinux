{
  "hash": "2475c362134a0fa5309c7b0fdb6fc1b86dca88a1",
  "hash_short": "2475c362",
  "subject": "Partial revert of \"powerpc: Individual System V IPC system calls\"",
  "body": "This partially reverts commit a34236155afb1cc41945e58388ac988431bcb0b8.\n\nWhile reviewing the glibc patch to exploit the individual IPC calls,\nArnd & Andreas noticed that we were still requiring userspace to pass\nIPC_64 in order to get the new style IPC API.\n\nWith a bit of cleanup in the kernel we can drop that requirement, and\ninstead only provide the new style API, which will simplify things for\nuserspace.\n\nRather than try and sneak that patch into 4.4, instead we will drop the\nindividual IPC calls for powerpc, and merge them again in 4.5 once the\ncleanup patch has gone in.\n\nBecause we've already added sys_mlock2() as syscall #378, we don't do a\nfull revert of the IPC calls. Instead we drop the __NR #defines, and\nsend those now undefined syscall numbers to sys_ni_syscall(). This\nleaves a gap in the syscall numbers, but we'll reuse them when we merge\nthe individual IPC calls.\n\nSigned-off-by: Michael Ellerman <mpe@ellerman.id.au>\nAcked-by: Arnd Bergmann <arnd@arndb.de>",
  "full_message": "Partial revert of \"powerpc: Individual System V IPC system calls\"\n\nThis partially reverts commit a34236155afb1cc41945e58388ac988431bcb0b8.\n\nWhile reviewing the glibc patch to exploit the individual IPC calls,\nArnd & Andreas noticed that we were still requiring userspace to pass\nIPC_64 in order to get the new style IPC API.\n\nWith a bit of cleanup in the kernel we can drop that requirement, and\ninstead only provide the new style API, which will simplify things for\nuserspace.\n\nRather than try and sneak that patch into 4.4, instead we will drop the\nindividual IPC calls for powerpc, and merge them again in 4.5 once the\ncleanup patch has gone in.\n\nBecause we've already added sys_mlock2() as syscall #378, we don't do a\nfull revert of the IPC calls. Instead we drop the __NR #defines, and\nsend those now undefined syscall numbers to sys_ni_syscall(). This\nleaves a gap in the syscall numbers, but we'll reuse them when we merge\nthe individual IPC calls.\n\nSigned-off-by: Michael Ellerman <mpe@ellerman.id.au>\nAcked-by: Arnd Bergmann <arnd@arndb.de>",
  "author_name": "Michael Ellerman",
  "author_email": "mpe@ellerman.id.au",
  "author_date": "Wed Dec 16 21:26:28 2015 +1100",
  "author_date_iso": "2015-12-16T21:26:28+11:00",
  "committer_name": "Michael Ellerman",
  "committer_email": "mpe@ellerman.id.au",
  "committer_date": "Wed Dec 16 21:52:32 2015 +1100",
  "committer_date_iso": "2015-12-16T21:52:32+11:00",
  "files_changed": [
    "arch/powerpc/include/asm/systbl.h",
    "arch/powerpc/include/uapi/asm/unistd.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "arch/powerpc/include/asm/systbl.h",
      "insertions": 12,
      "deletions": 12
    },
    {
      "file": "arch/powerpc/include/uapi/asm/unistd.h",
      "insertions": 0,
      "deletions": 12
    }
  ],
  "total_insertions": 12,
  "total_deletions": 24,
  "total_changes": 36,
  "parents": [
    "dc9c41bd9ece090b54eb8f1bbdfb1930e10d3ae7"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/powerpc/include/asm/systbl.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/powerpc/include/uapi/asm/unistd.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}