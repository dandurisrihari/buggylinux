{
  "hash": "68e76ad0baf8f5d5060377c2423ee6eed5c63057",
  "hash_short": "68e76ad0",
  "subject": "nfsd: pass client principal name in rsc downcall",
  "body": "Two principals are involved in krb5 authentication: the target, who we\nauthenticate *to* (normally the name of the server, like\nnfs/server.citi.umich.edu@CITI.UMICH.EDU), and the source, we we\nauthenticate *as* (normally a user, like bfields@UMICH.EDU)\n\nIn the case of NFSv4 callbacks, the target of the callback should be the\nsource of the client's setclientid call, and the source should be the\nnfs server's own principal.\n\nTherefore we allow svcgssd to pass down the name of the principal that\njust authenticated, so that on setclientid we can store that principal\nname with the new client, to be used later on callbacks.\n\nSigned-off-by: Olga Kornievskaia <aglo@citi.umich.edu>\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>\nSigned-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>",
  "full_message": "nfsd: pass client principal name in rsc downcall\n\nTwo principals are involved in krb5 authentication: the target, who we\nauthenticate *to* (normally the name of the server, like\nnfs/server.citi.umich.edu@CITI.UMICH.EDU), and the source, we we\nauthenticate *as* (normally a user, like bfields@UMICH.EDU)\n\nIn the case of NFSv4 callbacks, the target of the callback should be the\nsource of the client's setclientid call, and the source should be the\nnfs server's own principal.\n\nTherefore we allow svcgssd to pass down the name of the principal that\njust authenticated, so that on setclientid we can store that principal\nname with the new client, to be used later on callbacks.\n\nSigned-off-by: Olga Kornievskaia <aglo@citi.umich.edu>\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>\nSigned-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>",
  "author_name": "Olga Kornievskaia",
  "author_email": "aglo@citi.umich.edu",
  "author_date": "Tue Dec 23 16:17:15 2008 -0500",
  "author_date_iso": "2008-12-23T16:17:15-05:00",
  "committer_name": "Trond Myklebust",
  "committer_email": "Trond.Myklebust@netapp.com",
  "committer_date": "Tue Dec 23 16:17:15 2008 -0500",
  "committer_date_iso": "2008-12-23T16:17:15-05:00",
  "files_changed": [
    "fs/nfsd/nfs4state.c",
    "include/linux/nfsd/state.h",
    "include/linux/sunrpc/svcauth_gss.h",
    "net/sunrpc/auth_gss/svcauth_gss.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "fs/nfsd/nfs4state.c",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "include/linux/nfsd/state.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/linux/sunrpc/svcauth_gss.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/svcauth_gss.c",
      "insertions": 23,
      "deletions": 0
    }
  ],
  "total_insertions": 36,
  "total_deletions": 0,
  "total_changes": 36,
  "parents": [
    "34769fc488b463cb753fc632f8f5ba56c918b7cb"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.29",
    "v2.6.29-rc1",
    "v2.6.29-rc2",
    "v2.6.29-rc3",
    "v2.6.29-rc4",
    "v2.6.29-rc5",
    "v2.6.29-rc6",
    "v2.6.29-rc7",
    "v2.6.29-rc8",
    "v2.6.30"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/nfsd/nfs4state.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/nfsd/state.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/sunrpc/svcauth_gss.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/auth_gss/svcauth_gss.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}