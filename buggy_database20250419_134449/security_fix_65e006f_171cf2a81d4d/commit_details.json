{
  "hash": "65e006ff4bb06d42b532f866a846db6e4e637723",
  "hash_short": "65e006ff",
  "subject": "OMAPDSS: DISPC: Support rotation through TILER",
  "body": "TILER is a block in OMAP4's DMM which lets DSS fetch frames in a rotated manner.\nPhysical memory can be mapped to a portion of OMAP's system address space called\nTILER address space. The TILER address space is split into 8 views. Each view\nrepresents a rotated or mirrored form of the mapped physical memory. When a\nDISPC overlay's base address is programmed to one of these views, the TILER\nfetches the pixels according to the orientation of the view. A view is further\nsplit into 4 containers, each container holds elements of a particular size.\nRotation can be achieved at the granularity of elements in the container. For\nmore information on TILER, refer to the Memory Subsytem section in OMAP4 TRM.\nRotation type TILER has been added which is used to exploit the capabilities of\nthese 8 views for performing various rotations.\n\nWhen fetching from addresses mapped to TILER space, the DISPC DMA can fetch\npixels in either 1D or 2D bursts. The fetch depends on which TILER container we\nare accessing. Accessing 8, 16 and 32 bit sized containers requires 2D bursts,\nand page mode sized containers require 1D bursts.\n\nThe DSS2 user is expected to provide the Tiler address of the view that it is\ninterested in. This is passed to the paddr and p_uv_addr parameters in\nomap_overlay_info. It is also expected to provide the stride value based on the\nview's orientation and container type, this should be passed to the screen_width\nparameter of omap_overlay_info. In calc_tiler_rotation_offset screen_width is\nused to calculate the required row_inc for DISPC. x_predecim and y_predecim are\nalso used to calculate row_inc and pix_inc thereby adding predecimation support\nfor TILER.\n\nSigned-off-by: Chandrabhanu Mahapatra <cmahapatra@ti.com>\nSigned-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>",
  "full_message": "OMAPDSS: DISPC: Support rotation through TILER\n\nTILER is a block in OMAP4's DMM which lets DSS fetch frames in a rotated manner.\nPhysical memory can be mapped to a portion of OMAP's system address space called\nTILER address space. The TILER address space is split into 8 views. Each view\nrepresents a rotated or mirrored form of the mapped physical memory. When a\nDISPC overlay's base address is programmed to one of these views, the TILER\nfetches the pixels according to the orientation of the view. A view is further\nsplit into 4 containers, each container holds elements of a particular size.\nRotation can be achieved at the granularity of elements in the container. For\nmore information on TILER, refer to the Memory Subsytem section in OMAP4 TRM.\nRotation type TILER has been added which is used to exploit the capabilities of\nthese 8 views for performing various rotations.\n\nWhen fetching from addresses mapped to TILER space, the DISPC DMA can fetch\npixels in either 1D or 2D bursts. The fetch depends on which TILER container we\nare accessing. Accessing 8, 16 and 32 bit sized containers requires 2D bursts,\nand page mode sized containers require 1D bursts.\n\nThe DSS2 user is expected to provide the Tiler address of the view that it is\ninterested in. This is passed to the paddr and p_uv_addr parameters in\nomap_overlay_info. It is also expected to provide the stride value based on the\nview's orientation and container type, this should be passed to the screen_width\nparameter of omap_overlay_info. In calc_tiler_rotation_offset screen_width is\nused to calculate the required row_inc for DISPC. x_predecim and y_predecim are\nalso used to calculate row_inc and pix_inc thereby adding predecimation support\nfor TILER.\n\nSigned-off-by: Chandrabhanu Mahapatra <cmahapatra@ti.com>\nSigned-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>",
  "author_name": "Chandrabhanu Mahapatra",
  "author_email": "cmahapatra@ti.com",
  "author_date": "Fri May 11 19:19:55 2012 +0530",
  "author_date_iso": "2012-05-11T19:19:55+05:30",
  "committer_name": "Tomi Valkeinen",
  "committer_email": "tomi.valkeinen@ti.com",
  "committer_date": "Tue May 22 10:59:15 2012 +0300",
  "committer_date_iso": "2012-05-22T10:59:15+03:00",
  "files_changed": [
    "drivers/video/omap2/dss/dispc.c",
    "drivers/video/omap2/dss/dss_features.c",
    "drivers/video/omap2/dss/dss_features.h",
    "drivers/video/omap2/dss/overlay.c",
    "include/video/omapdss.h"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "drivers/video/omap2/dss/dispc.c",
      "insertions": 59,
      "deletions": 1
    },
    {
      "file": "drivers/video/omap2/dss/dss_features.c",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "drivers/video/omap2/dss/dss_features.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/video/omap2/dss/overlay.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "include/video/omapdss.h",
      "insertions": 3,
      "deletions": 2
    }
  ],
  "total_insertions": 87,
  "total_deletions": 3,
  "total_changes": 90,
  "parents": [
    "3cb6a1b9672a2e0937a1475e3d68e6c236133156"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/video/omap2/dss/dispc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/video/omap2/dss/dss_features.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/video/omap2/dss/dss_features.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/video/omap2/dss/overlay.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/video/omapdss.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}