commit 7c82b3b308f9ca24852e3b0ee963b9eae128b78a
Author: Alexander Atanasov <alexander.atanasov@virtuozzo.com>
Date:   Tue Sep 20 15:11:11 2022 +0300

    mm: Make failslab writable again
    
    In (060807f841ac mm, slub: make remaining slub_debug related attributes
    read-only) failslab was made read-only.
    I think it became a collateral victim to the two other options for which
    the reasons are perfectly valid.
    Here is why:
     - sanity_checks and trace are slab internal debug options,
       failslab is used for fault injection.
     - for fault injections, which by presumption are random, it
       does not matter if it is not set atomically. And you need to
       set atleast one more option to trigger fault injection.
     - in a testing scenario you may need to change it at runtime
       example: module loading - you test all allocations limited
       by the space option. Then you move to test only your module's
       own slabs.
     - when set by command line flags it effectively disables all
       cache merges.
    
    Cc: Vlastimil Babka <vbabka@suse.cz>
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Cc: Kees Cook <keescook@chromium.org>
    Cc: Roman Gushchin <guro@fb.com>
    Cc: Christoph Lameter <cl@linux.com>
    Cc: Jann Horn <jannh@google.com>
    Cc: Vijayanand Jitta <vjitta@codeaurora.org>
    Cc: David Rientjes <rientjes@google.com>
    Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
    Cc: Pekka Enberg <penberg@kernel.org>
    Link: http://lkml.kernel.org/r/20200610163135.17364-5-vbabka@suse.cz
    
    Signed-off-by: Alexander Atanasov <alexander.atanasov@virtuozzo.com>
    Signed-off-by: Vlastimil Babka <vbabka@suse.cz>

diff --git a/Documentation/mm/slub.rst b/Documentation/mm/slub.rst
index 4e1578186b4f..7f652216dabe 100644
--- a/Documentation/mm/slub.rst
+++ b/Documentation/mm/slub.rst
@@ -116,6 +116,8 @@ options from the ``slub_debug`` parameter translate to the following files::
 	T	trace
 	A	failslab
 
+failslab file is writable, so writing 1 or 0 will enable or disable
+the option at runtime. Write returns -EINVAL if cache is an alias.
 Careful with tracing: It may spew out lots of information and never stop if
 used on the wrong slab.