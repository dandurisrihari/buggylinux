Commit Hash: 69371801f929ff4b3c846a45b9d49db631897cd9
Subject: wifi: mac80211: fix locking in auth/assoc timeout


Security Keywords:
- auth

Full commit message:
wifi: mac80211: fix locking in auth/assoc timeout

If we hit an authentication or association timeout, we only
release the chanctx for the deflink, and the other link(s)
are released later by ieee80211_vif_set_links(), but we're
not locking this correctly.

Fix the locking here while releasing the channels and links.

Change-Id: I9e08c1a5434592bdc75253c1abfa6c788f9f39b1
Fixes: 81151ce462e5 ("wifi: mac80211: support MLO authentication/association with one link")
Signed-off-by: Johannes Berg <johannes.berg@intel.com>

Metadata:
Author: Johannes Berg <johannes.berg@intel.com>
Author Date: Fri Sep 2 16:11:14 2022 +0200
Committer: Johannes Berg <johannes.berg@intel.com>
Commit Date: Sat Sep 3 16:40:06 2022 +0200

Files Changed: 1
Lines Added: 5
Lines Removed: 6
Total Changes: 11
