Commit Hash: c4252a11131c7f27a158294241466e2a4e7ff94e
Subject: drm/i915/gt: perform uc late init after probe error injection


Security Keywords:
- injection

Full commit message:
drm/i915/gt: perform uc late init after probe error injection

Probe pseudo errors should be injected only in places where real errors
can be encountered, otherwise unwinding code can be broken.
Placing intel_uc_init_late before i915_inject_probe_error violated
this rule, resulting in following bug:
__intel_gt_disable:655 GEM_BUG_ON(intel_gt_pm_is_awake(gt))

Fixes: 481d458caede ("drm/i915/guc: Add golden context to GuC ADS")
Acked-by: Nirmoy Das <nirmoy.das@intel.com>
Reviewed-by: Andi Shyti <andi.shyti@linux.intel.com>
Signed-off-by: Andrzej Hajda <andrzej.hajda@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20230314151920.1065847-1-andrzej.hajda@intel.com

Metadata:
Author: Andrzej Hajda <andrzej.hajda@intel.com>
Author Date: Tue Mar 14 16:19:20 2023 +0100
Committer: Andrzej Hajda <andrzej.hajda@intel.com>
Commit Date: Fri Mar 17 10:10:05 2023 +0100

Files Changed: 1
Lines Added: 2
Lines Removed: 2
Total Changes: 4
