{
  "hash": "8ccba14233000f48639aad4cab55ed7b61260db5",
  "hash_short": "8ccba142",
  "subject": "rtc: ds1511: clean up ds1511_nvram_read()/ds1511_nvram_write()",
  "body": "The change removes redundant sysfs binary file boundary checks, since\nthis task is already done on caller side in fs/sysfs/file.c\n\nThe change enables burst mode of access to SRAM for any read()/write()\noperations, it is worth to mention that this may influence on\nuserspace, for instance prior to the change\n\n  read(fd, buf, 1);\n  read(fd, buf + 1, 1);\n\nand\n\n  read(fd, buf, 2);\n\nsequences of syscalls over DS1511's sysfs \"nvram\" fd led to different\nDS1511 state changes and/or buf content, if some userspace applications\nare written specifically for DS1511 and exploit this strange\n\"feature\", they may be impacted.\n\nAlso the change corrects NVRAM size accessible to userspace from 255\nbytes to 256 bytes.\n\nSigned-off-by: Vladimir Zapolskiy <vz@mleia.com>\nSigned-off-by: Alexandre Belloni <alexandre.belloni@free-electrons.com>",
  "full_message": "rtc: ds1511: clean up ds1511_nvram_read()/ds1511_nvram_write()\n\nThe change removes redundant sysfs binary file boundary checks, since\nthis task is already done on caller side in fs/sysfs/file.c\n\nThe change enables burst mode of access to SRAM for any read()/write()\noperations, it is worth to mention that this may influence on\nuserspace, for instance prior to the change\n\n  read(fd, buf, 1);\n  read(fd, buf + 1, 1);\n\nand\n\n  read(fd, buf, 2);\n\nsequences of syscalls over DS1511's sysfs \"nvram\" fd led to different\nDS1511 state changes and/or buf content, if some userspace applications\nare written specifically for DS1511 and exploit this strange\n\"feature\", they may be impacted.\n\nAlso the change corrects NVRAM size accessible to userspace from 255\nbytes to 256 bytes.\n\nSigned-off-by: Vladimir Zapolskiy <vz@mleia.com>\nSigned-off-by: Alexandre Belloni <alexandre.belloni@free-electrons.com>",
  "author_name": "Vladimir Zapolskiy",
  "author_email": "vz@mleia.com",
  "author_date": "Wed Aug 5 21:12:58 2015 +0300",
  "author_date_iso": "2015-08-05T21:12:58+03:00",
  "committer_name": "Alexandre Belloni",
  "committer_email": "alexandre.belloni@free-electrons.com",
  "committer_date": "Sat Sep 5 13:19:10 2015 +0200",
  "committer_date_iso": "2015-09-05T13:19:10+02:00",
  "files_changed": [
    "drivers/rtc/rtc-ds1511.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/rtc/rtc-ds1511.c",
      "insertions": 5,
      "deletions": 37
    }
  ],
  "total_insertions": 5,
  "total_deletions": 37,
  "total_changes": 42,
  "parents": [
    "f4843b19d2c7b5effd25e2a65b487d02bf55e96f"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/rtc/rtc-ds1511.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}