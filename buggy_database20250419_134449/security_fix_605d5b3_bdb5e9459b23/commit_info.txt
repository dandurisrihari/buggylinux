Commit Hash: 605d5b3297687cce9d3c4298c699188e61486a4c
Subject: drm/i915: Avoid the branch in computing intel_ring_space()


Security Keywords:
- Exploit

Full commit message:
drm/i915: Avoid the branch in computing intel_ring_space()

Exploit the power-of-two ring size to compute the space across the
wraparound using a mask rather than a if. Convert to unsigned integers
so the operation is well defined.

References: https://bugs.freedesktop.org/show_bug.cgi?id=99671
Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
Cc: Mika Kuoppala <mika.kuoppala@intel.com>
Reviewed-by: Mika Kuoppala <mika.kuoppala@intel.com>
Link: http://patchwork.freedesktop.org/patch/msgid/20170504130846.4807-1-chris@chris-wilson.co.uk

Metadata:
Author: Chris Wilson <chris@chris-wilson.co.uk>
Author Date: Thu May 4 14:08:44 2017 +0100
Committer: Chris Wilson <chris@chris-wilson.co.uk>
Commit Date: Thu May 4 15:40:38 2017 +0100

Files Changed: 2
Lines Added: 35
Lines Removed: 25
Total Changes: 60
