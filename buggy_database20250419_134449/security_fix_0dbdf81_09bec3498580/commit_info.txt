Commit Hash: 0dbdf819f4c12337fbe5c8551d97f312a44a7d87
Subject: net: lan966x: Add spinlock for frame transmission from CPU.


Security Keywords:
- inject

Full commit message:
net: lan966x: Add spinlock for frame transmission from CPU.

The registers used to inject a frame to one of the ports is shared
between all the net devices. Therefore, there can be race conditions for
accessing the registers when two processes send frames at the same time
on different ports.

To fix this, add a spinlock around the function
'lan966x_port_ifh_xmit()'.

Signed-off-by: Horatiu Vultur <horatiu.vultur@microchip.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Metadata:
Author: Horatiu Vultur <horatiu.vultur@microchip.com>
Author Date: Tue Mar 8 11:29:04 2022 +0100
Committer: David S. Miller <davem@davemloft.net>
Commit Date: Wed Mar 9 14:59:14 2022 +0000

Files Changed: 2
Lines Added: 10
Lines Removed: 1
Total Changes: 11
