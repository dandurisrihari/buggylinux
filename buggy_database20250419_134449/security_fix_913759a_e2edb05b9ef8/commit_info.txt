Commit Hash: 913759ac90a727b86da72efcfb70931f497d1cb7
Subject: [PATCH] ide: Fix crash on repeated reset


Security Keywords:
- security issue

Full commit message:
[PATCH] ide: Fix crash on repeated reset

Michal Miroslaw reported a problem (bugzilla #7023) where a user initiated
reset while the IDE layer was already resetting the channel caused a crash,
and provided a rough fix.

This is a slightly cleaner version of the fix which tracks the reset state
and blocks further reset requests while a reset is in progress.

Note this is not a security issue - random end users can't access the
ioctl in question anyway.

Signed-off-by: Alan Cox <alan@redhat.com>
Cc: Michal Miroslaw <mirq-linux@rere.qmqm.pl>
Signed-off-by: Andrew Morton <akpm@osdl.org>
Signed-off-by: Linus Torvalds <torvalds@osdl.org>

Metadata:
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Author Date: Tue Oct 3 01:14:33 2006 -0700
Committer: Linus Torvalds <torvalds@g5.osdl.org>
Commit Date: Tue Oct 3 08:04:08 2006 -0700

Files Changed: 3
Lines Added: 12
Lines Removed: 0
Total Changes: 12
