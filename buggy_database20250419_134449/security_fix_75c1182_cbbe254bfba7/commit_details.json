{
  "hash": "75c1182e18f4a66bbd2c91511b6b629dac6a27dc",
  "hash_short": "75c1182e",
  "subject": "security: don't treat structure as an array of struct hlist_head",
  "body": "The initialization of \"security_hook_heads\" is done by casting it to\nanother structure pointer type, and treating it as an array of \"struct\nhlist_head\" objects. This requires an exception be made in \"randstruct\",\nbecause otherwise it will emit an error, reducing the effectiveness of\nthe hardening technique.\n\nInstead of using a cast, initialize the individual struct hlist_head\nelements in security_hook_heads explicitly. This removes the need for\nthe cast and randstruct exception.\n\nSigned-off-by: Bill Wendling <morbo@google.com>\nCc: Kees Cook <keescook@chromium.org>\nSigned-off-by: Kees Cook <keescook@chromium.org>\nLink: https://lore.kernel.org/r/20220407175930.471870-1-morbo@google.com",
  "full_message": "security: don't treat structure as an array of struct hlist_head\n\nThe initialization of \"security_hook_heads\" is done by casting it to\nanother structure pointer type, and treating it as an array of \"struct\nhlist_head\" objects. This requires an exception be made in \"randstruct\",\nbecause otherwise it will emit an error, reducing the effectiveness of\nthe hardening technique.\n\nInstead of using a cast, initialize the individual struct hlist_head\nelements in security_hook_heads explicitly. This removes the need for\nthe cast and randstruct exception.\n\nSigned-off-by: Bill Wendling <morbo@google.com>\nCc: Kees Cook <keescook@chromium.org>\nSigned-off-by: Kees Cook <keescook@chromium.org>\nLink: https://lore.kernel.org/r/20220407175930.471870-1-morbo@google.com",
  "author_name": "Bill Wendling",
  "author_email": "morbo@google.com",
  "author_date": "Thu Apr 7 10:59:30 2022 -0700",
  "author_date_iso": "2022-04-07T10:59:30-07:00",
  "committer_name": "Kees Cook",
  "committer_email": "keescook@chromium.org",
  "committer_date": "Wed Apr 13 12:15:53 2022 -0700",
  "committer_date_iso": "2022-04-13T12:15:53-07:00",
  "files_changed": [
    "scripts/gcc-plugins/randomize_layout_plugin.c",
    "security/security.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "scripts/gcc-plugins/randomize_layout_plugin.c",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "security/security.c",
      "insertions": 4,
      "deletions": 5
    }
  ],
  "total_insertions": 4,
  "total_deletions": 7,
  "total_changes": 11,
  "parents": [
    "1109a5d907015005cdbe9eaa4fec40213e2f9010"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "scripts/gcc-plugins/randomize_layout_plugin.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "security/security.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}