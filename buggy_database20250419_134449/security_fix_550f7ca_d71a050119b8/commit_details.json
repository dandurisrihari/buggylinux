{
  "hash": "550f7ca98ee028a606aa75705a7e77b1bd11720f",
  "hash_short": "550f7ca9",
  "subject": "ceph: give up on paths longer than PATH_MAX",
  "body": "If the full path to be built by ceph_mdsc_build_path() happens to be\nlonger than PATH_MAX, then this function will enter an endless (retry)\nloop, effectively blocking the whole task.  Most of the machine\nbecomes unusable, making this a very simple and effective DoS\nvulnerability.\n\nI cannot imagine why this retry was ever implemented, but it seems\nrather useless and harmful to me.  Let's remove it and fail with\nENAMETOOLONG instead.\n\nCc: stable@vger.kernel.org\nReported-by: Dario Wei\u00dfer <dario@cure53.de>\nSigned-off-by: Max Kellermann <max.kellermann@ionos.com>\nReviewed-by: Alex Markuze <amarkuze@redhat.com>\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>",
  "full_message": "ceph: give up on paths longer than PATH_MAX\n\nIf the full path to be built by ceph_mdsc_build_path() happens to be\nlonger than PATH_MAX, then this function will enter an endless (retry)\nloop, effectively blocking the whole task.  Most of the machine\nbecomes unusable, making this a very simple and effective DoS\nvulnerability.\n\nI cannot imagine why this retry was ever implemented, but it seems\nrather useless and harmful to me.  Let's remove it and fail with\nENAMETOOLONG instead.\n\nCc: stable@vger.kernel.org\nReported-by: Dario Wei\u00dfer <dario@cure53.de>\nSigned-off-by: Max Kellermann <max.kellermann@ionos.com>\nReviewed-by: Alex Markuze <amarkuze@redhat.com>\nSigned-off-by: Ilya Dryomov <idryomov@gmail.com>",
  "author_name": "Max Kellermann",
  "author_email": "max.kellermann@ionos.com",
  "author_date": "Mon Nov 18 23:28:28 2024 +0100",
  "author_date_iso": "2024-11-18T23:28:28+01:00",
  "committer_name": "Ilya Dryomov",
  "committer_email": "idryomov@gmail.com",
  "committer_date": "Mon Dec 16 23:25:43 2024 +0100",
  "committer_date_iso": "2024-12-16T23:25:43+01:00",
  "files_changed": [
    "fs/ceph/mds_client.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/ceph/mds_client.c",
      "insertions": 4,
      "deletions": 5
    }
  ],
  "total_insertions": 4,
  "total_deletions": 5,
  "total_changes": 9,
  "parents": [
    "d6fd6f8280f0257ba93f16900a0d3d3912f32c79"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/ceph/mds_client.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}