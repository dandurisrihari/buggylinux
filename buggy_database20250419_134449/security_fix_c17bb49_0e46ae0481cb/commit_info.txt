Commit Hash: c17bb4951752d3e0f49cd1ea9d2e868422f9e0d6
Subject: [PATCH] fault-injection capability for disk IO


Security Keywords:
- injection

Full commit message:
[PATCH] fault-injection capability for disk IO

This patch provides fault-injection capability for disk IO.

Boot option:

fail_make_request=<probability>,<interval>,<space>,<times>

	<interval> -- specifies the interval of failures.

	<probability> -- specifies how often it should fail in percent.

	<space> -- specifies the size of free space where disk IO can be issued
		   safely in bytes.

	<times> -- specifies how many times failures may happen at most.

Debugfs:

/debug/fail_make_request/interval
/debug/fail_make_request/probability
/debug/fail_make_request/specifies
/debug/fail_make_request/times

Example:

	fail_make_request=10,100,0,-1
	echo 1 > /sys/blocks/hda/hda1/make-it-fail

generic_make_request() on /dev/hda1 fails once per 10 times.

Cc: Jens Axboe <axboe@suse.de>
Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
Signed-off-by: Andrew Morton <akpm@osdl.org>
Signed-off-by: Linus Torvalds <torvalds@osdl.org>

Metadata:
Author: Akinobu Mita <akinobu.mita@gmail.com>
Author Date: Fri Dec 8 02:39:46 2006 -0800
Committer: Linus Torvalds <torvalds@woody.osdl.org>
Commit Date: Fri Dec 8 08:29:02 2006 -0800

Files Changed: 5
Lines Added: 109
Lines Removed: 0
Total Changes: 109
