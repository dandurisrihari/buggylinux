Commit Hash: 44cab9ba374a0341e12c024f43a83e12ec4978fd
Subject: btrfs: refactor locked condition in btrfs_init_new_device


Security Keywords:
- exploit

Full commit message:
btrfs: refactor locked condition in btrfs_init_new_device

Invert unlocked to locked and exploit the fact it can only ever be
modified if we are adding a new device to a seed filesystem. This allows
to simplify the check in error: label. No semantics changes.

Reviewed-by: Anand Jain <anand.jain@oracle.com>
Signed-off-by: Nikolay Borisov <nborisov@suse.com>
Reviewed-by: David Sterba <dsterba@suse.com>
Signed-off-by: David Sterba <dsterba@suse.com>

Metadata:
Author: Nikolay Borisov <nborisov@suse.com>
Author Date: Wed Jul 22 11:09:23 2020 +0300
Committer: David Sterba <dsterba@suse.com>
Commit Date: Wed Oct 7 12:12:15 2020 +0200

Files Changed: 1
Lines Added: 4
Lines Removed: 3
Total Changes: 7
