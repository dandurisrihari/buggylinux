Commit Hash: e421946be7d9bf545147bea8419ef8239cb7ca52
Subject: fbdev: sis: Error out if pixclock equals zero

CVE Identifiers:
- CVE-2022-3061

Full commit message:
fbdev: sis: Error out if pixclock equals zero

The userspace program could pass any values to the driver through
ioctl() interface. If the driver doesn't check the value of pixclock,
it may cause divide-by-zero error.

In sisfb_check_var(), var->pixclock is used as a divisor to caculate
drate before it is checked against zero. Fix this by checking it
at the beginning.

This is similar to CVE-2022-3061 in i740fb which was fixed by
commit 15cf0b8.

Signed-off-by: Fullway Wang <fullwaywang@outlook.com>
Signed-off-by: Helge Deller <deller@gmx.de>

Metadata:
Author: Fullway Wang <fullwaywang@outlook.com>
Author Date: Thu Jan 18 14:24:43 2024 +0800
Committer: Helge Deller <deller@gmx.de>
Commit Date: Sun Jan 21 09:00:14 2024 +0100

Files Changed: 1
Lines Added: 2
Lines Removed: 0
Total Changes: 2
