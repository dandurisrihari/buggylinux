{
  "hash": "eac9ac6d1f5d0e9d33e4ded682187b630e7606cd",
  "hash_short": "eac9ac6d",
  "subject": "iwlwifi: fix activating inactive stations",
  "body": "When authentication/association timed out, the driver would\ncomplain bitterly, printing the message\nACTIVATE a non DRIVER active station id ... addr ...\n\nThe cause turns out to be that when the AP station is added\nbut we don't associate, the IWL_STA_UCODE_INPROGRESS is set\nbut never cleared. This then causes iwl_restore_stations()\nto attempt to resend it because it uses the flag internally\nand uploads even if it didn't set it itself.\n\nTo fix this issue and not upload the station again when it\nhas already been removed by mac80211, clear the flag after\nadding it in case we add it only for association.\n\nCc: stable@vger.kernel.org\nReviewed-by: Meenakshi Venkataraman <meenakshi.venkataraman@intel.com>\nReviewed-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "full_message": "iwlwifi: fix activating inactive stations\n\nWhen authentication/association timed out, the driver would\ncomplain bitterly, printing the message\nACTIVATE a non DRIVER active station id ... addr ...\n\nThe cause turns out to be that when the AP station is added\nbut we don't associate, the IWL_STA_UCODE_INPROGRESS is set\nbut never cleared. This then causes iwl_restore_stations()\nto attempt to resend it because it uses the flag internally\nand uploads even if it didn't set it itself.\n\nTo fix this issue and not upload the station again when it\nhas already been removed by mac80211, clear the flag after\nadding it in case we add it only for association.\n\nCc: stable@vger.kernel.org\nReviewed-by: Meenakshi Venkataraman <meenakshi.venkataraman@intel.com>\nReviewed-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "author_name": "Johannes Berg",
  "author_email": "johannes.berg@intel.com",
  "author_date": "Mon Jun 25 09:36:41 2012 +0200",
  "author_date_iso": "2012-06-25T09:36:41+02:00",
  "committer_name": "John W. Linville",
  "committer_email": "linville@tuxdriver.com",
  "committer_date": "Mon Jun 25 15:14:13 2012 -0400",
  "committer_date_iso": "2012-06-25T15:14:13-04:00",
  "files_changed": [
    "drivers/net/wireless/iwlwifi/iwl-mac80211.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-mac80211.c",
      "insertions": 12,
      "deletions": 0
    }
  ],
  "total_insertions": 12,
  "total_deletions": 0,
  "total_changes": 12,
  "parents": [
    "ff0b804632f025b072f81fc0cd585102b0a43534"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-mac80211.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}