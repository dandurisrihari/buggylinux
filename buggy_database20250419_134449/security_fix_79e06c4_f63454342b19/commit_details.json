{
  "hash": "79e06c4c4950be2abd8ca5d2428a8c915aa62c24",
  "hash_short": "79e06c4c",
  "subject": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm",
  "body": "Pull kvm updates from Paolo Bonzini:\n \"RISCV:\n\n   - Use common KVM implementation of MMU memory caches\n\n   - SBI v0.2 support for Guest\n\n   - Initial KVM selftests support\n\n   - Fix to avoid spurious virtual interrupts after clearing hideleg CSR\n\n   - Update email address for Anup and Atish\n\n  ARM:\n\n   - Simplification of the 'vcpu first run' by integrating it into KVM's\n     'pid change' flow\n\n   - Refactoring of the FP and SVE state tracking, also leading to a\n     simpler state and less shared data between EL1 and EL2 in the nVHE\n     case\n\n   - Tidy up the header file usage for the nvhe hyp object\n\n   - New HYP unsharing mechanism, finally allowing pages to be unmapped\n     from the Stage-1 EL2 page-tables\n\n   - Various pKVM cleanups around refcounting and sharing\n\n   - A couple of vgic fixes for bugs that would trigger once the vcpu\n     xarray rework is merged, but not sooner\n\n   - Add minimal support for ARMv8.7's PMU extension\n\n   - Rework kvm_pgtable initialisation ahead of the NV work\n\n   - New selftest for IRQ injection\n\n   - Teach selftests about the lack of default IPA space and page sizes\n\n   - Expand sysreg selftest to deal with Pointer Authentication\n\n   - The usual bunch of cleanups and doc update\n\n  s390:\n\n   - fix sigp sense/start/stop/inconsistency\n\n   - cleanups\n\n  x86:\n\n   - Clean up some function prototypes more\n\n   - improved gfn_to_pfn_cache with proper invalidation, used by Xen\n     emulation\n\n   - add KVM_IRQ_ROUTING_XEN_EVTCHN and event channel delivery\n\n   - completely remove potential TOC/TOU races in nested SVM consistency\n     checks\n\n   - update some PMCs on emulated instructions\n\n   - Intel AMX support (joint work between Thomas and Intel)\n\n   - large MMU cleanups\n\n   - module parameter to disable PMU virtualization\n\n   - cleanup register cache\n\n   - first part of halt handling cleanups\n\n   - Hyper-V enlightened MSR bitmap support for nested hypervisors\n\n  Generic:\n\n   - clean up Makefiles\n\n   - introduce CONFIG_HAVE_KVM_DIRTY_RING\n\n   - optimize memslot lookup using a tree\n\n   - optimize vCPU array usage by converting to xarray\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (268 commits)\n  x86/fpu: Fix inline prefix warnings\n  selftest: kvm: Add amx selftest\n  selftest: kvm: Move struct kvm_x86_state to header\n  selftest: kvm: Reorder vcpu_load_state steps for AMX\n  kvm: x86: Disable interception for IA32_XFD on demand\n  x86/fpu: Provide fpu_sync_guest_vmexit_xfd_state()\n  kvm: selftests: Add support for KVM_CAP_XSAVE2\n  kvm: x86: Add support for getting/setting expanded xstate buffer\n  x86/fpu: Add uabi_size to guest_fpu\n  kvm: x86: Add CPUID support for Intel AMX\n  kvm: x86: Add XCR0 support for Intel AMX\n  kvm: x86: Disable RDMSR interception of IA32_XFD_ERR\n  kvm: x86: Emulate IA32_XFD_ERR for guest\n  kvm: x86: Intercept #NM for saving IA32_XFD_ERR\n  x86/fpu: Prepare xfd_err in struct fpu_guest\n  kvm: x86: Add emulation for IA32_XFD\n  x86/fpu: Provide fpu_update_guest_xfd() for IA32_XFD emulation\n  kvm: x86: Enable dynamic xfeatures at KVM_SET_CPUID2\n  x86/fpu: Provide fpu_enable_guest_xfd_features() for KVM\n  x86/fpu: Add guest support to xfd_enable_feature()\n  ...",
  "full_message": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm\n\nPull kvm updates from Paolo Bonzini:\n \"RISCV:\n\n   - Use common KVM implementation of MMU memory caches\n\n   - SBI v0.2 support for Guest\n\n   - Initial KVM selftests support\n\n   - Fix to avoid spurious virtual interrupts after clearing hideleg CSR\n\n   - Update email address for Anup and Atish\n\n  ARM:\n\n   - Simplification of the 'vcpu first run' by integrating it into KVM's\n     'pid change' flow\n\n   - Refactoring of the FP and SVE state tracking, also leading to a\n     simpler state and less shared data between EL1 and EL2 in the nVHE\n     case\n\n   - Tidy up the header file usage for the nvhe hyp object\n\n   - New HYP unsharing mechanism, finally allowing pages to be unmapped\n     from the Stage-1 EL2 page-tables\n\n   - Various pKVM cleanups around refcounting and sharing\n\n   - A couple of vgic fixes for bugs that would trigger once the vcpu\n     xarray rework is merged, but not sooner\n\n   - Add minimal support for ARMv8.7's PMU extension\n\n   - Rework kvm_pgtable initialisation ahead of the NV work\n\n   - New selftest for IRQ injection\n\n   - Teach selftests about the lack of default IPA space and page sizes\n\n   - Expand sysreg selftest to deal with Pointer Authentication\n\n   - The usual bunch of cleanups and doc update\n\n  s390:\n\n   - fix sigp sense/start/stop/inconsistency\n\n   - cleanups\n\n  x86:\n\n   - Clean up some function prototypes more\n\n   - improved gfn_to_pfn_cache with proper invalidation, used by Xen\n     emulation\n\n   - add KVM_IRQ_ROUTING_XEN_EVTCHN and event channel delivery\n\n   - completely remove potential TOC/TOU races in nested SVM consistency\n     checks\n\n   - update some PMCs on emulated instructions\n\n   - Intel AMX support (joint work between Thomas and Intel)\n\n   - large MMU cleanups\n\n   - module parameter to disable PMU virtualization\n\n   - cleanup register cache\n\n   - first part of halt handling cleanups\n\n   - Hyper-V enlightened MSR bitmap support for nested hypervisors\n\n  Generic:\n\n   - clean up Makefiles\n\n   - introduce CONFIG_HAVE_KVM_DIRTY_RING\n\n   - optimize memslot lookup using a tree\n\n   - optimize vCPU array usage by converting to xarray\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (268 commits)\n  x86/fpu: Fix inline prefix warnings\n  selftest: kvm: Add amx selftest\n  selftest: kvm: Move struct kvm_x86_state to header\n  selftest: kvm: Reorder vcpu_load_state steps for AMX\n  kvm: x86: Disable interception for IA32_XFD on demand\n  x86/fpu: Provide fpu_sync_guest_vmexit_xfd_state()\n  kvm: selftests: Add support for KVM_CAP_XSAVE2\n  kvm: x86: Add support for getting/setting expanded xstate buffer\n  x86/fpu: Add uabi_size to guest_fpu\n  kvm: x86: Add CPUID support for Intel AMX\n  kvm: x86: Add XCR0 support for Intel AMX\n  kvm: x86: Disable RDMSR interception of IA32_XFD_ERR\n  kvm: x86: Emulate IA32_XFD_ERR for guest\n  kvm: x86: Intercept #NM for saving IA32_XFD_ERR\n  x86/fpu: Prepare xfd_err in struct fpu_guest\n  kvm: x86: Add emulation for IA32_XFD\n  x86/fpu: Provide fpu_update_guest_xfd() for IA32_XFD emulation\n  kvm: x86: Enable dynamic xfeatures at KVM_SET_CPUID2\n  x86/fpu: Provide fpu_enable_guest_xfd_features() for KVM\n  x86/fpu: Add guest support to xfd_enable_feature()\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sun Jan 16 16:15:14 2022 +0200",
  "author_date_iso": "2022-01-16T16:15:14+02:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sun Jan 16 16:15:14 2022 +0200",
  "committer_date_iso": "2022-01-16T16:15:14+02:00",
  "files_changed": [
    ".mailmap",
    "MAINTAINERS",
    "arch/arm64/include/asm/kvm_host.h",
    "arch/arm64/include/asm/sysreg.h",
    "arch/arm64/kernel/fpsimd.c",
    "arch/arm64/kvm/Kconfig",
    "arch/arm64/kvm/Makefile",
    "arch/arm64/kvm/arm.c",
    "arch/arm64/kvm/handle_exit.c",
    "arch/arm64/kvm/pmu-emul.c",
    "arch/arm64/kvm/reset.c",
    "arch/mips/include/asm/kvm_host.h",
    "arch/powerpc/kvm/Kconfig",
    "arch/x86/include/asm/cpufeatures.h",
    "arch/x86/include/asm/kvm_host.h",
    "arch/x86/kernel/fpu/core.c",
    "arch/x86/kernel/fpu/xstate.h",
    "arch/x86/kernel/process.c",
    "arch/x86/kvm/Kconfig",
    "arch/x86/kvm/debugfs.c",
    "arch/x86/kvm/emulate.c",
    "arch/x86/kvm/mmu/spte.c",
    "arch/x86/kvm/pmu.c",
    "arch/x86/kvm/svm/sev.c",
    "arch/x86/kvm/svm/svm.c",
    "arch/x86/kvm/vmx/vmx.c",
    "arch/x86/kvm/vmx/vmx_ops.h",
    "arch/x86/kvm/x86.c",
    "arch/x86/kvm/x86.h",
    "include/linux/kvm_host.h",
    "virt/kvm/kvm_main.c"
  ],
  "files_changed_count": 31,
  "stats": [
    {
      "file": ".mailmap",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/api.rst",
      "insertions": 80,
      "deletions": 5
    },
    {
      "file": "Documentation/virt/kvm/mmu.rst",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "MAINTAINERS",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/kvm_asm.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_emulate.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "insertions": 19,
      "deletions": 28
    },
    {
      "file": "arch/arm64/include/asm/kvm_hyp.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/kvm_mmu.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_pgtable.h",
      "insertions": 25,
      "deletions": 5
    },
    {
      "file": "arch/arm64/include/asm/kvm_pkvm.h",
      "insertions": 71,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/mmu.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/asm-offsets.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/fpsimd.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/.gitignore",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/Makefile",
      "insertions": 19,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/arch_timer.c",
      "insertions": 6,
      "deletions": 7
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "insertions": 74,
      "deletions": 54
    },
    {
      "file": "arch/arm64/kvm/fpsimd.c",
      "insertions": 41,
      "deletions": 38
    },
    {
      "file": "arch/arm64/kvm/handle_exit.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/hyp/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/fpsimd.S",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/hyp/hyp-constants.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/switch.h",
      "insertions": 4,
      "deletions": 26
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/mem_protect.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/mm.h",
      "insertions": 0,
      "deletions": 59
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/early_alloc.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-main.c",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/mem_protect.c",
      "insertions": 428,
      "deletions": 77
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/mm.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/page_alloc.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/setup.c",
      "insertions": 19,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/switch.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/pgtable.c",
      "insertions": 85,
      "deletions": 23
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/switch.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/mmu.c",
      "insertions": 151,
      "deletions": 26
    },
    {
      "file": "arch/arm64/kvm/{hyp/reserved_mem.c => pkvm.c}",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/pmu-emul.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/psci.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/reset.c",
      "insertions": 22,
      "deletions": 8
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-init.c",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-kvm-device.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio-v2.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio-v3.c",
      "insertions": 9,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-v2.c",
      "insertions": 7,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-v3.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-v4.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/mips/include/asm/kvm_host.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/mips/kvm/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/mips/kvm/Makefile",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/mips/kvm/emulate.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/mips/kvm/loongson_ipi.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/mips/kvm/mips.c",
      "insertions": 4,
      "deletions": 28
    },
    {
      "file": "arch/powerpc/include/asm/kvm_host.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/include/asm/kvm_ppc.h",
      "insertions": 6,
      "deletions": 8
    },
    {
      "file": "arch/powerpc/kvm/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/kvm/Makefile",
      "insertions": 2,
      "deletions": 6
    },
    {
      "file": "arch/powerpc/kvm/book3s.c",
      "insertions": 6,
      "deletions": 8
    },
    {
      "file": "arch/powerpc/kvm/book3s_32_mmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/book3s_64_mmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/book3s_64_mmu_hv.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv.c",
      "insertions": 17,
      "deletions": 19
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv_nested.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv_uvmem.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "arch/powerpc/kvm/book3s_pr.c",
      "insertions": 6,
      "deletions": 7
    },
    {
      "file": "arch/powerpc/kvm/book3s_pr_papr.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/book3s_xics.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/powerpc/kvm/book3s_xics.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/book3s_xive.c",
      "insertions": 9,
      "deletions": 6
    },
    {
      "file": "arch/powerpc/kvm/book3s_xive.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/powerpc/kvm/book3s_xive_native.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/powerpc/kvm/booke.c",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "arch/powerpc/kvm/e500_emulate.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/powerpc.c",
      "insertions": 8,
      "deletions": 16
    },
    {
      "file": "arch/riscv/include/asm/kvm_host.h",
      "insertions": 2,
      "deletions": 10
    },
    {
      "file": "arch/riscv/include/asm/kvm_types.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/riscv/include/asm/kvm_vcpu_sbi.h",
      "insertions": 33,
      "deletions": 0
    },
    {
      "file": "arch/riscv/include/asm/sbi.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/Makefile",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/riscv/kvm/main.c",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/mmu.c",
      "insertions": 35,
      "deletions": 67
    },
    {
      "file": "arch/riscv/kvm/vcpu.c",
      "insertions": 26,
      "deletions": 2
    },
    {
      "file": "arch/riscv/kvm/vcpu_exit.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/riscv/kvm/vcpu_fp.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/riscv/kvm/vcpu_sbi.c",
      "insertions": 99,
      "deletions": 114
    },
    {
      "file": "arch/riscv/kvm/vcpu_sbi_base.c",
      "insertions": 99,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/vcpu_sbi_hsm.c",
      "insertions": 105,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/vcpu_sbi_replace.c",
      "insertions": 135,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/vcpu_sbi_v01.c",
      "insertions": 126,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kvm/vm.c",
      "insertions": 4,
      "deletions": 9
    },
    {
      "file": "arch/riscv/kvm/vmid.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/s390/include/asm/uv.h",
      "insertions": 17,
      "deletions": 17
    },
    {
      "file": "arch/s390/kvm/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/Makefile",
      "insertions": 3,
      "deletions": 5
    },
    {
      "file": "arch/s390/kvm/gaccess.c",
      "insertions": 92,
      "deletions": 66
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "insertions": 10,
      "deletions": 2
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 62,
      "deletions": 99
    },
    {
      "file": "arch/s390/kvm/kvm-s390.h",
      "insertions": 17,
      "deletions": 2
    },
    {
      "file": "arch/s390/kvm/pv.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "arch/s390/kvm/sigp.c",
      "insertions": 28,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/fpu/api.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/fpu/types.h",
      "insertions": 32,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/kvm-x86-ops.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "insertions": 37,
      "deletions": 28
    },
    {
      "file": "arch/x86/include/asm/kvm_page_track.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/include/uapi/asm/kvm.h",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/uapi/asm/prctl.h",
      "insertions": 14,
      "deletions": 12
    },
    {
      "file": "arch/x86/kernel/fpu/core.c",
      "insertions": 93,
      "deletions": 6
    },
    {
      "file": "arch/x86/kernel/fpu/xstate.c",
      "insertions": 94,
      "deletions": 53
    },
    {
      "file": "arch/x86/kernel/fpu/xstate.h",
      "insertions": 17,
      "deletions": 2
    },
    {
      "file": "arch/x86/kernel/kvm.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/kernel/kvmclock.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kernel/process.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/Kconfig",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/Makefile",
      "insertions": 1,
      "deletions": 6
    },
    {
      "file": "arch/x86/kvm/cpuid.c",
      "insertions": 67,
      "deletions": 21
    },
    {
      "file": "arch/x86/kvm/cpuid.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/debugfs.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/emulate.c",
      "insertions": 31,
      "deletions": 24
    },
    {
      "file": "arch/x86/kvm/hyperv.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/i8254.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/i8259.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/ioapic.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/irq_comm.c",
      "insertions": 16,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/kvm_cache_regs.h",
      "insertions": 13,
      "deletions": 7
    },
    {
      "file": "arch/x86/kvm/kvm_emulate.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/kvm_onhyperv.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/lapic.c",
      "insertions": 29,
      "deletions": 34
    },
    {
      "file": "arch/x86/kvm/mmu.h",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/mmu/mmu.c",
      "insertions": 64,
      "deletions": 87
    },
    {
      "file": "arch/x86/kvm/mmu/mmu_internal.h",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "arch/x86/kvm/mmu/mmutrace.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/mmu/page_track.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/x86/kvm/mmu/paging_tmpl.h",
      "insertions": 8,
      "deletions": 40
    },
    {
      "file": "arch/x86/kvm/mmu/spte.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/mmu/spte.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/mmu/tdp_mmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/pmu.c",
      "insertions": 90,
      "deletions": 38
    },
    {
      "file": "arch/x86/kvm/pmu.h",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/svm/avic.c",
      "insertions": 12,
      "deletions": 4
    },
    {
      "file": "arch/x86/kvm/svm/nested.c",
      "insertions": 165,
      "deletions": 97
    },
    {
      "file": "arch/x86/kvm/svm/pmu.c",
      "insertions": 12,
      "deletions": 11
    },
    {
      "file": "arch/x86/kvm/svm/sev.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "insertions": 49,
      "deletions": 17
    },
    {
      "file": "arch/x86/kvm/svm/svm.h",
      "insertions": 65,
      "deletions": 6
    },
    {
      "file": "arch/x86/kvm/trace.h",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/vmx/capabilities.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "insertions": 46,
      "deletions": 19
    },
    {
      "file": "arch/x86/kvm/vmx/pmu_intel.c",
      "insertions": 27,
      "deletions": 22
    },
    {
      "file": "arch/x86/kvm/vmx/posted_intr.c",
      "insertions": 84,
      "deletions": 75
    },
    {
      "file": "arch/x86/kvm/vmx/posted_intr.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/vmx/vmcs.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "insertions": 156,
      "deletions": 60
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.h",
      "insertions": 28,
      "deletions": 16
    },
    {
      "file": "arch/x86/kvm/vmx/vmx_ops.h",
      "insertions": 27,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 291,
      "deletions": 114
    },
    {
      "file": "arch/x86/kvm/x86.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/xen.c",
      "insertions": 315,
      "deletions": 26
    },
    {
      "file": "arch/x86/kvm/xen.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "include/kvm/arm_vgic.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/linux/kvm_dirty_ring.h",
      "insertions": 4,
      "deletions": 10
    },
    {
      "file": "include/linux/kvm_host.h",
      "insertions": 340,
      "deletions": 92
    },
    {
      "file": "include/linux/kvm_types.h",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/kvm.h",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "tools/arch/x86/include/uapi/asm/kvm.h",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "tools/include/uapi/linux/kvm.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/.gitignore",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/arch_timer.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/get-reg-list.c",
      "insertions": 50,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/vgic_irq.c",
      "insertions": 853,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/gic.h",
      "insertions": 26,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/{lib => include}/aarch64/gic_v3.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/processor.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/vgic.h",
      "insertions": 16,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/include/kvm_util.h",
      "insertions": 2,
      "deletions": 407
    },
    {
      "file": "tools/testing/selftests/kvm/include/kvm_util_base.h",
      "insertions": 399,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/riscv/processor.h",
      "insertions": 135,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/ucall_common.h",
      "insertions": 59,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/x86_64/processor.h",
      "insertions": 25,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/gic.c",
      "insertions": 66,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/gic_private.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/gic_v3.c",
      "insertions": 181,
      "deletions": 25
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/processor.c",
      "insertions": 75,
      "deletions": 7
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/vgic.c",
      "insertions": 102,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/lib/guest_modes.c",
      "insertions": 53,
      "deletions": 6
    },
    {
      "file": "tools/testing/selftests/kvm/lib/kvm_util.c",
      "insertions": 126,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/riscv/processor.c",
      "insertions": 362,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/riscv/ucall.c",
      "insertions": 87,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/x86_64/processor.c",
      "insertions": 71,
      "deletions": 24
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/amx_test.c",
      "insertions": 448,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/evmcs_test.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/sev_migrate_tests.c",
      "insertions": 52,
      "deletions": 7
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/smm_test.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/state_test.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/vmx_preemption_timer_test.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/xen_shinfo_test.c",
      "insertions": 183,
      "deletions": 1
    },
    {
      "file": "virt/kvm/Kconfig",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "virt/kvm/Makefile.kvm",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "virt/kvm/async_pf.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "virt/kvm/dirty_ring.c",
      "insertions": 1,
      "deletions": 10
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "insertions": 625,
      "deletions": 441
    },
    {
      "file": "virt/kvm/kvm_mm.h",
      "insertions": 44,
      "deletions": 0
    },
    {
      "file": "virt/kvm/mmu_lock.h",
      "insertions": 0,
      "deletions": 23
    },
    {
      "file": "virt/kvm/pfncache.c",
      "insertions": 337,
      "deletions": 0
    }
  ],
  "total_insertions": 9043,
  "total_deletions": 2909,
  "total_changes": 11952,
  "parents": [
    "cb3f09f9afe5286c0aed7a1c5cc71495de166efb",
    "c862dcd199759d4a45e65dab47b03e3e8a144e3a"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Authentication",
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": ".mailmap",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/fpsimd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/pmu-emul.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/powerpc/kvm/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/mips/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/reset.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/handle_exit.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/fpu/xstate.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/fpu/core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/process.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/emulate.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/debugfs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/sev.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/pmu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/vmx_ops.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/mmu/spte.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/x86.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}