{
  "hash": "075cafffce2429dfa0085c98162657e88d11aa1d",
  "hash_short": "075cafff",
  "subject": "Merge branch 'macsec-fixes-for-cn10kb'",
  "body": "Geetha sowjanya says:\n\n====================\nMacsec fixes for CN10KB\n\nThis patch set has fixes for the issues encountered while\ntesting macsec on CN10KB silicon. Below is the description\nof patches:\n\nPatch 1: For each LMAC two MCSX_MCS_TOP_SLAVE_CHANNEL_CFG registers exist\n\t in CN10KB. Bypass has to be disabled in two registers.\n\nPatch 2: Add workaround for errata w.r.t accessing TCAM DATA and MASK registers.\n\nPatch 3: Fixes the parser configuration to allow PTP traffic.\n\nPatch 4: Addresses the IP vector and block level interrupt mask changes.\n\nPatch 5: Fix NULL pointer crashes when rebooting\n\nPatch 6: Since MCS is global block shared by all LMACS the TCAM match\n\t must include macsec DMAC also to distinguish each macsec interface\n\nPatch 7: Before freeing MCS hardware resource to AF clear the stats also.\n\nPatch 8: Stats which share single counter in hardware are tracked in software.\n\t This tracking was based on wrong secy mode params.\n\t Use correct secy mode params\n\nPatch 9: When updating secy mode params, PN number was also reset to\n\t initial values. Hence do not write to PN value register when\n\t updating secy.\n====================\n\nLink: https://lore.kernel.org/r/20230426062528.20575-1-gakula@marvell.com\nSigned-off-by: Paolo Abeni <pabeni@redhat.com>",
  "full_message": "Merge branch 'macsec-fixes-for-cn10kb'\n\nGeetha sowjanya says:\n\n====================\nMacsec fixes for CN10KB\n\nThis patch set has fixes for the issues encountered while\ntesting macsec on CN10KB silicon. Below is the description\nof patches:\n\nPatch 1: For each LMAC two MCSX_MCS_TOP_SLAVE_CHANNEL_CFG registers exist\n\t in CN10KB. Bypass has to be disabled in two registers.\n\nPatch 2: Add workaround for errata w.r.t accessing TCAM DATA and MASK registers.\n\nPatch 3: Fixes the parser configuration to allow PTP traffic.\n\nPatch 4: Addresses the IP vector and block level interrupt mask changes.\n\nPatch 5: Fix NULL pointer crashes when rebooting\n\nPatch 6: Since MCS is global block shared by all LMACS the TCAM match\n\t must include macsec DMAC also to distinguish each macsec interface\n\nPatch 7: Before freeing MCS hardware resource to AF clear the stats also.\n\nPatch 8: Stats which share single counter in hardware are tracked in software.\n\t This tracking was based on wrong secy mode params.\n\t Use correct secy mode params\n\nPatch 9: When updating secy mode params, PN number was also reset to\n\t initial values. Hence do not write to PN value register when\n\t updating secy.\n====================\n\nLink: https://lore.kernel.org/r/20230426062528.20575-1-gakula@marvell.com\nSigned-off-by: Paolo Abeni <pabeni@redhat.com>",
  "author_name": "Paolo Abeni",
  "author_email": "pabeni@redhat.com",
  "author_date": "Thu Apr 27 12:39:11 2023 +0200",
  "author_date_iso": "2023-04-27T12:39:11+02:00",
  "committer_name": "Paolo Abeni",
  "committer_email": "pabeni@redhat.com",
  "committer_date": "Thu Apr 27 12:39:11 2023 +0200",
  "committer_date_iso": "2023-04-27T12:39:11+02:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/mcs.c",
      "insertions": 54,
      "deletions": 56
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/mcs.h",
      "insertions": 12,
      "deletions": 14
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/mcs_cnf10kb.c",
      "insertions": 63,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/mcs_reg.h",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/mcs_rvu_if.c",
      "insertions": 37,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/rvu.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/rvu_cgx.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/rvu_debugfs.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/nic/cn10k_macsec.c",
      "insertions": 35,
      "deletions": 13
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/nic/otx2_common.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/nic/otx2_pf.c",
      "insertions": 1,
      "deletions": 2
    }
  ],
  "total_insertions": 214,
  "total_deletions": 89,
  "total_changes": 303,
  "parents": [
    "c23ae5091a8b3e50fe755257df020907e7c029bb",
    "3c99bace4ad08ad0264285ba8ad73117560992c2"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Bypass"
    ]
  },
  "fix_type": "security",
  "file_results": []
}