{
  "hash": "e74e1d55728509b352e4eec4283dd5b2781b2070",
  "hash_short": "e74e1d55",
  "subject": "kselftests/arm64: add a basic Pointer Authentication test",
  "body": "PAuth signs and verifies return addresses on the stack. It does so by\ninserting a Pointer Authentication code (PAC) into some of the unused top\nbits of an address. This is achieved by adding paciasp/autiasp instructions\nat the beginning and end of a function.\n\nThis feature is partially backwards compatible with earlier versions of the\nARM architecture. To coerce the compiler into emitting fully backwards\ncompatible code the main file is compiled to target an earlier ARM version.\nThis allows the tests to check for the feature and print meaningful error\nmessages instead of crashing.\n\nAdd a test to verify that corrupting the return address results in a\nSIGSEGV on return.\n\nSigned-off-by: Boyan Karatotev <boyan.karatotev@arm.com>\nReviewed-by: Vincenzo Frascino <Vincenzo.Frascino@arm.com>\nReviewed-by: Amit Daniel Kachhap <amit.kachhap@arm.com>\nAcked-by: Shuah Khan <skhan@linuxfoundation.org>\nCc: Shuah Khan <shuah@kernel.org>\nCc: Catalin Marinas <catalin.marinas@arm.com>\nCc: Will Deacon <will@kernel.org>\nLink: https://lore.kernel.org/r/20200918104715.182310-2-boian4o1@gmail.com\nSigned-off-by: Will Deacon <will@kernel.org>",
  "full_message": "kselftests/arm64: add a basic Pointer Authentication test\n\nPAuth signs and verifies return addresses on the stack. It does so by\ninserting a Pointer Authentication code (PAC) into some of the unused top\nbits of an address. This is achieved by adding paciasp/autiasp instructions\nat the beginning and end of a function.\n\nThis feature is partially backwards compatible with earlier versions of the\nARM architecture. To coerce the compiler into emitting fully backwards\ncompatible code the main file is compiled to target an earlier ARM version.\nThis allows the tests to check for the feature and print meaningful error\nmessages instead of crashing.\n\nAdd a test to verify that corrupting the return address results in a\nSIGSEGV on return.\n\nSigned-off-by: Boyan Karatotev <boyan.karatotev@arm.com>\nReviewed-by: Vincenzo Frascino <Vincenzo.Frascino@arm.com>\nReviewed-by: Amit Daniel Kachhap <amit.kachhap@arm.com>\nAcked-by: Shuah Khan <skhan@linuxfoundation.org>\nCc: Shuah Khan <shuah@kernel.org>\nCc: Catalin Marinas <catalin.marinas@arm.com>\nCc: Will Deacon <will@kernel.org>\nLink: https://lore.kernel.org/r/20200918104715.182310-2-boian4o1@gmail.com\nSigned-off-by: Will Deacon <will@kernel.org>",
  "author_name": "Boyan Karatotev",
  "author_email": "boyan.karatotev@arm.com",
  "author_date": "Fri Sep 18 11:47:12 2020 +0100",
  "author_date_iso": "2020-09-18T11:47:12+01:00",
  "committer_name": "Will Deacon",
  "committer_email": "will@kernel.org",
  "committer_date": "Fri Sep 18 14:07:20 2020 +0100",
  "committer_date_iso": "2020-09-18T14:07:20+01:00",
  "files_changed": [
    "tools/testing/selftests/arm64/Makefile",
    "tools/testing/selftests/arm64/pauth/.gitignore",
    "tools/testing/selftests/arm64/pauth/Makefile",
    "tools/testing/selftests/arm64/pauth/helper.h",
    "tools/testing/selftests/arm64/pauth/pac.c",
    "tools/testing/selftests/arm64/pauth/pac_corruptor.S"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "tools/testing/selftests/arm64/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/.gitignore",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/Makefile",
      "insertions": 32,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/helper.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/pac.c",
      "insertions": 44,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/pac_corruptor.S",
      "insertions": 19,
      "deletions": 0
    }
  ],
  "total_insertions": 106,
  "total_deletions": 1,
  "total_changes": 107,
  "parents": [
    "f75aef392f869018f78cfedf3c320a6b3fcfda6b"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "tools/testing/selftests/arm64/pauth/.gitignore",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/arm64/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/helper.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/pac_corruptor.S",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/arm64/pauth/pac.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}