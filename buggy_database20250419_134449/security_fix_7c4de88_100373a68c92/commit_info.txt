Commit Hash: 7c4de881f7eba40088241f1c3ff5ca28c4e7fa48
Subject: KVM: selftests: Add event channel upcall support to xen_shinfo_test


Security Keywords:
- injection

Full commit message:
KVM: selftests: Add event channel upcall support to xen_shinfo_test

When I first looked at this, there was no support for guest exception
handling in the KVM selftests. In fact it was merged into 5.10 before
the Xen support got merged in 5.11, and I could have used it from the
start.

Hook it up now, to exercise the Xen upcall delivery. I'm about to make
things a bit more interesting by handling the full 2level event channel
stuff in-kernel on top of the basic vector injection that we already
have, and I'll want to build more tests on top.

Signed-off-by: David Woodhouse <dwmw@amazon.co.uk>
Message-Id: <20211115165030.7422-3-dwmw2@infradead.org>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: David Woodhouse <dwmw@amazon.co.uk>
Author Date: Mon Nov 15 16:50:22 2021 +0000
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Tue Nov 16 07:43:24 2021 -0500

Files Changed: 1
Lines Added: 66
Lines Removed: 9
Total Changes: 75
