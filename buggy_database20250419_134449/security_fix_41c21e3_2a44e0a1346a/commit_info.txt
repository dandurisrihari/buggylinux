Commit Hash: 41c21e351e79004dbb4efa4bc14a53a7e0af38c5
Subject: userns: Changing any namespace id mappings should require privileges


Security Keywords:
- exploit

Full commit message:
userns: Changing any namespace id mappings should require privileges

Changing uid/gid/projid mappings doesn't change your id within the
namespace; it reconfigures the namespace.  Unprivileged programs should
*not* be able to write these files.  (We're also checking the privileges
on the wrong task.)

Given the write-once nature of these files and the other security
checks, this is likely impossible to usefully exploit.

Signed-off-by: Andy Lutomirski <luto@amacapital.net>

Metadata:
Author: Andy Lutomirski <luto@amacapital.net>
Author Date: Sun Apr 14 11:44:04 2013 -0700
Committer: Andy Lutomirski <luto@amacapital.net>
Commit Date: Sun Apr 14 18:11:32 2013 -0700

Files Changed: 1
Lines Added: 3
Lines Removed: 3
Total Changes: 6
