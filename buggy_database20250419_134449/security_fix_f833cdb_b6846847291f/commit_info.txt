Commit Hash: f833cdb06bf7cea6827d67b73cb24da335b70266
Subject: drm/i915: dynamically allocate forcewake domains


Security Keywords:
- injection

Full commit message:
drm/i915: dynamically allocate forcewake domains

We'd like to introduce a display uncore with no forcewake domains, so
let's avoid wasting memory and be ready to allocate only what we need.
Even without multiple uncore, we still don't need all the domains on all
gens.

v2: avoid hidden control flow, improve checks (Tvrtko), fix IVB special
case, add failure injection point

Signed-off-by: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Cc: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Reviewed-by: Chris Wilson <chris@chris-wilson.co.uk>
Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20190620010021.20637-6-daniele.ceraolospurio@intel.com

Metadata:
Author: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Author Date: Wed Jun 19 18:00:20 2019 -0700
Committer: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Commit Date: Thu Jun 20 16:34:56 2019 +0100

Files Changed: 2
Lines Added: 77
Lines Removed: 37
Total Changes: 114
