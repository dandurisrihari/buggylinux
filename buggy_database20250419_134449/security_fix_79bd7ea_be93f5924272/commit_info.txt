Commit Hash: 79bd7eab8366b29eaa099908d5694cb473684b9d
Subject: nvme-fabrics: fix I/O connect error handling


Security Keywords:
- authentication

Full commit message:
nvme-fabrics: fix I/O connect error handling

In nvmf_connect_io_queue(), if connect I/O command fails, we log the
error and continue for authentication. This overrides error captured
from __nvme_submit_sync_cmd(), causing wrong return value.

Add goto out_free_data after logging connect error to fix the issue.

Fixes: f50fff73d620c ("nvme: implement In-Band authentication")
Signed-off-by: Chaitanya Kulkarni <kch@nvidia.com>
Reviewed-by: Hannes Reinecke <hare@suse.de>
Signed-off-by: Keith Busch <kbusch@kernel.org>

Metadata:
Author: Chaitanya Kulkarni <kch@nvidia.com>
Author Date: Tue Feb 13 00:26:46 2024 -0800
Committer: Keith Busch <kbusch@kernel.org>
Commit Date: Tue Feb 13 08:16:10 2024 -0800

Files Changed: 1
Lines Added: 1
Lines Removed: 0
Total Changes: 1
