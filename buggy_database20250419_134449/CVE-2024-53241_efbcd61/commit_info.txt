Commit Hash: efbcd61d9bebb771c836a3b8bfced8165633db7c
Subject: x86: make get_cpu_vendor() accessible from Xen code

CVE Identifiers:
- CVE-2024-53241

Full commit message:
x86: make get_cpu_vendor() accessible from Xen code

In order to be able to differentiate between AMD and Intel based
systems for very early hypercalls without having to rely on the Xen
hypercall page, make get_cpu_vendor() non-static.

Refactor early_cpu_init() for the same reason by splitting out the
loop initializing cpu_devs() into an externally callable function.

This is part of XSA-466 / CVE-2024-53241.

Reported-by: Andrew Cooper <andrew.cooper3@citrix.com>
Signed-off-by: Juergen Gross <jgross@suse.com>

Metadata:
Author: Juergen Gross <jgross@suse.com>
Author Date: Thu Oct 17 08:29:48 2024 +0200
Committer: Juergen Gross <jgross@suse.com>
Commit Date: Fri Dec 13 09:28:10 2024 +0100

Files Changed: 2
Lines Added: 24
Lines Removed: 16
Total Changes: 40
