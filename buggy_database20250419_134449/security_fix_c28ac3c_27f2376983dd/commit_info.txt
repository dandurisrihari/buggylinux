Commit Hash: c28ac3c7eb945fee6e20f47d576af68fdff1392a
Subject: mm/mglru: skip special VMAs in lru_gen_look_around()


Security Keywords:
- exploit

Full commit message:
mm/mglru: skip special VMAs in lru_gen_look_around()

Special VMAs like VM_PFNMAP can contain anon pages from COW.  There isn't
much profit in doing lookaround on them.  Besides, they can trigger the
pte_special() warning in get_pte_pfn().

Skip them in lru_gen_look_around().

Link: https://lkml.kernel.org/r/20231223045647.1566043-1-yuzhao@google.com
Fixes: 018ee47f1489 ("mm: multi-gen LRU: exploit locality in rmap")
Signed-off-by: Yu Zhao <yuzhao@google.com>
Reported-by: syzbot+03fd9b3f71641f0ebf2d@syzkaller.appspotmail.com
Closes: https://lore.kernel.org/000000000000f9ff00060d14c256@google.com/
Cc: <stable@vger.kernel.org>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

Metadata:
Author: Yu Zhao <yuzhao@google.com>
Author Date: Fri Dec 22 21:56:47 2023 -0700
Committer: Andrew Morton <akpm@linux-foundation.org>
Commit Date: Fri Dec 29 11:06:48 2023 -0800

Files Changed: 1
Lines Added: 9
Lines Removed: 4
Total Changes: 13
