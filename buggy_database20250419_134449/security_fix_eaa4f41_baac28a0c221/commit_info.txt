Commit Hash: eaa4f41642f096f1e10c15a2b172d79199e893ff
Subject: KVM: s390: irq delivery should not rely on icptcode


Security Keywords:
- injection

Full commit message:
KVM: s390: irq delivery should not rely on icptcode

Program irq injection during program irq intercepts is the last candidates
that injects nullifying irqs and relies on delivery to do the right thing.

As we should not rely on the icptcode during any delivery (because that
value will not be migrated), let's add a flag, telling prog IRQ delivery
to not rewind the PSW in case of nullifying prog IRQs.

Signed-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>
Signed-off-by: Christian Borntraeger <borntraeger@de.ibm.com>

Metadata:
Author: David Hildenbrand <dahi@linux.vnet.ibm.com>
Author Date: Wed Nov 4 16:46:55 2015 +0100
Committer: Christian Borntraeger <borntraeger@de.ibm.com>
Commit Date: Wed Feb 10 13:12:53 2016 +0100

Files Changed: 3
Lines Added: 4
Lines Removed: 1
Total Changes: 5
