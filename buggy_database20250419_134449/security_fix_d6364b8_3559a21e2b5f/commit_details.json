{
  "hash": "d6364b8128439a8c0e381f80c38667de9f15eef8",
  "hash_short": "d6364b81",
  "subject": "crypto: qce - use cryptlen when adding extra sgl",
  "body": "The qce crypto driver appends an extra entry to the dst sgl, to maintain\nprivate state information.\n\nWhen the gcm driver sends requests to the ctr skcipher, it passes the\nauthentication tag after the actual crypto payload, but it must not be\ntouched.\n\nCommit 1336c2221bee (\"crypto: qce - save a sg table slot for result\nbuf\") limited the destination sgl to avoid overwriting the\nauthentication tag but it assumed the tag would be in a separate sgl\nentry.\n\nThis is not always the case, so it is better to limit the length of the\ndestination buffer to req->cryptlen before appending the result buf.\n\nSigned-off-by: Eneas U de Queiroz <cotequeiroz@gmail.com>\nSigned-off-by: Herbert Xu <herbert@gondor.apana.org.au>",
  "full_message": "crypto: qce - use cryptlen when adding extra sgl\n\nThe qce crypto driver appends an extra entry to the dst sgl, to maintain\nprivate state information.\n\nWhen the gcm driver sends requests to the ctr skcipher, it passes the\nauthentication tag after the actual crypto payload, but it must not be\ntouched.\n\nCommit 1336c2221bee (\"crypto: qce - save a sg table slot for result\nbuf\") limited the destination sgl to avoid overwriting the\nauthentication tag but it assumed the tag would be in a separate sgl\nentry.\n\nThis is not always the case, so it is better to limit the length of the\ndestination buffer to req->cryptlen before appending the result buf.\n\nSigned-off-by: Eneas U de Queiroz <cotequeiroz@gmail.com>\nSigned-off-by: Herbert Xu <herbert@gondor.apana.org.au>",
  "author_name": "Eneas U de Queiroz",
  "author_email": "cotequeiroz@gmail.com",
  "author_date": "Fri Feb 7 12:02:25 2020 -0300",
  "author_date_iso": "2020-02-07T12:02:25-03:00",
  "committer_name": "Herbert Xu",
  "committer_email": "herbert@gondor.apana.org.au",
  "committer_date": "Thu Feb 13 17:05:26 2020 +0800",
  "committer_date_iso": "2020-02-13T17:05:26+08:00",
  "files_changed": [
    "drivers/crypto/qce/dma.c",
    "drivers/crypto/qce/dma.h",
    "drivers/crypto/qce/skcipher.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "drivers/crypto/qce/dma.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "drivers/crypto/qce/dma.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/crypto/qce/skcipher.c",
      "insertions": 3,
      "deletions": 2
    }
  ],
  "total_insertions": 10,
  "total_deletions": 8,
  "total_changes": 18,
  "parents": [
    "9ce9a5d5c362e392791319edef4ef918ed0ddfca"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/crypto/qce/dma.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/crypto/qce/dma.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/crypto/qce/skcipher.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}