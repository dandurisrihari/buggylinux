diff --git a/lib/Kconfig.debug b/lib/Kconfig.debug
index 8c15b29d5adc..cdbf7fd69eb9 100644
--- a/lib/Kconfig.debug
+++ b/lib/Kconfig.debug
@@ -1523,8 +1523,7 @@ config FAIL_IO_TIMEOUT
 
 config FAIL_MMC_REQUEST
 	bool "Fault-injection capability for MMC IO"
-	select DEBUG_FS
-	depends on FAULT_INJECTION && MMC
+	depends on FAULT_INJECTION_DEBUG_FS && MMC
 	help
 	  Provide fault-injection capability for MMC IO.
 	  This will make the mmc core return data errors. This is