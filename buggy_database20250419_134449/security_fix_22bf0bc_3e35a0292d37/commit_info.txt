Commit Hash: 22bf0bc04d273ca002a47de55693797b13076602
Subject: drm/xe: call free_gsc_pkt only once on action add failure


Security Keywords:
- authentication

Full commit message:
drm/xe: call free_gsc_pkt only once on action add failure

The drmm_add_action_or_reset function automatically invokes the
action (free_gsc_pkt) in the event of a failure; therefore, there's no
necessity to call it within the return check.

-v2
Fix commit message. (Lucas)

Fixes: d8b1571312b7 ("drm/xe/huc: HuC authentication via GSC")
Cc: Rodrigo Vivi <rodrigo.vivi@intel.com>
Cc: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Reviewed-by: Lucas De Marchi <lucas.demarchi@intel.com>
Reviewed-by: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Signed-off-by: Himal Prasad Ghimiray <himal.prasad.ghimiray@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20240412181211.1155732-4-himal.prasad.ghimiray@intel.com
Signed-off-by: Lucas De Marchi <lucas.demarchi@intel.com>

Metadata:
Author: Himal Prasad Ghimiray <himal.prasad.ghimiray@intel.com>
Author Date: Fri Apr 12 23:42:07 2024 +0530
Committer: Lucas De Marchi <lucas.demarchi@intel.com>
Commit Date: Thu Apr 18 13:26:34 2024 -0700

Files Changed: 1
Lines Added: 1
Lines Removed: 8
Total Changes: 9
