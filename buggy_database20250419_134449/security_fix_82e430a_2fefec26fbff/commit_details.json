{
  "hash": "82e430a6df7f0b5972c7fe717faffea823c6b84a",
  "hash_short": "82e430a6",
  "subject": "cpuidle: play_idle: Increase the resolution to usec",
  "body": "The play_idle resolution is 1ms. The intel_powerclamp bases the idle\nduration on jiffies. The idle injection API is also using msec based\nduration but has no user yet.\n\nUnfortunately, msec based time does not fit well when we want to\ninject idle cycle precisely with shallow idle state.\n\nIn order to set the scene for the incoming idle injection user, move\nthe precision up to usec when calling play_idle.\n\nSigned-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>",
  "full_message": "cpuidle: play_idle: Increase the resolution to usec\n\nThe play_idle resolution is 1ms. The intel_powerclamp bases the idle\nduration on jiffies. The idle injection API is also using msec based\nduration but has no user yet.\n\nUnfortunately, msec based time does not fit well when we want to\ninject idle cycle precisely with shallow idle state.\n\nIn order to set the scene for the incoming idle injection user, move\nthe precision up to usec when calling play_idle.\n\nSigned-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>",
  "author_name": "Daniel Lezcano",
  "author_email": "daniel.lezcano@linaro.org",
  "author_date": "Fri Aug 2 19:34:23 2019 +0200",
  "author_date_iso": "2019-08-02T19:34:23+02:00",
  "committer_name": "Rafael J. Wysocki",
  "committer_email": "rafael.j.wysocki@intel.com",
  "committer_date": "Tue Sep 3 11:33:29 2019 +0200",
  "committer_date_iso": "2019-09-03T11:33:29+02:00",
  "files_changed": [
    "drivers/powercap/idle_inject.c",
    "drivers/thermal/intel/intel_powerclamp.c",
    "include/linux/cpu.h",
    "kernel/sched/idle.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "drivers/powercap/idle_inject.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/thermal/intel/intel_powerclamp.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/cpu.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "kernel/sched/idle.c",
      "insertions": 4,
      "deletions": 3
    }
  ],
  "total_insertions": 7,
  "total_deletions": 6,
  "total_changes": 13,
  "parents": [
    "97d3eb9da84cae0548359b0aecb8619faad003b7"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.4",
    "v5.4-rc1",
    "v5.4-rc2",
    "v5.4-rc3",
    "v5.4-rc4",
    "v5.4-rc5",
    "v5.4-rc6",
    "v5.4-rc7",
    "v5.4-rc8",
    "v5.5"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/powercap/idle_inject.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/thermal/intel/intel_powerclamp.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/cpu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/sched/idle.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}