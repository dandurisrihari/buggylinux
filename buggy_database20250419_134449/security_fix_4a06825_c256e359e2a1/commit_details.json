{
  "hash": "4a06825839889cc1756d0dd8a52d6b1071ee0263",
  "hash_short": "4a068258",
  "subject": "SUNRPC: Transport fault injection",
  "body": "It has been exceptionally useful to exercise the logic that handles\nlocal immediate errors and RDMA connection loss.  To enable\ndevelopers to test this regularly and repeatably, add logic to\nsimulate connection loss every so often.\n\nFault injection is disabled by default. It is enabled with\n\n  $ sudo echo xxx > /sys/kernel/debug/sunrpc/inject_fault/disconnect\n\nwhere \"xxx\" is a large positive number of transport method calls\nbefore a disconnect. A value of several thousand is usually a good\nnumber that allows reasonable forward progress while still causing a\nlot of connection drops.\n\nThese hooks are disabled when SUNRPC_DEBUG is turned off.\n\nSigned-off-by: Chuck Lever <chuck.lever@oracle.com>\nSigned-off-by: Trond Myklebust <trond.myklebust@primarydata.com>",
  "full_message": "SUNRPC: Transport fault injection\n\nIt has been exceptionally useful to exercise the logic that handles\nlocal immediate errors and RDMA connection loss.  To enable\ndevelopers to test this regularly and repeatably, add logic to\nsimulate connection loss every so often.\n\nFault injection is disabled by default. It is enabled with\n\n  $ sudo echo xxx > /sys/kernel/debug/sunrpc/inject_fault/disconnect\n\nwhere \"xxx\" is a large positive number of transport method calls\nbefore a disconnect. A value of several thousand is usually a good\nnumber that allows reasonable forward progress while still causing a\nlot of connection drops.\n\nThese hooks are disabled when SUNRPC_DEBUG is turned off.\n\nSigned-off-by: Chuck Lever <chuck.lever@oracle.com>\nSigned-off-by: Trond Myklebust <trond.myklebust@primarydata.com>",
  "author_name": "Chuck Lever",
  "author_email": "chuck.lever@oracle.com",
  "author_date": "Mon May 11 14:02:25 2015 -0400",
  "author_date_iso": "2015-05-11T14:02:25-04:00",
  "committer_name": "Trond Myklebust",
  "committer_email": "trond.myklebust@primarydata.com",
  "committer_date": "Wed Jun 10 18:37:26 2015 -0400",
  "committer_date_iso": "2015-06-10T18:37:26-04:00",
  "files_changed": [
    "include/linux/sunrpc/xprt.h",
    "net/sunrpc/clnt.c",
    "net/sunrpc/debugfs.c",
    "net/sunrpc/xprt.c",
    "net/sunrpc/xprtrdma/transport.c",
    "net/sunrpc/xprtsock.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "include/linux/sunrpc/xprt.h",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/clnt.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/debugfs.c",
      "insertions": 77,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/xprt.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/xprtrdma/transport.c",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/xprtsock.c",
      "insertions": 10,
      "deletions": 0
    }
  ],
  "total_insertions": 120,
  "total_deletions": 0,
  "total_changes": 120,
  "parents": [
    "11598b8ff2b97cf034d0c025cf125c92b574bafc"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/sunrpc/debugfs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/clnt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/xprtsock.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/sunrpc/xprt.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/xprtrdma/transport.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/xprt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}