{
  "hash": "152d32aa846835987966fd20ee1143b0e05036a0",
  "hash_short": "152d32aa",
  "subject": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm",
  "body": "Pull kvm updates from Paolo Bonzini:\n \"This is a large update by KVM standards, including AMD PSP (Platform\n  Security Processor, aka \"AMD Secure Technology\") and ARM CoreSight\n  (debug and trace) changes.\n\n  ARM:\n\n   - CoreSight: Add support for ETE and TRBE\n\n   - Stage-2 isolation for the host kernel when running in protected\n     mode\n\n   - Guest SVE support when running in nVHE mode\n\n   - Force W^X hypervisor mappings in nVHE mode\n\n   - ITS save/restore for guests using direct injection with GICv4.1\n\n   - nVHE panics now produce readable backtraces\n\n   - Guest support for PTP using the ptp_kvm driver\n\n   - Performance improvements in the S2 fault handler\n\n  x86:\n\n   - AMD PSP driver changes\n\n   - Optimizations and cleanup of nested SVM code\n\n   - AMD: Support for virtual SPEC_CTRL\n\n   - Optimizations of the new MMU code: fast invalidation, zap under\n     read lock, enable/disably dirty page logging under read lock\n\n   - /dev/kvm API for AMD SEV live migration (guest API coming soon)\n\n   - support SEV virtual machines sharing the same encryption context\n\n   - support SGX in virtual machines\n\n   - add a few more statistics\n\n   - improved directed yield heuristics\n\n   - Lots and lots of cleanups\n\n  Generic:\n\n   - Rework of MMU notifier interface, simplifying and optimizing the\n     architecture-specific code\n\n   - a handful of \"Get rid of oprofile leftovers\" patches\n\n   - Some selftests improvements\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (379 commits)\n  KVM: selftests: Speed up set_memory_region_test\n  selftests: kvm: Fix the check of return value\n  KVM: x86: Take advantage of kvm_arch_dy_has_pending_interrupt()\n  KVM: SVM: Skip SEV cache flush if no ASIDs have been used\n  KVM: SVM: Remove an unnecessary prototype declaration of sev_flush_asids()\n  KVM: SVM: Drop redundant svm_sev_enabled() helper\n  KVM: SVM: Move SEV VMCB tracking allocation to sev.c\n  KVM: SVM: Explicitly check max SEV ASID during sev_hardware_setup()\n  KVM: SVM: Unconditionally invoke sev_hardware_teardown()\n  KVM: SVM: Enable SEV/SEV-ES functionality by default (when supported)\n  KVM: SVM: Condition sev_enabled and sev_es_enabled on CONFIG_KVM_AMD_SEV=y\n  KVM: SVM: Append \"_enabled\" to module-scoped SEV/SEV-ES control variables\n  KVM: SEV: Mask CPUID[0x8000001F].eax according to supported features\n  KVM: SVM: Move SEV module params/variables to sev.c\n  KVM: SVM: Disable SEV/SEV-ES if NPT is disabled\n  KVM: SVM: Free sev_asid_bitmap during init if SEV setup fails\n  KVM: SVM: Zero out the VMCB array used to track SEV ASID association\n  x86/sev: Drop redundant and potentially misleading 'sev_enabled'\n  KVM: x86: Move reverse CPUID helpers to separate header file\n  KVM: x86: Rename GPR accessors to make mode-aware variants the defaults\n  ...",
  "full_message": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm\n\nPull kvm updates from Paolo Bonzini:\n \"This is a large update by KVM standards, including AMD PSP (Platform\n  Security Processor, aka \"AMD Secure Technology\") and ARM CoreSight\n  (debug and trace) changes.\n\n  ARM:\n\n   - CoreSight: Add support for ETE and TRBE\n\n   - Stage-2 isolation for the host kernel when running in protected\n     mode\n\n   - Guest SVE support when running in nVHE mode\n\n   - Force W^X hypervisor mappings in nVHE mode\n\n   - ITS save/restore for guests using direct injection with GICv4.1\n\n   - nVHE panics now produce readable backtraces\n\n   - Guest support for PTP using the ptp_kvm driver\n\n   - Performance improvements in the S2 fault handler\n\n  x86:\n\n   - AMD PSP driver changes\n\n   - Optimizations and cleanup of nested SVM code\n\n   - AMD: Support for virtual SPEC_CTRL\n\n   - Optimizations of the new MMU code: fast invalidation, zap under\n     read lock, enable/disably dirty page logging under read lock\n\n   - /dev/kvm API for AMD SEV live migration (guest API coming soon)\n\n   - support SEV virtual machines sharing the same encryption context\n\n   - support SGX in virtual machines\n\n   - add a few more statistics\n\n   - improved directed yield heuristics\n\n   - Lots and lots of cleanups\n\n  Generic:\n\n   - Rework of MMU notifier interface, simplifying and optimizing the\n     architecture-specific code\n\n   - a handful of \"Get rid of oprofile leftovers\" patches\n\n   - Some selftests improvements\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (379 commits)\n  KVM: selftests: Speed up set_memory_region_test\n  selftests: kvm: Fix the check of return value\n  KVM: x86: Take advantage of kvm_arch_dy_has_pending_interrupt()\n  KVM: SVM: Skip SEV cache flush if no ASIDs have been used\n  KVM: SVM: Remove an unnecessary prototype declaration of sev_flush_asids()\n  KVM: SVM: Drop redundant svm_sev_enabled() helper\n  KVM: SVM: Move SEV VMCB tracking allocation to sev.c\n  KVM: SVM: Explicitly check max SEV ASID during sev_hardware_setup()\n  KVM: SVM: Unconditionally invoke sev_hardware_teardown()\n  KVM: SVM: Enable SEV/SEV-ES functionality by default (when supported)\n  KVM: SVM: Condition sev_enabled and sev_es_enabled on CONFIG_KVM_AMD_SEV=y\n  KVM: SVM: Append \"_enabled\" to module-scoped SEV/SEV-ES control variables\n  KVM: SEV: Mask CPUID[0x8000001F].eax according to supported features\n  KVM: SVM: Move SEV module params/variables to sev.c\n  KVM: SVM: Disable SEV/SEV-ES if NPT is disabled\n  KVM: SVM: Free sev_asid_bitmap during init if SEV setup fails\n  KVM: SVM: Zero out the VMCB array used to track SEV ASID association\n  x86/sev: Drop redundant and potentially misleading 'sev_enabled'\n  KVM: x86: Move reverse CPUID helpers to separate header file\n  KVM: x86: Rename GPR accessors to make mode-aware variants the defaults\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sat May 1 10:14:08 2021 -0700",
  "author_date_iso": "2021-05-01T10:14:08-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sat May 1 10:14:08 2021 -0700",
  "committer_date_iso": "2021-05-01T10:14:08-07:00",
  "files_changed": [
    "Documentation/virt/kvm/api.rst",
    "MAINTAINERS",
    "arch/arm64/include/asm/assembler.h",
    "arch/arm64/include/asm/barrier.h",
    "arch/arm64/include/asm/el2_setup.h",
    "arch/arm64/include/asm/fpsimd.h",
    "arch/arm64/include/asm/pgtable-prot.h",
    "arch/arm64/include/asm/sysreg.h",
    "arch/arm64/kernel/asm-offsets.c",
    "arch/arm64/kvm/hyp/nvhe/Makefile",
    "arch/arm64/kvm/vgic/vgic-its.c",
    "arch/arm64/kvm/vgic/vgic-mmio-v3.c",
    "arch/arm64/mm/init.c",
    "arch/mips/include/asm/kvm_host.h",
    "arch/mips/kvm/mips.c",
    "arch/mips/kvm/mmu.c",
    "arch/mips/kvm/vz.c",
    "arch/powerpc/include/asm/kvm_book3s.h",
    "arch/powerpc/include/asm/kvm_ppc.h",
    "arch/powerpc/kvm/book3s_hv.c",
    "arch/x86/include/asm/cpufeatures.h",
    "arch/x86/include/asm/kvm_host.h",
    "arch/x86/kernel/kvm.c",
    "arch/x86/kvm/cpuid.c",
    "arch/x86/kvm/emulate.c",
    "arch/x86/kvm/mmu/mmu.c",
    "arch/x86/kvm/mmu/mmu_internal.h",
    "arch/x86/kvm/mmu/tdp_mmu.c",
    "arch/x86/kvm/svm/avic.c",
    "arch/x86/kvm/svm/sev.c",
    "arch/x86/kvm/svm/svm.c",
    "arch/x86/kvm/vmx/nested.c",
    "arch/x86/kvm/vmx/vmx.c",
    "arch/x86/kvm/x86.c",
    "arch/x86/mm/mem_encrypt.c",
    "arch/x86/mm/mem_encrypt_identity.c",
    "drivers/clocksource/arm_arch_timer.c",
    "drivers/crypto/ccp/sev-dev.c",
    "drivers/firmware/psci/psci.c",
    "drivers/hwtracing/coresight/coresight-core.c",
    "drivers/hwtracing/coresight/coresight-etm-perf.c",
    "drivers/hwtracing/coresight/coresight-etm4x-core.c",
    "drivers/irqchip/irq-gic-v3-its.c",
    "include/linux/clocksource.h",
    "include/linux/perf_event.h",
    "include/uapi/linux/perf_event.h",
    "kernel/events/core.c",
    "kernel/time/clocksource.c",
    "kernel/time/timekeeping.c",
    "tools/testing/selftests/kvm/Makefile"
  ],
  "files_changed_count": 50,
  "stats": [
    {
      "file": "Documentation/ABI/testing/sysfs-bus-coresight-devices-trbe",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/arm/ete.yaml",
      "insertions": 75,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/arm/trbe.yaml",
      "insertions": 49,
      "deletions": 0
    },
    {
      "file": "Documentation/trace/coresight/coresight-trbe.rst",
      "insertions": 38,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/amd-memory-encryption.rst",
      "insertions": 143,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/api.rst",
      "insertions": 189,
      "deletions": 25
    },
    {
      "file": "Documentation/virt/kvm/arm/index.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/arm/ptp_kvm.rst",
      "insertions": 25,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/devices/arm-vgic-its.rst",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "Documentation/virt/kvm/devices/arm-vgic-v3.rst",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "Documentation/virt/kvm/locking.rst",
      "insertions": 24,
      "deletions": 25
    },
    {
      "file": "Documentation/virt/kvm/s390-diag.rst",
      "insertions": 33,
      "deletions": 0
    },
    {
      "file": "MAINTAINERS",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "arch/arm/include/asm/hypervisor.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/assembler.h",
      "insertions": 24,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/barrier.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/el2_setup.h",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/fpsimd.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/fpsimdmacros.h",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/hyp_image.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/hypervisor.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_arm.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_asm.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "insertions": 32,
      "deletions": 23
    },
    {
      "file": "arch/arm64/include/asm/kvm_hyp.h",
      "insertions": 13,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/kvm_mmu.h",
      "insertions": 22,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/kvm_pgtable.h",
      "insertions": 148,
      "deletions": 16
    },
    {
      "file": "arch/arm64/include/asm/pgtable-prot.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/sections.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 56,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kernel/asm-offsets.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/cpu-reset.S",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kernel/hyp-stub.S",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/image-vars.h",
      "insertions": 32,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/vmlinux.lds.S",
      "insertions": 43,
      "deletions": 31
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "insertions": 187,
      "deletions": 33
    },
    {
      "file": "arch/arm64/kvm/debug.c",
      "insertions": 90,
      "deletions": 28
    },
    {
      "file": "arch/arm64/kvm/fpsimd.c",
      "insertions": 22,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/guest.c",
      "insertions": 3,
      "deletions": 8
    },
    {
      "file": "arch/arm64/kvm/handle_exit.c",
      "insertions": 45,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/fpsimd.S",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/switch.h",
      "insertions": 54,
      "deletions": 53
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/early_alloc.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/gfp.h",
      "insertions": 68,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/mem_protect.h",
      "insertions": 36,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/memory.h",
      "insertions": 51,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/mm.h",
      "insertions": 96,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/spinlock.h",
      "insertions": 92,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/Makefile",
      "insertions": 7,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/cache.S",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/debug-sr.c",
      "insertions": 43,
      "deletions": 13
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/early_alloc.c",
      "insertions": 54,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/gen-hyprel.c",
      "insertions": 18,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/host.S",
      "insertions": 7,
      "deletions": 11
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-init.S",
      "insertions": 39,
      "deletions": 15
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-main.c",
      "insertions": 74,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-smp.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp.lds.S",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/mem_protect.c",
      "insertions": 279,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/mm.c",
      "insertions": 173,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/page_alloc.c",
      "insertions": 195,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/psci-relay.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/setup.c",
      "insertions": 214,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/stub.c",
      "insertions": 22,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/switch.c",
      "insertions": 13,
      "deletions": 13
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/tlb.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/pgtable.c",
      "insertions": 318,
      "deletions": 92
    },
    {
      "file": "arch/arm64/kvm/hyp/reserved_mem.c",
      "insertions": 113,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/switch.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/hypercalls.c",
      "insertions": 71,
      "deletions": 9
    },
    {
      "file": "arch/arm64/kvm/mmu.c",
      "insertions": 150,
      "deletions": 104
    },
    {
      "file": "arch/arm64/kvm/perf.c",
      "insertions": 1,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/pmu-emul.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/pmu.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/reset.c",
      "insertions": 9,
      "deletions": 42
    },
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/trace_arm.h",
      "insertions": 0,
      "deletions": 66
    },
    {
      "file": "arch/arm64/kvm/va_layout.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-init.c",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-its.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-kvm-device.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio-v3.c",
      "insertions": 50,
      "deletions": 31
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio.c",
      "insertions": 4,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-v3.c",
      "insertions": 60,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-v4.c",
      "insertions": 38,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/lib/clear_page.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/copy_page.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/mm/init.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/mips/include/asm/kvm_host.h",
      "insertions": 4,
      "deletions": 13
    },
    {
      "file": "arch/mips/kvm/mips.c",
      "insertions": 11,
      "deletions": 10
    },
    {
      "file": "arch/mips/kvm/mmu.c",
      "insertions": 13,
      "deletions": 87
    },
    {
      "file": "arch/mips/kvm/vz.c",
      "insertions": 4,
      "deletions": 15
    },
    {
      "file": "arch/powerpc/include/asm/kvm_book3s.h",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "arch/powerpc/include/asm/kvm_host.h",
      "insertions": 0,
      "deletions": 7
    },
    {
      "file": "arch/powerpc/include/asm/kvm_ppc.h",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "arch/powerpc/kvm/book3s.c",
      "insertions": 8,
      "deletions": 10
    },
    {
      "file": "arch/powerpc/kvm/book3s.h",
      "insertions": 4,
      "deletions": 6
    },
    {
      "file": "arch/powerpc/kvm/book3s_64_mmu_hv.c",
      "insertions": 26,
      "deletions": 72
    },
    {
      "file": "arch/powerpc/kvm/book3s_64_mmu_radix.c",
      "insertions": 13,
      "deletions": 12
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "arch/powerpc/kvm/book3s_pr.c",
      "insertions": 17,
      "deletions": 39
    },
    {
      "file": "arch/powerpc/kvm/e500_mmu_host.c",
      "insertions": 10,
      "deletions": 19
    },
    {
      "file": "arch/powerpc/kvm/trace_booke.h",
      "insertions": 0,
      "deletions": 15
    },
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/smp.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/smp.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/diag.c",
      "insertions": 28,
      "deletions": 3
    },
    {
      "file": "arch/s390/kvm/gaccess.c",
      "insertions": 25,
      "deletions": 5
    },
    {
      "file": "arch/s390/kvm/gaccess.h",
      "insertions": 46,
      "deletions": 14
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 12,
      "deletions": 3
    },
    {
      "file": "arch/s390/kvm/kvm-s390.h",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/vsie.c",
      "insertions": 100,
      "deletions": 9
    },
    {
      "file": "arch/sh/kernel/perf_event.c",
      "insertions": 0,
      "deletions": 18
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "insertions": 45,
      "deletions": 22
    },
    {
      "file": "arch/x86/include/asm/mem_encrypt.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/svm.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/vmx.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/uapi/asm/vmx.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/kernel/kvm.c",
      "insertions": 60,
      "deletions": 68
    },
    {
      "file": "arch/x86/kvm/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/cpuid.c",
      "insertions": 90,
      "deletions": 8
    },
    {
      "file": "arch/x86/kvm/cpuid.h",
      "insertions": 14,
      "deletions": 141
    },
    {
      "file": "arch/x86/kvm/emulate.c",
      "insertions": 3,
      "deletions": 77
    },
    {
      "file": "arch/x86/kvm/kvm_cache_regs.h",
      "insertions": 12,
      "deletions": 7
    },
    {
      "file": "arch/x86/kvm/lapic.c",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/mmu.h",
      "insertions": 14,
      "deletions": 9
    },
    {
      "file": "arch/x86/kvm/mmu/mmu.c",
      "insertions": 357,
      "deletions": 280
    },
    {
      "file": "arch/x86/kvm/mmu/mmu_audit.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/mmu/mmu_internal.h",
      "insertions": 24,
      "deletions": 20
    },
    {
      "file": "arch/x86/kvm/mmu/paging_tmpl.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/mmu/spte.c",
      "insertions": 108,
      "deletions": 51
    },
    {
      "file": "arch/x86/kvm/mmu/spte.h",
      "insertions": 95,
      "deletions": 46
    },
    {
      "file": "arch/x86/kvm/mmu/tdp_mmu.c",
      "insertions": 422,
      "deletions": 318
    },
    {
      "file": "arch/x86/kvm/mmu/tdp_mmu.h",
      "insertions": 33,
      "deletions": 18
    },
    {
      "file": "arch/x86/kvm/reverse_cpuid.h",
      "insertions": 186,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/svm/avic.c",
      "insertions": 13,
      "deletions": 11
    },
    {
      "file": "arch/x86/kvm/svm/nested.c",
      "insertions": 339,
      "deletions": 234
    },
    {
      "file": "arch/x86/kvm/svm/sev.c",
      "insertions": 704,
      "deletions": 218
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "insertions": 546,
      "deletions": 561
    },
    {
      "file": "arch/x86/kvm/svm/svm.h",
      "insertions": 50,
      "deletions": 41
    },
    {
      "file": "arch/x86/kvm/svm/vmenter.S",
      "insertions": 20,
      "deletions": 27
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "insertions": 57,
      "deletions": 26
    },
    {
      "file": "arch/x86/kvm/vmx/nested.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/vmx/sgx.c",
      "insertions": 502,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/vmx/sgx.h",
      "insertions": 34,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/vmx/vmcs12.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/vmx/vmcs12.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "insertions": 241,
      "deletions": 191
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.h",
      "insertions": 25,
      "deletions": 14
    },
    {
      "file": "arch/x86/kvm/vmx/vmx_ops.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 169,
      "deletions": 45
    },
    {
      "file": "arch/x86/kvm/x86.h",
      "insertions": 14,
      "deletions": 4
    },
    {
      "file": "arch/x86/mm/mem_encrypt.c",
      "insertions": 4,
      "deletions": 6
    },
    {
      "file": "arch/x86/mm/mem_encrypt_identity.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/clocksource/arm_arch_timer.c",
      "insertions": 36,
      "deletions": 0
    },
    {
      "file": "drivers/crypto/ccp/sev-dev.c",
      "insertions": 96,
      "deletions": 97
    },
    {
      "file": "drivers/crypto/ccp/sev-dev.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/firmware/psci/psci.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/firmware/smccc/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/firmware/smccc/kvm_guest.c",
      "insertions": 50,
      "deletions": 0
    },
    {
      "file": "drivers/firmware/smccc/smccc.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/hwtracing/coresight/Kconfig",
      "insertions": 19,
      "deletions": 5
    },
    {
      "file": "drivers/hwtracing/coresight/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-core.c",
      "insertions": 27,
      "deletions": 2
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-etm-perf.c",
      "insertions": 106,
      "deletions": 13
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-etm4x-core.c",
      "insertions": 137,
      "deletions": 24
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-etm4x-sysfs.c",
      "insertions": 16,
      "deletions": 3
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-etm4x.h",
      "insertions": 74,
      "deletions": 9
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-platform.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-priv.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-trbe.c",
      "insertions": 1157,
      "deletions": 0
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-trbe.h",
      "insertions": 152,
      "deletions": 0
    },
    {
      "file": "drivers/irqchip/irq-gic-v3-its.c",
      "insertions": 16,
      "deletions": 2
    },
    {
      "file": "drivers/perf/arm_pmu.c",
      "insertions": 0,
      "deletions": 30
    },
    {
      "file": "drivers/ptp/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/ptp/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/ptp/ptp_kvm_arm.c",
      "insertions": 28,
      "deletions": 0
    },
    {
      "file": "drivers/ptp/{ptp_kvm.c => ptp_kvm_common.c}",
      "insertions": 23,
      "deletions": 62
    },
    {
      "file": "drivers/ptp/ptp_kvm_x86.c",
      "insertions": 97,
      "deletions": 0
    },
    {
      "file": "include/kvm/arm_pmu.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "include/kvm/arm_vgic.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/linux/arm-smccc.h",
      "insertions": 41,
      "deletions": 0
    },
    {
      "file": "include/linux/bug.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "include/linux/clocksource.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "include/linux/clocksource_ids.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "include/linux/coresight.h",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "include/linux/kvm_host.h",
      "insertions": 20,
      "deletions": 4
    },
    {
      "file": "include/linux/perf_event.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "include/linux/psp-sev.h",
      "insertions": 14,
      "deletions": 4
    },
    {
      "file": "include/linux/ptp_kvm.h",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "include/linux/timekeeping.h",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "include/trace/events/kvm.h",
      "insertions": 66,
      "deletions": 24
    },
    {
      "file": "include/uapi/linux/kvm.h",
      "insertions": 45,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/perf_event.h",
      "insertions": 9,
      "deletions": 4
    },
    {
      "file": "kernel/events/core.c",
      "insertions": 0,
      "deletions": 5
    },
    {
      "file": "kernel/time/clocksource.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "kernel/time/timekeeping.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "lib/bug.c",
      "insertions": 29,
      "deletions": 25
    },
    {
      "file": "tools/include/asm-generic/hugetlb_encode.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/.gitignore",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/vgic_init.c",
      "insertions": 551,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/dirty_log_test.c",
      "insertions": 57,
      "deletions": 12
    },
    {
      "file": "tools/testing/selftests/kvm/include/kvm_util.h",
      "insertions": 10,
      "deletions": 3
    },
    {
      "file": "tools/testing/selftests/kvm/include/test_util.h",
      "insertions": 20,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/kvm_page_table_test.c",
      "insertions": 506,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/assert.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/lib/kvm_util.c",
      "insertions": 105,
      "deletions": 33
    },
    {
      "file": "tools/testing/selftests/kvm/lib/test_util.c",
      "insertions": 153,
      "deletions": 10
    },
    {
      "file": "tools/testing/selftests/kvm/set_memory_region_test.c",
      "insertions": 45,
      "deletions": 16
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/xen_shinfo_test.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "virt/kvm/coalesced_mmio.c",
      "insertions": 17,
      "deletions": 2
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "insertions": 228,
      "deletions": 75
    }
  ],
  "total_insertions": 12447,
  "total_deletions": 4022,
  "total_changes": 16469,
  "parents": [
    "4f9701057a9cc1ae6bfc533204c9d3ba386687de",
    "3bf0fcd754345d7ea63e1446015ba65ece6788ca"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/include/asm/el2_setup.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/pgtable-prot.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/assembler.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "Documentation/virt/kvm/api.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/barrier.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/fpsimd.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/asm-offsets.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/mips/kvm/mips.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio-v3.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/mm/init.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-its.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/mips/kvm/mmu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/mips/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/powerpc/include/asm/kvm_book3s.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/mips/kvm/vz.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/powerpc/include/asm/kvm_ppc.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/kvm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/cpuid.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/mmu/tdp_mmu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/avic.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/emulate.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/mmu/mmu_internal.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/sev.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/mm/mem_encrypt_identity.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/mm/mem_encrypt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/clocksource/arm_arch_timer.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/mmu/mmu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/crypto/ccp/sev-dev.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-etm-perf.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/firmware/psci/psci.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/hwtracing/coresight/coresight-etm4x-core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/perf_event.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/irqchip/irq-gic-v3-its.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/clocksource.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/time/clocksource.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/time/timekeeping.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/perf_event.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/events/core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}