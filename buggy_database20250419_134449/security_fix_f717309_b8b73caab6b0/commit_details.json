{
  "hash": "f7173090033c70886d925995e9dfdfb76dbb2441",
  "hash_short": "f7173090",
  "subject": "mm/page_alloc: make should_fail_alloc_page() static",
  "body": "make W=1 generates the following warning for mm/page_alloc.c\n\n  mm/page_alloc.c:3651:15: warning: no previous prototype for `should_fail_alloc_page' [-Wmissing-prototypes]\n   noinline bool should_fail_alloc_page(gfp_t gfp_mask, unsigned int order)\n                 ^~~~~~~~~~~~~~~~~~~~~~\n\nThis function is deliberately split out for BPF to allow errors to be\ninjected.  The function is not used anywhere else so it is local to the\nfile.  Make it static which should still allow error injection to be used\nsimilar to how block/blk-core.c:should_fail_bio() works.\n\nLink: https://lkml.kernel.org/r/20210520084809.8576-4-mgorman@techsingularity.net\nSigned-off-by: Mel Gorman <mgorman@techsingularity.net>\nReviewed-by: Yang Shi <shy828301@gmail.com>\nAcked-by: Vlastimil Babka <vbabka@suse.cz>\nCc: Dan Streetman <ddstreet@ieee.org>\nCc: David Hildenbrand <david@redhat.com>\nCc: Michal Hocko <mhocko@kernel.org>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "mm/page_alloc: make should_fail_alloc_page() static\n\nmake W=1 generates the following warning for mm/page_alloc.c\n\n  mm/page_alloc.c:3651:15: warning: no previous prototype for `should_fail_alloc_page' [-Wmissing-prototypes]\n   noinline bool should_fail_alloc_page(gfp_t gfp_mask, unsigned int order)\n                 ^~~~~~~~~~~~~~~~~~~~~~\n\nThis function is deliberately split out for BPF to allow errors to be\ninjected.  The function is not used anywhere else so it is local to the\nfile.  Make it static which should still allow error injection to be used\nsimilar to how block/blk-core.c:should_fail_bio() works.\n\nLink: https://lkml.kernel.org/r/20210520084809.8576-4-mgorman@techsingularity.net\nSigned-off-by: Mel Gorman <mgorman@techsingularity.net>\nReviewed-by: Yang Shi <shy828301@gmail.com>\nAcked-by: Vlastimil Babka <vbabka@suse.cz>\nCc: Dan Streetman <ddstreet@ieee.org>\nCc: David Hildenbrand <david@redhat.com>\nCc: Michal Hocko <mhocko@kernel.org>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Mel Gorman",
  "author_email": "mgorman@techsingularity.net",
  "author_date": "Wed Jun 30 18:53:25 2021 -0700",
  "author_date_iso": "2021-06-30T18:53:25-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Jul 1 11:06:02 2021 -0700",
  "committer_date_iso": "2021-07-01T11:06:02-07:00",
  "files_changed": [
    "mm/page_alloc.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "mm/page_alloc.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "5da96bdd93ed732685fb511d9889d3f6c5717fad"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "mm/page_alloc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}