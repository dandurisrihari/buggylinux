{
  "hash": "c7cf8d27244f2ccdde30c79eb6314c943bbeac28",
  "hash_short": "c7cf8d27",
  "subject": "virt: acrn: Introduce interrupt injection interfaces",
  "body": "ACRN userspace need to inject virtual interrupts into a User VM in\ndevices emulation.\n\nHSM needs provide interfaces to do so.\n\nIntroduce following interrupt injection interfaces:\n\nioctl ACRN_IOCTL_SET_IRQLINE:\n  Pass data from userspace to the hypervisor, and inform the hypervisor\n  to inject a virtual IOAPIC GSI interrupt to a User VM.\n\nioctl ACRN_IOCTL_INJECT_MSI:\n  Pass data struct acrn_msi_entry from userspace to the hypervisor, and\n  inform the hypervisor to inject a virtual MSI to a User VM.\n\nioctl ACRN_IOCTL_VM_INTR_MONITOR:\n  Set a 4-Kbyte aligned shared page for statistics information of\n  interrupts of a User VM.\n\nCc: Zhi Wang <zhi.a.wang@intel.com>\nCc: Zhenyu Wang <zhenyuw@linux.intel.com>\nCc: Yu Wang <yu1.wang@intel.com>\nCc: Reinette Chatre <reinette.chatre@intel.com>\nCc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nReviewed-by: Zhi Wang <zhi.a.wang@intel.com>\nReviewed-by: Reinette Chatre <reinette.chatre@intel.com>\nSigned-off-by: Shuo Liu <shuo.a.liu@intel.com>\nLink: https://lore.kernel.org/r/20210207031040.49576-13-shuo.a.liu@intel.com\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>",
  "full_message": "virt: acrn: Introduce interrupt injection interfaces\n\nACRN userspace need to inject virtual interrupts into a User VM in\ndevices emulation.\n\nHSM needs provide interfaces to do so.\n\nIntroduce following interrupt injection interfaces:\n\nioctl ACRN_IOCTL_SET_IRQLINE:\n  Pass data from userspace to the hypervisor, and inform the hypervisor\n  to inject a virtual IOAPIC GSI interrupt to a User VM.\n\nioctl ACRN_IOCTL_INJECT_MSI:\n  Pass data struct acrn_msi_entry from userspace to the hypervisor, and\n  inform the hypervisor to inject a virtual MSI to a User VM.\n\nioctl ACRN_IOCTL_VM_INTR_MONITOR:\n  Set a 4-Kbyte aligned shared page for statistics information of\n  interrupts of a User VM.\n\nCc: Zhi Wang <zhi.a.wang@intel.com>\nCc: Zhenyu Wang <zhenyuw@linux.intel.com>\nCc: Yu Wang <yu1.wang@intel.com>\nCc: Reinette Chatre <reinette.chatre@intel.com>\nCc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nReviewed-by: Zhi Wang <zhi.a.wang@intel.com>\nReviewed-by: Reinette Chatre <reinette.chatre@intel.com>\nSigned-off-by: Shuo Liu <shuo.a.liu@intel.com>\nLink: https://lore.kernel.org/r/20210207031040.49576-13-shuo.a.liu@intel.com\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>",
  "author_name": "Shuo Liu",
  "author_email": "shuo.a.liu@intel.com",
  "author_date": "Sun Feb 7 11:10:34 2021 +0800",
  "author_date_iso": "2021-02-07T11:10:34+08:00",
  "committer_name": "Greg Kroah-Hartman",
  "committer_email": "gregkh@linuxfoundation.org",
  "committer_date": "Tue Feb 9 10:58:19 2021 +0100",
  "committer_date_iso": "2021-02-09T10:58:19+01:00",
  "files_changed": [
    "drivers/virt/acrn/acrn_drv.h",
    "drivers/virt/acrn/hsm.c",
    "drivers/virt/acrn/hypercall.h",
    "drivers/virt/acrn/vm.c",
    "include/uapi/linux/acrn.h"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "drivers/virt/acrn/acrn_drv.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/virt/acrn/hsm.c",
      "insertions": 40,
      "deletions": 0
    },
    {
      "file": "drivers/virt/acrn/hypercall.h",
      "insertions": 41,
      "deletions": 0
    },
    {
      "file": "drivers/virt/acrn/vm.c",
      "insertions": 36,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/acrn.h",
      "insertions": 17,
      "deletions": 0
    }
  ],
  "total_insertions": 138,
  "total_deletions": 0,
  "total_changes": 138,
  "parents": [
    "ce011e1363a1fe43de0ca05abc394022ee4fefeb"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/virt/acrn/acrn_drv.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/hsm.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/hypercall.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/virt/acrn/vm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/acrn.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}