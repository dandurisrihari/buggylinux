{
  "hash": "8fc153cda9c9e6aed2a4a7235970dd6c6cb6e954",
  "hash_short": "8fc153cd",
  "subject": "arm64: KVM: Fix AArch64 guest userspace exception injection",
  "body": "At the moment, our fault injection is pretty limited. We always\ngenerate a SYNC exception into EL1, as if the fault was actually\nfrom EL1h, no matter how it was generated.\n\nThis is obviously wrong, as EL0 can generate faults of its own\n(not to mention the pretty-much unused EL1t mode).\n\nThis patch fixes it by implementing section D1.10.2 of the ARMv8 ARM,\nand in particular table D1-7 (\"Vector offsets from vector table base\naddress\"), which describes which vector to use depending on the source\nexception level and type (synchronous, IRQ, FIQ or SError).\n\nReviewed-by: Christoffer Dall <christoffer.dall@linaro.org>\nTested-by: Shannon Zhao <shannon.zhao@linaro.org>\nSigned-off-by: Marc Zyngier <marc.zyngier@arm.com>",
  "full_message": "arm64: KVM: Fix AArch64 guest userspace exception injection\n\nAt the moment, our fault injection is pretty limited. We always\ngenerate a SYNC exception into EL1, as if the fault was actually\nfrom EL1h, no matter how it was generated.\n\nThis is obviously wrong, as EL0 can generate faults of its own\n(not to mention the pretty-much unused EL1t mode).\n\nThis patch fixes it by implementing section D1.10.2 of the ARMv8 ARM,\nand in particular table D1-7 (\"Vector offsets from vector table base\naddress\"), which describes which vector to use depending on the source\nexception level and type (synchronous, IRQ, FIQ or SError).\n\nReviewed-by: Christoffer Dall <christoffer.dall@linaro.org>\nTested-by: Shannon Zhao <shannon.zhao@linaro.org>\nSigned-off-by: Marc Zyngier <marc.zyngier@arm.com>",
  "author_name": "Marc Zyngier",
  "author_email": "marc.zyngier@arm.com",
  "author_date": "Wed Jan 6 18:29:19 2016 +0000",
  "author_date_iso": "2016-01-06T18:29:19+00:00",
  "committer_name": "Marc Zyngier",
  "committer_email": "marc.zyngier@arm.com",
  "committer_date": "Sun Jan 24 21:55:57 2016 +0000",
  "committer_date_iso": "2016-01-24T21:55:57+00:00",
  "files_changed": [
    "arch/arm64/kvm/inject_fault.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/arm64/kvm/inject_fault.c",
      "insertions": 35,
      "deletions": 3
    }
  ],
  "total_insertions": 35,
  "total_deletions": 3,
  "total_changes": 38,
  "parents": [
    "92e963f50fc74041b5e9e744c330dca48e04f08d"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/kvm/inject_fault.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}