commit 1ec6d097897a35dfb55c4c31fc8633cf5be46497
Merge: 7856a565416e 9fed8d7c46f3
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Sep 21 09:02:54 2024 -0700

    Merge tag 's390-6.12-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux
    
    Pull s390 updates from Vasily Gorbik:
    
     - Optimize ftrace and kprobes code patching and avoid stop machine for
       kprobes if sequential instruction fetching facility is available
    
     - Add hiperdispatch feature to dynamically adjust CPU capacity in
       vertical polarization to improve scheduling efficiency and overall
       performance. Also add infrastructure for handling warning track
       interrupts (WTI), allowing for graceful CPU preemption
    
     - Rework crypto code pkey module and split it into separate,
       independent modules for sysfs, PCKMO, CCA, and EP11, allowing modules
       to load only when the relevant hardware is available
    
     - Add hardware acceleration for HMAC modes and the full AES-XTS cipher,
       utilizing message-security assist extensions (MSA) 10 and 11. It
       introduces new shash implementations for HMAC-SHA224/256/384/512 and
       registers the hardware-accelerated AES-XTS cipher as the preferred
       option. Also add clear key token support
    
     - Add MSA 10 and 11 processor activity instrumentation counters to perf
       and update PAI Extension 1 NNPA counters
    
     - Cleanup cpu sampling facility code and rework debug/WARN_ON_ONCE
       statements
    
     - Add support for SHA3 performance enhancements introduced with MSA 12
    
     - Add support for the query authentication information feature of MSA
       13 and introduce the KDSA CPACF instruction. Provide query and query
       authentication information in sysfs, enabling tools like cpacfinfo to
       present this data in a human-readable form
    
     - Update kernel disassembler instructions
    
     - Always enable EXPOLINE_EXTERN if supported by the compiler to ensure
       kpatch compatibility
    
     - Add missing warning handling and relocated lowcore support to the
       early program check handler
    
     - Optimize ftrace_return_address() and avoid calling unwinder
    
     - Make modules use kernel ftrace trampolines
    
     - Strip relocs from the final vmlinux ELF file to make it roughly 2
       times smaller
    
     - Dump register contents and call trace for early crashes to the
       console
    
     - Generate ptdump address marker array dynamically
    
     - Fix rcu_sched stalls that might occur when adding or removing large
       amounts of pages at once to or from the CMM balloon
    
     - Fix deadlock caused by recursive lock of the AP bus scan mutex
    
     - Unify sync and async register save areas in entry code
    
     - Cleanup debug prints in crypto code
    
     - Various cleanup and sanitizing patches for the decompressor
    
     - Various small ftrace cleanups
    
    * tag 's390-6.12-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux: (84 commits)
      s390/crypto: Display Query and Query Authentication Information in sysfs
      s390/crypto: Add Support for Query Authentication Information
      s390/crypto: Rework RRE and RRF CPACF inline functions
      s390/crypto: Add KDSA CPACF Instruction
      s390/disassembler: Remove duplicate instruction format RSY_RDRU
      s390/boot: Move boot_printk() code to own file
      s390/boot: Use boot_printk() instead of sclp_early_printk()
      s390/boot: Rename decompressor_printk() to boot_printk()
      s390/boot: Compile all files with the same march flag
      s390: Use MARCH_HAS_*_FEATURES defines
      s390: Provide MARCH_HAS_*_FEATURES defines
      s390/facility: Disable compile time optimization for decompressor code
      s390/boot: Increase minimum architecture to z10
      s390/als: Remove obsolete comment
      s390/sha3: Fix SHA3 selftests failures
      s390/pkey: Add AES xts and HMAC clear key token support
      s390/cpacf: Add MSA 10 and 11 new PCKMO functions
      s390/mm: Add cond_resched() to cmm_alloc/free_pages()
      s390/pai_ext: Update PAI extension 1 counters
      s390/pai_crypto: Add support for MSA 10 and 11 pai counters
      ...