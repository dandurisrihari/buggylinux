{
  "hash": "1ec6d097897a35dfb55c4c31fc8633cf5be46497",
  "hash_short": "1ec6d097",
  "subject": "Merge tag 's390-6.12-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux",
  "body": "Pull s390 updates from Vasily Gorbik:\n\n - Optimize ftrace and kprobes code patching and avoid stop machine for\n   kprobes if sequential instruction fetching facility is available\n\n - Add hiperdispatch feature to dynamically adjust CPU capacity in\n   vertical polarization to improve scheduling efficiency and overall\n   performance. Also add infrastructure for handling warning track\n   interrupts (WTI), allowing for graceful CPU preemption\n\n - Rework crypto code pkey module and split it into separate,\n   independent modules for sysfs, PCKMO, CCA, and EP11, allowing modules\n   to load only when the relevant hardware is available\n\n - Add hardware acceleration for HMAC modes and the full AES-XTS cipher,\n   utilizing message-security assist extensions (MSA) 10 and 11. It\n   introduces new shash implementations for HMAC-SHA224/256/384/512 and\n   registers the hardware-accelerated AES-XTS cipher as the preferred\n   option. Also add clear key token support\n\n - Add MSA 10 and 11 processor activity instrumentation counters to perf\n   and update PAI Extension 1 NNPA counters\n\n - Cleanup cpu sampling facility code and rework debug/WARN_ON_ONCE\n   statements\n\n - Add support for SHA3 performance enhancements introduced with MSA 12\n\n - Add support for the query authentication information feature of MSA\n   13 and introduce the KDSA CPACF instruction. Provide query and query\n   authentication information in sysfs, enabling tools like cpacfinfo to\n   present this data in a human-readable form\n\n - Update kernel disassembler instructions\n\n - Always enable EXPOLINE_EXTERN if supported by the compiler to ensure\n   kpatch compatibility\n\n - Add missing warning handling and relocated lowcore support to the\n   early program check handler\n\n - Optimize ftrace_return_address() and avoid calling unwinder\n\n - Make modules use kernel ftrace trampolines\n\n - Strip relocs from the final vmlinux ELF file to make it roughly 2\n   times smaller\n\n - Dump register contents and call trace for early crashes to the\n   console\n\n - Generate ptdump address marker array dynamically\n\n - Fix rcu_sched stalls that might occur when adding or removing large\n   amounts of pages at once to or from the CMM balloon\n\n - Fix deadlock caused by recursive lock of the AP bus scan mutex\n\n - Unify sync and async register save areas in entry code\n\n - Cleanup debug prints in crypto code\n\n - Various cleanup and sanitizing patches for the decompressor\n\n - Various small ftrace cleanups\n\n* tag 's390-6.12-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux: (84 commits)\n  s390/crypto: Display Query and Query Authentication Information in sysfs\n  s390/crypto: Add Support for Query Authentication Information\n  s390/crypto: Rework RRE and RRF CPACF inline functions\n  s390/crypto: Add KDSA CPACF Instruction\n  s390/disassembler: Remove duplicate instruction format RSY_RDRU\n  s390/boot: Move boot_printk() code to own file\n  s390/boot: Use boot_printk() instead of sclp_early_printk()\n  s390/boot: Rename decompressor_printk() to boot_printk()\n  s390/boot: Compile all files with the same march flag\n  s390: Use MARCH_HAS_*_FEATURES defines\n  s390: Provide MARCH_HAS_*_FEATURES defines\n  s390/facility: Disable compile time optimization for decompressor code\n  s390/boot: Increase minimum architecture to z10\n  s390/als: Remove obsolete comment\n  s390/sha3: Fix SHA3 selftests failures\n  s390/pkey: Add AES xts and HMAC clear key token support\n  s390/cpacf: Add MSA 10 and 11 new PCKMO functions\n  s390/mm: Add cond_resched() to cmm_alloc/free_pages()\n  s390/pai_ext: Update PAI extension 1 counters\n  s390/pai_crypto: Add support for MSA 10 and 11 pai counters\n  ...",
  "full_message": "Merge tag 's390-6.12-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux\n\nPull s390 updates from Vasily Gorbik:\n\n - Optimize ftrace and kprobes code patching and avoid stop machine for\n   kprobes if sequential instruction fetching facility is available\n\n - Add hiperdispatch feature to dynamically adjust CPU capacity in\n   vertical polarization to improve scheduling efficiency and overall\n   performance. Also add infrastructure for handling warning track\n   interrupts (WTI), allowing for graceful CPU preemption\n\n - Rework crypto code pkey module and split it into separate,\n   independent modules for sysfs, PCKMO, CCA, and EP11, allowing modules\n   to load only when the relevant hardware is available\n\n - Add hardware acceleration for HMAC modes and the full AES-XTS cipher,\n   utilizing message-security assist extensions (MSA) 10 and 11. It\n   introduces new shash implementations for HMAC-SHA224/256/384/512 and\n   registers the hardware-accelerated AES-XTS cipher as the preferred\n   option. Also add clear key token support\n\n - Add MSA 10 and 11 processor activity instrumentation counters to perf\n   and update PAI Extension 1 NNPA counters\n\n - Cleanup cpu sampling facility code and rework debug/WARN_ON_ONCE\n   statements\n\n - Add support for SHA3 performance enhancements introduced with MSA 12\n\n - Add support for the query authentication information feature of MSA\n   13 and introduce the KDSA CPACF instruction. Provide query and query\n   authentication information in sysfs, enabling tools like cpacfinfo to\n   present this data in a human-readable form\n\n - Update kernel disassembler instructions\n\n - Always enable EXPOLINE_EXTERN if supported by the compiler to ensure\n   kpatch compatibility\n\n - Add missing warning handling and relocated lowcore support to the\n   early program check handler\n\n - Optimize ftrace_return_address() and avoid calling unwinder\n\n - Make modules use kernel ftrace trampolines\n\n - Strip relocs from the final vmlinux ELF file to make it roughly 2\n   times smaller\n\n - Dump register contents and call trace for early crashes to the\n   console\n\n - Generate ptdump address marker array dynamically\n\n - Fix rcu_sched stalls that might occur when adding or removing large\n   amounts of pages at once to or from the CMM balloon\n\n - Fix deadlock caused by recursive lock of the AP bus scan mutex\n\n - Unify sync and async register save areas in entry code\n\n - Cleanup debug prints in crypto code\n\n - Various cleanup and sanitizing patches for the decompressor\n\n - Various small ftrace cleanups\n\n* tag 's390-6.12-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux: (84 commits)\n  s390/crypto: Display Query and Query Authentication Information in sysfs\n  s390/crypto: Add Support for Query Authentication Information\n  s390/crypto: Rework RRE and RRF CPACF inline functions\n  s390/crypto: Add KDSA CPACF Instruction\n  s390/disassembler: Remove duplicate instruction format RSY_RDRU\n  s390/boot: Move boot_printk() code to own file\n  s390/boot: Use boot_printk() instead of sclp_early_printk()\n  s390/boot: Rename decompressor_printk() to boot_printk()\n  s390/boot: Compile all files with the same march flag\n  s390: Use MARCH_HAS_*_FEATURES defines\n  s390: Provide MARCH_HAS_*_FEATURES defines\n  s390/facility: Disable compile time optimization for decompressor code\n  s390/boot: Increase minimum architecture to z10\n  s390/als: Remove obsolete comment\n  s390/sha3: Fix SHA3 selftests failures\n  s390/pkey: Add AES xts and HMAC clear key token support\n  s390/cpacf: Add MSA 10 and 11 new PCKMO functions\n  s390/mm: Add cond_resched() to cmm_alloc/free_pages()\n  s390/pai_ext: Update PAI extension 1 counters\n  s390/pai_crypto: Add support for MSA 10 and 11 pai counters\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sat Sep 21 09:02:54 2024 -0700",
  "author_date_iso": "2024-09-21T09:02:54-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sat Sep 21 09:02:54 2024 -0700",
  "committer_date_iso": "2024-09-21T09:02:54-07:00",
  "files_changed": [
    "arch/s390/Kconfig",
    "arch/s390/boot/startup.c",
    "arch/s390/kernel/entry.S",
    "arch/s390/mm/dump_pagetables.c",
    "drivers/s390/crypto/ap_bus.c"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "arch/s390/Kconfig",
      "insertions": 26,
      "deletions": 10
    },
    {
      "file": "arch/s390/Makefile.postlink",
      "insertions": 38,
      "deletions": 0
    },
    {
      "file": "arch/s390/boot/Makefile",
      "insertions": 11,
      "deletions": 25
    },
    {
      "file": "arch/s390/boot/als.c",
      "insertions": 8,
      "deletions": 41
    },
    {
      "file": "arch/s390/boot/boot.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/boot/head.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/s390/boot/ipl_parm.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/boot/kaslr.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/boot/pgm_check_info.c",
      "insertions": 22,
      "deletions": 138
    },
    {
      "file": "arch/s390/boot/physmem_info.c",
      "insertions": 13,
      "deletions": 13
    },
    {
      "file": "arch/s390/boot/printk.c",
      "insertions": 124,
      "deletions": 0
    },
    {
      "file": "arch/s390/boot/startup.c",
      "insertions": 2,
      "deletions": 5
    },
    {
      "file": "arch/s390/configs/debug_defconfig",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/s390/configs/defconfig",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/s390/crypto/Kconfig",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/s390/crypto/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/crypto/aes_s390.c",
      "insertions": 117,
      "deletions": 3
    },
    {
      "file": "arch/s390/crypto/hmac_s390.c",
      "insertions": 359,
      "deletions": 0
    },
    {
      "file": "arch/s390/crypto/paes_s390.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/s390/crypto/sha.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/crypto/sha3_256_s390.c",
      "insertions": 9,
      "deletions": 2
    },
    {
      "file": "arch/s390/crypto/sha3_512_s390.c",
      "insertions": 9,
      "deletions": 2
    },
    {
      "file": "arch/s390/crypto/sha_common.c",
      "insertions": 16,
      "deletions": 4
    },
    {
      "file": "arch/s390/hypfs/hypfs.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/s390/hypfs/hypfs_diag.c",
      "insertions": 1,
      "deletions": 6
    },
    {
      "file": "arch/s390/include/asm/arch_hweight.h",
      "insertions": 8,
      "deletions": 7
    },
    {
      "file": "arch/s390/include/asm/atomic_ops.h",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "arch/s390/include/asm/barrier.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/s390/include/asm/cpacf.h",
      "insertions": 151,
      "deletions": 56
    },
    {
      "file": "arch/s390/include/asm/ctlreg.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/s390/include/asm/diag.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/ftrace.h",
      "insertions": 16,
      "deletions": 1
    },
    {
      "file": "arch/s390/include/asm/hiperdispatch.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/irq.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/lowcore.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/s390/include/asm/march.h",
      "insertions": 38,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/percpu.h",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "arch/s390/include/asm/perf_event.h",
      "insertions": 0,
      "deletions": 24
    },
    {
      "file": "arch/s390/include/asm/pkey.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/s390/include/asm/preempt.h",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "arch/s390/include/asm/processor.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/sclp.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/setup.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/smp.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/topology.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/trace/hiperdispatch.h",
      "insertions": 58,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/uapi/asm/pkey.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/Makefile",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "arch/s390/kernel/asm-offsets.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/s390/kernel/cpacf.c",
      "insertions": 119,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/diag.c",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/dis.c",
      "insertions": 12,
      "deletions": 8
    },
    {
      "file": "arch/s390/kernel/early.c",
      "insertions": 33,
      "deletions": 5
    },
    {
      "file": "arch/s390/kernel/early_printk.c",
      "insertions": 12,
      "deletions": 4
    },
    {
      "file": "arch/s390/kernel/earlypgm.S",
      "insertions": 0,
      "deletions": 23
    },
    {
      "file": "arch/s390/kernel/entry.S",
      "insertions": 27,
      "deletions": 9
    },
    {
      "file": "arch/s390/kernel/ftrace.c",
      "insertions": 60,
      "deletions": 46
    },
    {
      "file": "arch/s390/kernel/ftrace.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/s390/kernel/hiperdispatch.c",
      "insertions": 430,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/irq.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/kprobes.c",
      "insertions": 13,
      "deletions": 2
    },
    {
      "file": "arch/s390/kernel/mcount.S",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/s390/kernel/perf_cpum_cf.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/perf_cpum_sf.c",
      "insertions": 80,
      "deletions": 229
    },
    {
      "file": "arch/s390/kernel/perf_pai_crypto.c",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/perf_pai_ext.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/smp.c",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/stacktrace.c",
      "insertions": 0,
      "deletions": 19
    },
    {
      "file": "arch/s390/kernel/topology.c",
      "insertions": 60,
      "deletions": 16
    },
    {
      "file": "arch/s390/kernel/wti.c",
      "insertions": 215,
      "deletions": 0
    },
    {
      "file": "arch/s390/mm/cmm.c",
      "insertions": 17,
      "deletions": 1
    },
    {
      "file": "arch/s390/mm/dump_pagetables.c",
      "insertions": 77,
      "deletions": 114
    },
    {
      "file": "arch/s390/tools/opcodes.txt",
      "insertions": 38,
      "deletions": 14
    },
    {
      "file": "drivers/crypto/Kconfig",
      "insertions": 68,
      "deletions": 7
    },
    {
      "file": "drivers/s390/char/sclp_early.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/Makefile",
      "insertions": 14,
      "deletions": 2
    },
    {
      "file": "drivers/s390/crypto/ap_bus.c",
      "insertions": 37,
      "deletions": 22
    },
    {
      "file": "drivers/s390/crypto/ap_queue.c",
      "insertions": 10,
      "deletions": 10
    },
    {
      "file": "drivers/s390/crypto/pkey_api.c",
      "insertions": 561,
      "deletions": 2098
    },
    {
      "file": "drivers/s390/crypto/pkey_base.c",
      "insertions": 362,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/pkey_base.h",
      "insertions": 195,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/pkey_cca.c",
      "insertions": 629,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/pkey_ep11.c",
      "insertions": 578,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/pkey_pckmo.c",
      "insertions": 557,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/pkey_sysfs.c",
      "insertions": 648,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/zcrypt_api.c",
      "insertions": 13,
      "deletions": 16
    },
    {
      "file": "drivers/s390/crypto/zcrypt_ccamisc.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/s390/crypto/zcrypt_ccamisc.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/s390/crypto/zcrypt_ep11misc.c",
      "insertions": 14,
      "deletions": 14
    },
    {
      "file": "drivers/s390/crypto/zcrypt_ep11misc.h",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "drivers/s390/crypto/zcrypt_msgtype50.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "drivers/s390/crypto/zcrypt_msgtype6.c",
      "insertions": 15,
      "deletions": 22
    }
  ],
  "total_insertions": 6108,
  "total_deletions": 3070,
  "total_changes": 9178,
  "parents": [
    "7856a565416e0cf091f825b0e25c7a1b7abb650e",
    "9fed8d7c46f37151037334ef5e8b30b945baaceb"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "sanitizing",
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/boot/startup.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kernel/entry.S",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/mm/dump_pagetables.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/crypto/ap_bus.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}