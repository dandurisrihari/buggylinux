Commit Hash: c4de6d7e4319ffb52d6db3138057712749540191
Subject: ubifs: Refactor create_default_filesystem()


Security Keywords:
- authentication

Full commit message:
ubifs: Refactor create_default_filesystem()

create_default_filesystem() allocates memory for a node, writes that
node and frees the memory directly afterwards. With this patch we
allocate memory for all nodes at the beginning of the function and
free the memory at the end. This makes it easier to implement
authentication support since with authentication support we'll need
the contents of some nodes when creating other nodes.

Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
Signed-off-by: Richard Weinberger <richard@nod.at>

Metadata:
Author: Sascha Hauer <s.hauer@pengutronix.de>
Author Date: Fri Sep 7 14:36:23 2018 +0200
Committer: Richard Weinberger <richard@nod.at>
Commit Date: Tue Oct 23 13:48:06 2018 +0200

Files Changed: 1
Lines Added: 47
Lines Removed: 48
Total Changes: 95
