diff --cc Documentation/driver-api/index.rst
index 1f0cdba2b2bf,e9e7d24169cf..909f991b4c0d
--- a/Documentation/driver-api/index.rst
+++ b/Documentation/driver-api/index.rst
@@@ -29,8 -29,7 +29,8 @@@ available subsections can be seen below
     iio/index
     input
     usb/index
 +   firewire
-    pci
+    pci/index
     spi
     i2c
     hsi
diff --cc drivers/block/rsxx/core.c
index 639051502181,37df486c7c3c..0cf4509d575c
--- a/drivers/block/rsxx/core.c
+++ b/drivers/block/rsxx/core.c
@@@ -780,9 -780,9 +780,9 @@@ static int rsxx_pci_probe(struct pci_de
  		goto failed_enable;
  
  	pci_set_master(dev);
- 	pci_set_dma_max_seg_size(dev, RSXX_HW_BLK_SIZE);
+ 	dma_set_max_seg_size(&dev->dev, RSXX_HW_BLK_SIZE);
  
 -	st = pci_set_dma_mask(dev, DMA_BIT_MASK(64));
 +	st = dma_set_mask(&dev->dev, DMA_BIT_MASK(64));
  	if (st) {
  		dev_err(CARD_TO_DEV(card),
  			"No usable DMA configuration,aborting\n");
diff --cc include/linux/blkdev.h
index 61207560e826,c32f7171899b..7d423721b327
--- a/include/linux/blkdev.h
+++ b/include/linux/blkdev.h
@@@ -704,6 -698,8 +704,7 @@@ struct request_queue 
  #define QUEUE_FLAG_REGISTERED  26	/* queue has been registered to a disk */
  #define QUEUE_FLAG_SCSI_PASSTHROUGH 27	/* queue supports SCSI commands */
  #define QUEUE_FLAG_QUIESCED    28	/* queue has been quiesced */
 -#define QUEUE_FLAG_PREEMPT_ONLY	29	/* only process REQ_PREEMPT requests */
 -#define QUEUE_FLAG_PCI_P2PDMA  30	/* device supports PCI p2p requests */
++#define QUEUE_FLAG_PCI_P2PDMA  29	/* device supports PCI p2p requests */
  
  #define QUEUE_FLAG_DEFAULT	((1 << QUEUE_FLAG_IO_STAT) |		\
  				 (1 << QUEUE_FLAG_SAME_COMP)	|	\