Commit Hash: 022c8328dc8021248047b373b9f67790641b8f2d
Subject: KVM: arm64: Move S1PTW S2 fault logic out of io_mem_abort()


Security Keywords:
- injection

Full commit message:
KVM: arm64: Move S1PTW S2 fault logic out of io_mem_abort()

To allow for re-injection of stage-2 faults on stage-1 page-table walks
due to either a missing or read-only memslot, move the triage logic out
of io_mem_abort() and into kvm_handle_guest_abort(), where these aborts
can be handled before anything else.

Signed-off-by: Will Deacon <will@kernel.org>
Signed-off-by: Marc Zyngier <maz@kernel.org>
Cc: Marc Zyngier <maz@kernel.org>
Cc: Quentin Perret <qperret@google.com>
Link: https://lore.kernel.org/r/20200729102821.23392-5-will@kernel.org

Metadata:
Author: Will Deacon <will@kernel.org>
Author Date: Wed Jul 29 11:28:21 2020 +0100
Committer: Marc Zyngier <maz@kernel.org>
Commit Date: Thu Jul 30 16:02:37 2020 +0100

Files Changed: 2
Lines Added: 12
Lines Removed: 7
Total Changes: 19
