{
  "hash": "d9e3c29918a80d2d18f0c3c059a578a368f6713c",
  "hash_short": "d9e3c299",
  "subject": "nfp: choose data path based on version",
  "body": "Prepare for choosing data path based on the firmware version field.\nExploit one bit from the reserved byte in the firmware version field\nas the data path type.  We need the firmware version right after\nvNIC is allocated, so it has to be read inside nfp_net_alloc(),\ncallers don't have to set it afterwards.\n\nFollowing patches will bring the implementation of the second data\npath.\n\nSigned-off-by: Jakub Kicinski <jakub.kicinski@netronome.com>\nSigned-off-by: Fei Qin <fei.qin@corigine.com>\nSigned-off-by: Simon Horman <simon.horman@corigine.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "nfp: choose data path based on version\n\nPrepare for choosing data path based on the firmware version field.\nExploit one bit from the reserved byte in the firmware version field\nas the data path type.  We need the firmware version right after\nvNIC is allocated, so it has to be read inside nfp_net_alloc(),\ncallers don't have to set it afterwards.\n\nFollowing patches will bring the implementation of the second data\npath.\n\nSigned-off-by: Jakub Kicinski <jakub.kicinski@netronome.com>\nSigned-off-by: Fei Qin <fei.qin@corigine.com>\nSigned-off-by: Simon Horman <simon.horman@corigine.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "Jakub Kicinski",
  "author_email": "jakub.kicinski@netronome.com",
  "author_date": "Mon Mar 21 11:42:07 2022 +0100",
  "author_date_iso": "2022-03-21T11:42:07+01:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Mon Mar 21 13:21:17 2022 +0000",
  "committer_date_iso": "2022-03-21T13:21:17+00:00",
  "files_changed": [
    "drivers/net/ethernet/netronome/nfp/nfp_net.h",
    "drivers/net/ethernet/netronome/nfp/nfp_net_common.c",
    "drivers/net/ethernet/netronome/nfp/nfp_net_ctrl.h",
    "drivers/net/ethernet/netronome/nfp/nfp_net_ethtool.c",
    "drivers/net/ethernet/netronome/nfp/nfp_net_main.c",
    "drivers/net/ethernet/netronome/nfp/nfp_netvf_main.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net.h",
      "insertions": 9,
      "deletions": 5
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_common.c",
      "insertions": 18,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_ctrl.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_ethtool.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_main.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_netvf_main.c",
      "insertions": 5,
      "deletions": 4
    }
  ],
  "total_insertions": 41,
  "total_deletions": 19,
  "total_changes": 60,
  "parents": [
    "b94b6a1342ccce016f1139af32adc3b6bfab9656"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_ctrl.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_main.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_ethtool.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_netvf_main.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/netronome/nfp/nfp_net_common.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}