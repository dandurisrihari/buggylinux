{
  "hash": "be91748fa6ca6909853c3dc630d65e45084962d7",
  "hash_short": "be91748f",
  "subject": "mm/hwpoison: fix refcount of THP head page in no-injection case",
  "body": "Hwpoison injection takes a refcount of target page and another refcount\nof head page of THP if the target page is the tail page of a THP.\nHowever, current code doesn't release the refcount of head page if the\nTHP is not supported to be injected wrt hwpoison filter.\n\nFix it by reducing the refcount of head page if the target page is the\ntail page of a THP and it is not supported to be injected.\n\nSigned-off-by: Wanpeng Li <wanpeng.li@hotmail.com>\nAcked-by: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "mm/hwpoison: fix refcount of THP head page in no-injection case\n\nHwpoison injection takes a refcount of target page and another refcount\nof head page of THP if the target page is the tail page of a THP.\nHowever, current code doesn't release the refcount of head page if the\nTHP is not supported to be injected wrt hwpoison filter.\n\nFix it by reducing the refcount of head page if the target page is the\ntail page of a THP and it is not supported to be injected.\n\nSigned-off-by: Wanpeng Li <wanpeng.li@hotmail.com>\nAcked-by: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Wanpeng Li",
  "author_email": "wanpeng.li@hotmail.com",
  "author_date": "Tue Sep 8 15:03:18 2015 -0700",
  "author_date_iso": "2015-09-08T15:03:18-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Sep 8 15:35:28 2015 -0700",
  "committer_date_iso": "2015-09-08T15:35:28-07:00",
  "files_changed": [
    "mm/hwpoison-inject.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "mm/hwpoison-inject.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "94bf4ec84a84d3ab2513b4e681fd3d083328d76d"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "mm/hwpoison-inject.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}