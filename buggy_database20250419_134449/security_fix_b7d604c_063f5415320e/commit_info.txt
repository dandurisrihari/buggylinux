Commit Hash: b7d604cae8f6edde53ac8aa9038ee154be562eb5
Subject: nvme-auth: don't keep long lived 4k dhchap buffer


Security Keywords:
- auth

Full commit message:
nvme-auth: don't keep long lived 4k dhchap buffer

dhchap structure is per-queue, it is wasteful to keep it for the entire
lifetime of the queue. Allocate it dynamically and get rid of it after
authentication. We don't need kzalloc because all accessors are clearing
it before writing to it.

Also, remove redundant chap buf_size which is always 4096, use a define
instead.

Reviewed-by: Hannes Reinecke <hare@suse.de>
Signed-off-by: Sagi Grimberg <sagi@grimberg.me>
Reviewed-by: Chaitanya Kulkarni <kch@nvidia.com>
Signed-off-by: Christoph Hellwig <hch@lst.de>

Metadata:
Author: Sagi Grimberg <sagi@grimberg.me>
Author Date: Sun Nov 13 13:24:13 2022 +0200
Committer: Christoph Hellwig <hch@lst.de>
Commit Date: Wed Nov 16 08:36:35 2022 +0100

Files Changed: 1
Lines Added: 24
Lines Removed: 23
Total Changes: 47
