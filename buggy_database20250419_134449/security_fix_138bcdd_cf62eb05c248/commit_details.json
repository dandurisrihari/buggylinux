{
  "hash": "138bcddb86d8a4f842e4ed6f0585abc9b1a764ff",
  "hash_short": "138bcddb",
  "subject": "Merge tag 'x86_bugs_srso' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip",
  "body": "Pull x86/srso fixes from Borislav Petkov:\n \"Add a mitigation for the speculative RAS (Return Address Stack)\n  overflow vulnerability on AMD processors.\n\n  In short, this is yet another issue where userspace poisons a\n  microarchitectural structure which can then be used to leak privileged\n  information through a side channel\"\n\n* tag 'x86_bugs_srso' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:\n  x86/srso: Tie SBPB bit setting to microcode patch detection\n  x86/srso: Add a forgotten NOENDBR annotation\n  x86/srso: Fix return thunks in generated code\n  x86/srso: Add IBPB on VMEXIT\n  x86/srso: Add IBPB\n  x86/srso: Add SRSO_NO support\n  x86/srso: Add IBPB_BRTYPE support\n  x86/srso: Add a Speculative RAS Overflow mitigation\n  x86/bugs: Increase the x86 bugs vector size to two u32s",
  "full_message": "Merge tag 'x86_bugs_srso' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip\n\nPull x86/srso fixes from Borislav Petkov:\n \"Add a mitigation for the speculative RAS (Return Address Stack)\n  overflow vulnerability on AMD processors.\n\n  In short, this is yet another issue where userspace poisons a\n  microarchitectural structure which can then be used to leak privileged\n  information through a side channel\"\n\n* tag 'x86_bugs_srso' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:\n  x86/srso: Tie SBPB bit setting to microcode patch detection\n  x86/srso: Add a forgotten NOENDBR annotation\n  x86/srso: Fix return thunks in generated code\n  x86/srso: Add IBPB on VMEXIT\n  x86/srso: Add IBPB\n  x86/srso: Add SRSO_NO support\n  x86/srso: Add IBPB_BRTYPE support\n  x86/srso: Add a Speculative RAS Overflow mitigation\n  x86/bugs: Increase the x86 bugs vector size to two u32s",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Mon Aug 7 16:35:44 2023 -0700",
  "author_date_iso": "2023-08-07T16:35:44-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Aug 7 16:35:44 2023 -0700",
  "committer_date_iso": "2023-08-07T16:35:44-07:00",
  "files_changed": [
    "arch/x86/include/asm/msr-index.h",
    "arch/x86/kernel/cpu/amd.c",
    "arch/x86/kernel/cpu/bugs.c",
    "arch/x86/kernel/cpu/common.c",
    "arch/x86/kvm/svm/svm.c"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "Documentation/admin-guide/hw-vuln/index.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/admin-guide/hw-vuln/srso.rst",
      "insertions": 133,
      "deletions": 0
    },
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/x86/Kconfig",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "insertions": 11,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/msr-index.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/nospec-branch.h",
      "insertions": 18,
      "deletions": 5
    },
    {
      "file": "arch/x86/include/asm/processor.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/x86/kernel/cpu/amd.c",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "insertions": 179,
      "deletions": 0
    },
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "insertions": 9,
      "deletions": 1
    },
    {
      "file": "arch/x86/kernel/vmlinux.lds.S",
      "insertions": 27,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/cpuid.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/svm/vmenter.S",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/x86/lib/retpoline.S",
      "insertions": 79,
      "deletions": 4
    },
    {
      "file": "drivers/base/cpu.c",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "include/linux/cpu.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/arch/x86/include/asm/cpufeatures.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/objtool/arch/x86/decode.c",
      "insertions": 4,
      "deletions": 1
    }
  ],
  "total_insertions": 521,
  "total_deletions": 16,
  "total_changes": 537,
  "parents": [
    "14f9643dc90adea074a0ffb7a17d337eafc6a5cc",
    "5a15d8348881e9371afdf9f5357a135489496955"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/include/asm/msr-index.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/cpu/amd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}