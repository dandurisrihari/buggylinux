{
  "hash": "04716e6621ff4abb422d64ba7b48718f52716a3e",
  "hash_short": "04716e66",
  "subject": "nfsd: permit unauthenticated stat of export root",
  "body": "RFC 2623 section 2.3.2 permits the server to bypass gss authentication\nchecks for certain operations that a client may perform when mounting.\nIn the case of a client that doesn't have some form of credentials\navailable to it on boot, this allows it to perform the mount unattended.\n(Presumably real file access won't be needed until a user with\ncredentials logs in.)\n\nBeing slightly more lenient allows lots of old clients to access\nkrb5-only exports, with the only loss being a small amount of\ninformation leaked about the root directory of the export.\n\nThis affects only v2 and v3; v4 still requires authentication for all\naccess.\n\nThanks to Peter Staubach testing against a Solaris client, which\nsuggesting addition of v3 getattr, to the list, and to Trond for noting\nthat doing so exposes no additional information.\n\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>\nCc: Peter Staubach <staubach@redhat.com>\nCc: Trond Myklebust <trond.myklebust@fys.uio.no>",
  "full_message": "nfsd: permit unauthenticated stat of export root\n\nRFC 2623 section 2.3.2 permits the server to bypass gss authentication\nchecks for certain operations that a client may perform when mounting.\nIn the case of a client that doesn't have some form of credentials\navailable to it on boot, this allows it to perform the mount unattended.\n(Presumably real file access won't be needed until a user with\ncredentials logs in.)\n\nBeing slightly more lenient allows lots of old clients to access\nkrb5-only exports, with the only loss being a small amount of\ninformation leaked about the root directory of the export.\n\nThis affects only v2 and v3; v4 still requires authentication for all\naccess.\n\nThanks to Peter Staubach testing against a Solaris client, which\nsuggesting addition of v3 getattr, to the list, and to Trond for noting\nthat doing so exposes no additional information.\n\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>\nCc: Peter Staubach <staubach@redhat.com>\nCc: Trond Myklebust <trond.myklebust@fys.uio.no>",
  "author_name": "J. Bruce Fields",
  "author_email": "bfields@citi.umich.edu",
  "author_date": "Thu Aug 7 13:00:20 2008 -0400",
  "author_date_iso": "2008-08-07T13:00:20-04:00",
  "committer_name": "J. Bruce Fields",
  "committer_email": "bfields@citi.umich.edu",
  "committer_date": "Mon Sep 29 17:56:56 2008 -0400",
  "committer_date_iso": "2008-09-29T17:56:56-04:00",
  "files_changed": [
    "fs/nfsd/nfs3proc.c",
    "fs/nfsd/nfsfh.c",
    "fs/nfsd/nfsproc.c",
    "fs/nfsd/vfs.c",
    "include/linux/nfsd/nfsd.h"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "fs/nfsd/nfs3proc.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "fs/nfsd/nfsfh.c",
      "insertions": 20,
      "deletions": 10
    },
    {
      "file": "fs/nfsd/nfsproc.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "fs/nfsd/vfs.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/nfsd/nfsd.h",
      "insertions": 2,
      "deletions": 1
    }
  ],
  "total_insertions": 33,
  "total_deletions": 18,
  "total_changes": 51,
  "parents": [
    "5dd248f6f1ffe1f691fd66749e2a3dc8f8eb7b5e"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.28",
    "v2.6.28-rc1",
    "v2.6.28-rc2",
    "v2.6.28-rc3",
    "v2.6.28-rc4",
    "v2.6.28-rc5",
    "v2.6.28-rc6",
    "v2.6.28-rc7",
    "v2.6.28-rc8",
    "v2.6.28-rc9"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication",
      "bypass"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/nfsd/nfs3proc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/nfsd/nfsfh.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/nfsd/nfsproc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/nfsd/vfs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/nfsd/nfsd.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}