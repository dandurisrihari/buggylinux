Files changed: 5
Insertions: 37792
Deletions: 21327
Total changes: 59119

File-specific changes:
Documentation/ABI/testing/debugfs-cec-error-inj: +40 -0
Documentation/devicetree/bindings/media/coda.txt: +3 -2
Documentation/devicetree/bindings/media/i2c/adv7604.txt: +16 -2
Documentation/devicetree/bindings/media/i2c/ov2685.txt: +41 -0
Documentation/devicetree/bindings/media/i2c/ov5695.txt: +41 -0
Documentation/devicetree/bindings/media/i2c/ov7670.txt: +14 -2
Documentation/devicetree/bindings/media/i2c/ov9650.txt: +36 -0
Documentation/devicetree/bindings/media/i2c/tda1997x.txt: +178 -0
Documentation/devicetree/bindings/media/rcar_vin.txt: +2 -2
Documentation/devicetree/bindings/media/renesas,ceu.txt: +81 -0
Documentation/devicetree/bindings/media/s5p-mfc.txt: +1 -0
Documentation/devicetree/bindings/media/spi/sony-cxd2880.txt: +14 -0
Documentation/devicetree/bindings/media/sunxi-ir.txt: +3 -0
Documentation/media/kapi/cec-core.rst: +71 -1
Documentation/media/lirc.h.rst.exceptions: +1 -0
Documentation/media/uapi/cec/cec-api.rst: +1 -0
Documentation/media/uapi/cec/cec-pin-error-inj.rst: +325 -0
Documentation/media/uapi/mediactl/media-ioc-enum-entities.rst: +15 -4
Documentation/media/uapi/mediactl/media-ioc-enum-links.rst: +18 -0
Documentation/media/uapi/mediactl/media-ioc-g-topology.rst: +43 -11
Documentation/media/uapi/mediactl/media-types.rst: +17 -6
Documentation/media/uapi/rc/lirc-dev-intro.rst: +0 -1
Documentation/media/uapi/v4l/buffer.rst: +1 -1
Documentation/media/uapi/v4l/extended-controls.rst: +410 -0
Documentation/media/uapi/v4l/func-poll.rst: +4 -4
Documentation/media/uapi/v4l/pixfmt-compressed.rst: +5 -0
Documentation/media/uapi/v4l/pixfmt-v4l2.rst: +1 -1
Documentation/media/uapi/v4l/subdev-formats.rst: +6 -2
Documentation/media/uapi/v4l/vidioc-g-parm.rst: +4 -3
Documentation/media/uapi/v4l/vidioc-prepare-buf.rst: +1 -1
Documentation/media/v4l-drivers/imx.rst: +14 -12
MAINTAINERS: +90 -2
arch/sh/boards/mach-ecovec24/setup.c: +169 -169
arch/sh/boards/mach-migor/setup.c: +100 -125
arch/sh/kernel/cpu/sh4a/clock-sh7722.c: +1 -1
arch/sh/kernel/cpu/sh4a/clock-sh7724.c: +2 -2
drivers/input/touchscreen/sur40.c: +177 -1
drivers/media/Kconfig: +1 -0
drivers/media/cec/Kconfig: +6 -0
drivers/media/cec/Makefile: +4 -0
drivers/media/cec/cec-adap.c: +23 -31
drivers/media/cec/cec-api.c: +1 -13
drivers/media/cec/cec-core.c: +59 -13
drivers/media/cec/cec-edid.c: +1 -13
drivers/media/cec/cec-notifier.c: +1 -13
drivers/media/cec/cec-pin-error-inj.c: +342 -0
drivers/media/cec/cec-pin-priv.h: +128 -20
drivers/media/cec/cec-pin.c: +591 -87
drivers/media/cec/cec-priv.h: +1 -13
drivers/media/common/siano/smscoreapi.c: +22 -11
drivers/media/common/siano/smscoreapi.h: +2 -0
drivers/media/common/v4l2-tpg/v4l2-tpg-colors.c: +1 -13
drivers/media/common/v4l2-tpg/v4l2-tpg-core.c: +3 -15
drivers/media/common/videobuf2/videobuf2-core.c: +9 -0
drivers/media/common/videobuf2/videobuf2-vmalloc.c: +1 -1
drivers/media/dvb-core/dvb_ca_en50221.c: +2 -2
drivers/media/dvb-core/dvb_frontend.c: +2 -2
drivers/media/dvb-core/dvbdev.c: +50 -0
drivers/media/dvb-frontends/Kconfig: +24 -8
drivers/media/dvb-frontends/Makefile: +2 -0
drivers/media/dvb-frontends/af9013.c: +465 -444
drivers/media/dvb-frontends/af9013.h: +13 -35
drivers/media/dvb-frontends/af9013_priv.h: +756 -802
drivers/{staging/media/cxd2099 => media/dvb-frontends}/cxd2099.c: +104 -105
drivers/{staging/media/cxd2099 => media/dvb-frontends}/cxd2099.h: +3 -16
drivers/media/dvb-frontends/cxd2880/Kconfig: +8 -0
drivers/media/dvb-frontends/cxd2880/Makefile: +18 -0
drivers/media/dvb-frontends/cxd2880/cxd2880.h: +29 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_common.c: +21 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_common.h: +19 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_devio_spi.c: +129 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_devio_spi.h: +23 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_dtv.h: +29 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_dvbt.h: +74 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_dvbt2.h: +385 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_integ.c: +72 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_integ.h: +27 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_io.c: +66 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_io.h: +54 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_spi.h: +34 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_spi_device.c: +113 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_spi_device.h: +26 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd.c: +3519 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd.h: +365 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_driver_version.h: +12 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt.c: +919 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt.h: +45 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt2.c: +1217 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt2.h: +65 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt2_mon.c: +1878 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt2_mon.h: +135 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt_mon.c: +775 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_dvbt_mon.h: +77 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_mon.c: +150 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_tnrdmd_mon.h: +29 -0
drivers/media/dvb-frontends/cxd2880/cxd2880_top.c: +1947 -0
drivers/media/dvb-frontends/dib0090.c: +2 -2
drivers/media/dvb-frontends/dib7000p.c: +1 -1
drivers/media/dvb-frontends/dib8000.c: +1 -1
drivers/media/dvb-frontends/dibx000_common.c: +1 -1
drivers/media/dvb-frontends/dibx000_common.h: +0 -2
drivers/media/dvb-frontends/drx39xyj/bsp_i2c.h: +0 -139
drivers/media/dvb-frontends/lgdt3306a.c: +59 -10
drivers/media/dvb-frontends/mb86a16.c: +3 -5
drivers/media/dvb-frontends/mxl5xx.c: +33 -1
drivers/media/dvb-frontends/rtl2832.c: +2 -2
drivers/media/dvb-frontends/s5h1409.c: +4 -4
drivers/media/dvb-frontends/s5h1409.h: +4 -4
drivers/media/dvb-frontends/s5h1411.c: +4 -4
drivers/media/dvb-frontends/s5h1411.h: +4 -4
drivers/media/dvb-frontends/s5h1432.h: +4 -4
drivers/media/dvb-frontends/si2168.c: +40 -9
drivers/media/dvb-frontends/si2168.h: +4 -0
drivers/media/dvb-frontends/si2168_priv.h: +1 -0
drivers/media/dvb-frontends/sp887x.c: +3 -3
drivers/media/dvb-frontends/stb0899_reg.h: +4 -4
drivers/media/dvb-frontends/stv0367_priv.h: +0 -1
drivers/media/dvb-frontends/stv0900_priv.h: +0 -1
drivers/media/dvb-frontends/stv0900_sw.c: +3 -3
drivers/media/dvb-frontends/stv0910.c: +10 -9
drivers/media/dvb-frontends/ves1820.c: +1 -1
drivers/media/i2c/Kconfig: +66 -0
drivers/media/i2c/Makefile: +6 -0
drivers/media/i2c/ad9389b.c: +1 -13
drivers/media/i2c/adv748x/adv748x-core.c: +58 -129
drivers/media/i2c/adv748x/adv748x-hdmi.c: +3 -0
drivers/media/i2c/adv748x/adv748x.h: +1 -13
drivers/media/i2c/adv7511.c: +1 -13
drivers/media/i2c/adv7604.c: +41 -35
drivers/media/i2c/adv7842.c: +1 -14
drivers/media/i2c/cx25840/cx25840-core.c: +22 -6
drivers/media/i2c/ir-kbd-i2c.c: +16 -4
drivers/media/i2c/max2175.c: +1 -1
drivers/media/i2c/mt9t112.c: +1140 -0
drivers/media/i2c/mt9v011.c: +9 -20
drivers/media/i2c/ov13858.c: +15 -40
drivers/media/i2c/ov2685.c: +846 -0
drivers/media/i2c/ov5640.c: +75 -24
drivers/media/i2c/ov5670.c: +7 -35
drivers/media/i2c/ov5695.c: +1399 -0
drivers/media/i2c/ov6650.c: +11 -22
drivers/media/i2c/ov7670.c: +92 -28
drivers/media/i2c/ov772x.c: +1356 -0
drivers/media/i2c/ov7740.c: +9 -22
drivers/media/i2c/ov9650.c: +94 -40
drivers/media/i2c/s5c73m3/s5c73m3-core.c: +3 -3
drivers/media/i2c/soc_camera/Kconfig: +0 -12
drivers/media/i2c/soc_camera/Makefile: +0 -2
drivers/media/i2c/soc_camera/mt9t112.c: +1 -1
drivers/media/i2c/sr030pc30.c: +5 -2
drivers/media/i2c/tc358743.c: +1 -14
drivers/media/i2c/tc358743_regs.h: +1 -14
drivers/media/i2c/tda1997x.c: +2820 -0
drivers/media/i2c/tda1997x_regs.h: +641 -0
drivers/media/i2c/tda9840.c: +5 -1
drivers/media/i2c/tvaudio.c: +72 -20
drivers/media/i2c/tvp514x.c: +12 -25
drivers/media/i2c/tw9910.c: +1027 -0
drivers/media/i2c/vs6624.c: +9 -18
drivers/media/media-device.c: +8 -1
drivers/media/media-entity.c: +0 -16
drivers/media/pci/bt8xx/bttv-input.c: +5 -1
drivers/media/pci/cobalt/Makefile: +1 -0
drivers/media/pci/cobalt/cobalt-alsa-main.c: +1 -13
drivers/media/pci/cobalt/cobalt-alsa-pcm.c: +1 -13
drivers/media/pci/cobalt/cobalt-alsa-pcm.h: +1 -13
drivers/media/pci/cobalt/cobalt-alsa.h: +1 -13
drivers/media/pci/cobalt/cobalt-cpld.c: +1 -13
drivers/media/pci/cobalt/cobalt-cpld.h: +1 -13
drivers/media/pci/cobalt/cobalt-driver.c: +1 -13
drivers/media/pci/cobalt/cobalt-driver.h: +1 -13
drivers/media/pci/cobalt/cobalt-flash.c: +1 -13
drivers/media/pci/cobalt/cobalt-flash.h: +1 -13
drivers/media/pci/cobalt/cobalt-i2c.c: +1 -13
drivers/media/pci/cobalt/cobalt-i2c.h: +1 -13
drivers/media/pci/cobalt/cobalt-irq.c: +1 -13
drivers/media/pci/cobalt/cobalt-irq.h: +1 -13
drivers/media/pci/cobalt/cobalt-omnitek.c: +1 -13
drivers/media/pci/cobalt/cobalt-omnitek.h: +1 -13
drivers/media/pci/cobalt/cobalt-v4l2.c: +1 -13
drivers/media/pci/cobalt/cobalt-v4l2.h: +1 -13
drivers/media/pci/cobalt/m00233_video_measure_memmap_package.h: +1 -13
drivers/media/pci/cobalt/m00235_fdma_packer_memmap_package.h: +1 -13
drivers/media/pci/cobalt/m00389_cvi_memmap_package.h: +1 -13
drivers/media/pci/cobalt/m00460_evcnt_memmap_package.h: +1 -13
drivers/media/pci/cobalt/m00473_freewheel_memmap_package.h: +1 -13
drivers/media/pci/cobalt/m00479_clk_loss_detector_memmap_package.h: +1 -13
drivers/media/pci/cobalt/m00514_syncgen_flow_evcnt_memmap_package.h: +1 -13
drivers/media/pci/cx18/cx18-alsa-main.c: +0 -1
drivers/media/pci/cx18/cx18-alsa-mixer.c: +0 -170
drivers/media/pci/cx18/cx18-alsa-mixer.h: +0 -18
drivers/media/pci/cx18/cx18-dvb.c: +2 -2
drivers/media/pci/cx23885/cx23885-alsa.c: +2 -3
drivers/media/pci/cx23885/cx23885-cards.c: +94 -14
drivers/media/pci/cx23885/cx23885-core.c: +22 -4
drivers/media/pci/cx23885/cx23885-dvb.c: +72 -18
drivers/media/pci/cx23885/cx23885-input.c: +3 -0
drivers/media/pci/cx23885/cx23885-video.c: +4 -1
drivers/media/pci/cx23885/cx23885.h: +4 -0
drivers/media/pci/cx25821/cx25821-core.c: +4 -3
drivers/media/pci/cx88/cx88-alsa.c: +4 -4
drivers/media/pci/cx88/cx88-cards.c: +1 -1
drivers/media/pci/cx88/cx88-dvb.c: +6 -6
drivers/media/pci/cx88/cx88-input.c: +2 -2
drivers/media/pci/ddbridge/Kconfig: +1 -0
drivers/media/pci/ddbridge/Makefile: +0 -3
drivers/media/pci/ddbridge/ddbridge-ci.c: +41 -12
drivers/media/pci/ddbridge/ddbridge-core.c: +7 -29
drivers/media/pci/ddbridge/ddbridge.h: +1 -0
drivers/media/pci/intel/ipu3/ipu3-cio2.c: +6 -10
drivers/media/pci/intel/ipu3/ipu3-cio2.h: +2 -12
drivers/media/pci/ivtv/ivtv-alsa-main.c: +1 -10
drivers/media/pci/ivtv/ivtv-alsa-mixer.c: +0 -165
drivers/media/pci/ivtv/ivtv-alsa-mixer.h: +0 -18
drivers/media/pci/ivtv/ivtvfb.c: +5 -7
drivers/media/pci/mantis/mantis_vp3028.c: +0 -38
drivers/media/pci/mantis/mantis_vp3028.h: +0 -33
drivers/media/pci/ngene/Kconfig: +7 -0
drivers/media/pci/ngene/Makefile: +0 -3
drivers/media/pci/ngene/ngene-cards.c: +510 -65
drivers/media/pci/ngene/ngene-core.c: +76 -41
drivers/media/pci/ngene/ngene-dvb.c: +124 -27
drivers/media/pci/ngene/ngene-i2c.c: +1 -1
drivers/media/pci/ngene/ngene.h: +24 -0
drivers/media/pci/saa7134/saa7134-alsa.c: +2 -3
drivers/media/pci/saa7134/saa7134-dvb.c: +1 -1
drivers/media/pci/saa7134/saa7134-input.c: +37 -9
drivers/media/pci/saa7134/saa7134-video.c: +1 -1
drivers/media/pci/saa7164/saa7164-dvb.c: +1 -1
drivers/media/pci/solo6x10/solo6x10-g723.c: +24 -15
drivers/media/pci/solo6x10/solo6x10-p2m.c: +2 -5
drivers/media/pci/ttpci/ttpci-eeprom.c: +3 -6
drivers/media/pci/zoran/zoran_driver.c: +2 -2
drivers/media/platform/Kconfig: +10 -1
drivers/media/platform/Makefile: +1 -0
drivers/media/platform/atmel/atmel-isc.c: +3 -9
drivers/media/platform/atmel/atmel-isi.c: +2 -10
drivers/media/platform/cec-gpio/cec-gpio.c: +1 -13
drivers/media/platform/coda/coda-bit.c: +34 -12
drivers/media/platform/coda/coda-common.c: +40 -4
drivers/media/platform/coda/coda.h: +2 -1
drivers/media/platform/davinci/vpss.c: +1 -1
drivers/media/platform/exynos4-is/fimc-capture.c: +5 -2
drivers/media/platform/exynos4-is/fimc-is-regs.c: +1 -1
drivers/media/platform/marvell-ccic/mcam-core.c: +6 -6
drivers/media/platform/mtk-vcodec/mtk_vcodec_dec.c: +2 -0
drivers/media/platform/omap/omap_vout_vrfb.c: +1 -2
drivers/media/platform/qcom/venus/hfi_msgs.c: +2 -2
drivers/media/platform/rcar-vin/rcar-dma.c: +70 -136
drivers/media/platform/rcar-vin/rcar-vin.h: +5 -5
drivers/media/platform/rcar_drif.c: +2 -1
drivers/media/platform/renesas-ceu.c: +1677 -0
drivers/media/platform/rockchip/rga/rga-buf.c: +2 -1
drivers/media/platform/rockchip/rga/rga.c: +1 -1
drivers/media/platform/s3c-camif/camif-capture.c: +4 -3
drivers/media/platform/s5p-mfc/regs-mfc-v10.h: +87 -0
drivers/media/platform/s5p-mfc/regs-mfc-v8.h: +2 -0
drivers/media/platform/s5p-mfc/s5p_mfc.c: +28 -0
drivers/media/platform/s5p-mfc/s5p_mfc_cmd_v6.c: +9 -0
drivers/media/platform/s5p-mfc/s5p_mfc_common.h: +65 -3
drivers/media/platform/s5p-mfc/s5p_mfc_ctrl.c: +6 -2
drivers/media/platform/s5p-mfc/s5p_mfc_dec.c: +27 -21
drivers/media/platform/s5p-mfc/s5p_mfc_enc.c: +588 -11
drivers/media/platform/s5p-mfc/s5p_mfc_opr.h: +14 -0
drivers/media/platform/s5p-mfc/s5p_mfc_opr_v6.c: +355 -42
drivers/media/platform/s5p-mfc/s5p_mfc_opr_v6.h: +15 -0
drivers/media/platform/sh_veu.c: +2 -2
drivers/media/platform/soc_camera/soc_camera.c: +7 -5
drivers/media/platform/stm32/stm32-cec.c: +1 -4
drivers/media/platform/stm32/stm32-dcmi.c: +202 -103
drivers/media/platform/via-camera.c: +2 -2
drivers/media/platform/vimc/vimc-common.c: +3 -1
drivers/media/platform/vimc/vimc-debayer.c: +1 -1
drivers/media/platform/vimc/vimc-scaler.c: +1 -1
drivers/media/platform/vimc/vimc-sensor.c: +9 -1
drivers/media/platform/vivid/vivid-cec.c: +14 -19
drivers/media/platform/vivid/vivid-cec.h: +1 -13
drivers/media/platform/vivid/vivid-core.c: +1 -13
drivers/media/platform/vivid/vivid-core.h: +1 -13
drivers/media/platform/vivid/vivid-ctrls.c: +3 -13
drivers/media/platform/vivid/vivid-ctrls.h: +1 -13
drivers/media/platform/vivid/vivid-kthread-cap.c: +1 -13
drivers/media/platform/vivid/vivid-kthread-cap.h: +1 -13
drivers/media/platform/vivid/vivid-kthread-out.c: +1 -13
drivers/media/platform/vivid/vivid-kthread-out.h: +1 -13
drivers/media/platform/vivid/vivid-osd.c: +1 -13
drivers/media/platform/vivid/vivid-osd.h: +1 -13
drivers/media/platform/vivid/vivid-radio-common.c: +1 -13
drivers/media/platform/vivid/vivid-radio-common.h: +1 -13
drivers/media/platform/vivid/vivid-radio-rx.c: +2 -14
drivers/media/platform/vivid/vivid-radio-rx.h: +1 -13
drivers/media/platform/vivid/vivid-radio-tx.c: +1 -13
drivers/media/platform/vivid/vivid-radio-tx.h: +1 -13
drivers/media/platform/vivid/vivid-rds-gen.c: +1 -13
drivers/media/platform/vivid/vivid-rds-gen.h: +1 -13
drivers/media/platform/vivid/vivid-sdr-cap.c: +1 -13
drivers/media/platform/vivid/vivid-sdr-cap.h: +1 -13
drivers/media/platform/vivid/vivid-vbi-cap.c: +1 -13
drivers/media/platform/vivid/vivid-vbi-cap.h: +1 -13
drivers/media/platform/vivid/vivid-vbi-gen.c: +1 -13
drivers/media/platform/vivid/vivid-vbi-gen.h: +1 -13
drivers/media/platform/vivid/vivid-vbi-out.c: +1 -13
drivers/media/platform/vivid/vivid-vbi-out.h: +1 -13
drivers/media/platform/vivid/vivid-vid-cap.c: +3 -16
drivers/media/platform/vivid/vivid-vid-cap.h: +1 -13
drivers/media/platform/vivid/vivid-vid-common.c: +3 -14
drivers/media/platform/vivid/vivid-vid-common.h: +1 -13
drivers/media/platform/vivid/vivid-vid-out.c: +1 -13
drivers/media/platform/vivid/vivid-vid-out.h: +1 -13
drivers/media/platform/vsp1/vsp1_dl.c: +2 -1
drivers/media/platform/vsp1/vsp1_drm.c: +17 -13
drivers/media/platform/vsp1/vsp1_lif.c: +12 -0
drivers/media/platform/vsp1/vsp1_regs.h: +7 -1
drivers/media/radio/radio-mr800.c: +1 -1
drivers/media/radio/radio-raremono.c: +1 -13
drivers/media/radio/radio-wl1273.c: +1 -1
drivers/media/radio/si470x/radio-si470x-common.c: +15 -2
drivers/media/radio/si470x/radio-si470x-i2c.c: +28 -4
drivers/media/radio/si470x/radio-si470x-usb.c: +1 -1
drivers/media/radio/si470x/radio-si470x.h: +2 -0
drivers/media/radio/si4713/radio-usb-si4713.c: +1 -13
drivers/media/rc/Kconfig: +21 -11
drivers/media/rc/Makefile: +2 -0
drivers/media/rc/imon.c: +29 -141
drivers/media/rc/imon_raw.c: +199 -0
drivers/media/rc/ir-hix5hd2.c: +28 -7
drivers/media/rc/ir-imon-decoder.c: +193 -0
drivers/media/rc/ir-jvc-decoder.c: +7 -7
drivers/media/rc/ir-mce_kbd-decoder.c: +31 -29
drivers/media/rc/ir-nec-decoder.c: +9 -11
drivers/media/rc/ir-rc5-decoder.c: +6 -6
drivers/media/rc/ir-rc6-decoder.c: +13 -13
drivers/media/rc/ir-sanyo-decoder.c: +9 -9
drivers/media/rc/ir-sharp-decoder.c: +8 -9
drivers/media/rc/ir-sony-decoder.c: +8 -6
drivers/media/rc/ir-spi.c: +2 -22
drivers/media/rc/ir-xmp-decoder.c: +15 -14
drivers/media/rc/keymaps/Makefile: +1 -0
drivers/media/rc/keymaps/rc-imon-pad.c: +1 -2
drivers/media/rc/keymaps/rc-imon-rsc.c: +81 -0
drivers/media/rc/lirc_dev.c: +10 -10
drivers/media/rc/mceusb.c: +147 -13
drivers/media/rc/meson-ir.c: +4 -3
drivers/media/rc/rc-core-priv.h: +9 -9
drivers/media/rc/rc-ir-raw.c: +51 -9
drivers/media/rc/rc-main.c: +51 -49
drivers/media/rc/sunxi-cir.c: +11 -8
drivers/media/spi/Kconfig: +14 -0
drivers/media/spi/Makefile: +5 -0
drivers/media/spi/cxd2880-spi.c: +670 -0
drivers/media/tuners/e4000.c: +3 -13
drivers/media/tuners/fc2580.c: +3 -13
drivers/media/tuners/msi001.c: +3 -16
drivers/media/usb/au0828/Kconfig: +3 -2
drivers/media/usb/au0828/au0828-video.c: +2 -2
drivers/media/usb/cpia2/cpia2_usb.c: +0 -3
drivers/media/usb/cx231xx/cx231xx-cards.c: +86 -1
drivers/media/usb/cx231xx/cx231xx-dvb.c: +307 -82
drivers/media/usb/cx231xx/cx231xx-video.c: +1 -1
drivers/media/usb/cx231xx/cx231xx.h: +3 -0
drivers/media/usb/dvb-usb-v2/Kconfig: +2 -1
drivers/media/usb/dvb-usb-v2/af9015.c: +512 -473
drivers/media/usb/dvb-usb-v2/af9015.h: +6 -14
drivers/media/usb/dvb-usb-v2/dvb_usb.h: +4 -0
drivers/media/usb/dvb-usb-v2/dvb_usb_core.c: +20 -4
drivers/media/usb/dvb-usb/cxusb.c: +2 -139
drivers/media/usb/dvb-usb/dib0700_devices.c: +1 -1
drivers/media/usb/em28xx/em28xx-audio.c: +63 -53
drivers/media/usb/em28xx/em28xx-camera.c: +24 -25
drivers/media/usb/em28xx/em28xx-cards.c: +557 -348
drivers/media/usb/em28xx/em28xx-core.c: +129 -102
drivers/media/usb/em28xx/em28xx-dvb.c: +431 -584
drivers/media/usb/em28xx/em28xx-i2c.c: +103 -70
drivers/media/usb/em28xx/em28xx-input.c: +101 -71
drivers/media/usb/em28xx/em28xx-reg.h: +29 -23
drivers/media/usb/em28xx/em28xx-v4l.h: +14 -13
drivers/media/usb/em28xx/em28xx-vbi.c: +17 -22
drivers/media/usb/em28xx/em28xx-video.c: +226 -165
drivers/media/usb/em28xx/em28xx.h: +222 -174
drivers/media/usb/go7007/snd-go7007.c: +1 -1
drivers/media/usb/gspca/dtcs033.c: +2 -4
drivers/media/usb/s2255/s2255drv.c: +2 -10
drivers/media/usb/siano/smsusb.c: +2 -2
drivers/media/usb/tm6000/tm6000-cards.c: +1 -1
drivers/media/usb/tm6000/tm6000-video.c: +2 -3
drivers/media/usb/usbtv/usbtv-core.c: +3 -0
drivers/media/usb/uvc/uvc_ctrl.c: +70 -44
drivers/media/usb/uvc/uvc_driver.c: +49 -48
drivers/media/usb/uvc/uvc_isight.c: +3 -3
drivers/media/usb/uvc/uvc_status.c: +2 -2
drivers/media/usb/uvc/uvc_v4l2.c: +90 -51
drivers/media/usb/uvc/uvc_video.c: +24 -23
drivers/media/usb/uvc/uvcvideo.h: +158 -162
drivers/media/usb/zr364xx/zr364xx.c: +2 -3
drivers/media/v4l2-core/tuner-core.c: +3 -12
drivers/media/v4l2-core/v4l2-common.c: +67 -15
drivers/media/v4l2-core/v4l2-ctrls.c: +119 -0
drivers/media/v4l2-core/v4l2-dv-timings.c: +142 -14
drivers/media/v4l2-core/v4l2-ioctl.c: +10 -8
drivers/media/v4l2-core/v4l2-mc.c: +2 -10
drivers/media/v4l2-core/v4l2-subdev.c: +50 -0
drivers/media/v4l2-core/videobuf-dma-sg.c: +2 -3
drivers/staging/media/Kconfig: +4 -2
drivers/staging/media/Makefile: +2 -1
drivers/staging/media/atomisp/i2c/Kconfig: +0 -12
drivers/staging/media/atomisp/i2c/atomisp-gc0310.c: +0 -53
drivers/staging/media/atomisp/i2c/atomisp-gc2235.c: +0 -53
drivers/staging/media/atomisp/i2c/atomisp-mt9m114.c: +0 -6
drivers/staging/media/atomisp/i2c/atomisp-ov2680.c: +0 -56
drivers/staging/media/atomisp/i2c/atomisp-ov2722.c: +0 -53
drivers/staging/media/atomisp/i2c/gc0310.h: +0 -43
drivers/staging/media/atomisp/i2c/gc2235.h: +6 -1
drivers/staging/media/atomisp/i2c/ov2680.h: +0 -68
drivers/staging/media/atomisp/i2c/ov2722.h: +6 -0
drivers/staging/media/atomisp/i2c/ov5693/atomisp-ov5693.c: +1 -55
drivers/staging/media/atomisp/i2c/ov5693/ov5693.h: +6 -0
drivers/staging/media/atomisp/i2c/ov8858.c: +0 -2169
drivers/staging/media/atomisp/i2c/ov8858.h: +0 -1474
drivers/staging/media/atomisp/i2c/ov8858_btns.h: +0 -1276
drivers/staging/media/atomisp/include/linux/vlv2_plat_clock.h: +0 -30
drivers/staging/media/atomisp/pci/atomisp2/Makefile: +0 -10
drivers/staging/media/atomisp/pci/atomisp2/atomisp_cmd.c: +3 -8
drivers/staging/media/atomisp/pci/atomisp2/atomisp_compat_css20.c: +1 -1
drivers/staging/media/atomisp/pci/atomisp2/atomisp_file.c: +0 -16
drivers/staging/media/atomisp/pci/atomisp2/atomisp_fops.c: +6 -0
drivers/staging/media/atomisp/pci/atomisp2/atomisp_subdev.c: +1 -11
drivers/staging/media/atomisp/pci/atomisp2/atomisp_tpg.c: +0 -14
drivers/staging/media/atomisp/pci/atomisp2/atomisp_v4l2.c: +0 -1
drivers/staging/media/atomisp/pci/atomisp2/css2400/css_2400_system/hrt/gp_regs_defs.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/css_2400_system/hrt/sp_hrt.h: +0 -24
drivers/staging/media/atomisp/pci/atomisp2/css2400/css_2401_csi2p_system/hrt/gp_regs_defs.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/css_2401_csi2p_system/hrt/sp_hrt.h: +0 -24
drivers/staging/media/atomisp/pci/atomisp2/css2400/css_2401_system/hrt/gp_regs_defs.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/css_2401_system/hrt/sp_hrt.h: +0 -24
drivers/staging/media/atomisp/pci/atomisp2/css2400/css_api_version.h: +0 -673
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_common/host/hive_isp_css_ddr_hrt_modified.h: +0 -148
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_common/host/hive_isp_css_hrt_modified.h: +0 -79
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_common/input_formatter_global.h: +0 -16
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_common/resource_global.h: +0 -35
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_common/xmem_global.h: +0 -20
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/bamem.h: +0 -46
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/bbb_config.h: +0 -27
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/cpu_mem_support.h: +0 -59
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp2400_config.h: +0 -24
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp2500_config.h: +0 -29
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp2600_config.h: +0 -34
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp2601_config.h: +0 -70
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp_config.h: +0 -24
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp_op1w.h: +0 -844
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp_op1w_types.h: +0 -54
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp_op2w.h: +0 -674
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp_op2w_types.h: +0 -49
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/isp_op_count.h: +0 -226
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/osys_public.h: +0 -20
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/pipeline_public.h: +0 -18
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/ref_vector_func.h: +0 -1221
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/host/ref_vector_func_types.h: +0 -385
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/mpmath.h: +0 -329
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/osys.h: +0 -47
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/stream_buffer.h: +0 -47
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/vector_func.h: +0 -38
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/vector_ops.h: +0 -31
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_include/xmem.h: +0 -46
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_shared/socket_global.h: +0 -53
drivers/staging/media/atomisp/pci/atomisp2/css2400/hive_isp_css_shared/stream_buffer_global.h: +0 -26
drivers/staging/media/atomisp/pci/atomisp2/css2400/ia_css_frame_public.h: +8 -21
drivers/staging/media/atomisp/pci/atomisp2/css2400/ia_css_pipe.h: +40 -73
drivers/staging/media/atomisp/pci/atomisp2/css2400/ia_css_pipe_public.h: +15 -95
drivers/staging/media/atomisp/pci/atomisp2/css2400/ia_css_types.h: +13 -51
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/aa/aa_2/ia_css_aa2_state.h: +0 -41
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/bayer_ls/bayer_ls_1.0/ia_css_bayer_load_param.h: +0 -20
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/bayer_ls/bayer_ls_1.0/ia_css_bayer_ls_param.h: +0 -42
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/bayer_ls/bayer_ls_1.0/ia_css_bayer_store_param.h: +0 -21
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/bnlm/ia_css_bnlm_state.h: +0 -31
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/cnr/cnr_1.0/ia_css_cnr_state.h: +0 -33
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/cnr/cnr_2/ia_css_cnr_state.h: +0 -33
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/dp/dp_1.0/ia_css_dp_state.h: +0 -36
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/dpc2/ia_css_dpc2_state.h: +0 -30
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/eed1_8/ia_css_eed1_8_state.h: +0 -40
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/io_ls/plane_io_ls/ia_css_plane_io_param.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/io_ls/plane_io_ls/ia_css_plane_io_types.h: +0 -30
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/io_ls/yuv420_io_ls/ia_css_yuv420_io_param.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/io_ls/yuv420_io_ls/ia_css_yuv420_io_types.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/ipu2_io_ls/plane_io_ls/ia_css_plane_io_param.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/ipu2_io_ls/plane_io_ls/ia_css_plane_io_types.h: +0 -30
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/ipu2_io_ls/yuv420_io_ls/ia_css_yuv420_io_param.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/ipu2_io_ls/yuv420_io_ls/ia_css_yuv420_io_types.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/norm/norm_1.0/ia_css_norm_types.h: +0 -21
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/s3a/s3a_1.0/ia_css_s3a_types.h: +2 -48
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/s3a_stat_ls/ia_css_s3a_stat_ls_param.h: +0 -45
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/s3a_stat_ls/ia_css_s3a_stat_store_param.h: +0 -21
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/scale/scale_1.0/ia_css_scale_param.h: +0 -20
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/sdis/common/ia_css_sdis_common_types.h: +9 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/sdis/common/ia_css_sdis_param.h: +0 -22
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/sdis/sdis_1.0/ia_css_sdis.host.c: +1 -2
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/sdis/sdis_1.0/ia_css_sdis_param.h: +0 -21
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/sdis/sdis_2/ia_css_sdis_param.h: +0 -21
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/xnr/xnr_3.0/ia_css_xnr3_wrapper_param.h: +0 -20
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/yuv_ls/yuv_ls_1.0/ia_css_yuv_load_param.h: +0 -20
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/yuv_ls/yuv_ls_1.0/ia_css_yuv_ls_param.h: +0 -39
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/kernels/yuv_ls/yuv_ls_1.0/ia_css_yuv_store_param.h: +0 -21
drivers/staging/media/atomisp/pci/atomisp2/css2400/isp/modes/interface/isp_exprs.h: +0 -286
drivers/staging/media/atomisp/pci/atomisp2/css2400/runtime/binary/interface/ia_css_binary.h: +6 -82
drivers/staging/media/atomisp/pci/atomisp2/css2400/runtime/binary/src/binary.c: +1 -2
drivers/staging/media/atomisp/pci/atomisp2/css2400/runtime/debug/src/ia_css_debug.c: +1 -7
drivers/staging/media/atomisp/pci/atomisp2/css2400/runtime/frame/src/frame.c: +1 -1
drivers/staging/media/atomisp/pci/atomisp2/css2400/runtime/isp_param/interface/ia_css_isp_param_types.h: +0 -9
drivers/staging/media/atomisp/pci/atomisp2/css2400/runtime/pipeline/interface/ia_css_pipeline.h: +9 -15
drivers/staging/media/atomisp/pci/atomisp2/css2400/runtime/pipeline/src/pipeline.c: +3 -4
drivers/staging/media/atomisp/pci/atomisp2/css2400/sh_css.c: +19 -30
drivers/staging/media/atomisp/pci/atomisp2/css2400/sh_css_legacy.h: +0 -11
drivers/staging/media/atomisp/pci/atomisp2/css2400/sh_css_metrics.h: +0 -21
drivers/staging/media/atomisp/pci/atomisp2/include/hmm/hmm_bo_dev.h: +0 -126
drivers/staging/media/atomisp/pci/atomisp2/include/mmu/sh_mmu.h: +0 -72
drivers/staging/media/atomisp/pci/atomisp2/mmu/isp_mmu.c: +1 -1
drivers/staging/media/cxd2099/Kconfig: +0 -12
drivers/staging/media/cxd2099/Makefile: +0 -4
drivers/staging/media/cxd2099/TODO: +0 -12
drivers/staging/media/davinci_vpfe/vpfe_mc_capture.c: +1 -1
drivers/staging/media/imx/Kconfig: +3 -1
drivers/staging/media/imx/imx-ic-prp.c: +1 -0
drivers/staging/media/imx/imx-ic-prpencvf.c: +2 -1
drivers/staging/media/imx/imx-media-capture.c: +2 -1
drivers/staging/media/imx/imx-media-csi.c: +7 -2
drivers/staging/media/imx/imx-media-internal-sd.c: +1 -1
drivers/staging/media/imx/imx-media-utils.c: +79 -39
drivers/staging/media/imx/imx-media-vdic.c: +2 -1
drivers/staging/media/imx/imx-media.h: +2 -0
drivers/staging/media/imx/imx6-mipi-csi2.c: +16 -9
drivers/staging/media/imx074/Kconfig: +5 -0
drivers/staging/media/imx074/Makefile: +1 -0
drivers/staging/media/imx074/TODO: +5 -0
drivers/{media/i2c/soc_camera => staging/media/imx074}/imx074.c: +0 -0
drivers/staging/media/mt9t031/Kconfig: +11 -0
drivers/staging/media/mt9t031/Makefile: +1 -0
drivers/staging/media/mt9t031/TODO: +5 -0
drivers/{media/i2c/soc_camera => staging/media/mt9t031}/mt9t031.c: +0 -0
include/dt-bindings/media/tda1997x.h: +74 -0
include/media/cec-notifier.h: +1 -13
include/media/cec-pin.h: +1 -13
include/media/cec.h: +10 -16
include/media/drv-intf/renesas-ceu.h: +26 -0
include/media/dvbdev.h: +63 -2
include/media/i2c/ad9389b.h: +1 -13
include/media/i2c/adv7511.h: +1 -13
include/media/i2c/adv7604.h: +1 -14
include/media/i2c/adv7842.h: +1 -14
include/media/i2c/mt9t112.h: +7 -10
include/media/i2c/ov772x.h: +4 -2
include/media/i2c/tc358743.h: +2 -16
include/media/i2c/tda1997x.h: +42 -0
include/media/i2c/ths7303.h: +1 -9
include/media/i2c/tw9910.h: +9 -0
include/media/i2c/uda1342.h: +1 -14
include/media/rc-core.h: +3 -8
include/media/rc-map.h: +6 -3
include/media/tpg/v4l2-tpg.h: +1 -13
include/media/v4l2-common.h: +51 -9
include/media/v4l2-ctrls.h: +2 -2
include/media/v4l2-dev.h: +3 -3
include/media/v4l2-dv-timings.h: +22 -14
include/media/v4l2-fh.h: +1 -0
include/media/v4l2-rect.h: +1 -13
include/media/v4l2-subdev.h: +97 -24
include/media/videobuf2-core.h: +20 -13
include/uapi/linux/cec-funcs.h: +0 -29
include/uapi/linux/cec.h: +0 -29
include/uapi/linux/lirc.h: +2 -0
include/uapi/linux/media.h: +165 -179
include/uapi/linux/v4l2-controls.h: +92 -1
include/uapi/linux/v4l2-mediabus.h: +2 -2
include/uapi/linux/videodev2.h: +1 -0
