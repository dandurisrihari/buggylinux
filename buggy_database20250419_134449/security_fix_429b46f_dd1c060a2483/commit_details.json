{
  "hash": "429b46f4fdaf9c9007b7c0fc371b94e40c3764b2",
  "hash_short": "429b46f4",
  "subject": "[CIFS] SMB3 Signing enablement",
  "body": "SMB3 uses a much faster method of signing (which is also better in other ways),\nAES-CMAC.  With the kernel now supporting AES-CMAC since last release, we\nare overdue to allow SMB3 signing (today only CIFS and SMB2 and SMB2.1,\nbut not SMB3 and SMB3.1 can sign) - and we need this also for checking\nsecure negotation and also per-share encryption (two other new SMB3 features\nwhich we need to implement).\n\nThis patch needs some work in a few areas - for example we need to\nmove signing for SMB2/SMB3 from per-socket to per-user (we may be able to\nuse the \"nosharesock\" mount option in the interim for the multiuser case),\nand Shirish found a bug in the earlier authentication overhaul\n(setting signing flags properly) - but those can be done in followon\npatches.\n\nSigned-off-by: Shirish Pargaonkar <shirishpargaonkar@gmail.com>\nSigned-off-by: Steve French <smfrench@gmail.com>",
  "full_message": "[CIFS] SMB3 Signing enablement\n\nSMB3 uses a much faster method of signing (which is also better in other ways),\nAES-CMAC.  With the kernel now supporting AES-CMAC since last release, we\nare overdue to allow SMB3 signing (today only CIFS and SMB2 and SMB2.1,\nbut not SMB3 and SMB3.1 can sign) - and we need this also for checking\nsecure negotation and also per-share encryption (two other new SMB3 features\nwhich we need to implement).\n\nThis patch needs some work in a few areas - for example we need to\nmove signing for SMB2/SMB3 from per-socket to per-user (we may be able to\nuse the \"nosharesock\" mount option in the interim for the multiuser case),\nand Shirish found a bug in the earlier authentication overhaul\n(setting signing flags properly) - but those can be done in followon\npatches.\n\nSigned-off-by: Shirish Pargaonkar <shirishpargaonkar@gmail.com>\nSigned-off-by: Steve French <smfrench@gmail.com>",
  "author_name": "Steve French",
  "author_email": "smfrench@gmail.com",
  "author_date": "Wed Jun 26 23:45:05 2013 -0500",
  "author_date_iso": "2013-06-26T23:45:05-05:00",
  "committer_name": "Steve French",
  "committer_email": "smfrench@gmail.com",
  "committer_date": "Wed Jun 26 23:45:05 2013 -0500",
  "committer_date_iso": "2013-06-26T23:45:05-05:00",
  "files_changed": [
    "fs/cifs/Kconfig",
    "fs/cifs/cifsencrypt.c",
    "fs/cifs/cifsglob.h",
    "fs/cifs/cifspdu.h",
    "fs/cifs/cifsproto.h",
    "fs/cifs/connect.c",
    "fs/cifs/smb2glob.h",
    "fs/cifs/smb2transport.c"
  ],
  "files_changed_count": 8,
  "stats": [
    {
      "file": "fs/cifs/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/cifs/cifsencrypt.c",
      "insertions": 29,
      "deletions": 0
    },
    {
      "file": "fs/cifs/cifsglob.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "fs/cifs/cifspdu.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "fs/cifs/cifsproto.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/cifs/connect.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/cifs/smb2glob.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "fs/cifs/smb2transport.c",
      "insertions": 146,
      "deletions": 2
    }
  ],
  "total_insertions": 188,
  "total_deletions": 2,
  "total_changes": 190,
  "parents": [
    "f87ab88b4065a9ef00620224c4fafadc201a430c"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.11",
    "v3.11-rc1",
    "v3.11-rc2",
    "v3.11-rc3",
    "v3.11-rc4",
    "v3.11-rc5",
    "v3.11-rc6",
    "v3.11-rc7",
    "v3.12",
    "v3.12-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/cifs/cifsencrypt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/cifs/cifsproto.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/cifs/connect.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/cifs/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/cifs/smb2transport.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/cifs/cifspdu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/cifs/cifsglob.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/cifs/smb2glob.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}