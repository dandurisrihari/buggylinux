Commit Hash: 5283a8ee9badf699bd4a5a622011f9d4d50fecde
Subject: crypto: testmgr - expand ability to test for errors


Security Keywords:
- authentication

Full commit message:
crypto: testmgr - expand ability to test for errors

Update testmgr to support testing for specific errors from setkey() and
digest() for hashes; setkey() and encrypt()/decrypt() for skciphers and
ciphers; and setkey(), setauthsize(), and encrypt()/decrypt() for AEADs.
This is useful because algorithms usually restrict the lengths or format
of the message, key, and/or authentication tag in some way.  And bad
inputs should be tested too, not just good inputs.

As part of this change, remove the ambiguously-named 'fail' flag and
replace it with 'setkey_error = -EINVAL' for the only test vector that
used it -- the DES weak key test vector.  Note that this tightens the
test to require -EINVAL rather than any error code, but AFAICS this
won't cause any test failure.

Other than that, these new fields aren't set on any test vectors yet.
Later patches will do so.

Signed-off-by: Eric Biggers <ebiggers@google.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

Metadata:
Author: Eric Biggers <ebiggers@google.com>
Author Date: Thu Apr 11 21:57:36 2019 -0700
Committer: Herbert Xu <herbert@gondor.apana.org.au>
Commit Date: Thu Apr 18 22:15:03 2019 +0800

Files Changed: 2
Lines Added: 104
Lines Removed: 50
Total Changes: 154
