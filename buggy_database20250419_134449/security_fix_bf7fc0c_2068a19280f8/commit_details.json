{
  "hash": "bf7fc0c369585e34652d5666ed590d5cac07c2e2",
  "hash_short": "bf7fc0c3",
  "subject": "ACPI: APEI: EINJ: Relax platform response timeout to 1 second",
  "body": "When injecting an error into the platform, the OSPM executes an\nEXECUTE_OPERATION action to instruct the platform to begin the injection\noperation. And then, the OSPM busy waits for a while by continually\nexecuting CHECK_BUSY_STATUS action until the platform indicates that the\noperation is complete. More specifically, the platform is limited to\nrespond within 1 millisecond right now. This is too strict for some\nplatforms.\n\nFor example, in Arm platform, when injecting a Processor Correctable error,\nthe OSPM will warn:\n    Firmware does not respond in time.\n\nAnd a message is printed on the console:\n    echo: write error: Input/output error\n\nWe observe that the waiting time for DDR error injection is about 10 ms and\nthat for PCIe error injection is about 500 ms in Arm platform.\n\nIn this patch, we relax the response timeout to 1 second.\n\nSigned-off-by: Shuai Xue <xueshuai@linux.alibaba.com>\nReviewed-by: Tony Luck <tony.luck@intel.com>\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>",
  "full_message": "ACPI: APEI: EINJ: Relax platform response timeout to 1 second\n\nWhen injecting an error into the platform, the OSPM executes an\nEXECUTE_OPERATION action to instruct the platform to begin the injection\noperation. And then, the OSPM busy waits for a while by continually\nexecuting CHECK_BUSY_STATUS action until the platform indicates that the\noperation is complete. More specifically, the platform is limited to\nrespond within 1 millisecond right now. This is too strict for some\nplatforms.\n\nFor example, in Arm platform, when injecting a Processor Correctable error,\nthe OSPM will warn:\n    Firmware does not respond in time.\n\nAnd a message is printed on the console:\n    echo: write error: Input/output error\n\nWe observe that the waiting time for DDR error injection is about 10 ms and\nthat for PCIe error injection is about 500 ms in Arm platform.\n\nIn this patch, we relax the response timeout to 1 second.\n\nSigned-off-by: Shuai Xue <xueshuai@linux.alibaba.com>\nReviewed-by: Tony Luck <tony.luck@intel.com>\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>",
  "author_name": "Shuai Xue",
  "author_email": "xueshuai@linux.alibaba.com",
  "author_date": "Tue Oct 26 15:28:29 2021 +0800",
  "author_date_iso": "2021-10-26T15:28:29+08:00",
  "committer_name": "Rafael J. Wysocki",
  "committer_email": "rafael.j.wysocki@intel.com",
  "committer_date": "Wed Oct 27 20:33:26 2021 +0200",
  "committer_date_iso": "2021-10-27T20:33:26+02:00",
  "files_changed": [
    "drivers/acpi/apei/einj.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/acpi/apei/einj.c",
      "insertions": 8,
      "deletions": 7
    }
  ],
  "total_insertions": 8,
  "total_deletions": 7,
  "total_changes": 15,
  "parents": [
    "3906fe9bb7f1a2c8667ae54e967dc8690824f4ea"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/acpi/apei/einj.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}