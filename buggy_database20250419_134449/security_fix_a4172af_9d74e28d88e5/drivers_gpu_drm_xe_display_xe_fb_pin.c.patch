commit a4172af3040cdc207f1b60efffcdd219156093c9
Merge: de9c2c66ad8e f2881dfdaaa9
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Aug 5 18:47:30 2024 +1000

    Merge tag 'drm-xe-next-2024-07-30' of https://gitlab.freedesktop.org/drm/xe/kernel into drm-next
    
    drm-xe-next for 6.12
    
    UAPI Changes:
    - Rename xe perf layer as xe observation layer, but was
      also made available via fixes to previous verison (Ashutosh)
    - Use write-back caching mode for system memory on DGFX,
      but was also mad available via fixes to previous version (Thomas)
    - Expose SIMD16 EU mask in topology query for userspace to know
      the type of EU, as available in PVC, Lunar Lake and Battlemage
      (Lucas)
    - Return ENOBUFS instead of ENOMEM in vm_bind if failure is tied
      to an array of binds (Matthew Brost)
    
    Driver Changes:
    - Log cleanup moving messages to debug priority (Michal Wajdeczko)
    - Add timeout to fences to adhere to dma_buf rules (Matthew Brost)
    - Rename old engine nomenclature to exec_queue (Matthew Brost)
    - Convert multiple bind ops to 1 job (Matthew Brost)
    - Add error injection for vm bind to help testing error path
      (Matthew Brost)
    - Fix error handling in page table to propagate correctly
      to userspace (Matthew Brost)
    - Re-organize and cleanup SR-IOV related registers (Michal Wajdeczko)
    - Make the device write barrier compatible with VF (Michal Wajdeczko)
    - New display workarounds for Battlemage (Matthew  Auld)
    - New media workarounds for Lunar Lake and Battlemage (Ngai-Mint Kwan)
    - New graphics workarounds for Lunar Lake (Bommu Krishnaiah)
    - Tracepoint updates (Matthew Brost, Nirmoy Das)
    - Cleanup the header generation for OOB workarounds (Lucas De Marchi)
    - Fix leaking HDCP-related object (Nirmoy Das)
    - Serialize L2 flushes to avoid races (Tejas Upadhyay)
    - Log pid and comm on job timeout (Jos√© Roberto de Souza)
    - Simplify boilerplate code for live kunit (Michal Wajdeczko)
    - Improve kunit skips for live kunit (Michal Wajdeczko)
    - Fix xe_sync cleanup when handling xe_exec ioctl (Ashutosh Dixit)
    - Limit fair VF LMEM provisioning (Michal Wajdeczko)
    - New workaround to fence mmio writes in Lunar Lake (Tejas Upadhyay)
    - Warn on writes inaccessible register in VF (Michal Wajdeczko)
    - Fix register lookup in VF (Michal Wajdeczko)
    - Add GSC support for Battlemage (Alexander Usyskin)
    - Fix wedging only the GT in which timeout occurred (Matthew Brost)
    - Block device suspend when wedging (Matthew Brost)
    - Handle compression and migration changes for Battlemage
      (Akshata Jahagirdar)
    - Limit access of stolen memory for Lunar Lake (Uma Shankar)
    - Fail invalid addresses during user fence creation (Matthew Brost)
    - Refcount xe_file to safely and accurately store fdinfo stats
      (Umesh Nerlige Ramappa)
    - Cleanup and fix PM reference for TLB invalidation code
      (Matthew Brost)
    - Fix PM reference handling when communicating with GuC (Matthew Brost)
    - Add new BO flag for 2 MiB alignement and use in VF (Michal Wajdeczko)
    - Simplify MMIO setup for multi-tile platforms (Lucas De Marchi)
    - Add check for uninitialized access to OOB workarounds
      (Lucas De Marchi)
    - New GSC and HuC firmware blobs for Lunar Lake and Battlemage
      (Daniele Ceraolo Spurio)
    - Unify mmio wait logic (Gustavo Sousa)
    - Fix off-by-one when processing RTP rules (Lucas De Marchi)
    - Future-proof migrate logic with compressed PAT flag (Matt Roper)
    - Add WA kunit tests for Battlemage (Lucas De Marchi)
    - Test active tracking for workaorunds with kunit (Lucas De Marchi)
    - Add kunit tests for RTP with no actions (Lucas De Marchi)
    - Unify parse of OR rules in RTP (Lucas De Marchi)
    - Add performance tuning for Battlemage (Sai Teja Pottumuttu)
    - Make bit masks unsigned (Geert Uytterhoeven)
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>
    
    From: Lucas De Marchi <lucas.demarchi@intel.com>
    Link: https://patchwork.freedesktop.org/patch/msgid/k7xuktfav4zmtxxjr77glu2hszypvzgmzghoumh757nqfnk7kn@ccfi4ts3ytbk