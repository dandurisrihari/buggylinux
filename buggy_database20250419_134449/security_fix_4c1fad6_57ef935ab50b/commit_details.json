{
  "hash": "4c1fad64eff481982349f5795b9c198c532b0f13",
  "hash_short": "4c1fad64",
  "subject": "Merge tag 'for-f2fs-4.9' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs",
  "body": "Pull f2fs updates from Jaegeuk Kim:\n \"In this round, we've investigated how f2fs deals with errors given by\n  our fault injection facility. With this, we could fix several corner\n  cases. And, in order to improve the performance, we set inline_dentry\n  by default and enhance the exisiting discard issue flow. In addition,\n  we added f2fs_migrate_page for better memory management.\n\n  Enhancements:\n   - set inline_dentry by default\n   - improve discard issue flow\n   - add more fault injection cases in f2fs\n   - allow block preallocation for encrypted files\n   - introduce migrate_page callback function\n   - avoid truncating the next direct node block at every checkpoint\n\n  Bug fixes:\n   - set page flag correctly between write_begin and write_end\n   - missing error handling cases detected by fault injection\n   - preallocate blocks regarding to 4KB alignement correctly\n   - dentry and filename handling of encryption\n   - lost xattrs of directories\"\n\n* tag 'for-f2fs-4.9' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs: (69 commits)\n  f2fs: introduce update_ckpt_flags to clean up\n  f2fs: don't submit irrelevant page\n  f2fs: fix to commit bio cache after flushing node pages\n  f2fs: introduce get_checkpoint_version for cleanup\n  f2fs: remove dead variable\n  f2fs: remove redundant io plug\n  f2fs: support checkpoint error injection\n  f2fs: fix to recover old fault injection config in ->remount_fs\n  f2fs: do fault injection initialization in default_options\n  f2fs: remove redundant value definition\n  f2fs: support configuring fault injection per superblock\n  f2fs: adjust display format of segment bit\n  f2fs: remove dirty inode pages in error path\n  f2fs: do not unnecessarily null-terminate encrypted symlink data\n  f2fs: handle errors during recover_orphan_inodes\n  f2fs: avoid gc in cp_error case\n  f2fs: should put_page for summary page\n  f2fs: assign return value in f2fs_gc\n  f2fs: add customized migrate_page callback\n  f2fs: introduce cp_lock to protect updating of ckpt_flags\n  ...",
  "full_message": "Merge tag 'for-f2fs-4.9' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs\n\nPull f2fs updates from Jaegeuk Kim:\n \"In this round, we've investigated how f2fs deals with errors given by\n  our fault injection facility. With this, we could fix several corner\n  cases. And, in order to improve the performance, we set inline_dentry\n  by default and enhance the exisiting discard issue flow. In addition,\n  we added f2fs_migrate_page for better memory management.\n\n  Enhancements:\n   - set inline_dentry by default\n   - improve discard issue flow\n   - add more fault injection cases in f2fs\n   - allow block preallocation for encrypted files\n   - introduce migrate_page callback function\n   - avoid truncating the next direct node block at every checkpoint\n\n  Bug fixes:\n   - set page flag correctly between write_begin and write_end\n   - missing error handling cases detected by fault injection\n   - preallocate blocks regarding to 4KB alignement correctly\n   - dentry and filename handling of encryption\n   - lost xattrs of directories\"\n\n* tag 'for-f2fs-4.9' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs: (69 commits)\n  f2fs: introduce update_ckpt_flags to clean up\n  f2fs: don't submit irrelevant page\n  f2fs: fix to commit bio cache after flushing node pages\n  f2fs: introduce get_checkpoint_version for cleanup\n  f2fs: remove dead variable\n  f2fs: remove redundant io plug\n  f2fs: support checkpoint error injection\n  f2fs: fix to recover old fault injection config in ->remount_fs\n  f2fs: do fault injection initialization in default_options\n  f2fs: remove redundant value definition\n  f2fs: support configuring fault injection per superblock\n  f2fs: adjust display format of segment bit\n  f2fs: remove dirty inode pages in error path\n  f2fs: do not unnecessarily null-terminate encrypted symlink data\n  f2fs: handle errors during recover_orphan_inodes\n  f2fs: avoid gc in cp_error case\n  f2fs: should put_page for summary page\n  f2fs: assign return value in f2fs_gc\n  f2fs: add customized migrate_page callback\n  f2fs: introduce cp_lock to protect updating of ckpt_flags\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Oct 6 15:30:40 2016 -0700",
  "author_date_iso": "2016-10-06T15:30:40-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Oct 6 15:30:40 2016 -0700",
  "committer_date_iso": "2016-10-06T15:30:40-07:00",
  "files_changed": [
    "MAINTAINERS",
    "fs/f2fs/file.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "Documentation/filesystems/f2fs.txt",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "MAINTAINERS",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "fs/f2fs/acl.c",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "fs/f2fs/acl.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "fs/f2fs/checkpoint.c",
      "insertions": 132,
      "deletions": 73
    },
    {
      "file": "fs/f2fs/data.c",
      "insertions": 101,
      "deletions": 30
    },
    {
      "file": "fs/f2fs/debug.c",
      "insertions": 14,
      "deletions": 3
    },
    {
      "file": "fs/f2fs/dir.c",
      "insertions": 65,
      "deletions": 45
    },
    {
      "file": "fs/f2fs/f2fs.h",
      "insertions": 117,
      "deletions": 58
    },
    {
      "file": "fs/f2fs/file.c",
      "insertions": 14,
      "deletions": 6
    },
    {
      "file": "fs/f2fs/gc.c",
      "insertions": 55,
      "deletions": 35
    },
    {
      "file": "fs/f2fs/inline.c",
      "insertions": 14,
      "deletions": 11
    },
    {
      "file": "fs/f2fs/inode.c",
      "insertions": 16,
      "deletions": 1
    },
    {
      "file": "fs/f2fs/namei.c",
      "insertions": 9,
      "deletions": 6
    },
    {
      "file": "fs/f2fs/node.c",
      "insertions": 25,
      "deletions": 8
    },
    {
      "file": "fs/f2fs/node.h",
      "insertions": 49,
      "deletions": 28
    },
    {
      "file": "fs/f2fs/recovery.c",
      "insertions": 53,
      "deletions": 71
    },
    {
      "file": "fs/f2fs/segment.c",
      "insertions": 159,
      "deletions": 60
    },
    {
      "file": "fs/f2fs/segment.h",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "fs/f2fs/super.c",
      "insertions": 44,
      "deletions": 49
    },
    {
      "file": "fs/f2fs/xattr.c",
      "insertions": 24,
      "deletions": 15
    },
    {
      "file": "include/linux/f2fs_fs.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/trace/events/f2fs.h",
      "insertions": 7,
      "deletions": 11
    }
  ],
  "total_insertions": 915,
  "total_deletions": 524,
  "total_changes": 1439,
  "parents": [
    "0fb3ca447ddabcfb8dc7e0f719955e500b170cbd",
    "e4c5d8489a41209534699220021dab409e4d4f55"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/file.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}