Commit Hash: 8c4182bd27cafc2b0f94564485c89ed366c1572c
Subject: KVM: VMX: optimize #PF injection when MAXPHYADDR does not match


Security Keywords:
- injection

Full commit message:
KVM: VMX: optimize #PF injection when MAXPHYADDR does not match

Ignore non-present page faults, since those cannot have reserved
bits set.

When running access.flat with "-cpu Haswell,phys-bits=36", the
number of trapped page faults goes down from 8872644 to 3978948.

Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
Message-Id: <20200710154811.418214-9-mgamal@redhat.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Paolo Bonzini <pbonzini@redhat.com>
Author Date: Fri Jul 10 17:48:10 2020 +0200
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Fri Jul 10 17:01:52 2020 -0400

Files Changed: 1
Lines Added: 10
Lines Removed: 0
Total Changes: 10
