{
  "hash": "b018fc9800557bd14a40d69501e19c340eb2c521",
  "hash_short": "b018fc98",
  "subject": "Merge tag 'pm-4.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm",
  "body": "Pull power management updates from Rafael Wysocki:\n \"These add a new framework for CPU idle time injection, to be used by\n  all of the idle injection code in the kernel in the future, fix some\n  issues and add a number of relatively small extensions in multiple\n  places.\n\n  Specifics:\n\n   - Add a new framework for CPU idle time injection (Daniel Lezcano).\n\n   - Add AVS support to the armada-37xx cpufreq driver (Gregory\n     CLEMENT).\n\n   - Add support for current CPU frequency reporting to the ACPI CPPC\n     cpufreq driver (George Cherian).\n\n   - Rework the cooling device registration in the imx6q/thermal driver\n     (Bastian Stender).\n\n   - Make the pcc-cpufreq driver refuse to work with dynamic scaling\n     governors on systems with many CPUs to avoid scalability issues\n     with it (Rafael Wysocki).\n\n   - Fix the intel_pstate driver to report different maximum CPU\n     frequencies on systems where they really are different and to\n     ignore the turbo active ratio if hardware-managend P-states (HWP)\n     are in use; make it use the match_string() helper (Xie Yisheng,\n     Srinivas Pandruvada).\n\n   - Fix a minor deferred probe issue in the qcom-kryo cpufreq driver\n     (Niklas Cassel).\n\n   - Add a tracepoint for the tracking of frequency limits changes (from\n     Andriod) to the cpufreq core (Ruchi Kandoi).\n\n   - Fix a circular lock dependency between CPU hotplug and sysfs\n     locking in the cpufreq core reported by lockdep (Waiman Long).\n\n   - Avoid excessive error reports on driver registration failures in\n     the ARM cpuidle driver (Sudeep Holla).\n\n   - Add a new device links flag to the driver core to make links go\n     away automatically on supplier driver removal (Vivek Gautam).\n\n   - Eliminate potential race condition between system-wide power\n     management transitions and system shutdown (Pingfan Liu).\n\n   - Add a quirk to save NVS memory on system suspend for the ASUS 1025C\n     laptop (Willy Tarreau).\n\n   - Make more systems use suspend-to-idle (instead of ACPI S3) by\n     default (Tristian Celestin).\n\n   - Get rid of stack VLA usage in the low-level hibernation code on\n     64-bit x86 (Kees Cook).\n\n   - Fix error handling in the hibernation core and mark an expected\n     fall-through switch in it (Chengguang Xu, Gustavo Silva).\n\n   - Extend the generic power domains (genpd) framework to support\n     attaching a device to a power domain by name (Ulf Hansson).\n\n   - Fix device reference counting and user limits initialization in the\n     devfreq core (Arvind Yadav, Matthias Kaehlcke).\n\n   - Fix a few issues in the rk3399_dmc devfreq driver and improve its\n     documentation (Enric Balletbo i Serra, Lin Huang, Nick Milner).\n\n   - Drop a redundant error message from the exynos-ppmu devfreq driver\n     (Markus Elfring)\"\n\n* tag 'pm-4.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm: (35 commits)\n  PM / reboot: Eliminate race between reboot and suspend\n  PM / hibernate: Mark expected switch fall-through\n  cpufreq: intel_pstate: Ignore turbo active ratio in HWP\n  cpufreq: Fix a circular lock dependency problem\n  cpu/hotplug: Add a cpus_read_trylock() function\n  x86/power/hibernate_64: Remove VLA usage\n  cpufreq: trace frequency limits change\n  cpufreq: intel_pstate: Show different max frequency with turbo 3 and HWP\n  cpufreq: pcc-cpufreq: Disable dynamic scaling on many-CPU systems\n  cpufreq: qcom-kryo: Silently error out on EPROBE_DEFER\n  cpufreq / CPPC: Add cpuinfo_cur_freq support for CPPC\n  cpufreq: armada-37xx: Add AVS support\n  dt-bindings: marvell: Add documentation for the Armada 3700 AVS binding\n  PM / devfreq: rk3399_dmc: Fix duplicated opp table on reload.\n  PM / devfreq: Init user limits from OPP limits, not viceversa\n  PM / devfreq: rk3399_dmc: fix spelling mistakes.\n  PM / devfreq: rk3399_dmc: do not print error when get supply and clk defer.\n  dt-bindings: devfreq: rk3399_dmc: move interrupts to be optional.\n  PM / devfreq: rk3399_dmc: remove wait for dcf irq event.\n  dt-bindings: clock: add rk3399 DDR3 standard speed bins.\n  ...",
  "full_message": "Merge tag 'pm-4.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm\n\nPull power management updates from Rafael Wysocki:\n \"These add a new framework for CPU idle time injection, to be used by\n  all of the idle injection code in the kernel in the future, fix some\n  issues and add a number of relatively small extensions in multiple\n  places.\n\n  Specifics:\n\n   - Add a new framework for CPU idle time injection (Daniel Lezcano).\n\n   - Add AVS support to the armada-37xx cpufreq driver (Gregory\n     CLEMENT).\n\n   - Add support for current CPU frequency reporting to the ACPI CPPC\n     cpufreq driver (George Cherian).\n\n   - Rework the cooling device registration in the imx6q/thermal driver\n     (Bastian Stender).\n\n   - Make the pcc-cpufreq driver refuse to work with dynamic scaling\n     governors on systems with many CPUs to avoid scalability issues\n     with it (Rafael Wysocki).\n\n   - Fix the intel_pstate driver to report different maximum CPU\n     frequencies on systems where they really are different and to\n     ignore the turbo active ratio if hardware-managend P-states (HWP)\n     are in use; make it use the match_string() helper (Xie Yisheng,\n     Srinivas Pandruvada).\n\n   - Fix a minor deferred probe issue in the qcom-kryo cpufreq driver\n     (Niklas Cassel).\n\n   - Add a tracepoint for the tracking of frequency limits changes (from\n     Andriod) to the cpufreq core (Ruchi Kandoi).\n\n   - Fix a circular lock dependency between CPU hotplug and sysfs\n     locking in the cpufreq core reported by lockdep (Waiman Long).\n\n   - Avoid excessive error reports on driver registration failures in\n     the ARM cpuidle driver (Sudeep Holla).\n\n   - Add a new device links flag to the driver core to make links go\n     away automatically on supplier driver removal (Vivek Gautam).\n\n   - Eliminate potential race condition between system-wide power\n     management transitions and system shutdown (Pingfan Liu).\n\n   - Add a quirk to save NVS memory on system suspend for the ASUS 1025C\n     laptop (Willy Tarreau).\n\n   - Make more systems use suspend-to-idle (instead of ACPI S3) by\n     default (Tristian Celestin).\n\n   - Get rid of stack VLA usage in the low-level hibernation code on\n     64-bit x86 (Kees Cook).\n\n   - Fix error handling in the hibernation core and mark an expected\n     fall-through switch in it (Chengguang Xu, Gustavo Silva).\n\n   - Extend the generic power domains (genpd) framework to support\n     attaching a device to a power domain by name (Ulf Hansson).\n\n   - Fix device reference counting and user limits initialization in the\n     devfreq core (Arvind Yadav, Matthias Kaehlcke).\n\n   - Fix a few issues in the rk3399_dmc devfreq driver and improve its\n     documentation (Enric Balletbo i Serra, Lin Huang, Nick Milner).\n\n   - Drop a redundant error message from the exynos-ppmu devfreq driver\n     (Markus Elfring)\"\n\n* tag 'pm-4.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm: (35 commits)\n  PM / reboot: Eliminate race between reboot and suspend\n  PM / hibernate: Mark expected switch fall-through\n  cpufreq: intel_pstate: Ignore turbo active ratio in HWP\n  cpufreq: Fix a circular lock dependency problem\n  cpu/hotplug: Add a cpus_read_trylock() function\n  x86/power/hibernate_64: Remove VLA usage\n  cpufreq: trace frequency limits change\n  cpufreq: intel_pstate: Show different max frequency with turbo 3 and HWP\n  cpufreq: pcc-cpufreq: Disable dynamic scaling on many-CPU systems\n  cpufreq: qcom-kryo: Silently error out on EPROBE_DEFER\n  cpufreq / CPPC: Add cpuinfo_cur_freq support for CPPC\n  cpufreq: armada-37xx: Add AVS support\n  dt-bindings: marvell: Add documentation for the Armada 3700 AVS binding\n  PM / devfreq: rk3399_dmc: Fix duplicated opp table on reload.\n  PM / devfreq: Init user limits from OPP limits, not viceversa\n  PM / devfreq: rk3399_dmc: fix spelling mistakes.\n  PM / devfreq: rk3399_dmc: do not print error when get supply and clk defer.\n  dt-bindings: devfreq: rk3399_dmc: move interrupts to be optional.\n  PM / devfreq: rk3399_dmc: remove wait for dcf irq event.\n  dt-bindings: clock: add rk3399 DDR3 standard speed bins.\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue Aug 14 13:12:24 2018 -0700",
  "author_date_iso": "2018-08-14T13:12:24-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Aug 14 13:12:24 2018 -0700",
  "committer_date_iso": "2018-08-14T13:12:24-07:00",
  "files_changed": [
    "drivers/base/core.c",
    "include/linux/cpu.h",
    "include/linux/device.h",
    "kernel/cpu.c",
    "kernel/power/suspend.c",
    "mm/page_alloc.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/devicetree/bindings/arm/marvell/armada-37xx.txt",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/devfreq/rk3399_dmc.txt",
      "insertions": 108,
      "deletions": 103
    },
    {
      "file": "Documentation/devicetree/bindings/power/power_domain.txt",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "Documentation/driver-api/device_link.rst",
      "insertions": 8,
      "deletions": 4
    },
    {
      "file": "Documentation/power/freezing-of-tasks.txt",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "Documentation/power/suspend-and-cpuhotplug.txt",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "Documentation/trace/events-power.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/power/hibernate_64.c",
      "insertions": 21,
      "deletions": 15
    },
    {
      "file": "drivers/acpi/sleep.c",
      "insertions": 16,
      "deletions": 14
    },
    {
      "file": "drivers/base/core.c",
      "insertions": 18,
      "deletions": 7
    },
    {
      "file": "drivers/base/power/common.c",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "drivers/base/power/domain.c",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "drivers/cpufreq/armada-37xx-cpufreq.c",
      "insertions": 160,
      "deletions": 3
    },
    {
      "file": "drivers/cpufreq/cppc_cpufreq.c",
      "insertions": 52,
      "deletions": 0
    },
    {
      "file": "drivers/cpufreq/cpufreq.c",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "drivers/cpufreq/imx6q-cpufreq.c",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "drivers/cpufreq/intel_pstate.c",
      "insertions": 17,
      "deletions": 10
    },
    {
      "file": "drivers/cpufreq/pcc-cpufreq.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "drivers/cpufreq/qcom-cpufreq-kryo.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/cpuidle/cpuidle-arm.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/devfreq/devfreq.c",
      "insertions": 9,
      "deletions": 7
    },
    {
      "file": "drivers/devfreq/event/exynos-ppmu.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/devfreq/rk3399_dmc.c",
      "insertions": 40,
      "deletions": 62
    },
    {
      "file": "drivers/gpu/drm/tegra/dc.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/ipu-v3/ipu-pre.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/ipu-v3/ipu-prg.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/powercap/Kconfig",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "drivers/powercap/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/powercap/idle_inject.c",
      "insertions": 356,
      "deletions": 0
    },
    {
      "file": "drivers/soc/imx/gpc.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/thermal/imx_thermal.c",
      "insertions": 24,
      "deletions": 4
    },
    {
      "file": "include/dt-bindings/clock/rk3399-ddr.h",
      "insertions": 56,
      "deletions": 0
    },
    {
      "file": "include/linux/cpu.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/linux/device.h",
      "insertions": 8,
      "deletions": 6
    },
    {
      "file": "include/linux/idle_inject.h",
      "insertions": 29,
      "deletions": 0
    },
    {
      "file": "include/linux/pm_domain.h",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "include/linux/suspend.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/trace/events/power.h",
      "insertions": 25,
      "deletions": 0
    },
    {
      "file": "kernel/cpu.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "kernel/freezer.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "kernel/power/hibernate.c",
      "insertions": 9,
      "deletions": 7
    },
    {
      "file": "kernel/power/main.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "kernel/power/suspend.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "kernel/power/swap.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "kernel/power/user.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "kernel/reboot.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "mm/page_alloc.c",
      "insertions": 6,
      "deletions": 5
    }
  ],
  "total_insertions": 1139,
  "total_deletions": 285,
  "total_changes": 1424,
  "parents": [
    "c07b3682cd12a017f976ec63bbd4758dc4c5100e",
    "7425ecd5e3e8c9d84f399a102282a23a90a19278"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.19",
    "v4.19-rc1",
    "v4.19-rc2",
    "v4.19-rc3",
    "v4.19-rc4",
    "v4.19-rc5",
    "v4.19-rc6",
    "v4.19-rc7",
    "v4.19-rc8",
    "v4.20"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/linux/device.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/base/core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/cpu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/power/suspend.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/cpu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "mm/page_alloc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}