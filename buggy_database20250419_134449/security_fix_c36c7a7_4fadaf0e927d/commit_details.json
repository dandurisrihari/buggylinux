{
  "hash": "c36c7a7c4034f2ef35c6aa6821e7c82d9968dba4",
  "hash_short": "c36c7a7c",
  "subject": "Merge tag 'usb-4.15-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb",
  "body": "Pull USB fixes from Greg KH:\n \"Here are some USB fixes for 4.15-rc4.\n\n  There is the usual handful gadget/dwc2/dwc3 fixes as always, for\n  reported issues. But the most important things in here is the core fix\n  from Alan Stern to resolve a nasty security bug (my first attempt is\n  reverted, Alan's was much cleaner), as well as a number of usbip fixes\n  from Shuah Khan to resolve those reported security issues.\n\n  All of these have been in linux-next with no reported issues\"\n\n* tag 'usb-4.15-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb:\n  USB: core: prevent malicious bNumInterfaces overflow\n  Revert \"USB: core: only clean up what we allocated\"\n  USB: core: only clean up what we allocated\n  Revert \"usb: gadget: allow to enable legacy drivers without USB_ETH\"\n  usb: gadget: webcam: fix V4L2 Kconfig dependency\n  usb: dwc2: Fix TxFIFOn sizes and total TxFIFO size issues\n  usb: dwc3: gadget: Fix PCM1 for ISOC EP with ep->mult less than 3\n  usb: dwc3: of-simple: set dev_pm_ops\n  usb: dwc3: of-simple: fix missing clk_disable_unprepare\n  usb: dwc3: gadget: Wait longer for controller to end command processing\n  usb: xhci: fix TDS for MTK xHCI1.1\n  xhci: Don't add a virt_dev to the devs array before it's fully allocated\n  usbip: fix stub_send_ret_submit() vulnerability to null transfer_buffer\n  usbip: prevent vhci_hcd driver from leaking a socket pointer address\n  usbip: fix stub_rx: harden CMD_SUBMIT path to handle malicious input\n  usbip: fix stub_rx: get_pipe() to validate endpoint number\n  tools/usbip: fixes potential (minor) \"buffer overflow\" (detected on recent gcc with -Werror)\n  USB: uas and storage: Add US_FL_BROKEN_FUA for another JMicron JMS567 ID\n  usb: musb: da8xx: fix babble condition handling",
  "full_message": "Merge tag 'usb-4.15-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb\n\nPull USB fixes from Greg KH:\n \"Here are some USB fixes for 4.15-rc4.\n\n  There is the usual handful gadget/dwc2/dwc3 fixes as always, for\n  reported issues. But the most important things in here is the core fix\n  from Alan Stern to resolve a nasty security bug (my first attempt is\n  reverted, Alan's was much cleaner), as well as a number of usbip fixes\n  from Shuah Khan to resolve those reported security issues.\n\n  All of these have been in linux-next with no reported issues\"\n\n* tag 'usb-4.15-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb:\n  USB: core: prevent malicious bNumInterfaces overflow\n  Revert \"USB: core: only clean up what we allocated\"\n  USB: core: only clean up what we allocated\n  Revert \"usb: gadget: allow to enable legacy drivers without USB_ETH\"\n  usb: gadget: webcam: fix V4L2 Kconfig dependency\n  usb: dwc2: Fix TxFIFOn sizes and total TxFIFO size issues\n  usb: dwc3: gadget: Fix PCM1 for ISOC EP with ep->mult less than 3\n  usb: dwc3: of-simple: set dev_pm_ops\n  usb: dwc3: of-simple: fix missing clk_disable_unprepare\n  usb: dwc3: gadget: Wait longer for controller to end command processing\n  usb: xhci: fix TDS for MTK xHCI1.1\n  xhci: Don't add a virt_dev to the devs array before it's fully allocated\n  usbip: fix stub_send_ret_submit() vulnerability to null transfer_buffer\n  usbip: prevent vhci_hcd driver from leaking a socket pointer address\n  usbip: fix stub_rx: harden CMD_SUBMIT path to handle malicious input\n  usbip: fix stub_rx: get_pipe() to validate endpoint number\n  tools/usbip: fixes potential (minor) \"buffer overflow\" (detected on recent gcc with -Werror)\n  USB: uas and storage: Add US_FL_BROKEN_FUA for another JMicron JMS567 ID\n  usb: musb: da8xx: fix babble condition handling",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri Dec 15 13:03:25 2017 -0800",
  "author_date_iso": "2017-12-15T13:03:25-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri Dec 15 13:03:25 2017 -0800",
  "committer_date_iso": "2017-12-15T13:03:25-08:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "drivers/usb/core/config.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/usb/dwc2/core.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/usb/dwc2/gadget.c",
      "insertions": 2,
      "deletions": 40
    },
    {
      "file": "drivers/usb/dwc2/params.c",
      "insertions": 19,
      "deletions": 10
    },
    {
      "file": "drivers/usb/dwc3/dwc3-of-simple.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "drivers/usb/dwc3/gadget.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/usb/gadget/Kconfig",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/usb/gadget/legacy/Kconfig",
      "insertions": 1,
      "deletions": 11
    },
    {
      "file": "drivers/usb/host/xhci-mem.c",
      "insertions": 11,
      "deletions": 4
    },
    {
      "file": "drivers/usb/host/xhci-ring.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/usb/musb/da8xx.c",
      "insertions": 9,
      "deletions": 1
    },
    {
      "file": "drivers/usb/storage/unusual_devs.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/usb/storage/unusual_uas.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/usb/usbip/stub_rx.c",
      "insertions": 41,
      "deletions": 10
    },
    {
      "file": "drivers/usb/usbip/stub_tx.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/usb/usbip/usbip_common.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/usb/usbip/vhci_sysfs.c",
      "insertions": 16,
      "deletions": 9
    },
    {
      "file": "tools/usb/usbip/libsrc/vhci_driver.c",
      "insertions": 5,
      "deletions": 5
    }
  ],
  "total_insertions": 144,
  "total_deletions": 99,
  "total_changes": 243,
  "parents": [
    "a84ec72324e291262137726d10d67f90c4c5110e",
    "48a4ff1c7bb5a32d2e396b03132d20d552c0eca7"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.15",
    "v4.15-rc4",
    "v4.15-rc5",
    "v4.15-rc6",
    "v4.15-rc7",
    "v4.15-rc8",
    "v4.15-rc9",
    "v4.16",
    "v4.16-rc1",
    "v4.16-rc2"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "security bug",
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": []
}