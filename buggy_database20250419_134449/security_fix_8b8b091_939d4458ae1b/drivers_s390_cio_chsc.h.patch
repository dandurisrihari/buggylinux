commit 8b8b0915ba8daef9b4320d6dc75a2ec14e1fe2df
Author: Sebastian Ott <sebott@linux.ibm.com>
Date:   Thu Oct 8 15:13:27 2020 +0200

    s390/cio: Export information about Endpoint-Security Capability
    
    Add a new sysfs attribute 'esc' per chpid. This new attribute exports
    the Endpoint-Security-Capability byte of channel-path description block,
    which could be 0-None, 1-Authentication, 2 and 3-Encryption.
    
    For example:
    $ cat /sys/devices/css0/chp0.34/esc
    0
    
    [vneethv@linux.ibm.com: cleaned-up & modified description]
    
    Signed-off-by: Sebastian Ott <sebott@linux.ibm.com>
    Signed-off-by: Vineeth Vijayan <vneethv@linux.ibm.com>
    Signed-off-by: Stefan Haberland <sth@linux.ibm.com>
    Reviewed-by: Jan HÃ¶ppner <hoeppner@linux.ibm.com>
    Reviewed-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Reviewed-by: Cornelia Huck <cohuck@redhat.com>
    Acked-by: Vasily Gorbik <gor@linux.ibm.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

diff --git a/drivers/s390/cio/chsc.h b/drivers/s390/cio/chsc.h
index c2b83b68bc57..32fa7faa5bf6 100644
--- a/drivers/s390/cio/chsc.h
+++ b/drivers/s390/cio/chsc.h
@@ -27,7 +27,8 @@ struct channel_path_desc_fmt1 {
 	u8 lsn;
 	u8 desc;
 	u8 chpid;
-	u32:24;
+	u32:16;
+	u8 esc;
 	u8 chpp;
 	u32 unused[2];
 	u16 chid;