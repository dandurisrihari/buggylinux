{
  "hash": "4549415af6915017f5d3fbdbfd5edd1dfbe63fa9",
  "hash_short": "4549415a",
  "subject": "[SCSI] qla4xxx: Do not add duplicate CHAP entry in FLASH",
  "body": "QLogic applications store the CHAP information in FLASH. During login,\nauthentication information is provided using an index into the CHAP region.\n\nIn order to support QLogic applications along with iscsiadm, updated the\nLLD to not add duplicate CHAP entries in the CHAP region and preserve the\nexisting CHAP info in the CHAP region in FLASH.\nThis allows QLogic applications to pre-write the CHAP entries in the\nCHAP region.\n\nWith iscsiadm, when the CHAP authentication information is sent to the LLD, the\nLLD searches for the entry in CHAP region in FLASH, if exists then do not add.\nIf CHAP entry does not exist then add the CHAP entry in the CHAP region.\n\nJIRA Key: UPSISCSI-146\n\nSigned-off-by: Lalit Chandivade <lalit.chandivade@qlogic.com>\nSigned-off-by: Vikas Chaudhary <vikas.chaudhary@qlogic.com>\nReviewed-by: Mike Christie <michaelc@cs.wisc.edu>\nSigned-off-by: James Bottomley <JBottomley@Parallels.com>",
  "full_message": "[SCSI] qla4xxx: Do not add duplicate CHAP entry in FLASH\n\nQLogic applications store the CHAP information in FLASH. During login,\nauthentication information is provided using an index into the CHAP region.\n\nIn order to support QLogic applications along with iscsiadm, updated the\nLLD to not add duplicate CHAP entries in the CHAP region and preserve the\nexisting CHAP info in the CHAP region in FLASH.\nThis allows QLogic applications to pre-write the CHAP entries in the\nCHAP region.\n\nWith iscsiadm, when the CHAP authentication information is sent to the LLD, the\nLLD searches for the entry in CHAP region in FLASH, if exists then do not add.\nIf CHAP entry does not exist then add the CHAP entry in the CHAP region.\n\nJIRA Key: UPSISCSI-146\n\nSigned-off-by: Lalit Chandivade <lalit.chandivade@qlogic.com>\nSigned-off-by: Vikas Chaudhary <vikas.chaudhary@qlogic.com>\nReviewed-by: Mike Christie <michaelc@cs.wisc.edu>\nSigned-off-by: James Bottomley <JBottomley@Parallels.com>",
  "author_name": "Lalit Chandivade",
  "author_email": "lalit.chandivade@qlogic.com",
  "author_date": "Fri Oct 7 16:55:42 2011 -0700",
  "author_date_iso": "2011-10-07T16:55:42-07:00",
  "committer_name": "James Bottomley",
  "committer_email": "JBottomley@Parallels.com",
  "committer_date": "Sun Oct 16 11:08:41 2011 -0500",
  "committer_date_iso": "2011-10-16T11:08:41-05:00",
  "files_changed": [
    "drivers/scsi/qla4xxx/ql4_def.h",
    "drivers/scsi/qla4xxx/ql4_fw.h",
    "drivers/scsi/qla4xxx/ql4_mbx.c",
    "drivers/scsi/qla4xxx/ql4_nx.c",
    "drivers/scsi/qla4xxx/ql4_os.c"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "drivers/scsi/qla4xxx/ql4_def.h",
      "insertions": 9,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_fw.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_mbx.c",
      "insertions": 107,
      "deletions": 34
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_nx.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_os.c",
      "insertions": 67,
      "deletions": 0
    }
  ],
  "total_insertions": 195,
  "total_deletions": 35,
  "total_changes": 230,
  "parents": [
    "0854f665a1cbb4566d3ebe449169b0200b8cdad0"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/qla4xxx/ql4_def.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_fw.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_mbx.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_nx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla4xxx/ql4_os.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}