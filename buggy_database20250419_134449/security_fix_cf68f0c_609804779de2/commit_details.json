{
  "hash": "cf68f0c3a07b092bca92e7b4f1b3893ab454bd38",
  "hash_short": "cf68f0c3",
  "subject": "drm/i915: Mark i915.inject_load_failure as being hit",
  "body": "When we reach the magic value and do inject a fault into our module load,\nmark the module option as being hit. Since we fail from inside pci\nprobe, the module load isn't actually aborted and the module (and\nparameters) are left lingering. igt can then inspect the parameter on its\nsynchronous completion of modprobe to see if the fault injection was\nsuccessful, and will keeping on injecting new faults until the module\nsucceeds in loading having surpassed the number of fault points.\n\nv2: Reset to 0 after being hit;\n\nSigned-off-by: Chris Wilson <chris@chris-wilson.co.uk>\nCc: Micha\u0142 Winiarski <michal.winiarski@intel.com>\nCc: Imre Deak <imre.deak@intel.com>\nReviewed-by: Micha\u0142 Winiarski <michal.winiarski@intel.com>\nReviewed-by: Michal Wajdeczko <michal.wajdeczko@intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/20180606144153.4244-1-chris@chris-wilson.co.uk",
  "full_message": "drm/i915: Mark i915.inject_load_failure as being hit\n\nWhen we reach the magic value and do inject a fault into our module load,\nmark the module option as being hit. Since we fail from inside pci\nprobe, the module load isn't actually aborted and the module (and\nparameters) are left lingering. igt can then inspect the parameter on its\nsynchronous completion of modprobe to see if the fault injection was\nsuccessful, and will keeping on injecting new faults until the module\nsucceeds in loading having surpassed the number of fault points.\n\nv2: Reset to 0 after being hit;\n\nSigned-off-by: Chris Wilson <chris@chris-wilson.co.uk>\nCc: Micha\u0142 Winiarski <michal.winiarski@intel.com>\nCc: Imre Deak <imre.deak@intel.com>\nReviewed-by: Micha\u0142 Winiarski <michal.winiarski@intel.com>\nReviewed-by: Michal Wajdeczko <michal.wajdeczko@intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/20180606144153.4244-1-chris@chris-wilson.co.uk",
  "author_name": "Chris Wilson",
  "author_email": "chris@chris-wilson.co.uk",
  "author_date": "Wed Jun 6 15:41:53 2018 +0100",
  "author_date_iso": "2018-06-06T15:41:53+01:00",
  "committer_name": "Chris Wilson",
  "committer_email": "chris@chris-wilson.co.uk",
  "committer_date": "Wed Jun 6 18:37:30 2018 +0100",
  "committer_date_iso": "2018-06-06T18:37:30+01:00",
  "files_changed": [
    "drivers/gpu/drm/i915/i915_drv.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/gpu/drm/i915/i915_drv.c",
      "insertions": 5,
      "deletions": 5
    }
  ],
  "total_insertions": 5,
  "total_deletions": 5,
  "total_changes": 10,
  "parents": [
    "82ad6443a55ea274ab2f0e24ada71f0529f3238b"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.19",
    "v4.19-rc1",
    "v4.19-rc2",
    "v4.19-rc3",
    "v4.19-rc4",
    "v4.19-rc5",
    "v4.19-rc6",
    "v4.19-rc7",
    "v4.19-rc8",
    "v4.20"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/i915/i915_drv.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}