Commit Hash: cf68f0c3a07b092bca92e7b4f1b3893ab454bd38
Subject: drm/i915: Mark i915.inject_load_failure as being hit


Security Keywords:
- inject

Full commit message:
drm/i915: Mark i915.inject_load_failure as being hit

When we reach the magic value and do inject a fault into our module load,
mark the module option as being hit. Since we fail from inside pci
probe, the module load isn't actually aborted and the module (and
parameters) are left lingering. igt can then inspect the parameter on its
synchronous completion of modprobe to see if the fault injection was
successful, and will keeping on injecting new faults until the module
succeeds in loading having surpassed the number of fault points.

v2: Reset to 0 after being hit;

Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
Cc: Michał Winiarski <michal.winiarski@intel.com>
Cc: Imre Deak <imre.deak@intel.com>
Reviewed-by: Michał Winiarski <michal.winiarski@intel.com>
Reviewed-by: Michal Wajdeczko <michal.wajdeczko@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20180606144153.4244-1-chris@chris-wilson.co.uk

Metadata:
Author: Chris Wilson <chris@chris-wilson.co.uk>
Author Date: Wed Jun 6 15:41:53 2018 +0100
Committer: Chris Wilson <chris@chris-wilson.co.uk>
Commit Date: Wed Jun 6 18:37:30 2018 +0100

Files Changed: 1
Lines Added: 5
Lines Removed: 5
Total Changes: 10
