{
  "hash": "f5e829f92a494a0b66d309497bab4e9d10d4ce3e",
  "hash_short": "f5e829f9",
  "subject": "ALSA: control: Add input validation",
  "body": "This patch adds a new feature to enable the validation of input data\nto control elements in the ALSA core side.  When\nCONFIG_SND_CTL_INPUT_VALIDATION is set, ALSA core verifies whether the\neach input value via control API is in the defined ranges, also checks\nwhether it's aligned to the defined steps.  If an invalid value is\ndetected, ALSA core returns -EINVAL error immediately without passing\nfurther to the driver's callback.  So this is a kind of hardening for\n(badly written) drivers that have no proper error checks, at the cost\nof a slight performance overhead.\n\nTechnically seen, this reuses a part of the existing validation code\nfor CONFIG_SND_CTL_DEBUG case with a slight modification to suppress\nerror prints for the input validation.\n\nLink: https://lore.kernel.org/r/20220609120219.3937-5-tiwai@suse.de\nSigned-off-by: Takashi Iwai <tiwai@suse.de>",
  "full_message": "ALSA: control: Add input validation\n\nThis patch adds a new feature to enable the validation of input data\nto control elements in the ALSA core side.  When\nCONFIG_SND_CTL_INPUT_VALIDATION is set, ALSA core verifies whether the\neach input value via control API is in the defined ranges, also checks\nwhether it's aligned to the defined steps.  If an invalid value is\ndetected, ALSA core returns -EINVAL error immediately without passing\nfurther to the driver's callback.  So this is a kind of hardening for\n(badly written) drivers that have no proper error checks, at the cost\nof a slight performance overhead.\n\nTechnically seen, this reuses a part of the existing validation code\nfor CONFIG_SND_CTL_DEBUG case with a slight modification to suppress\nerror prints for the input validation.\n\nLink: https://lore.kernel.org/r/20220609120219.3937-5-tiwai@suse.de\nSigned-off-by: Takashi Iwai <tiwai@suse.de>",
  "author_name": "Takashi Iwai",
  "author_email": "tiwai@suse.de",
  "author_date": "Thu Jun 9 14:02:19 2022 +0200",
  "author_date_iso": "2022-06-09T14:02:19+02:00",
  "committer_name": "Takashi Iwai",
  "committer_email": "tiwai@suse.de",
  "committer_date": "Wed Jun 15 07:45:28 2022 +0200",
  "committer_date_iso": "2022-06-15T07:45:28+02:00",
  "files_changed": [
    "sound/core/Kconfig",
    "sound/core/control.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "sound/core/Kconfig",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "sound/core/control.c",
      "insertions": 49,
      "deletions": 20
    }
  ],
  "total_insertions": 59,
  "total_deletions": 20,
  "total_changes": 79,
  "parents": [
    "4e54316ad2485dedf8570fc2afa6fa6ce32db207"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "sound/core/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "sound/core/control.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}