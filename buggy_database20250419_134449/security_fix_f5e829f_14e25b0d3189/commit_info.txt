Commit Hash: f5e829f92a494a0b66d309497bab4e9d10d4ce3e
Subject: ALSA: control: Add input validation


Security Keywords:
- hardening

Full commit message:
ALSA: control: Add input validation

This patch adds a new feature to enable the validation of input data
to control elements in the ALSA core side.  When
CONFIG_SND_CTL_INPUT_VALIDATION is set, ALSA core verifies whether the
each input value via control API is in the defined ranges, also checks
whether it's aligned to the defined steps.  If an invalid value is
detected, ALSA core returns -EINVAL error immediately without passing
further to the driver's callback.  So this is a kind of hardening for
(badly written) drivers that have no proper error checks, at the cost
of a slight performance overhead.

Technically seen, this reuses a part of the existing validation code
for CONFIG_SND_CTL_DEBUG case with a slight modification to suppress
error prints for the input validation.

Link: https://lore.kernel.org/r/20220609120219.3937-5-tiwai@suse.de
Signed-off-by: Takashi Iwai <tiwai@suse.de>

Metadata:
Author: Takashi Iwai <tiwai@suse.de>
Author Date: Thu Jun 9 14:02:19 2022 +0200
Committer: Takashi Iwai <tiwai@suse.de>
Commit Date: Wed Jun 15 07:45:28 2022 +0200

Files Changed: 2
Lines Added: 59
Lines Removed: 20
Total Changes: 79
