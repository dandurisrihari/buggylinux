{
  "hash": "95d8c67187bcfaa519bafcdef9091cd906505454",
  "hash_short": "95d8c671",
  "subject": "Merge tag 'drm-msm-next-2022-09-22' of https://gitlab.freedesktop.org/drm/msm into drm-next",
  "body": "msm-next for v6.1\n\nDPU:\n- simplified VBIF configuration\n- cleaned up CTL interfaces to accept indices rather than flush masks\n\nDSI:\n- removed unused msm_display_dsc_config struct\n- switch regulator calls to new bulk API\n- switched to use PANEL_BRIDGE for directly attached panels\n\nDSI PHY:\n- converted drivers to use parent_hws instead of parent_names\n\nDP:\n- cleaned up pixel_rate handling\n\nHDMI PHY:\n- turned hdmi-phy-8996 into OF clk provider\n\ncore:\n- misc dt-bindings fixes\n- choose eDP as primary display if it's available\n- support getting interconnects from either the mdss or the mdp5/dpu\n  device nodes\n\ngpu+gem:\n- Shrinker + LRU re-work:\n  - adds a shared GEM LRU+shrinker helper and moves msm over to that\n  - reduces lock contention between retire and submit by avoiding the\n    need to acquire obj lock in retire path (and instead using resv\n    seeing obj's busyness in the shrinker\n  - fix reclaim vs submit issues\n- GEM fault injection for triggering userspace error paths\n- Map/unmap optimization\n- Improved robustness for a6xx GPU recovery\n\nSigned-off-by: Dave Airlie <airlied@redhat.com>\nFrom: Rob Clark <robdclark@gmail.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/CAF6AEGsrfrr9v1oR9S4oYfOs9jm=jbKQiwPBTrCRHrjYerJJFA@mail.gmail.com",
  "full_message": "Merge tag 'drm-msm-next-2022-09-22' of https://gitlab.freedesktop.org/drm/msm into drm-next\n\nmsm-next for v6.1\n\nDPU:\n- simplified VBIF configuration\n- cleaned up CTL interfaces to accept indices rather than flush masks\n\nDSI:\n- removed unused msm_display_dsc_config struct\n- switch regulator calls to new bulk API\n- switched to use PANEL_BRIDGE for directly attached panels\n\nDSI PHY:\n- converted drivers to use parent_hws instead of parent_names\n\nDP:\n- cleaned up pixel_rate handling\n\nHDMI PHY:\n- turned hdmi-phy-8996 into OF clk provider\n\ncore:\n- misc dt-bindings fixes\n- choose eDP as primary display if it's available\n- support getting interconnects from either the mdss or the mdp5/dpu\n  device nodes\n\ngpu+gem:\n- Shrinker + LRU re-work:\n  - adds a shared GEM LRU+shrinker helper and moves msm over to that\n  - reduces lock contention between retire and submit by avoiding the\n    need to acquire obj lock in retire path (and instead using resv\n    seeing obj's busyness in the shrinker\n  - fix reclaim vs submit issues\n- GEM fault injection for triggering userspace error paths\n- Map/unmap optimization\n- Improved robustness for a6xx GPU recovery\n\nSigned-off-by: Dave Airlie <airlied@redhat.com>\nFrom: Rob Clark <robdclark@gmail.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/CAF6AEGsrfrr9v1oR9S4oYfOs9jm=jbKQiwPBTrCRHrjYerJJFA@mail.gmail.com",
  "author_name": "Dave Airlie",
  "author_email": "airlied@redhat.com",
  "author_date": "Wed Sep 28 11:35:25 2022 +1000",
  "author_date_iso": "2022-09-28T11:35:25+10:00",
  "committer_name": "Dave Airlie",
  "committer_email": "airlied@redhat.com",
  "committer_date": "Wed Sep 28 11:35:25 2022 +1000",
  "committer_date_iso": "2022-09-28T11:35:25+10:00",
  "files_changed": [
    "drivers/gpu/drm/msm/msm_drv.c",
    "drivers/gpu/drm/msm/msm_drv.h",
    "include/drm/drm_gem.h",
    "include/drm/drm_mipi_dsi.h"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "Documentation/devicetree/bindings/display/msm/dp-controller.yaml",
      "insertions": 41,
      "deletions": 6
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/dpu-msm8998.yaml",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/dpu-qcm2290.yaml",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/dpu-sc7180.yaml",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/dpu-sc7280.yaml",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/dpu-sdm845.yaml",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/gmu.yaml",
      "insertions": 146,
      "deletions": 20
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/gpu.yaml",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "Documentation/devicetree/bindings/display/msm/mdp4.yaml",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "Documentation/devicetree/bindings/phy/qcom,hdmi-phy-qmp.yaml",
      "insertions": 12,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/drm_gem.c",
      "insertions": 170,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/msm/adreno/a3xx_gpu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/adreno/a4xx_gpu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/adreno/a6xx.xml.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/msm/adreno/a6xx_gmu.c",
      "insertions": 52,
      "deletions": 31
    },
    {
      "file": "drivers/gpu/drm/msm/adreno/a6xx_gpu.c",
      "insertions": 41,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_crtc.c",
      "insertions": 16,
      "deletions": 34
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_crtc.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_encoder.c",
      "insertions": 21,
      "deletions": 16
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_encoder.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_catalog.c",
      "insertions": 2,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_catalog.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_ctl.c",
      "insertions": 33,
      "deletions": 45
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_ctl.h",
      "insertions": 26,
      "deletions": 9
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_dsc.c",
      "insertions": 37,
      "deletions": 37
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_dsc.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_mdss.h",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_sspp.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_hw_sspp.h",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_kms.c",
      "insertions": 9,
      "deletions": 18
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_plane.c",
      "insertions": 14,
      "deletions": 80
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_plane.h",
      "insertions": 1,
      "deletions": 21
    },
    {
      "file": "drivers/gpu/drm/msm/disp/dpu1/dpu_vbif.c",
      "insertions": 37,
      "deletions": 28
    },
    {
      "file": "drivers/gpu/drm/msm/disp/mdp5/mdp5_kms.c",
      "insertions": 3,
      "deletions": 6
    },
    {
      "file": "drivers/gpu/drm/msm/dp/dp_catalog.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/dp/dp_ctrl.c",
      "insertions": 60,
      "deletions": 90
    },
    {
      "file": "drivers/gpu/drm/msm/dp/dp_ctrl.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/dp/dp_link.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/dsi.c",
      "insertions": 3,
      "deletions": 34
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/dsi.h",
      "insertions": 4,
      "deletions": 27
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/dsi_cfg.c",
      "insertions": 86,
      "deletions": 86
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/dsi_cfg.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/dsi_host.c",
      "insertions": 89,
      "deletions": 210
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/dsi_manager.c",
      "insertions": 32,
      "deletions": 256
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy.c",
      "insertions": 34,
      "deletions": 128
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy_10nm.c",
      "insertions": 86,
      "deletions": 99
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy_14nm.c",
      "insertions": 41,
      "deletions": 46
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy_20nm.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy_28nm.c",
      "insertions": 66,
      "deletions": 79
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy_28nm_8960.c",
      "insertions": 46,
      "deletions": 56
    },
    {
      "file": "drivers/gpu/drm/msm/dsi/phy/dsi_phy_7nm.c",
      "insertions": 90,
      "deletions": 98
    },
    {
      "file": "drivers/gpu/drm/msm/hdmi/hdmi_phy_8996.c",
      "insertions": 14,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/msm/msm_debugfs.c",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/msm/msm_drv.c",
      "insertions": 28,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/msm/msm_drv.h",
      "insertions": 62,
      "deletions": 26
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gem.c",
      "insertions": 64,
      "deletions": 115
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gem.h",
      "insertions": 12,
      "deletions": 111
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gem_prime.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gem_shrinker.c",
      "insertions": 76,
      "deletions": 88
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gem_submit.c",
      "insertions": 29,
      "deletions": 49
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gpu.c",
      "insertions": 14,
      "deletions": 10
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gpu.h",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gpu_devfreq.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/msm/msm_gpu_trace.h",
      "insertions": 17,
      "deletions": 19
    },
    {
      "file": "drivers/gpu/drm/msm/msm_io_utils.c",
      "insertions": 22,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/msm/msm_iommu.c",
      "insertions": 86,
      "deletions": 15
    },
    {
      "file": "drivers/gpu/drm/msm/msm_rd.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/msm/msm_ringbuffer.c",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/msm/msm_submitqueue.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/drm/drm_gem.h",
      "insertions": 55,
      "deletions": 0
    },
    {
      "file": "include/drm/drm_mipi_dsi.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/drm/drm_panel.h",
      "insertions": 0,
      "deletions": 7
    }
  ],
  "total_insertions": 1851,
  "total_deletions": 2078,
  "total_changes": 3929,
  "parents": [
    "d601cc93036aff7c603dda6d22cf6a8211dfed16",
    "e8b595f7b058c7909e410f3e0736d95e8f909d01"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/msm/msm_drv.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/msm/msm_drv.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/drm/drm_gem.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/drm/drm_mipi_dsi.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}