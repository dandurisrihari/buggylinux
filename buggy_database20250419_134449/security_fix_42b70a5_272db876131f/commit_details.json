{
  "hash": "42b70a5f6d18165a075d189d1bee82fad7cdbf29",
  "hash_short": "42b70a5f",
  "subject": "iwlagn: use cts-to-self protection on 5000 adapters series",
  "body": "This patch fixes 802.11n stability and performance regression we have\nsince 2.6.35. It boost performance on my 5GHz N-only network from about\n5MB/s to 8MB/s. Similar percentage boost can be observed on 2.4 GHz.\n\nThese are test results of 5x downloading of approximately 700MB iso\nimage:\n\nvanilla: 5.27 5.22 4.94 4.47 5.31 ; avr 5.0420 std 0.35110\npatched: 8.07 7.95 8.06 7.99 7.96 ; avr 8.0060 std 0.055946\n\nThis was achieved with NetworkManager configured to do not perform\nperiodical scans, by configuring constant BSSID. With periodical scans,\nafter some time, performance downgrade to unpatched driver level, like\nin example below:\n\npatched: 7.40 7.61 4.28 4.37 4.80 avr 5.6920 std 1.6683\n\nHowever patch still make better here, since similar test on unpatched\ndriver make link disconnects with below messages after some time:\n\nwlan1: authenticate with 00:23:69:35:d1:3f (try 1)\nwlan1: authenticate with 00:23:69:35:d1:3f (try 2)\nwlan1: authenticate with 00:23:69:35:d1:3f (try 3)\nwlan1: authentication with 00:23:69:35:d1:3f timed out\n\nOn 2.6.35 kernel patch helps against connection hangs with messages:\n\niwlagn 0000:20:00.0: queue 10 stuck 3 time. Fw reload.\niwlagn 0000:20:00.0: On demand firmware reload\niwlagn 0000:20:00.0: Stopping AGG while state not ON or starting\n\nCc: stable@kernel.org # 2.6.35+\nSigned-off-by: Stanislaw Gruszka <sgruszka@redhat.com>\nAcked-by: Wey-Yi Guy <wey-yi.w.guy@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "full_message": "iwlagn: use cts-to-self protection on 5000 adapters series\n\nThis patch fixes 802.11n stability and performance regression we have\nsince 2.6.35. It boost performance on my 5GHz N-only network from about\n5MB/s to 8MB/s. Similar percentage boost can be observed on 2.4 GHz.\n\nThese are test results of 5x downloading of approximately 700MB iso\nimage:\n\nvanilla: 5.27 5.22 4.94 4.47 5.31 ; avr 5.0420 std 0.35110\npatched: 8.07 7.95 8.06 7.99 7.96 ; avr 8.0060 std 0.055946\n\nThis was achieved with NetworkManager configured to do not perform\nperiodical scans, by configuring constant BSSID. With periodical scans,\nafter some time, performance downgrade to unpatched driver level, like\nin example below:\n\npatched: 7.40 7.61 4.28 4.37 4.80 avr 5.6920 std 1.6683\n\nHowever patch still make better here, since similar test on unpatched\ndriver make link disconnects with below messages after some time:\n\nwlan1: authenticate with 00:23:69:35:d1:3f (try 1)\nwlan1: authenticate with 00:23:69:35:d1:3f (try 2)\nwlan1: authenticate with 00:23:69:35:d1:3f (try 3)\nwlan1: authentication with 00:23:69:35:d1:3f timed out\n\nOn 2.6.35 kernel patch helps against connection hangs with messages:\n\niwlagn 0000:20:00.0: queue 10 stuck 3 time. Fw reload.\niwlagn 0000:20:00.0: On demand firmware reload\niwlagn 0000:20:00.0: Stopping AGG while state not ON or starting\n\nCc: stable@kernel.org # 2.6.35+\nSigned-off-by: Stanislaw Gruszka <sgruszka@redhat.com>\nAcked-by: Wey-Yi Guy <wey-yi.w.guy@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "author_name": "Stanislaw Gruszka",
  "author_email": "sgruszka@redhat.com",
  "author_date": "Thu May 26 17:14:22 2011 +0200",
  "author_date_iso": "2011-05-26T17:14:22+02:00",
  "committer_name": "John W. Linville",
  "committer_email": "linville@tuxdriver.com",
  "committer_date": "Mon Jun 6 15:24:17 2011 -0400",
  "committer_date_iso": "2011-06-06T15:24:17-04:00",
  "files_changed": [
    "drivers/net/wireless/iwlwifi/iwl-5000.c",
    "drivers/net/wireless/iwlwifi/iwl-agn-hcmd.c",
    "drivers/net/wireless/iwlwifi/iwl-agn-rxon.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-5000.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-agn-hcmd.c",
      "insertions": 2,
      "deletions": 10
    },
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-agn-rxon.c",
      "insertions": 8,
      "deletions": 0
    }
  ],
  "total_insertions": 10,
  "total_deletions": 11,
  "total_changes": 21,
  "parents": [
    "ab6a44ce1da48d35fe7ec95fa068aa617bd7e8dd"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.0",
    "v3.0-rc3",
    "v3.0-rc4",
    "v3.0-rc5",
    "v3.0-rc6",
    "v3.0-rc7",
    "v3.1",
    "v3.1-rc1",
    "v3.1-rc10",
    "v3.1-rc2"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-5000.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-agn-hcmd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wireless/iwlwifi/iwl-agn-rxon.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}