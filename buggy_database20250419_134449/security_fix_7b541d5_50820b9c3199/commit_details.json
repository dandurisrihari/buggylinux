{
  "hash": "7b541d557f705c7e5bcd874f3b960c8fb8dee562",
  "hash_short": "7b541d55",
  "subject": "Merge tag 'kvmarm-6.13' of https://git.kernel.org/pub/scm/linux/kernel/git/kvmarm/kvmarm into HEAD",
  "body": "KVM/arm64 changes for 6.13, part #1\n\n - Support for stage-1 permission indirection (FEAT_S1PIE) and\n   permission overlays (FEAT_S1POE), including nested virt + the\n   emulated page table walker\n\n - Introduce PSCI SYSTEM_OFF2 support to KVM + client driver. This call\n   was introduced in PSCIv1.3 as a mechanism to request hibernation,\n   similar to the S4 state in ACPI\n\n - Explicitly trap + hide FEAT_MPAM (QoS controls) from KVM guests. As\n   part of it, introduce trivial initialization of the host's MPAM\n   context so KVM can use the corresponding traps\n\n - PMU support under nested virtualization, honoring the guest\n   hypervisor's trap configuration and event filtering when running a\n   nested guest\n\n - Fixes to vgic ITS serialization where stale device/interrupt table\n   entries are not zeroed when the mapping is invalidated by the VM\n\n - Avoid emulated MMIO completion if userspace has requested synchronous\n   external abort injection\n\n - Various fixes and cleanups affecting pKVM, vCPU initialization, and\n   selftests",
  "full_message": "Merge tag 'kvmarm-6.13' of https://git.kernel.org/pub/scm/linux/kernel/git/kvmarm/kvmarm into HEAD\n\nKVM/arm64 changes for 6.13, part #1\n\n - Support for stage-1 permission indirection (FEAT_S1PIE) and\n   permission overlays (FEAT_S1POE), including nested virt + the\n   emulated page table walker\n\n - Introduce PSCI SYSTEM_OFF2 support to KVM + client driver. This call\n   was introduced in PSCIv1.3 as a mechanism to request hibernation,\n   similar to the S4 state in ACPI\n\n - Explicitly trap + hide FEAT_MPAM (QoS controls) from KVM guests. As\n   part of it, introduce trivial initialization of the host's MPAM\n   context so KVM can use the corresponding traps\n\n - PMU support under nested virtualization, honoring the guest\n   hypervisor's trap configuration and event filtering when running a\n   nested guest\n\n - Fixes to vgic ITS serialization where stale device/interrupt table\n   entries are not zeroed when the mapping is invalidated by the VM\n\n - Avoid emulated MMIO completion if userspace has requested synchronous\n   external abort injection\n\n - Various fixes and cleanups affecting pKVM, vCPU initialization, and\n   selftests",
  "author_name": "Paolo Bonzini",
  "author_email": "pbonzini@redhat.com",
  "author_date": "Thu Nov 14 07:05:36 2024 -0500",
  "author_date_iso": "2024-11-14T07:05:36-05:00",
  "committer_name": "Paolo Bonzini",
  "committer_email": "pbonzini@redhat.com",
  "committer_date": "Thu Nov 14 07:05:36 2024 -0500",
  "committer_date_iso": "2024-11-14T07:05:36-05:00",
  "files_changed": [
    "Documentation/virt/kvm/api.rst",
    "arch/arm64/include/asm/kvm_host.h",
    "tools/testing/selftests/kvm/Makefile"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "Documentation/arch/arm64/cpu-feature-registers.rst",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/api.rst",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/cpu.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/cpucaps.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/cpufeature.h",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/el2_setup.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_arm.h",
      "insertions": 1,
      "deletions": 29
    },
    {
      "file": "arch/arm64/include/asm/kvm_asm.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/kvm_emulate.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "insertions": 35,
      "deletions": 9
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 0,
      "deletions": 12
    },
    {
      "file": "arch/arm64/include/asm/vncr_mapping.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/uapi/asm/kvm.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "insertions": 96,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/cpuinfo.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/arch_timer.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "insertions": 3,
      "deletions": 23
    },
    {
      "file": "arch/arm64/kvm/at.c",
      "insertions": 404,
      "deletions": 66
    },
    {
      "file": "arch/arm64/kvm/emulate-nested.c",
      "insertions": 179,
      "deletions": 122
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/switch.h",
      "insertions": 31,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/sysreg-sr.h",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/trap_handler.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-main.c",
      "insertions": 3,
      "deletions": 9
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/pkvm.c",
      "insertions": 115,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/psci-relay.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/setup.c",
      "insertions": 1,
      "deletions": 19
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/sysreg-sr.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/vgic-v3-sr.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/sysreg-sr.c",
      "insertions": 158,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hypercalls.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/mmio.c",
      "insertions": 30,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/nested.c",
      "insertions": 73,
      "deletions": 9
    },
    {
      "file": "arch/arm64/kvm/pmu-emul.c",
      "insertions": 124,
      "deletions": 19
    },
    {
      "file": "arch/arm64/kvm/psci.c",
      "insertions": 43,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/reset.c",
      "insertions": 0,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "insertions": 250,
      "deletions": 59
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-its.c",
      "insertions": 17,
      "deletions": 15
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic.h",
      "insertions": 23,
      "deletions": 0
    },
    {
      "file": "arch/arm64/tools/cpucaps",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/tools/sysreg",
      "insertions": 244,
      "deletions": 5
    },
    {
      "file": "drivers/firmware/psci/psci.c",
      "insertions": 45,
      "deletions": 0
    },
    {
      "file": "include/kvm/arm_arch_timer.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/kvm/arm_pmu.h",
      "insertions": 16,
      "deletions": 2
    },
    {
      "file": "include/kvm/arm_psci.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/uapi/linux/psci.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "kernel/power/hibernate.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "tools/arch/arm64/include/asm/brk-imm.h",
      "insertions": 42,
      "deletions": 0
    },
    {
      "file": "tools/arch/arm64/include/asm/esr.h",
      "insertions": 455,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/debug-exceptions.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/mmio_abort.c",
      "insertions": 159,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/no-vgic-v3.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/page_fault_test.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/psci_test.c",
      "insertions": 92,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/set_id_regs.c",
      "insertions": 98,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/vpmu_counter_access.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/processor.h",
      "insertions": 2,
      "deletions": 13
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/processor.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/testing/selftests/kvm/lib/kvm_util.c",
      "insertions": 6,
      "deletions": 4
    }
  ],
  "total_insertions": 2859,
  "total_deletions": 461,
  "total_changes": 3320,
  "parents": [
    "b467ab82a9fde4b46c0cd2c299220857afb0e0d4",
    "60ad25e14ab5a4e56c8bf7f7d6846eacb9cd53df"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/virt/kvm/api.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}