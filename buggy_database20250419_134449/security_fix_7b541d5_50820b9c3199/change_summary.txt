Files changed: 3
Insertions: 2859
Deletions: 461
Total changes: 3320

File-specific changes:
Documentation/arch/arm64/cpu-feature-registers.rst: +2 -0
Documentation/virt/kvm/api.rst: +10 -0
arch/arm64/include/asm/cpu.h: +1 -0
arch/arm64/include/asm/cpucaps.h: +5 -0
arch/arm64/include/asm/cpufeature.h: +17 -0
arch/arm64/include/asm/el2_setup.h: +14 -0
arch/arm64/include/asm/kvm_arm.h: +1 -29
arch/arm64/include/asm/kvm_asm.h: +0 -1
arch/arm64/include/asm/kvm_emulate.h: +9 -0
arch/arm64/include/asm/kvm_host.h: +35 -9
arch/arm64/include/asm/sysreg.h: +0 -12
arch/arm64/include/asm/vncr_mapping.h: +0 -1
arch/arm64/include/uapi/asm/kvm.h: +6 -0
arch/arm64/kernel/cpufeature.c: +96 -0
arch/arm64/kernel/cpuinfo.c: +3 -0
arch/arm64/kvm/arch_timer.c: +1 -2
arch/arm64/kvm/arm.c: +3 -23
arch/arm64/kvm/at.c: +404 -66
arch/arm64/kvm/emulate-nested.c: +179 -122
arch/arm64/kvm/hyp/include/hyp/switch.h: +31 -0
arch/arm64/kvm/hyp/include/hyp/sysreg-sr.h: +6 -5
arch/arm64/kvm/hyp/include/nvhe/trap_handler.h: +0 -2
arch/arm64/kvm/hyp/nvhe/hyp-main.c: +3 -9
arch/arm64/kvm/hyp/nvhe/pkvm.c: +115 -1
arch/arm64/kvm/hyp/nvhe/psci-relay.c: +2 -0
arch/arm64/kvm/hyp/nvhe/setup.c: +1 -19
arch/arm64/kvm/hyp/nvhe/sysreg-sr.c: +1 -1
arch/arm64/kvm/hyp/vgic-v3-sr.c: +0 -3
arch/arm64/kvm/hyp/vhe/sysreg-sr.c: +158 -2
arch/arm64/kvm/hypercalls.c: +2 -0
arch/arm64/kvm/mmio.c: +30 -2
arch/arm64/kvm/nested.c: +73 -9
arch/arm64/kvm/pmu-emul.c: +124 -19
arch/arm64/kvm/psci.c: +43 -1
arch/arm64/kvm/reset.c: +0 -5
arch/arm64/kvm/sys_regs.c: +250 -59
arch/arm64/kvm/vgic/vgic-its.c: +17 -15
arch/arm64/kvm/vgic/vgic.h: +23 -0
arch/arm64/tools/cpucaps: +2 -0
arch/arm64/tools/sysreg: +244 -5
drivers/firmware/psci/psci.c: +45 -0
include/kvm/arm_arch_timer.h: +3 -0
include/kvm/arm_pmu.h: +16 -2
include/kvm/arm_psci.h: +3 -1
include/uapi/linux/psci.h: +5 -0
kernel/power/hibernate.c: +4 -1
tools/arch/arm64/include/asm/brk-imm.h: +42 -0
tools/arch/arm64/include/asm/esr.h: +455 -0
tools/testing/selftests/kvm/Makefile: +1 -0
tools/testing/selftests/kvm/aarch64/debug-exceptions.c: +5 -5
tools/testing/selftests/kvm/aarch64/mmio_abort.c: +159 -0
tools/testing/selftests/kvm/aarch64/no-vgic-v3.c: +1 -1
tools/testing/selftests/kvm/aarch64/page_fault_test.c: +2 -2
tools/testing/selftests/kvm/aarch64/psci_test.c: +92 -0
tools/testing/selftests/kvm/aarch64/set_id_regs.c: +98 -1
tools/testing/selftests/kvm/aarch64/vpmu_counter_access.c: +6 -6
tools/testing/selftests/kvm/include/aarch64/processor.h: +2 -13
tools/testing/selftests/kvm/lib/aarch64/processor.c: +3 -3
tools/testing/selftests/kvm/lib/kvm_util.c: +6 -4
