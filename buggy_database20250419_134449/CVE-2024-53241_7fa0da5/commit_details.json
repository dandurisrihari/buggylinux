{
  "hash": "7fa0da5373685e7ed249af3fa317ab1e1ba8b0a6",
  "hash_short": "7fa0da53",
  "subject": "x86/xen: remove hypercall page",
  "body": "The hypercall page is no longer needed. It can be removed, as from the\nXen perspective it is optional.\n\nBut, from Linux's perspective, it removes naked RET instructions that\nescape the speculative protections that Call Depth Tracking and/or\nUntrain Ret are trying to achieve.\n\nThis is part of XSA-466 / CVE-2024-53241.\n\nReported-by: Andrew Cooper <andrew.cooper3@citrix.com>\nSigned-off-by: Juergen Gross <jgross@suse.com>\nReviewed-by: Andrew Cooper <andrew.cooper3@citrix.com>\nReviewed-by: Jan Beulich <jbeulich@suse.com>",
  "full_message": "x86/xen: remove hypercall page\n\nThe hypercall page is no longer needed. It can be removed, as from the\nXen perspective it is optional.\n\nBut, from Linux's perspective, it removes naked RET instructions that\nescape the speculative protections that Call Depth Tracking and/or\nUntrain Ret are trying to achieve.\n\nThis is part of XSA-466 / CVE-2024-53241.\n\nReported-by: Andrew Cooper <andrew.cooper3@citrix.com>\nSigned-off-by: Juergen Gross <jgross@suse.com>\nReviewed-by: Andrew Cooper <andrew.cooper3@citrix.com>\nReviewed-by: Jan Beulich <jbeulich@suse.com>",
  "author_name": "Juergen Gross",
  "author_email": "jgross@suse.com",
  "author_date": "Thu Oct 17 15:27:31 2024 +0200",
  "author_date_iso": "2024-10-17T15:27:31+02:00",
  "committer_name": "Juergen Gross",
  "committer_email": "jgross@suse.com",
  "committer_date": "Tue Dec 17 08:23:42 2024 +0100",
  "committer_date_iso": "2024-12-17T08:23:42+01:00",
  "files_changed": [
    "arch/x86/include/asm/xen/hypercall.h",
    "arch/x86/kernel/callthunks.c",
    "arch/x86/kernel/vmlinux.lds.S",
    "arch/x86/xen/enlighten.c",
    "arch/x86/xen/enlighten_hvm.c",
    "arch/x86/xen/enlighten_pvh.c",
    "arch/x86/xen/xen-head.S"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "arch/x86/include/asm/xen/hypercall.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/x86/kernel/callthunks.c",
      "insertions": 0,
      "deletions": 5
    },
    {
      "file": "arch/x86/kernel/vmlinux.lds.S",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "arch/x86/xen/enlighten.c",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/x86/xen/enlighten_hvm.c",
      "insertions": 1,
      "deletions": 8
    },
    {
      "file": "arch/x86/xen/enlighten_pvh.c",
      "insertions": 0,
      "deletions": 7
    },
    {
      "file": "arch/x86/xen/xen-head.S",
      "insertions": 0,
      "deletions": 24
    }
  ],
  "total_insertions": 1,
  "total_deletions": 52,
  "total_changes": 53,
  "parents": [
    "b1c2cb86f4a7861480ad54bb9a58df3cbebf8e92"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2024-53241"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "arch/x86/xen/enlighten.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/callthunks.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/xen/hypercall.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/vmlinux.lds.S",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/xen/xen-head.S",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/xen/enlighten_pvh.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/xen/enlighten_hvm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}