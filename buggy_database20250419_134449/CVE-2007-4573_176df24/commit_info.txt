Commit Hash: 176df2457ef6207156ca1a40991c54ca01fef567
Subject: x86_64: Zero extend all registers after ptrace in 32bit entry path.

CVE Identifiers:
- CVE-2007-4573

Full commit message:
x86_64: Zero extend all registers after ptrace in 32bit entry path.

Strictly it's only needed for eax.

It actually does a little more than strictly needed -- the other registers
are already zero extended.

Also remove the now unnecessary and non functional compat task check
in ptrace.

This is CVE-2007-4573

Found by Wojciech Purczynski

Signed-off-by: Andi Kleen <ak@suse.de>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Metadata:
Author: Andi Kleen <ak@suse.de>
Author Date: Fri Sep 21 16:16:18 2007 +0200
Committer: Linus Torvalds <torvalds@woody.linux-foundation.org>
Commit Date: Fri Sep 21 09:52:07 2007 -0700

Files Changed: 2
Lines Added: 15
Lines Removed: 7
Total Changes: 22
