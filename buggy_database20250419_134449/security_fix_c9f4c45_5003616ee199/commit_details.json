{
  "hash": "c9f4c45c8ec3f07f4f083f9750032a1ec3eab6b2",
  "hash_short": "c9f4c45c",
  "subject": "x86/speculation: Mark all Skylake CPUs as vulnerable to GDS",
  "body": "The Gather Data Sampling (GDS) vulnerability is common to all Skylake\nprocessors.  However, the \"client\" Skylakes* are now in this list:\n\n\thttps://www.intel.com/content/www/us/en/support/articles/000022396/processors.html\n\nwhich means they are no longer included for new vulnerabilities here:\n\n\thttps://www.intel.com/content/www/us/en/developer/topic-technology/software-security-guidance/processors-affected-consolidated-product-cpu-model.html\n\nor in other GDS documentation.  Thus, they were not included in the\noriginal GDS mitigation patches.\n\nMark SKYLAKE and SKYLAKE_L as vulnerable to GDS to match all the\nother Skylake CPUs (which include Kaby Lake).  Also group the CPUs\nso that the ones that share the exact same vulnerabilities are next\nto each other.\n\nLast, move SRBDS to the end of each line.  This makes it clear at a\nglance that SKYLAKE_X is unique.  Of the five Skylakes, it is the\nonly \"server\" CPU and has a different implementation from the\nclients of the \"special register\" hardware, making it immune to SRBDS.\n\nThis makes the diff much harder to read, but the resulting table is\nworth it.\n\nI very much appreciate the report from Michael Zhivich about this\nissue.  Despite what level of support a hardware vendor is providing,\nthe kernel very much needs an accurate and up-to-date list of\nvulnerable CPUs.  More reports like this are very welcome.\n\n* Client Skylakes are CPUID 406E3/506E3 which is family 6, models\n  0x4E and 0x5E, aka INTEL_FAM6_SKYLAKE and INTEL_FAM6_SKYLAKE_L.\n\nReported-by: Michael Zhivich <mzhivich@akamai.com>\nFixes: 8974eb588283 (\"x86/speculation: Add Gather Data Sampling mitigation\")\nSigned-off-by: Dave Hansen <dave.hansen@linux.intel.com>\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\nReviewed-by: Daniel Sneddon <daniel.sneddon@linux.intel.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "x86/speculation: Mark all Skylake CPUs as vulnerable to GDS\n\nThe Gather Data Sampling (GDS) vulnerability is common to all Skylake\nprocessors.  However, the \"client\" Skylakes* are now in this list:\n\n\thttps://www.intel.com/content/www/us/en/support/articles/000022396/processors.html\n\nwhich means they are no longer included for new vulnerabilities here:\n\n\thttps://www.intel.com/content/www/us/en/developer/topic-technology/software-security-guidance/processors-affected-consolidated-product-cpu-model.html\n\nor in other GDS documentation.  Thus, they were not included in the\noriginal GDS mitigation patches.\n\nMark SKYLAKE and SKYLAKE_L as vulnerable to GDS to match all the\nother Skylake CPUs (which include Kaby Lake).  Also group the CPUs\nso that the ones that share the exact same vulnerabilities are next\nto each other.\n\nLast, move SRBDS to the end of each line.  This makes it clear at a\nglance that SKYLAKE_X is unique.  Of the five Skylakes, it is the\nonly \"server\" CPU and has a different implementation from the\nclients of the \"special register\" hardware, making it immune to SRBDS.\n\nThis makes the diff much harder to read, but the resulting table is\nworth it.\n\nI very much appreciate the report from Michael Zhivich about this\nissue.  Despite what level of support a hardware vendor is providing,\nthe kernel very much needs an accurate and up-to-date list of\nvulnerable CPUs.  More reports like this are very welcome.\n\n* Client Skylakes are CPUID 406E3/506E3 which is family 6, models\n  0x4E and 0x5E, aka INTEL_FAM6_SKYLAKE and INTEL_FAM6_SKYLAKE_L.\n\nReported-by: Michael Zhivich <mzhivich@akamai.com>\nFixes: 8974eb588283 (\"x86/speculation: Add Gather Data Sampling mitigation\")\nSigned-off-by: Dave Hansen <dave.hansen@linux.intel.com>\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\nReviewed-by: Daniel Sneddon <daniel.sneddon@linux.intel.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Dave Hansen",
  "author_email": "dave.hansen@linux.intel.com",
  "author_date": "Tue Aug 29 08:07:25 2023 -0700",
  "author_date_iso": "2023-08-29T08:07:25-07:00",
  "committer_name": "Ingo Molnar",
  "committer_email": "mingo@kernel.org",
  "committer_date": "Thu Aug 31 20:20:31 2023 +0200",
  "committer_date_iso": "2023-08-31T20:20:31+02:00",
  "files_changed": [
    "arch/x86/kernel/cpu/common.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "insertions": 4,
      "deletions": 4
    }
  ],
  "total_insertions": 4,
  "total_deletions": 4,
  "total_changes": 8,
  "parents": [
    "e8f13e061d75ed0eeaaf599532a6b197f195d5f3"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}