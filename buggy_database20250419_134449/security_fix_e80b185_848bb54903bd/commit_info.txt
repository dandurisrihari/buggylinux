Commit Hash: e80b18599a39a625bc8b2e39ba3004a62f78805a
Subject: tomoyo: Add a kernel config option for fuzzing testing.


Security Keywords:
- injection

Full commit message:
tomoyo: Add a kernel config option for fuzzing testing.

syzbot is reporting kernel panic triggered by memory allocation fault
injection before loading TOMOYO's policy [1]. To make the fuzzing tests
useful, we need to assign a profile other than "disabled" (no-op) mode.
Therefore, let's allow syzbot to load TOMOYO's built-in policy for
"learning" mode using a kernel config option. This option must not be
enabled for kernels built for production system, for this option also
disables domain/program checks when modifying policy configuration via
/sys/kernel/security/tomoyo/ interface.

[1] https://syzkaller.appspot.com/bug?extid=29569ed06425fcf67a95

Reported-by: syzbot <syzbot+e1b8084e532b6ee7afab@syzkaller.appspotmail.com>
Reported-by: syzbot <syzbot+29569ed06425fcf67a95@syzkaller.appspotmail.com>
Reported-by: syzbot <syzbot+2ee3f8974c2e7dc69feb@syzkaller.appspotmail.com>
Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>
Signed-off-by: James Morris <jamorris@linux.microsoft.com>

Metadata:
Author: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>
Author Date: Fri Apr 12 20:04:54 2019 +0900
Committer: James Morris <jamorris@linux.microsoft.com>
Commit Date: Fri May 10 14:58:11 2019 -0700

Files Changed: 2
Lines Added: 22
Lines Removed: 1
Total Changes: 23
