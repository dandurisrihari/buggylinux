Commit Hash: 621739b00e16ca2d80411dc9b111cb15b91f3ba9
Subject: Revert "dm: only run the queue on completion if congested or no requests pending"


Security Keywords:
- injection

Full commit message:
Revert "dm: only run the queue on completion if congested or no requests pending"

This reverts commit 9a0e609e3fd8a95c96629b9fbde6b8c5b9a1456a.
(Resolved a conflict during revert due to commit bfebd1cdb4 that came
after)

This revert is motivated by a couple failure reports on request-based DM
multipath testbeds:
1) Netapp reported that their multipath fault injection test under heavy
   IO load can stall longer than 300 seconds.
2) IBM reported elevated lock contention in their testbed (likely due to
   increased back pressure due to IO not being dispatched as quickly):
   https://www.redhat.com/archives/dm-devel/2015-July/msg00057.html

Signed-off-by: Mike Snitzer <snitzer@redhat.com>
Cc: stable@vger.kernel.org # 4.1+

Metadata:
Author: Mike Snitzer <snitzer@redhat.com>
Author Date: Wed Jul 8 16:08:24 2015 -0400
Committer: Mike Snitzer <snitzer@redhat.com>
Commit Date: Wed Jul 8 16:16:07 2015 -0400

Files Changed: 1
Lines Added: 2
Lines Removed: 6
Total Changes: 8
