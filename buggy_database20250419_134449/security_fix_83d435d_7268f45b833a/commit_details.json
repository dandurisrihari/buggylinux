{
  "hash": "83d435dd6e24b17955f91480f633bb39f0a7c2b4",
  "hash_short": "83d435dd",
  "subject": "Fix example error_injection_tool",
  "body": "I got a \"sched_setaffinity:: Invalid argument\" error when using\nerr_injection_tool to inject error on a system with over 32 cpus.\n\nError information when injecting an error on a system with over 32 cpus:\n$ ./err_injection_tool -i\n/sys/devices/system/cpu/cpu0/err_inject//err_type_info\nBegine at Tue Mar 26 11:20:08 2013\nConfigurations:\nOn cpu32: loop=10, interval=5(s) err_type_info=4101,err_struct_info=95\nError sched_setaffinity:: Invalid argument\nAll done\n\nThis because there is overflow when calculating the cpumask: the\ntype of (1<<k) is int, while mask[j] is unsigned long. When k > 31,\n(1<<k) is truncated to ZERO, resulting in a unexpected cpumask.\n\nSigned-off-by: Xie XiuQi <xiexiuqi@huawei.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>",
  "full_message": "Fix example error_injection_tool\n\nI got a \"sched_setaffinity:: Invalid argument\" error when using\nerr_injection_tool to inject error on a system with over 32 cpus.\n\nError information when injecting an error on a system with over 32 cpus:\n$ ./err_injection_tool -i\n/sys/devices/system/cpu/cpu0/err_inject//err_type_info\nBegine at Tue Mar 26 11:20:08 2013\nConfigurations:\nOn cpu32: loop=10, interval=5(s) err_type_info=4101,err_struct_info=95\nError sched_setaffinity:: Invalid argument\nAll done\n\nThis because there is overflow when calculating the cpumask: the\ntype of (1<<k) is int, while mask[j] is unsigned long. When k > 31,\n(1<<k) is truncated to ZERO, resulting in a unexpected cpumask.\n\nSigned-off-by: Xie XiuQi <xiexiuqi@huawei.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>",
  "author_name": "Xie XiuQi",
  "author_email": "xiexiuqi@huawei.com",
  "author_date": "Fri Mar 29 09:43:47 2013 +0800",
  "author_date_iso": "2013-03-29T09:43:47+08:00",
  "committer_name": "Tony Luck",
  "committer_email": "tony.luck@intel.com",
  "committer_date": "Tue Apr 2 09:39:55 2013 -0700",
  "committer_date_iso": "2013-04-02T09:39:55-07:00",
  "files_changed": [
    "Documentation/ia64/err_inject.txt"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "Documentation/ia64/err_inject.txt",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "eee46b3de715c9a2a25ebf3c135b88a1d73d92c2"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/ia64/err_inject.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}