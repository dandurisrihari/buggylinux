{
  "hash": "788352191c85326beb74f518ba761ed38b82f533",
  "hash_short": "78835219",
  "subject": "rxrpc: Replace fake flex-array with flexible-array member",
  "body": "Zero-length arrays as fake flexible arrays are deprecated and we are\nmoving towards adopting C99 flexible-array members instead.\n\nTransform zero-length array into flexible-array member in struct\nrxrpc_ackpacket.\n\nAddress the following warnings found with GCC-13 and\n-fstrict-flex-arrays=3 enabled:\nnet/rxrpc/call_event.c:149:38: warning: array subscript i is outside array bounds of \u2018uint8_t[0]\u2019 {aka \u2018unsigned char[]\u2019} [-Warray-bounds=]\n\nThis helps with the ongoing efforts to tighten the FORTIFY_SOURCE\nroutines on memcpy() and help us make progress towards globally\nenabling -fstrict-flex-arrays=3 [1].\n\nLink: https://github.com/KSPP/linux/issues/21\nLink: https://github.com/KSPP/linux/issues/263\nLink: https://gcc.gnu.org/pipermail/gcc-patches/2022-October/602902.html [1]\nSigned-off-by: Gustavo A. R. Silva <gustavoars@kernel.org>\nSigned-off-by: David Howells <dhowells@redhat.com>\nReviewed-by: Simon Horman <simon.horman@corigine.com>\nReviewed-by: Kees Cook <keescook@chromium.org>\nReviewed-by: Jeffrey Altman <jaltman@auristor.com>\ncc: Marc Dionne <marc.dionne@auristor.com>\ncc: \"David S. Miller\" <davem@davemloft.net>\ncc: Eric Dumazet <edumazet@google.com>\ncc: Jakub Kicinski <kuba@kernel.org>\ncc: Paolo Abeni <pabeni@redhat.com>\ncc: linux-afs@lists.infradead.org\ncc: netdev@vger.kernel.org\ncc: linux-hardening@vger.kernel.org\nLink: https://lore.kernel.org/r/ZAZT11n4q5bBttW0@work/\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "rxrpc: Replace fake flex-array with flexible-array member\n\nZero-length arrays as fake flexible arrays are deprecated and we are\nmoving towards adopting C99 flexible-array members instead.\n\nTransform zero-length array into flexible-array member in struct\nrxrpc_ackpacket.\n\nAddress the following warnings found with GCC-13 and\n-fstrict-flex-arrays=3 enabled:\nnet/rxrpc/call_event.c:149:38: warning: array subscript i is outside array bounds of \u2018uint8_t[0]\u2019 {aka \u2018unsigned char[]\u2019} [-Warray-bounds=]\n\nThis helps with the ongoing efforts to tighten the FORTIFY_SOURCE\nroutines on memcpy() and help us make progress towards globally\nenabling -fstrict-flex-arrays=3 [1].\n\nLink: https://github.com/KSPP/linux/issues/21\nLink: https://github.com/KSPP/linux/issues/263\nLink: https://gcc.gnu.org/pipermail/gcc-patches/2022-October/602902.html [1]\nSigned-off-by: Gustavo A. R. Silva <gustavoars@kernel.org>\nSigned-off-by: David Howells <dhowells@redhat.com>\nReviewed-by: Simon Horman <simon.horman@corigine.com>\nReviewed-by: Kees Cook <keescook@chromium.org>\nReviewed-by: Jeffrey Altman <jaltman@auristor.com>\ncc: Marc Dionne <marc.dionne@auristor.com>\ncc: \"David S. Miller\" <davem@davemloft.net>\ncc: Eric Dumazet <edumazet@google.com>\ncc: Jakub Kicinski <kuba@kernel.org>\ncc: Paolo Abeni <pabeni@redhat.com>\ncc: linux-afs@lists.infradead.org\ncc: netdev@vger.kernel.org\ncc: linux-hardening@vger.kernel.org\nLink: https://lore.kernel.org/r/ZAZT11n4q5bBttW0@work/\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "Gustavo A. R. Silva",
  "author_email": "gustavoars@kernel.org",
  "author_date": "Fri Apr 21 14:08:53 2023 +0100",
  "author_date_iso": "2023-04-21T14:08:53+01:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Sun Apr 23 13:36:05 2023 +0100",
  "committer_date_iso": "2023-04-23T13:36:05+01:00",
  "files_changed": [
    "net/rxrpc/protocol.h"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/rxrpc/protocol.h",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "6bb218b5a6e3f3c5e2e76faf8fc976f3f6f72496"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/rxrpc/protocol.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}