Commit Hash: a8dfde09c90109e3a98af54847e91bde7dc2d5c2
Subject: selftests/bpf: Select CONFIG_FUNCTION_ERROR_INJECTION


Security Keywords:
- injection

Full commit message:
selftests/bpf: Select CONFIG_FUNCTION_ERROR_INJECTION

BPF selftests require CONFIG_FUNCTION_ERROR_INJECTION to work. However,
CONFIG_FUNCTION_ERROR_INJECTION is no longer 'y' by default after recent
changes. As a result, we are seeing errors like the following from BPF CI:

   bpf_testmod_test_read() is not modifiable
   __x64_sys_setdomainname is not sleepable
   __x64_sys_getpgid is not sleepable

Fix this by explicitly selecting CONFIG_FUNCTION_ERROR_INJECTION in the
selftest config.

Fixes: a4412fdd49dc ("error-injection: Add prompt for function error injection")
Reported-by: Daniel Müller <deso@posteo.net>
Signed-off-by: Song Liu <song@kernel.org>
Signed-off-by: Andrii Nakryiko <andrii@kernel.org>
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Acked-by: Daniel Müller <deso@posteo.net>
Link: https://lore.kernel.org/bpf/20221213220500.3427947-1-song@kernel.org

Metadata:
Author: Song Liu <song@kernel.org>
Author Date: Tue Dec 13 14:05:00 2022 -0800
Committer: Daniel Borkmann <daniel@iogearbox.net>
Commit Date: Wed Dec 14 18:35:41 2022 +0100

Files Changed: 1
Lines Added: 1
Lines Removed: 0
Total Changes: 1
