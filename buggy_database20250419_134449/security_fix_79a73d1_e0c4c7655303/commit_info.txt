Commit Hash: 79a73d188726b473ca3bf483244bc96096831905
Subject: encrypted-keys: add ecryptfs format support


Security Keywords:
- authentication

Full commit message:
encrypted-keys: add ecryptfs format support

The 'encrypted' key type defines its own payload format which contains a
symmetric key randomly generated that cannot be used directly to mount
an eCryptfs filesystem, because it expects an authentication token
structure.

This patch introduces the new format 'ecryptfs' that allows to store an
authentication token structure inside the encrypted key payload containing
a randomly generated symmetric key, as the same for the format 'default'.

More details about the usage of encrypted keys with the eCryptfs
filesystem can be found in the file 'Documentation/keys-ecryptfs.txt'.

Signed-off-by: Roberto Sassu <roberto.sassu@polito.it>
Acked-by: Gianluca Ramunno <ramunno@polito.it>
Acked-by: Tyler Hicks <tyhicks@linux.vnet.ibm.com>
Signed-off-by: Mimi Zohar <zohar@linux.vnet.ibm.com>

Metadata:
Author: Roberto Sassu <roberto.sassu@polito.it>
Author Date: Mon Jun 27 13:45:44 2011 +0200
Committer: Mimi Zohar <zohar@linux.vnet.ibm.com>
Commit Date: Mon Jun 27 09:11:17 2011 -0400

Files Changed: 6
Lines Added: 252
Lines Removed: 10
Total Changes: 262
