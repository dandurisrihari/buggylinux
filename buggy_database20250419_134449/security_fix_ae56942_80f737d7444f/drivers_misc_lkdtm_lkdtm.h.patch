commit ae56942c14740c2963222efdc36c667ab19555ef
Author: Kees Cook <kees@kernel.org>
Date:   Thu Jun 25 13:37:04 2020 -0700

    lkdtm: Make arch-specific tests always available
    
    I'd like arch-specific tests to XFAIL when on a mismatched architecture
    so that we can more easily compare test coverage across all systems.
    Lacking kernel configs or CPU features count as a FAIL, not an XFAIL.
    
    Additionally fixes a build failure under 32-bit UML.
    
    Fixes: b09511c253e5 ("lkdtm: Add a DOUBLE_FAULT crash type on x86")
    Fixes: cea23efb4de2 ("lkdtm/bugs: Make double-fault test always available")
    Fixes: 6cb6982f42cb ("lkdtm: arm64: test kernel pointer authentication")
    Signed-off-by: Kees Cook <keescook@chromium.org>
    Link: https://lore.kernel.org/r/20200625203704.317097-5-keescook@chromium.org
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/drivers/misc/lkdtm/lkdtm.h b/drivers/misc/lkdtm/lkdtm.h
index 601a2156a0d4..8878538b2c13 100644
--- a/drivers/misc/lkdtm/lkdtm.h
+++ b/drivers/misc/lkdtm/lkdtm.h
@@ -31,9 +31,7 @@ void lkdtm_CORRUPT_USER_DS(void);
 void lkdtm_STACK_GUARD_PAGE_LEADING(void);
 void lkdtm_STACK_GUARD_PAGE_TRAILING(void);
 void lkdtm_UNSET_SMEP(void);
-#ifdef CONFIG_X86_32
 void lkdtm_DOUBLE_FAULT(void);
-#endif
 void lkdtm_CORRUPT_PAC(void);
 
 /* lkdtm_heap.c */