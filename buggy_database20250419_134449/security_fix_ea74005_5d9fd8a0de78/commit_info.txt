Commit Hash: ea740059ecb37807ba47b84b33d1447435a8d868
Subject: KVM: x86: Protect DR-based index computations from Spectre-v1/L1TF attacks


Security Keywords:
- vulnerability

Full commit message:
KVM: x86: Protect DR-based index computations from Spectre-v1/L1TF attacks

This fixes a Spectre-v1/L1TF vulnerability in __kvm_set_dr() and
kvm_get_dr().
Both kvm_get_dr() and kvm_set_dr() (a wrapper of __kvm_set_dr()) are
exported symbols so KVM should tream them conservatively from a security
perspective.

Fixes: 020df0794f57 ("KVM: move DR register access handling into generic code")

Signed-off-by: Nick Finco <nifi@google.com>
Signed-off-by: Marios Pomonis <pomonis@google.com>
Reviewed-by: Andrew Honig <ahonig@google.com>
Cc: stable@vger.kernel.org
Reviewed-by: Jim Mattson <jmattson@google.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Marios Pomonis <pomonis@google.com>
Author Date: Wed Dec 11 12:47:52 2019 -0800
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Mon Jan 27 19:59:43 2020 +0100

Files Changed: 1
Lines Added: 6
Lines Removed: 2
Total Changes: 8
