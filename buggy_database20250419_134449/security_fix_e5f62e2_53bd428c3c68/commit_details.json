{
  "hash": "e5f62e27b16601f08b6b04dc964691d48d0a6a91",
  "hash_short": "e5f62e27",
  "subject": "Merge tag 'kvmarm-6.10-1' of git://git.kernel.org/pub/scm/linux/kernel/git/kvmarm/kvmarm into HEAD",
  "body": "KVM/arm64 updates for Linux 6.10\n\n- Move a lot of state that was previously stored on a per vcpu\n  basis into a per-CPU area, because it is only pertinent to the\n  host while the vcpu is loaded. This results in better state\n  tracking, and a smaller vcpu structure.\n\n- Add full handling of the ERET/ERETAA/ERETAB instructions in\n  nested virtualisation. The last two instructions also require\n  emulating part of the pointer authentication extension.\n  As a result, the trap handling of pointer authentication has\n  been greattly simplified.\n\n- Turn the global (and not very scalable) LPI translation cache\n  into a per-ITS, scalable cache, making non directly injected\n  LPIs much cheaper to make visible to the vcpu.\n\n- A batch of pKVM patches, mostly fixes and cleanups, as the\n  upstreaming process seems to be resuming. Fingers crossed!\n\n- Allocate PPIs and SGIs outside of the vcpu structure, allowing\n  for smaller EL2 mapping and some flexibility in implementing\n  more or less than 32 private IRQs.\n\n- Purge stale mpidr_data if a vcpu is created after the MPIDR\n  map has been created.\n\n- Preserve vcpu-specific ID registers across a vcpu reset.\n\n- Various minor cleanups and improvements.",
  "full_message": "Merge tag 'kvmarm-6.10-1' of git://git.kernel.org/pub/scm/linux/kernel/git/kvmarm/kvmarm into HEAD\n\nKVM/arm64 updates for Linux 6.10\n\n- Move a lot of state that was previously stored on a per vcpu\n  basis into a per-CPU area, because it is only pertinent to the\n  host while the vcpu is loaded. This results in better state\n  tracking, and a smaller vcpu structure.\n\n- Add full handling of the ERET/ERETAA/ERETAB instructions in\n  nested virtualisation. The last two instructions also require\n  emulating part of the pointer authentication extension.\n  As a result, the trap handling of pointer authentication has\n  been greattly simplified.\n\n- Turn the global (and not very scalable) LPI translation cache\n  into a per-ITS, scalable cache, making non directly injected\n  LPIs much cheaper to make visible to the vcpu.\n\n- A batch of pKVM patches, mostly fixes and cleanups, as the\n  upstreaming process seems to be resuming. Fingers crossed!\n\n- Allocate PPIs and SGIs outside of the vcpu structure, allowing\n  for smaller EL2 mapping and some flexibility in implementing\n  more or less than 32 private IRQs.\n\n- Purge stale mpidr_data if a vcpu is created after the MPIDR\n  map has been created.\n\n- Preserve vcpu-specific ID registers across a vcpu reset.\n\n- Various minor cleanups and improvements.",
  "author_name": "Paolo Bonzini",
  "author_email": "pbonzini@redhat.com",
  "author_date": "Sun May 12 03:15:53 2024 -0400",
  "author_date_iso": "2024-05-12T03:15:53-04:00",
  "committer_name": "Paolo Bonzini",
  "committer_email": "pbonzini@redhat.com",
  "committer_date": "Sun May 12 03:15:53 2024 -0400",
  "committer_date_iso": "2024-05-12T03:15:53-04:00",
  "files_changed": [
    "Documentation/virt/kvm/api.rst",
    "arch/arm64/kvm/mmu.c",
    "tools/testing/selftests/kvm/Makefile",
    "virt/kvm/kvm_main.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "Documentation/virt/kvm/api.rst",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/arm/fw-pseudo-registers.rst",
      "insertions": 138,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/arm/hypercalls.rst",
      "insertions": 44,
      "deletions": 136
    },
    {
      "file": "Documentation/virt/kvm/arm/index.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/virt/kvm/arm/ptp_kvm.rst",
      "insertions": 24,
      "deletions": 14
    },
    {
      "file": "arch/arm64/include/asm/esr.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_asm.h",
      "insertions": 2,
      "deletions": 6
    },
    {
      "file": "arch/arm64/include/asm/kvm_emulate.h",
      "insertions": 2,
      "deletions": 14
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "insertions": 108,
      "deletions": 48
    },
    {
      "file": "arch/arm64/include/asm/kvm_hyp.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/kvm_nested.h",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_ptrauth.h",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/pgtable-hwdef.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/virt.h",
      "insertions": 8,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kernel/pi/idreg-override.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/arm.c",
      "insertions": 164,
      "deletions": 45
    },
    {
      "file": "arch/arm64/kvm/emulate-nested.c",
      "insertions": 44,
      "deletions": 22
    },
    {
      "file": "arch/arm64/kvm/fpsimd.c",
      "insertions": 33,
      "deletions": 36
    },
    {
      "file": "arch/arm64/kvm/handle_exit.c",
      "insertions": 32,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/debug-sr.h",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/include/hyp/switch.h",
      "insertions": 11,
      "deletions": 75
    },
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/pkvm.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/debug-sr.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/ffa.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/hyp-main.c",
      "insertions": 6,
      "deletions": 21
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/mem_protect.c",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/pkvm.c",
      "insertions": 13,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/psci-relay.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/setup.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/switch.c",
      "insertions": 7,
      "deletions": 11
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/tlb.c",
      "insertions": 91,
      "deletions": 24
    },
    {
      "file": "arch/arm64/kvm/hyp/pgtable.c",
      "insertions": 18,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/hyp/vgic-v3-sr.c",
      "insertions": 23,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/switch.c",
      "insertions": 96,
      "deletions": 13
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/sysreg-sr.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hyp/vhe/tlb.c",
      "insertions": 13,
      "deletions": 13
    },
    {
      "file": "arch/arm64/kvm/mmio.c",
      "insertions": 10,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/mmu.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kvm/nested.c",
      "insertions": 2,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/pauth.c",
      "insertions": 206,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/pkvm.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/pmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/reset.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "insertions": 40,
      "deletions": 29
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-debug.c",
      "insertions": 60,
      "deletions": 22
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-init.c",
      "insertions": 63,
      "deletions": 27
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-its.c",
      "insertions": 104,
      "deletions": 248
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-mmio-v3.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-v2.c",
      "insertions": 1,
      "deletions": 8
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic-v3.c",
      "insertions": 2,
      "deletions": 21
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic.c",
      "insertions": 2,
      "deletions": 15
    },
    {
      "file": "arch/arm64/kvm/vgic/vgic.h",
      "insertions": 2,
      "deletions": 6
    },
    {
      "file": "include/kvm/arm_vgic.h",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/arch_timer.c",
      "insertions": 2,
      "deletions": 6
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/psci_test.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/set_id_regs.c",
      "insertions": 104,
      "deletions": 19
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/vgic_irq.c",
      "insertions": 4,
      "deletions": 11
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/vgic_lpi_stress.c",
      "insertions": 410,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/aarch64/vpmu_counter_access.c",
      "insertions": 1,
      "deletions": 5
    },
    {
      "file": "tools/testing/selftests/kvm/dirty_log_perf_test.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/gic.h",
      "insertions": 19,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/gic_v3.h",
      "insertions": 554,
      "deletions": 32
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/gic_v3_its.h",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/processor.h",
      "insertions": 17,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/include/aarch64/vgic.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/gic.c",
      "insertions": 7,
      "deletions": 11
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/gic_private.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/gic_v3.c",
      "insertions": 64,
      "deletions": 35
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/gic_v3_its.c",
      "insertions": 248,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/aarch64/vgic.c",
      "insertions": 28,
      "deletions": 10
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "insertions": 11,
      "deletions": 3
    },
    {
      "file": "virt/kvm/vfio.c",
      "insertions": 2,
      "deletions": 0
    }
  ],
  "total_insertions": 2971,
  "total_deletions": 1056,
  "total_changes": 4027,
  "parents": [
    "4232da23d75d173195c6766729e51947b64f83cd",
    "eaa46a28d59655aa89a8fb885affa6fc0de44376"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/virt/kvm/api.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/mmu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}