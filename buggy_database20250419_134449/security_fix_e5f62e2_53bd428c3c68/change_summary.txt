Files changed: 4
Insertions: 2971
Deletions: 1056
Total changes: 4027

File-specific changes:
Documentation/virt/kvm/api.rst: +7 -0
Documentation/virt/kvm/arm/fw-pseudo-registers.rst: +138 -0
Documentation/virt/kvm/arm/hypercalls.rst: +44 -136
Documentation/virt/kvm/arm/index.rst: +1 -0
Documentation/virt/kvm/arm/ptp_kvm.rst: +24 -14
arch/arm64/include/asm/esr.h: +12 -0
arch/arm64/include/asm/kvm_asm.h: +2 -6
arch/arm64/include/asm/kvm_emulate.h: +2 -14
arch/arm64/include/asm/kvm_host.h: +108 -48
arch/arm64/include/asm/kvm_hyp.h: +2 -2
arch/arm64/include/asm/kvm_nested.h: +13 -0
arch/arm64/include/asm/kvm_ptrauth.h: +21 -0
arch/arm64/include/asm/pgtable-hwdef.h: +1 -0
arch/arm64/include/asm/virt.h: +8 -4
arch/arm64/kernel/pi/idreg-override.c: +2 -2
arch/arm64/kvm/Makefile: +1 -0
arch/arm64/kvm/arm.c: +164 -45
arch/arm64/kvm/emulate-nested.c: +44 -22
arch/arm64/kvm/fpsimd.c: +33 -36
arch/arm64/kvm/handle_exit.c: +32 -4
arch/arm64/kvm/hyp/include/hyp/debug-sr.h: +4 -4
arch/arm64/kvm/hyp/include/hyp/switch.h: +11 -75
arch/arm64/kvm/hyp/include/nvhe/pkvm.h: +6 -0
arch/arm64/kvm/hyp/nvhe/debug-sr.c: +4 -4
arch/arm64/kvm/hyp/nvhe/ffa.c: +0 -1
arch/arm64/kvm/hyp/nvhe/hyp-main.c: +6 -21
arch/arm64/kvm/hyp/nvhe/mem_protect.c: +7 -1
arch/arm64/kvm/hyp/nvhe/pkvm.c: +13 -1
arch/arm64/kvm/hyp/nvhe/psci-relay.c: +1 -1
arch/arm64/kvm/hyp/nvhe/setup.c: +2 -2
arch/arm64/kvm/hyp/nvhe/switch.c: +7 -11
arch/arm64/kvm/hyp/nvhe/tlb.c: +91 -24
arch/arm64/kvm/hyp/pgtable.c: +18 -3
arch/arm64/kvm/hyp/vgic-v3-sr.c: +23 -4
arch/arm64/kvm/hyp/vhe/switch.c: +96 -13
arch/arm64/kvm/hyp/vhe/sysreg-sr.c: +2 -2
arch/arm64/kvm/hyp/vhe/tlb.c: +13 -13
arch/arm64/kvm/mmio.c: +10 -2
arch/arm64/kvm/mmu.c: +5 -3
arch/arm64/kvm/nested.c: +2 -6
arch/arm64/kvm/pauth.c: +206 -0
arch/arm64/kvm/pkvm.c: +1 -1
arch/arm64/kvm/pmu.c: +1 -1
arch/arm64/kvm/reset.c: +0 -1
arch/arm64/kvm/sys_regs.c: +40 -29
arch/arm64/kvm/vgic/vgic-debug.c: +60 -22
arch/arm64/kvm/vgic/vgic-init.c: +63 -27
arch/arm64/kvm/vgic/vgic-its.c: +104 -248
arch/arm64/kvm/vgic/vgic-mmio-v3.c: +1 -1
arch/arm64/kvm/vgic/vgic-v2.c: +1 -8
arch/arm64/kvm/vgic/vgic-v3.c: +2 -21
arch/arm64/kvm/vgic/vgic.c: +2 -15
arch/arm64/kvm/vgic/vgic.h: +2 -6
include/kvm/arm_vgic.h: +8 -8
tools/testing/selftests/kvm/Makefile: +2 -0
tools/testing/selftests/kvm/aarch64/arch_timer.c: +2 -6
tools/testing/selftests/kvm/aarch64/psci_test.c: +2 -0
tools/testing/selftests/kvm/aarch64/set_id_regs.c: +104 -19
tools/testing/selftests/kvm/aarch64/vgic_irq.c: +4 -11
tools/testing/selftests/kvm/aarch64/vgic_lpi_stress.c: +410 -0
tools/testing/selftests/kvm/aarch64/vpmu_counter_access.c: +1 -5
tools/testing/selftests/kvm/dirty_log_perf_test.c: +1 -4
tools/testing/selftests/kvm/include/aarch64/gic.h: +19 -2
tools/testing/selftests/kvm/include/aarch64/gic_v3.h: +554 -32
tools/testing/selftests/kvm/include/aarch64/gic_v3_its.h: +19 -0
tools/testing/selftests/kvm/include/aarch64/processor.h: +17 -2
tools/testing/selftests/kvm/include/aarch64/vgic.h: +3 -2
tools/testing/selftests/kvm/lib/aarch64/gic.c: +7 -11
tools/testing/selftests/kvm/lib/aarch64/gic_private.h: +2 -2
tools/testing/selftests/kvm/lib/aarch64/gic_v3.c: +64 -35
tools/testing/selftests/kvm/lib/aarch64/gic_v3_its.c: +248 -0
tools/testing/selftests/kvm/lib/aarch64/vgic.c: +28 -10
virt/kvm/kvm_main.c: +11 -3
virt/kvm/vfio.c: +2 -0
