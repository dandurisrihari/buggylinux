{
  "hash": "313674661925ee265f16570c893ea13cb9e00b82",
  "hash_short": "31367466",
  "subject": "Unify migrate_pages and move_pages access checks",
  "body": "Commit 197e7e521384 (\"Sanitize 'move_pages()' permission checks\") fixed\na security issue I reported in the move_pages syscall, and made it so\nthat you can't act on set-uid processes unless you have the\nCAP_SYS_PTRACE capability.\n\nUnify the access check logic of migrate_pages to match the new behavior\nof move_pages.  We discussed this a bit in the security@ list and\nthought it'd be good for consistency even though there's no evident\nsecurity impact.  The NUMA node access checks are left intact and\nrequire CAP_SYS_NICE as before.\n\nLink: http://lkml.kernel.org/r/alpine.DEB.2.11.1710011830320.6333@lakka.kapsi.fi\nSigned-off-by: Otto Ebeling <otto.ebeling@iki.fi>\nAcked-by: Michal Hocko <mhocko@suse.com>\nCc: Eric W. Biederman <ebiederm@xmission.com>\nCc: Willy Tarreau <w@1wt.eu>\nCc: Kees Cook <keescook@chromium.org>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "Unify migrate_pages and move_pages access checks\n\nCommit 197e7e521384 (\"Sanitize 'move_pages()' permission checks\") fixed\na security issue I reported in the move_pages syscall, and made it so\nthat you can't act on set-uid processes unless you have the\nCAP_SYS_PTRACE capability.\n\nUnify the access check logic of migrate_pages to match the new behavior\nof move_pages.  We discussed this a bit in the security@ list and\nthought it'd be good for consistency even though there's no evident\nsecurity impact.  The NUMA node access checks are left intact and\nrequire CAP_SYS_NICE as before.\n\nLink: http://lkml.kernel.org/r/alpine.DEB.2.11.1710011830320.6333@lakka.kapsi.fi\nSigned-off-by: Otto Ebeling <otto.ebeling@iki.fi>\nAcked-by: Michal Hocko <mhocko@suse.com>\nCc: Eric W. Biederman <ebiederm@xmission.com>\nCc: Willy Tarreau <w@1wt.eu>\nCc: Kees Cook <keescook@chromium.org>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Otto Ebeling",
  "author_email": "otto.ebeling@iki.fi",
  "author_date": "Wed Nov 15 17:38:14 2017 -0800",
  "author_date_iso": "2017-11-15T17:38:14-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Wed Nov 15 18:21:06 2017 -0800",
  "committer_date_iso": "2017-11-15T18:21:06-08:00",
  "files_changed": [
    "mm/mempolicy.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "mm/mempolicy.c",
      "insertions": 4,
      "deletions": 9
    }
  ],
  "total_insertions": 4,
  "total_deletions": 9,
  "total_changes": 13,
  "parents": [
    "7f0b5fb953e750a7410cc96c67a656d79db48bcb"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.15",
    "v4.15-rc1",
    "v4.15-rc2",
    "v4.15-rc3",
    "v4.15-rc4",
    "v4.15-rc5",
    "v4.15-rc6",
    "v4.15-rc7",
    "v4.15-rc8",
    "v4.15-rc9"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Sanitize",
      "security issue"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "mm/mempolicy.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}