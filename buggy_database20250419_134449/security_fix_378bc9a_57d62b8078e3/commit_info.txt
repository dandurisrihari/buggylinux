Commit Hash: 378bc9a40ed8b6f1bac558a64b65d4754de89387
Subject: net: ena: replace deprecated strncpy with strscpy


Security Keywords:
- hardening

Full commit message:
net: ena: replace deprecated strncpy with strscpy

`strncpy` is deprecated for use on NUL-terminated destination strings
[1] and as such we should prefer more robust and less ambiguous string
interfaces.

A suitable replacement is `strscpy` [2] due to the fact that it
guarantees NUL-termination on the destination buffer without
unnecessarily NUL-padding.

host_info allocation is done in ena_com_allocate_host_info() via
dma_alloc_coherent() and is not zero initialized by alloc_etherdev_mq().

However zero initialization of the destination doesn't matter in this case,
because strscpy() guarantees a NULL termination.

Link: https://www.kernel.org/doc/html/latest/process/deprecated.html#strncpy-on-nul-terminated-strings [1]
Link: https://manpages.debian.org/testing/linux-manual-4.8/strscpy.9.en.html [2]
Link: https://github.com/KSPP/linux/issues/90
Cc: linux-hardening@vger.kernel.org
Signed-off-by: Justin Stitt <justinstitt@google.com>
Acked-by: Arthur Kiyanovski <akiyano@amazon.com>
Reviewed-by: Kees Cook <keescook@chromium.org>
Signed-off-by: David S. Miller <davem@davemloft.net>

Metadata:
Author: justinstitt@google.com <justinstitt@google.com>
Author Date: Thu Dec 7 21:34:42 2023 +0000
Committer: David S. Miller <davem@davemloft.net>
Commit Date: Sun Dec 10 19:08:58 2023 +0000

Files Changed: 1
Lines Added: 2
Lines Removed: 2
Total Changes: 4
