{
  "hash": "f95d7918bd1e724675de4940039f2865e5eec5fe",
  "hash_short": "f95d7918",
  "subject": "userns: Only allow the creator of the userns unprivileged mappings",
  "body": "If you did not create the user namespace and are allowed\nto write to uid_map or gid_map you should already have the necessary\nprivilege in the parent user namespace to establish any mapping\nyou want so this will not affect userspace in practice.\n\nLimiting unprivileged uid mapping establishment to the creator of the\nuser namespace makes it easier to verify all credentials obtained with\nthe uid mapping can be obtained without the uid mapping without\nprivilege.\n\nLimiting unprivileged gid mapping establishment (which is temporarily\nabsent) to the creator of the user namespace also ensures that the\ncombination of uid and gid can already be obtained without privilege.\n\nThis is part of the fix for CVE-2014-8989.\n\nCc: stable@vger.kernel.org\nReviewed-by: Andy Lutomirski <luto@amacapital.net>\nSigned-off-by: \"Eric W. Biederman\" <ebiederm@xmission.com>",
  "full_message": "userns: Only allow the creator of the userns unprivileged mappings\n\nIf you did not create the user namespace and are allowed\nto write to uid_map or gid_map you should already have the necessary\nprivilege in the parent user namespace to establish any mapping\nyou want so this will not affect userspace in practice.\n\nLimiting unprivileged uid mapping establishment to the creator of the\nuser namespace makes it easier to verify all credentials obtained with\nthe uid mapping can be obtained without the uid mapping without\nprivilege.\n\nLimiting unprivileged gid mapping establishment (which is temporarily\nabsent) to the creator of the user namespace also ensures that the\ncombination of uid and gid can already be obtained without privilege.\n\nThis is part of the fix for CVE-2014-8989.\n\nCc: stable@vger.kernel.org\nReviewed-by: Andy Lutomirski <luto@amacapital.net>\nSigned-off-by: \"Eric W. Biederman\" <ebiederm@xmission.com>",
  "author_name": "Eric W. Biederman",
  "author_email": "ebiederm@xmission.com",
  "author_date": "Wed Nov 26 23:22:14 2014 -0600",
  "author_date_iso": "2014-11-26T23:22:14-06:00",
  "committer_name": "Eric W. Biederman",
  "committer_email": "ebiederm@xmission.com",
  "committer_date": "Tue Dec 9 17:08:32 2014 -0600",
  "committer_date_iso": "2014-12-09T17:08:32-06:00",
  "files_changed": [
    "kernel/user_namespace.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "kernel/user_namespace.c",
      "insertions": 4,
      "deletions": 2
    }
  ],
  "total_insertions": 4,
  "total_deletions": 2,
  "total_changes": 6,
  "parents": [
    "80dd00a23784b384ccea049bfb3f259d3f973b9d"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.19",
    "v3.19-rc1",
    "v3.19-rc2",
    "v3.19-rc3",
    "v3.19-rc4",
    "v3.19-rc5",
    "v3.19-rc6",
    "v3.19-rc7",
    "v4.0",
    "v4.0-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2014-8989"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "kernel/user_namespace.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}