{
  "hash": "c72a870926c2de694942aaac2b49e59ce789bb74",
  "hash_short": "c72a8709",
  "subject": "kunit: add ability to run tests after boot using debugfs",
  "body": "Add functionality to run built-in tests after boot by writing to a\ndebugfs file.\n\nAdd a new debugfs file labeled \"run\" for each test suite to use for\nthis purpose.\n\nAs an example, write to the file using the following:\n\necho \"any string\" > /sys/kernel/debugfs/kunit/<testsuite>/run\n\nThis will trigger the test suite to run and will print results to the\nkernel log.\n\nTo guard against running tests concurrently with this feature, add a\nmutex lock around running kunit. This supports the current practice of\nnot allowing tests to be run concurrently on the same kernel.\n\nThis new functionality could be used to design a parameter\ninjection feature in the future.\n\nFixed up merge conflict duing rebase to Linux 6.7-rc6\nSigned-off-by: Shuah Khan <skhan@linuxfoundation.org>\n\nReviewed-by: David Gow <davidgow@google.com>\nSigned-off-by: Rae Moar <rmoar@google.com>\nSigned-off-by: Shuah Khan <skhan@linuxfoundation.org>",
  "full_message": "kunit: add ability to run tests after boot using debugfs\n\nAdd functionality to run built-in tests after boot by writing to a\ndebugfs file.\n\nAdd a new debugfs file labeled \"run\" for each test suite to use for\nthis purpose.\n\nAs an example, write to the file using the following:\n\necho \"any string\" > /sys/kernel/debugfs/kunit/<testsuite>/run\n\nThis will trigger the test suite to run and will print results to the\nkernel log.\n\nTo guard against running tests concurrently with this feature, add a\nmutex lock around running kunit. This supports the current practice of\nnot allowing tests to be run concurrently on the same kernel.\n\nThis new functionality could be used to design a parameter\ninjection feature in the future.\n\nFixed up merge conflict duing rebase to Linux 6.7-rc6\nSigned-off-by: Shuah Khan <skhan@linuxfoundation.org>\n\nReviewed-by: David Gow <davidgow@google.com>\nSigned-off-by: Rae Moar <rmoar@google.com>\nSigned-off-by: Shuah Khan <skhan@linuxfoundation.org>",
  "author_name": "Rae Moar",
  "author_email": "rmoar@google.com",
  "author_date": "Wed Dec 13 19:44:20 2023 +0000",
  "author_date_iso": "2023-12-13T19:44:20+00:00",
  "committer_name": "Shuah Khan",
  "committer_email": "skhan@linuxfoundation.org",
  "committer_date": "Mon Dec 18 13:25:49 2023 -0700",
  "committer_date_iso": "2023-12-18T13:25:49-07:00",
  "files_changed": [
    "lib/kunit/debugfs.c",
    "lib/kunit/test.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "lib/kunit/debugfs.c",
      "insertions": 68,
      "deletions": 0
    },
    {
      "file": "lib/kunit/test.c",
      "insertions": 10,
      "deletions": 0
    }
  ],
  "total_insertions": 78,
  "total_deletions": 0,
  "total_changes": 78,
  "parents": [
    "6c4ea2f48de9860217ddfedee081d485dbeea7e8"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "lib/kunit/debugfs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/kunit/test.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}