{
  "hash": "fe6f212ce12341df18ef9b890bea739b4547157b",
  "hash_short": "fe6f212c",
  "subject": "mac80211: pass HT changes to driver when off channel",
  "body": "Since \"mac80211: make off-channel work generic\" drivers have not been\nnotified of configuration changes after association or authentication. This\ncaused more dependence on current state to ensure driver will be notified\nwhen configuration changes occur. One such problem arises if off-channel is\nin progress when HT information changes. Since HT is only enabled on the\n\"oper_channel\" the driver will never be notified of this change. Usually\nthe driver is notified soon after of a BSS information change\n(BSS_CHANGED_HT) ... but since the driver did not get a notification that\nthis is a HT channel the new BSS information does not make sense.\n\nFix this by also changing the off-channel information when HT is enabled\nand thus cause driver to be notified correctly.\n\nThis fixes a problem in 4965 when associated with 5GHz 40MHz channel.\nWithout this patch the system can associate but is unable to transfer any\ndata, not even ping.\n\nSee http://bugzilla.intellinuxwireless.org/show_bug.cgi?id=2158\n\nSigned-off-by: Reinette Chatre <reinette.chatre@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "full_message": "mac80211: pass HT changes to driver when off channel\n\nSince \"mac80211: make off-channel work generic\" drivers have not been\nnotified of configuration changes after association or authentication. This\ncaused more dependence on current state to ensure driver will be notified\nwhen configuration changes occur. One such problem arises if off-channel is\nin progress when HT information changes. Since HT is only enabled on the\n\"oper_channel\" the driver will never be notified of this change. Usually\nthe driver is notified soon after of a BSS information change\n(BSS_CHANGED_HT) ... but since the driver did not get a notification that\nthis is a HT channel the new BSS information does not make sense.\n\nFix this by also changing the off-channel information when HT is enabled\nand thus cause driver to be notified correctly.\n\nThis fixes a problem in 4965 when associated with 5GHz 40MHz channel.\nWithout this patch the system can associate but is unable to transfer any\ndata, not even ping.\n\nSee http://bugzilla.intellinuxwireless.org/show_bug.cgi?id=2158\n\nSigned-off-by: Reinette Chatre <reinette.chatre@intel.com>\nSigned-off-by: John W. Linville <linville@tuxdriver.com>",
  "author_name": "Reinette Chatre",
  "author_email": "reinette.chatre@intel.com",
  "author_date": "Mon Apr 19 10:46:31 2010 -0700",
  "author_date_iso": "2010-04-19T10:46:31-07:00",
  "committer_name": "John W. Linville",
  "committer_email": "linville@tuxdriver.com",
  "committer_date": "Mon Apr 19 16:34:11 2010 -0400",
  "committer_date_iso": "2010-04-19T16:34:11-04:00",
  "files_changed": [
    "net/mac80211/mlme.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/mac80211/mlme.c",
      "insertions": 2,
      "deletions": 0
    }
  ],
  "total_insertions": 2,
  "total_deletions": 0,
  "total_changes": 2,
  "parents": [
    "b4bb5c3fd9333024044362df67e23e96158489ed"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.34",
    "v2.6.34-rc6",
    "v2.6.34-rc7",
    "v2.6.35",
    "v2.6.35-rc1",
    "v2.6.35-rc2",
    "v2.6.35-rc3",
    "v2.6.35-rc4",
    "v2.6.35-rc5",
    "v2.6.35-rc6"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/mac80211/mlme.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}