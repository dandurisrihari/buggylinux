{
  "hash": "329409aeda064c4aff00c51f837fcd3bbdaeeba6",
  "hash_short": "329409ae",
  "subject": "[PATCH] fault injection: stacktrace filtering",
  "body": "This patch provides stacktrace filtering feature.\n\nThe stacktrace filter allows failing only for the caller you are\ninterested in.\n\nFor example someone may want to inject kmalloc() failures into\nonly e100 module. they want to inject not only direct kmalloc() call,\nbut also indirect allocation, too.\n\n- e100_poll --> netif_receive_skb --> packet_rcv_spkt --> skb_clone\n  --> kmem_cache_alloc\n\nThis patch enables to detect function calls like this by stacktrace\nand inject failures. The script Documentaion/fault-injection/failmodule.sh\nhelps it.\n\nThe range of text section of loaded e100 is expected to be\n[/sys/module/e100/sections/.text, /sys/module/e100/sections/.exit.text)\n\nSo failmodule.sh stores these values into /debug/failslab/address-start\nand /debug/failslab/address-end. The maximum stacktrace depth is specified\nby /debug/failslab/stacktrace-depth.\n\nPlease see the example that demonstrates how to inject slab allocation\nfailures only for a specific module\nin Documentation/fault-injection/fault-injection.txt\n\n[dwm@meer.net: reject failure if any caller lies within specified range]\nSigned-off-by: Akinobu Mita <akinobu.mita@gmail.com>\nSigned-off-by: Don Mullis <dwm@meer.net>\nSigned-off-by: Andrew Morton <akpm@osdl.org>\nSigned-off-by: Linus Torvalds <torvalds@osdl.org>",
  "full_message": "[PATCH] fault injection: stacktrace filtering\n\nThis patch provides stacktrace filtering feature.\n\nThe stacktrace filter allows failing only for the caller you are\ninterested in.\n\nFor example someone may want to inject kmalloc() failures into\nonly e100 module. they want to inject not only direct kmalloc() call,\nbut also indirect allocation, too.\n\n- e100_poll --> netif_receive_skb --> packet_rcv_spkt --> skb_clone\n  --> kmem_cache_alloc\n\nThis patch enables to detect function calls like this by stacktrace\nand inject failures. The script Documentaion/fault-injection/failmodule.sh\nhelps it.\n\nThe range of text section of loaded e100 is expected to be\n[/sys/module/e100/sections/.text, /sys/module/e100/sections/.exit.text)\n\nSo failmodule.sh stores these values into /debug/failslab/address-start\nand /debug/failslab/address-end. The maximum stacktrace depth is specified\nby /debug/failslab/stacktrace-depth.\n\nPlease see the example that demonstrates how to inject slab allocation\nfailures only for a specific module\nin Documentation/fault-injection/fault-injection.txt\n\n[dwm@meer.net: reject failure if any caller lies within specified range]\nSigned-off-by: Akinobu Mita <akinobu.mita@gmail.com>\nSigned-off-by: Don Mullis <dwm@meer.net>\nSigned-off-by: Andrew Morton <akpm@osdl.org>\nSigned-off-by: Linus Torvalds <torvalds@osdl.org>",
  "author_name": "Akinobu Mita",
  "author_email": "akinobu.mita@gmail.com",
  "author_date": "Fri Dec 8 02:39:48 2006 -0800",
  "author_date_iso": "2006-12-08T02:39:48-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@woody.osdl.org",
  "committer_date": "Fri Dec 8 08:29:03 2006 -0800",
  "committer_date_iso": "2006-12-08T08:29:03-08:00",
  "files_changed": [
    "Documentation/fault-injection/fault-injection.txt",
    "include/linux/fault-inject.h",
    "lib/Kconfig.debug",
    "lib/fault-inject.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "Documentation/fault-injection/fault-injection.txt",
      "insertions": 8,
      "deletions": 4
    },
    {
      "file": "include/linux/fault-inject.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "lib/Kconfig.debug",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "lib/fault-inject.c",
      "insertions": 125,
      "deletions": 1
    }
  ],
  "total_insertions": 150,
  "total_deletions": 5,
  "total_changes": 155,
  "parents": [
    "f4f154fd920b2178382a6a24a236348e4429ebc1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.20",
    "v2.6.20-rc1",
    "v2.6.20-rc2",
    "v2.6.20-rc3",
    "v2.6.20-rc4",
    "v2.6.20-rc5",
    "v2.6.20-rc6",
    "v2.6.20-rc7",
    "v2.6.21",
    "v2.6.21-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/fault-injection/fault-injection.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/fault-inject.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Kconfig.debug",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/fault-inject.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}