{
  "hash": "a4412fdd49dc011bcc2c0d81ac4cab7457092650",
  "hash_short": "a4412fdd",
  "subject": "error-injection: Add prompt for function error injection",
  "body": "The config to be able to inject error codes into any function annotated\nwith ALLOW_ERROR_INJECTION() is enabled when FUNCTION_ERROR_INJECTION is\nenabled.  But unfortunately, this is always enabled on x86 when KPROBES\nis enabled, and there's no way to turn it off.\n\nAs kprobes is useful for observability of the kernel, it is useful to\nhave it enabled in production environments.  But error injection should\nbe avoided.  Add a prompt to the config to allow it to be disabled even\nwhen kprobes is enabled, and get rid of the \"def_bool y\".\n\nThis is a kernel debug feature (it's in Kconfig.debug), and should have\nnever been something enabled by default.\n\nCc: stable@vger.kernel.org\nFixes: 540adea3809f6 (\"error-injection: Separate error-injection from kprobe\")\nSigned-off-by: Steven Rostedt (Google) <rostedt@goodmis.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "error-injection: Add prompt for function error injection\n\nThe config to be able to inject error codes into any function annotated\nwith ALLOW_ERROR_INJECTION() is enabled when FUNCTION_ERROR_INJECTION is\nenabled.  But unfortunately, this is always enabled on x86 when KPROBES\nis enabled, and there's no way to turn it off.\n\nAs kprobes is useful for observability of the kernel, it is useful to\nhave it enabled in production environments.  But error injection should\nbe avoided.  Add a prompt to the config to allow it to be disabled even\nwhen kprobes is enabled, and get rid of the \"def_bool y\".\n\nThis is a kernel debug feature (it's in Kconfig.debug), and should have\nnever been something enabled by default.\n\nCc: stable@vger.kernel.org\nFixes: 540adea3809f6 (\"error-injection: Separate error-injection from kprobe\")\nSigned-off-by: Steven Rostedt (Google) <rostedt@goodmis.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Steven Rostedt (Google)",
  "author_email": "rostedt@goodmis.org",
  "author_date": "Mon Nov 21 10:44:03 2022 -0500",
  "author_date_iso": "2022-11-21T10:44:03-05:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Dec 1 13:14:21 2022 -0800",
  "committer_date_iso": "2022-12-01T13:14:21-08:00",
  "files_changed": [
    "lib/Kconfig.debug"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "lib/Kconfig.debug",
      "insertions": 7,
      "deletions": 1
    }
  ],
  "total_insertions": 7,
  "total_deletions": 1,
  "total_changes": 8,
  "parents": [
    "355479c70a489415ef6e2624e514f8f15a40861b"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "lib/Kconfig.debug",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}