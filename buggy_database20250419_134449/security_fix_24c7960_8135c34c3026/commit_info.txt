Commit Hash: 24c796098f5395477f7f7ebf8e24f3f08a139f71
Subject: scsi: qla2xxx: edif: Fix no login after app start


Security Keywords:
- authentication

Full commit message:
scsi: qla2xxx: edif: Fix no login after app start

The scenario is this: User loaded driver but has not started authentication
app. All sessions to secure device will exhaust all login attempts, fail,
and in stay in deleted state. Then some time later the app is started. The
driver will replenish the login retry count, trigger delete to prepare for
secure login. After deletion, relogin is triggered.

For the session that is already deleted, the delete trigger is a no-op. If
none of the sessions trigger a relogin, no progress is made.

Add a relogin trigger.

Link: https://lore.kernel.org/r/20220608115849.16693-5-njavali@marvell.com
Fixes: 7ebb336e45ef ("scsi: qla2xxx: edif: Add start + stop bsgs")
Reviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>
Signed-off-by: Quinn Tran <qutran@marvell.com>
Signed-off-by: Nilesh Javali <njavali@marvell.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

Metadata:
Author: Quinn Tran <qutran@marvell.com>
Author Date: Wed Jun 8 04:58:43 2022 -0700
Committer: Martin K. Petersen <martin.petersen@oracle.com>
Commit Date: Fri Jun 10 13:04:04 2022 -0400

Files Changed: 1
Lines Added: 1
Lines Removed: 0
Total Changes: 1
