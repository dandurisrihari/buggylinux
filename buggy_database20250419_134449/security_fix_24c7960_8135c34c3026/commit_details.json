{
  "hash": "24c796098f5395477f7f7ebf8e24f3f08a139f71",
  "hash_short": "24c79609",
  "subject": "scsi: qla2xxx: edif: Fix no login after app start",
  "body": "The scenario is this: User loaded driver but has not started authentication\napp. All sessions to secure device will exhaust all login attempts, fail,\nand in stay in deleted state. Then some time later the app is started. The\ndriver will replenish the login retry count, trigger delete to prepare for\nsecure login. After deletion, relogin is triggered.\n\nFor the session that is already deleted, the delete trigger is a no-op. If\nnone of the sessions trigger a relogin, no progress is made.\n\nAdd a relogin trigger.\n\nLink: https://lore.kernel.org/r/20220608115849.16693-5-njavali@marvell.com\nFixes: 7ebb336e45ef (\"scsi: qla2xxx: edif: Add start + stop bsgs\")\nReviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>\nSigned-off-by: Quinn Tran <qutran@marvell.com>\nSigned-off-by: Nilesh Javali <njavali@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "scsi: qla2xxx: edif: Fix no login after app start\n\nThe scenario is this: User loaded driver but has not started authentication\napp. All sessions to secure device will exhaust all login attempts, fail,\nand in stay in deleted state. Then some time later the app is started. The\ndriver will replenish the login retry count, trigger delete to prepare for\nsecure login. After deletion, relogin is triggered.\n\nFor the session that is already deleted, the delete trigger is a no-op. If\nnone of the sessions trigger a relogin, no progress is made.\n\nAdd a relogin trigger.\n\nLink: https://lore.kernel.org/r/20220608115849.16693-5-njavali@marvell.com\nFixes: 7ebb336e45ef (\"scsi: qla2xxx: edif: Add start + stop bsgs\")\nReviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>\nSigned-off-by: Quinn Tran <qutran@marvell.com>\nSigned-off-by: Nilesh Javali <njavali@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "Quinn Tran",
  "author_email": "qutran@marvell.com",
  "author_date": "Wed Jun 8 04:58:43 2022 -0700",
  "author_date_iso": "2022-06-08T04:58:43-07:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Fri Jun 10 13:04:04 2022 -0400",
  "committer_date_iso": "2022-06-10T13:04:04-04:00",
  "files_changed": [
    "drivers/scsi/qla2xxx/qla_edif.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/scsi/qla2xxx/qla_edif.c",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 1,
  "total_deletions": 0,
  "total_changes": 1,
  "parents": [
    "0dbfce5255fe8d069a1a3b712a25b263264cfa58"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/qla2xxx/qla_edif.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}