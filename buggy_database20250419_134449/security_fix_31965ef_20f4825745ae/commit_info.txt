Commit Hash: 31965ef34802f49903bba06dd7c3b96a2e2ed4e4
Subject: xfs: make errortag a per-mountpoint structure


Security Keywords:
- injection

Full commit message:
xfs: make errortag a per-mountpoint structure

Remove the xfs_etest structure in favor of a per-mountpoint structure.
This will give us the flexibility to set as many error injection points
as we want, and later enable us to set up sysfs knobs to set the trigger
frequency as we wish.  This comes at a cost of higher memory use, but
unti we hit 1024 injection points (we're at 29) or a lot of mounts this
shouldn't be a huge issue.

Signed-off-by: Darrick J. Wong <darrick.wong@oracle.com>
Reviewed-by: Brian Foster <bfoster@redhat.com>
Reviewed-by: Carlos Maiolino <cmaiolino@redhat.com>

Metadata:
Author: Darrick J. Wong <darrick.wong@oracle.com>
Author Date: Tue Jun 20 17:54:46 2017 -0700
Committer: Darrick J. Wong <darrick.wong@oracle.com>
Commit Date: Tue Jun 27 18:23:19 2017 -0700

Files Changed: 5
Lines Added: 111
Lines Removed: 89
Total Changes: 200
