{
  "hash": "31965ef34802f49903bba06dd7c3b96a2e2ed4e4",
  "hash_short": "31965ef3",
  "subject": "xfs: make errortag a per-mountpoint structure",
  "body": "Remove the xfs_etest structure in favor of a per-mountpoint structure.\nThis will give us the flexibility to set as many error injection points\nas we want, and later enable us to set up sysfs knobs to set the trigger\nfrequency as we wish.  This comes at a cost of higher memory use, but\nunti we hit 1024 injection points (we're at 29) or a lot of mounts this\nshouldn't be a huge issue.\n\nSigned-off-by: Darrick J. Wong <darrick.wong@oracle.com>\nReviewed-by: Brian Foster <bfoster@redhat.com>\nReviewed-by: Carlos Maiolino <cmaiolino@redhat.com>",
  "full_message": "xfs: make errortag a per-mountpoint structure\n\nRemove the xfs_etest structure in favor of a per-mountpoint structure.\nThis will give us the flexibility to set as many error injection points\nas we want, and later enable us to set up sysfs knobs to set the trigger\nfrequency as we wish.  This comes at a cost of higher memory use, but\nunti we hit 1024 injection points (we're at 29) or a lot of mounts this\nshouldn't be a huge issue.\n\nSigned-off-by: Darrick J. Wong <darrick.wong@oracle.com>\nReviewed-by: Brian Foster <bfoster@redhat.com>\nReviewed-by: Carlos Maiolino <cmaiolino@redhat.com>",
  "author_name": "Darrick J. Wong",
  "author_email": "darrick.wong@oracle.com",
  "author_date": "Tue Jun 20 17:54:46 2017 -0700",
  "author_date_iso": "2017-06-20T17:54:46-07:00",
  "committer_name": "Darrick J. Wong",
  "committer_email": "darrick.wong@oracle.com",
  "committer_date": "Tue Jun 27 18:23:19 2017 -0700",
  "committer_date_iso": "2017-06-27T18:23:19-07:00",
  "files_changed": [
    "fs/xfs/xfs_error.c",
    "fs/xfs/xfs_error.h",
    "fs/xfs/xfs_ioctl.c",
    "fs/xfs/xfs_mount.c",
    "fs/xfs/xfs_mount.h"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "fs/xfs/xfs_error.c",
      "insertions": 80,
      "deletions": 74
    },
    {
      "file": "fs/xfs/xfs_error.h",
      "insertions": 14,
      "deletions": 11
    },
    {
      "file": "fs/xfs/xfs_ioctl.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "fs/xfs/xfs_mount.c",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "fs/xfs/xfs_mount.h",
      "insertions": 7,
      "deletions": 0
    }
  ],
  "total_insertions": 111,
  "total_deletions": 89,
  "total_changes": 200,
  "parents": [
    "39775431f82f890f4aaa08860a30883d081bffc7"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.13",
    "v4.13-rc1",
    "v4.13-rc2",
    "v4.13-rc3",
    "v4.13-rc4",
    "v4.13-rc5",
    "v4.13-rc6",
    "v4.13-rc7",
    "v4.14",
    "v4.14-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/xfs/xfs_error.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_error.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_ioctl.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_mount.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_mount.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}