Commit Hash: 2fe48aaab2669b3fbb11bf1b822a1b07424eef56
Subject: mtd: Add several functions to the fail_function list


Security Keywords:
- inject

Full commit message:
mtd: Add several functions to the fail_function list

add mtd_read(), mtd_write(), mtd_erase(), mtd_block_markbad() to
fail_function list for testing purpose

- Specify the function to inject the fault
echo mtd_read > /sys/kernel/debug/fail_function/inject

- Specifies the return value of the function to inject the fault
printf %#x -12 > /sys/kernel/debug/fail_function/mtd_read/retval

- Specify other fault injection configuration parameters.
echo -1 > /sys/kernel/debug/fail_function/times
echo 100 > /sys/kernel/debug/fail_function/probability
echo 15 > /sys/kernel/debug/fail_function/space

Signed-off-by: ZhaoLong Wang <wangzhaolong1@huawei.com>
Reviewed-by: Zhihao Cheng <chengzhihao1@huawei.com>
Signed-off-by: Richard Weinberger <richard@nod.at>

Metadata:
Author: ZhaoLong Wang <wangzhaolong1@huawei.com>
Author Date: Tue Dec 26 09:01:13 2023 +0800
Committer: Richard Weinberger <richard@nod.at>
Commit Date: Sat Jan 6 23:47:07 2024 +0100

Files Changed: 1
Lines Added: 5
Lines Removed: 0
Total Changes: 5
