Commit Hash: 47005f255ed126a4b48a1a2f63164fb1d83bcb0a
Subject: [PATCH] libata: implement per-dev EH action mask eh_info->dev_action[]


Security Keywords:
- exploit

Full commit message:
[PATCH] libata: implement per-dev EH action mask eh_info->dev_action[]

Currently, the only per-dev EH action is REVALIDATE.  EH used to
exploit ehi->dev to do selective revalidation on a ATA bus.  However,
this is a bit hacky and makes it impossible to request selective
revalidation from outside of EH or add another per-dev EH action.

This patch adds per-dev EH action mask eh_info->dev_action[] and
update EH to use this field for REVALIDATE.  Note that per-dev actions
can still be specified at port-level and it has the same effect of
specifying the action for all devices on the port.

Signed-off-by: Tejun Heo <htejun@gmail.com>
Signed-off-by: Jeff Garzik <jeff@garzik.org>

Metadata:
Author: Tejun Heo <htejun@gmail.com>
Author Date: Mon Jun 19 18:27:23 2006 +0900
Committer: Jeff Garzik <jeff@garzik.org>
Commit Date: Thu Jun 22 23:36:58 2006 -0400

Files Changed: 2
Lines Added: 71
Lines Removed: 16
Total Changes: 87
