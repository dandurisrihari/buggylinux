commit 2044513ffe4a9c18e6e2a64f048e05d8b62fa927
Merge: bbcf9cd15767 bdcd93ef9afb
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Aug 6 10:15:28 2020 -0700

    Merge tag 'csky-for-linus-5.9-rc1' of https://github.com/c-sky/csky-linux
    
    Pull arch/csky updates from Guo Ren:
     "New features:
       - seccomp-filter
       - err-injection
       - top-down&random mmap-layout
       - irq_work
       - show_ipi
       - context-tracking
    
      Fixes & Optimizations:
       - kprobe_on_ftrace
       - optimize panic print"
    
    * tag 'csky-for-linus-5.9-rc1' of https://github.com/c-sky/csky-linux:
      csky: Add context tracking support
      csky: Add arch_show_interrupts for IPI interrupts
      csky: Add irq_work support
      csky: Fixup warning by EXPORT_SYMBOL(kmap)
      csky: Set CONFIG_NR_CPU 4 as default
      csky: Use top-down mmap layout
      csky: Optimize the trap processing flow
      csky: Add support for function error injection
      csky: Fixup kprobes handler couldn't change pc
      csky: Fixup duplicated restore sp in RESTORE_REGS_FTRACE
      csky: Add cpu feature register hint for smp
      csky: Add SECCOMP_FILTER supported
      csky: remove unusued thread_saved_pc and *_segments functions/macros

diff --cc arch/csky/Kconfig
index 902f1142d550,af238739811e..3d5afb5f5685
--- a/arch/csky/Kconfig
+++ b/arch/csky/Kconfig
@@@ -38,6 -39,11 +39,10 @@@ config CSK
  	select GX6605S_TIMER if CPU_CK610
  	select HAVE_ARCH_TRACEHOOK
  	select HAVE_ARCH_AUDITSYSCALL
+ 	select HAVE_ARCH_MMAP_RND_BITS
+ 	select HAVE_ARCH_SECCOMP_FILTER
 -	select HAVE_COPY_THREAD_TLS
+ 	select HAVE_CONTEXT_TRACKING
+ 	select HAVE_VIRT_CPU_ACCOUNTING_GEN
  	select HAVE_DEBUG_BUGVERBOSE
  	select HAVE_DYNAMIC_FTRACE
  	select HAVE_DYNAMIC_FTRACE_WITH_REGS