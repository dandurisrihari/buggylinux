{
  "hash": "7a4522bbef0c4c63a87b5363840460996aff97c3",
  "hash_short": "7a4522bb",
  "subject": "tools: bpftool: add probes for /proc/ eBPF parameters",
  "body": "Add a set of probes to dump the eBPF-related parameters available from\n/proc/: availability of bpf() syscall for unprivileged users,\nJIT compiler status and hardening status, kallsyms exports status.\n\nSample output:\n\n    # bpftool feature probe kernel\n    Scanning system configuration...\n    bpf() syscall for unprivileged users is enabled\n    JIT compiler is disabled\n    JIT compiler hardening is disabled\n    JIT compiler kallsyms exports are disabled\n    Global memory limit for JIT compiler for unprivileged users \\\n            is 264241152 bytes\n    ...\n\n    # bpftool --json --pretty feature probe kernel\n    {\n        \"system_config\": {\n            \"unprivileged_bpf_disabled\": 0,\n            \"bpf_jit_enable\": 0,\n            \"bpf_jit_harden\": 0,\n            \"bpf_jit_kallsyms\": 0,\n            \"bpf_jit_limit\": 264241152\n        },\n        ...\n    }\n\nThese probes are skipped if procfs is not mounted.\n\nv4:\n- Add bpf_jit_limit parameter.\n\nv2:\n- Remove C-style macros output from this patch.\n\nSigned-off-by: Quentin Monnet <quentin.monnet@netronome.com>\nReviewed-by: Jakub Kicinski <jakub.kicinski@netronome.com>\nReviewed-by: Stanislav Fomichev <sdf@google.com>\nSigned-off-by: Alexei Starovoitov <ast@kernel.org>",
  "full_message": "tools: bpftool: add probes for /proc/ eBPF parameters\n\nAdd a set of probes to dump the eBPF-related parameters available from\n/proc/: availability of bpf() syscall for unprivileged users,\nJIT compiler status and hardening status, kallsyms exports status.\n\nSample output:\n\n    # bpftool feature probe kernel\n    Scanning system configuration...\n    bpf() syscall for unprivileged users is enabled\n    JIT compiler is disabled\n    JIT compiler hardening is disabled\n    JIT compiler kallsyms exports are disabled\n    Global memory limit for JIT compiler for unprivileged users \\\n            is 264241152 bytes\n    ...\n\n    # bpftool --json --pretty feature probe kernel\n    {\n        \"system_config\": {\n            \"unprivileged_bpf_disabled\": 0,\n            \"bpf_jit_enable\": 0,\n            \"bpf_jit_harden\": 0,\n            \"bpf_jit_kallsyms\": 0,\n            \"bpf_jit_limit\": 264241152\n        },\n        ...\n    }\n\nThese probes are skipped if procfs is not mounted.\n\nv4:\n- Add bpf_jit_limit parameter.\n\nv2:\n- Remove C-style macros output from this patch.\n\nSigned-off-by: Quentin Monnet <quentin.monnet@netronome.com>\nReviewed-by: Jakub Kicinski <jakub.kicinski@netronome.com>\nReviewed-by: Stanislav Fomichev <sdf@google.com>\nSigned-off-by: Alexei Starovoitov <ast@kernel.org>",
  "author_name": "Quentin Monnet",
  "author_email": "quentin.monnet@netronome.com",
  "author_date": "Thu Jan 17 15:27:51 2019 +0000",
  "author_date_iso": "2019-01-17T15:27:51+00:00",
  "committer_name": "Alexei Starovoitov",
  "committer_email": "ast@kernel.org",
  "committer_date": "Tue Jan 22 22:15:40 2019 -0800",
  "committer_date_iso": "2019-01-22T22:15:40-08:00",
  "files_changed": [
    "tools/bpf/bpftool/feature.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "tools/bpf/bpftool/feature.c",
      "insertions": 187,
      "deletions": 0
    }
  ],
  "total_insertions": 187,
  "total_deletions": 0,
  "total_changes": 187,
  "parents": [
    "49eb7ab3b2b5a106307494d2a46248ecb1530578"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.1",
    "v5.1-rc1",
    "v5.1-rc2",
    "v5.1-rc3",
    "v5.1-rc4",
    "v5.1-rc5",
    "v5.1-rc6",
    "v5.1-rc7",
    "v5.2",
    "v5.2-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "tools/bpf/bpftool/feature.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}