Commit Hash: dc366364c4ef809dccd063919314301f8ba01ac2
Subject: drm/vmwgfx: Fix multiple command buffer context use


Security Keywords:
- injection

Full commit message:
drm/vmwgfx: Fix multiple command buffer context use

The start / stop and preempt commands don't honor the context argument
but rather acts on all available contexts.

Also add detection for context 1 availability.

Note that currently there's no driver interface for submitting buffers
using the high-priority command queue (context 1).

Testing done:
Change the default context for command submission to 1 instead of 0,
verify basic desktop functionality including faulty command injection and
recovery.

Signed-off-by: Thomas Hellstrom <thellstrom@vmware.com>
Reviewed-by: Brian Paul <brianp@vmware.com>
Reviewed-by: Deepak Rawat <drawat@vmware.com>

Metadata:
Author: Thomas Hellstrom <thellstrom@vmware.com>
Author Date: Thu Mar 22 10:15:23 2018 +0100
Committer: Thomas Hellstrom <thellstrom@vmware.com>
Commit Date: Thu Mar 22 12:08:23 2018 +0100

Files Changed: 3
Lines Added: 38
Lines Removed: 33
Total Changes: 71
