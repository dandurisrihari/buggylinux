{
  "hash": "2c5e168e5ce154592667a8e384012117c917d790",
  "hash_short": "2c5e168e",
  "subject": "KVM: x86: Rename \"governed features\" helpers to use \"guest_cpu_cap\"",
  "body": "As the first step toward replacing KVM's so-called \"governed features\"\nframework with a more comprehensive, less poorly named implementation,\nreplace the \"kvm_governed_feature\" function prefix with \"guest_cpu_cap\"\nand rename guest_can_use() to guest_cpu_cap_has().\n\nThe \"guest_cpu_cap\" naming scheme mirrors that of \"kvm_cpu_cap\", and\nprovides a more clear distinction between guest capabilities, which are\nKVM controlled (heh, or one might say \"governed\"), and guest CPUID, which\nwith few exceptions is fully userspace controlled.\n\nOpportunistically rewrite the comment about XSS passthrough for SEV-ES\nguests to avoid referencing so many functions, as such comments are prone\nto becoming stale (case in point...).\n\nNo functional change intended.\n\nReviewed-by: Maxim Levitsky <mlevitsk@redhat.com>\nReviewed-by: Binbin Wu <binbin.wu@linux.intel.com>\nLink: https://lore.kernel.org/r/20241128013424.4096668-40-seanjc@google.com\nSigned-off-by: Sean Christopherson <seanjc@google.com>",
  "full_message": "KVM: x86: Rename \"governed features\" helpers to use \"guest_cpu_cap\"\n\nAs the first step toward replacing KVM's so-called \"governed features\"\nframework with a more comprehensive, less poorly named implementation,\nreplace the \"kvm_governed_feature\" function prefix with \"guest_cpu_cap\"\nand rename guest_can_use() to guest_cpu_cap_has().\n\nThe \"guest_cpu_cap\" naming scheme mirrors that of \"kvm_cpu_cap\", and\nprovides a more clear distinction between guest capabilities, which are\nKVM controlled (heh, or one might say \"governed\"), and guest CPUID, which\nwith few exceptions is fully userspace controlled.\n\nOpportunistically rewrite the comment about XSS passthrough for SEV-ES\nguests to avoid referencing so many functions, as such comments are prone\nto becoming stale (case in point...).\n\nNo functional change intended.\n\nReviewed-by: Maxim Levitsky <mlevitsk@redhat.com>\nReviewed-by: Binbin Wu <binbin.wu@linux.intel.com>\nLink: https://lore.kernel.org/r/20241128013424.4096668-40-seanjc@google.com\nSigned-off-by: Sean Christopherson <seanjc@google.com>",
  "author_name": "Sean Christopherson",
  "author_email": "seanjc@google.com",
  "author_date": "Wed Nov 27 17:34:06 2024 -0800",
  "author_date_iso": "2024-11-27T17:34:06-08:00",
  "committer_name": "Sean Christopherson",
  "committer_email": "seanjc@google.com",
  "committer_date": "Wed Dec 18 14:20:03 2024 -0800",
  "committer_date_iso": "2024-12-18T14:20:03-08:00",
  "files_changed": [
    "arch/x86/kvm/cpuid.c",
    "arch/x86/kvm/cpuid.h",
    "arch/x86/kvm/mmu.h",
    "arch/x86/kvm/mmu/mmu.c",
    "arch/x86/kvm/svm/nested.c",
    "arch/x86/kvm/svm/sev.c",
    "arch/x86/kvm/svm/svm.c",
    "arch/x86/kvm/svm/svm.h",
    "arch/x86/kvm/vmx/nested.c",
    "arch/x86/kvm/vmx/vmx.c",
    "arch/x86/kvm/x86.c"
  ],
  "files_changed_count": 11,
  "stats": [
    {
      "file": "arch/x86/kvm/cpuid.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/cpuid.h",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "arch/x86/kvm/mmu.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/mmu/mmu.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/svm/nested.c",
      "insertions": 11,
      "deletions": 11
    },
    {
      "file": "arch/x86/kvm/svm/sev.c",
      "insertions": 8,
      "deletions": 9
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "insertions": 13,
      "deletions": 13
    },
    {
      "file": "arch/x86/kvm/svm/svm.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 2,
      "deletions": 2
    }
  ],
  "total_insertions": 59,
  "total_deletions": 60,
  "total_changes": 119,
  "parents": [
    "9aa470f5ddb2aa8de152f72795b7dcd44a071b66"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "XSS"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kvm/cpuid.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/mmu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/nested.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/svm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/mmu/mmu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/svm/sev.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/cpuid.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/nested.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}