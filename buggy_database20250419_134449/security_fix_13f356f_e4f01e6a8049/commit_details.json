{
  "hash": "13f356f5dc9de17181fa255a379fde29eea060d4",
  "hash_short": "13f356f5",
  "subject": "Merge branch 'wwan-iosm-fw-flashing'",
  "body": "M Chetan Kumar says:\n\n====================\nnet: wwan: iosm: fw flashing & cd collection\n\nThis patch series brings-in support for M.2 7560 Device firmware flashing &\ncoredump collection using devlink.\n- Driver Registers with Devlink framework.\n- Register devlink params callback for configuring device params\n  required in flashing or coredump flow.\n- Implements devlink ops flash_update callback that programs modem\n  firmware.\n- Creates region & snapshot required for device coredump log collection.\n\nOn early detection of device in boot rom stage. Driver registers with\nDevlink framework and establish transport channel for PSI (Primary Signed\nImage) injection. Once PSI is injected to device, the device execution\nstage details are read to determine whether device is in flash or\nexception mode. The collected information is reported to devlink user\nspace application & based on this informationi, application proceeds with\neither modem firmware flashing or coredump collection.\n\nRefer to iosm devlink documentation for details on Devlink Params, flash\nupdate and coredump collection command usage.\n\nNote: Patches are interdependent. Need to apply complete patch series for\ncompilation.\n\nChanges since v1:\n  * Break down single patch into multiple patches.\n  * IOSM Driver devlink documentation.\n  * Fixes NULL parameter deference in ipc_devlink_flash_update() reported\n    by smatch static checker.\n  * Fixes memory leak in ipc_devlink_create_region().\n  * Use kmemdup instead of kzalloc and memcpy in ipc_flash_boot_psi().\n  * Fixes linux-net build error.\n====================\n\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "Merge branch 'wwan-iosm-fw-flashing'\n\nM Chetan Kumar says:\n\n====================\nnet: wwan: iosm: fw flashing & cd collection\n\nThis patch series brings-in support for M.2 7560 Device firmware flashing &\ncoredump collection using devlink.\n- Driver Registers with Devlink framework.\n- Register devlink params callback for configuring device params\n  required in flashing or coredump flow.\n- Implements devlink ops flash_update callback that programs modem\n  firmware.\n- Creates region & snapshot required for device coredump log collection.\n\nOn early detection of device in boot rom stage. Driver registers with\nDevlink framework and establish transport channel for PSI (Primary Signed\nImage) injection. Once PSI is injected to device, the device execution\nstage details are read to determine whether device is in flash or\nexception mode. The collected information is reported to devlink user\nspace application & based on this informationi, application proceeds with\neither modem firmware flashing or coredump collection.\n\nRefer to iosm devlink documentation for details on Devlink Params, flash\nupdate and coredump collection command usage.\n\nNote: Patches are interdependent. Need to apply complete patch series for\ncompilation.\n\nChanges since v1:\n  * Break down single patch into multiple patches.\n  * IOSM Driver devlink documentation.\n  * Fixes NULL parameter deference in ipc_devlink_flash_update() reported\n    by smatch static checker.\n  * Fixes memory leak in ipc_devlink_create_region().\n  * Use kmemdup instead of kzalloc and memcpy in ipc_flash_boot_psi().\n  * Fixes linux-net build error.\n====================\n\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "David S. Miller",
  "author_email": "davem@davemloft.net",
  "author_date": "Mon Sep 20 10:04:01 2021 +0100",
  "author_date_iso": "2021-09-20T10:04:01+01:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Mon Sep 20 10:04:01 2021 +0100",
  "committer_date_iso": "2021-09-20T10:04:01+01:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "Documentation/networking/devlink/index.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/networking/devlink/iosm.rst",
      "insertions": 182,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/Makefile",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_coredump.c",
      "insertions": 110,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_coredump.h",
      "insertions": 75,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_devlink.c",
      "insertions": 363,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_devlink.h",
      "insertions": 207,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_flash.c",
      "insertions": 561,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_flash.h",
      "insertions": 271,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem.c",
      "insertions": 78,
      "deletions": 25
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem.h",
      "insertions": 15,
      "deletions": 3
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem_ops.c",
      "insertions": 317,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem_ops.h",
      "insertions": 48,
      "deletions": 1
    }
  ],
  "total_insertions": 2239,
  "total_deletions": 31,
  "total_changes": 2270,
  "parents": [
    "d44fd8604a4ab92119adb35f05fd87612af722b5",
    "607d574aba6e2b3adb5cd5cff31194bd31a8048e"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": []
}