{
  "hash": "9cc06dbaf437010fba67fc8adb371d39197e75d7",
  "hash_short": "9cc06dba",
  "subject": "Merge tag 'drm-intel-next-2024-12-11' of https://gitlab.freedesktop.org/drm/i915/kernel into drm-next",
  "body": "Core Changes:\n - drm/print: add drm_print_hex_dump()\n\nDriver Changes:\n - HDCP fixes and updates for Xe3lpd and for HDCP 1.4 (Suraj)\n - Add dedicated lock for each sideband (Jani)\n - New GSC FW for ARL-H and ARL-U (Daniele)\n - Add support for 3 VDSC engines 12 slices (Ankit)\n - Sanitize MBUS joining (Ville)\n - Fixes in DP MST (Imre)\n - Stop using pixel_format_from_register_bits() to parse VBT (Ville)\n - Declutter CDCLK code (Ville)\n - PSR clean up and fixes (Jouni, Jani, Animesh)\n - DMC wakelock - Fixes and enablement for Xe3_LPD (Gustavo)\n - Demote source OUI read/write failure logging to debug (Jani)\n - Potential boot oops fix and some general cleanups (Ville)\n - Scaler code cleanups (Ville)\n - More conversion towards struct intel_display and general cleanups (Jani)\n - Limit max compressed bpp to 18 when forcing DSC (Ankit)\n - Start to reconcile i915's and xe's display power mgt sequences (Rodrigo)\n - Some correction in the DP Link Training sequence (Arun)\n - Avoid setting YUV420_MODE in PIPE_MISC on Xe3lpd (Ankit)\n - MST and DDI cleanups and refactoring (Jani)\n - Fixed an typo in i915_gem_gtt.c (Zhang)\n - Try to make DPT shrinkable again (Ville)\n - Try to fix CPU MMIO fails during legacy LUT updates (Ville)\n - Some PPS cleanups (Ville, Jani)\n - Use seq buf for printing rates (Jani)\n - Flush DMC wakelock release work at the end of runtime suspend (Gustavo)\n - Fix NULL pointer dereference in capture_engine (Eugene)\n - Fix memory leak by correcting cache object name in error handler (Jiasheng)\n - Small refactor in WM/DPKGC for modifying latency programmed into PKG_C_LATENCY (Suraj)\n - Add drm_printer based hex dumper and use it (Jani)\n - Move g4x code to specific g4x functions (Jani)\n\nSigned-off-by: Simona Vetter <simona.vetter@ffwll.ch>\nFrom: Rodrigo Vivi <rodrigo.vivi@intel.com>\n[sima: conflict in intel_dp_mst.c due to conversion to\ndrm_connector_dynamic_init that landed through drm-misc]\nLink: https://patchwork.freedesktop.org/patch/msgid/Z1n4VhatZpvT5xKs@intel.com",
  "full_message": "Merge tag 'drm-intel-next-2024-12-11' of https://gitlab.freedesktop.org/drm/i915/kernel into drm-next\n\nCore Changes:\n - drm/print: add drm_print_hex_dump()\n\nDriver Changes:\n - HDCP fixes and updates for Xe3lpd and for HDCP 1.4 (Suraj)\n - Add dedicated lock for each sideband (Jani)\n - New GSC FW for ARL-H and ARL-U (Daniele)\n - Add support for 3 VDSC engines 12 slices (Ankit)\n - Sanitize MBUS joining (Ville)\n - Fixes in DP MST (Imre)\n - Stop using pixel_format_from_register_bits() to parse VBT (Ville)\n - Declutter CDCLK code (Ville)\n - PSR clean up and fixes (Jouni, Jani, Animesh)\n - DMC wakelock - Fixes and enablement for Xe3_LPD (Gustavo)\n - Demote source OUI read/write failure logging to debug (Jani)\n - Potential boot oops fix and some general cleanups (Ville)\n - Scaler code cleanups (Ville)\n - More conversion towards struct intel_display and general cleanups (Jani)\n - Limit max compressed bpp to 18 when forcing DSC (Ankit)\n - Start to reconcile i915's and xe's display power mgt sequences (Rodrigo)\n - Some correction in the DP Link Training sequence (Arun)\n - Avoid setting YUV420_MODE in PIPE_MISC on Xe3lpd (Ankit)\n - MST and DDI cleanups and refactoring (Jani)\n - Fixed an typo in i915_gem_gtt.c (Zhang)\n - Try to make DPT shrinkable again (Ville)\n - Try to fix CPU MMIO fails during legacy LUT updates (Ville)\n - Some PPS cleanups (Ville, Jani)\n - Use seq buf for printing rates (Jani)\n - Flush DMC wakelock release work at the end of runtime suspend (Gustavo)\n - Fix NULL pointer dereference in capture_engine (Eugene)\n - Fix memory leak by correcting cache object name in error handler (Jiasheng)\n - Small refactor in WM/DPKGC for modifying latency programmed into PKG_C_LATENCY (Suraj)\n - Add drm_printer based hex dumper and use it (Jani)\n - Move g4x code to specific g4x functions (Jani)\n\nSigned-off-by: Simona Vetter <simona.vetter@ffwll.ch>\nFrom: Rodrigo Vivi <rodrigo.vivi@intel.com>\n[sima: conflict in intel_dp_mst.c due to conversion to\ndrm_connector_dynamic_init that landed through drm-misc]\nLink: https://patchwork.freedesktop.org/patch/msgid/Z1n4VhatZpvT5xKs@intel.com",
  "author_name": "Simona Vetter",
  "author_email": "simona.vetter@ffwll.ch",
  "author_date": "Tue Jan 7 16:51:19 2025 +0100",
  "author_date_iso": "2025-01-07T16:51:19+01:00",
  "committer_name": "Simona Vetter",
  "committer_email": "simona.vetter@ffwll.ch",
  "committer_date": "Tue Jan 7 16:56:40 2025 +0100",
  "committer_date_iso": "2025-01-07T16:56:40+01:00",
  "files_changed": [
    "drivers/gpu/drm/i915/display/intel_audio.c",
    "drivers/gpu/drm/i915/display/intel_dp_mst.c",
    "drivers/gpu/drm/i915/display/intel_tc.c",
    "drivers/gpu/drm/i915/i915_driver.c",
    "drivers/gpu/drm/xe/xe_pm.c"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "drivers/gpu/drm/drm_print.c",
      "insertions": 23,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/g4x_dp.c",
      "insertions": 22,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/g4x_dp.h",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "drivers/gpu/drm/i915/display/hsw_ips.c",
      "insertions": 18,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/hsw_ips.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/i9xx_display_sr.c",
      "insertions": 95,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/i9xx_display_sr.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/icl_dsi.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_audio.c",
      "insertions": 50,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_audio.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_bios.c",
      "insertions": 12,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_bios.h",
      "insertions": 0,
      "deletions": 8
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_bw.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_cdclk.c",
      "insertions": 36,
      "deletions": 137
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_crt.c",
      "insertions": 80,
      "deletions": 83
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_crt_regs.h",
      "insertions": 48,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_crtc_state_dump.c",
      "insertions": 2,
      "deletions": 12
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_cursor.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_cx0_phy.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_ddi.c",
      "insertions": 285,
      "deletions": 208
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_ddi.h",
      "insertions": 8,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_ddi_buf_trans.c",
      "insertions": 16,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_de.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display.c",
      "insertions": 51,
      "deletions": 60
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_core.h",
      "insertions": 16,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_debugfs.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_device.c",
      "insertions": 158,
      "deletions": 116
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_device.h",
      "insertions": 81,
      "deletions": 74
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_driver.c",
      "insertions": 159,
      "deletions": 139
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_driver.h",
      "insertions": 19,
      "deletions": 19
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_irq.c",
      "insertions": 26,
      "deletions": 26
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_params.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_params.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_power.c",
      "insertions": 488,
      "deletions": 460
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_power.h",
      "insertions": 16,
      "deletions": 15
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_power_map.c",
      "insertions": 28,
      "deletions": 28
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_power_well.c",
      "insertions": 280,
      "deletions": 287
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_power_well.h",
      "insertions": 17,
      "deletions": 18
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_reset.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_types.h",
      "insertions": 19,
      "deletions": 6
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dmc.c",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dmc_wl.c",
      "insertions": 257,
      "deletions": 59
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dmc_wl.h",
      "insertions": 12,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp.c",
      "insertions": 66,
      "deletions": 44
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp_aux.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp_link_training.c",
      "insertions": 12,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp_mst.c",
      "insertions": 337,
      "deletions": 318
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dpio_phy.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dpt.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_drrs.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dsb.c",
      "insertions": 14,
      "deletions": 44
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dsi_vbt.c",
      "insertions": 18,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dvo.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_gmbus.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hdcp.c",
      "insertions": 22,
      "deletions": 14
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hdmi.c",
      "insertions": 3,
      "deletions": 6
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hotplug.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hotplug_irq.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_lvds.c",
      "insertions": 25,
      "deletions": 24
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_modeset_setup.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_overlay.c",
      "insertions": 96,
      "deletions": 88
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_overlay.h",
      "insertions": 12,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_panel.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_pch_display.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_pch_refclk.c",
      "insertions": 13,
      "deletions": 13
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_plane_initial.c",
      "insertions": 30,
      "deletions": 26
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_plane_initial.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_pps.c",
      "insertions": 93,
      "deletions": 81
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_psr.c",
      "insertions": 41,
      "deletions": 45
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_sdvo.c",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_tc.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_tv.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_vbt_defs.h",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_vdsc.c",
      "insertions": 69,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_vdsc.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_vdsc_regs.h",
      "insertions": 10,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_vrr.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_scaler.c",
      "insertions": 146,
      "deletions": 140
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_scaler.h",
      "insertions": 3,
      "deletions": 8
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_universal_plane.c",
      "insertions": 14,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_watermark.c",
      "insertions": 395,
      "deletions": 325
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_watermark.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/vlv_dsi.c",
      "insertions": 26,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/vlv_dsi.h",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/gem/i915_gem_object.h",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/gt/intel_ggtt.c",
      "insertions": 14,
      "deletions": 5
    },
    {
      "file": "drivers/gpu/drm/i915/gt/intel_gtt.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/gt/intel_reset.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/display.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/handlers.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/i915_driver.c",
      "insertions": 66,
      "deletions": 49
    },
    {
      "file": "drivers/gpu/drm/i915/i915_drv.h",
      "insertions": 9,
      "deletions": 10
    },
    {
      "file": "drivers/gpu/drm/i915/i915_gem_gtt.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/i915_getparam.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/i915_irq.c",
      "insertions": 4,
      "deletions": 8
    },
    {
      "file": "drivers/gpu/drm/i915/i915_reg.h",
      "insertions": 42,
      "deletions": 80
    },
    {
      "file": "drivers/gpu/drm/i915/i915_suspend.c",
      "insertions": 0,
      "deletions": 141
    },
    {
      "file": "drivers/gpu/drm/i915/i915_suspend.h",
      "insertions": 0,
      "deletions": 14
    },
    {
      "file": "drivers/gpu/drm/i915/intel_gvt_mmio_table.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/intel_sbi.c",
      "insertions": 21,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/intel_sbi.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/selftests/mock_gem_device.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/vlv_sideband.c",
      "insertions": 23,
      "deletions": 5
    },
    {
      "file": "drivers/gpu/drm/i915/vlv_sideband.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/xe/compat-i915-headers/intel_uncore.h",
      "insertions": 10,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/xe/display/xe_display.c",
      "insertions": 71,
      "deletions": 43
    },
    {
      "file": "drivers/gpu/drm/xe/display/xe_display.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/xe/display/xe_plane_initial.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/xe/xe_pm.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/drm/drm_print.h",
      "insertions": 2,
      "deletions": 0
    }
  ],
  "total_insertions": 4157,
  "total_deletions": 3443,
  "total_changes": 7600,
  "parents": [
    "d678c63534ed0d0fe52ff95cea83808f6f0ae382",
    "e7f0a3a6f7339af55f1ca2c27131739d75569c08"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Sanitize"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/i915/display/intel_audio.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp_mst.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_tc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/i915_driver.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/xe/xe_pm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}