Files changed: 9
Insertions: 4892
Deletions: 1254
Total changes: 6146

File-specific changes:
Documentation/ABI/testing/configfs-usb-gadget-uac1: +3 -2
Documentation/ABI/testing/configfs-usb-gadget-uac2: +5 -2
Documentation/ABI/testing/sysfs-driver-eud: +9 -0
Documentation/devicetree/bindings/soc/qcom/qcom,eud.yaml: +77 -0
Documentation/devicetree/bindings/usb/exynos-usb.txt: +0 -115
Documentation/devicetree/bindings/usb/fsl,imx8mp-dwc3.yaml: +27 -4
Documentation/devicetree/bindings/usb/mediatek,mtk-xhci.yaml: +6 -1
Documentation/devicetree/bindings/usb/microchip,mpfs-musb.yaml: +59 -0
Documentation/devicetree/bindings/usb/qcom,dwc3.yaml: +1 -0
Documentation/devicetree/bindings/usb/richtek,rt1719.yaml: +85 -0
Documentation/devicetree/bindings/usb/rockchip,dwc3.yaml: +2 -0
Documentation/devicetree/bindings/usb/samsung,exynos-dwc3.yaml: +129 -0
Documentation/devicetree/bindings/usb/samsung,exynos-usb2.yaml: +117 -0
Documentation/devicetree/bindings/usb/snps,dwc3.yaml: +11 -2
Documentation/devicetree/bindings/usb/usb-hcd.yaml: +1 -1
Documentation/devicetree/bindings/usb/willsemi,wusb3801.yaml: +75 -0
Documentation/devicetree/bindings/vendor-prefixes.yaml: +2 -0
Documentation/usb/gadget-testing.rst: +8 -4
MAINTAINERS: +8 -0
arch/arm64/boot/dts/freescale/imx8mp.dtsi: +4 -2
arch/arm64/boot/dts/qcom/ipq6018.dtsi: +2 -1
arch/arm64/boot/dts/xilinx/zynqmp-clk-ccf.dtsi: +2 -2
arch/arm64/boot/dts/xilinx/zynqmp.dtsi: +2 -2
arch/x86/kernel/early_printk.c: +1 -1
arch/x86/kernel/tsc.c: +3 -3
drivers/thunderbolt/acpi.c: +2 -2
drivers/thunderbolt/eeprom.c: +22 -19
drivers/thunderbolt/lc.c: +110 -0
drivers/thunderbolt/nhi.c: +1 -2
drivers/thunderbolt/switch.c: +76 -5
drivers/thunderbolt/tb.c: +11 -0
drivers/thunderbolt/tb.h: +8 -0
drivers/thunderbolt/tb_regs.h: +25 -12
drivers/thunderbolt/tunnel.c: +10 -0
drivers/usb/cdns3/cdnsp-debug.h: +154 -151
drivers/usb/cdns3/cdnsp-gadget.c: +0 -3
drivers/usb/chipidea/udc.c: +1 -1
drivers/usb/common/ulpi.c: +70 -1
drivers/usb/common/usb-conn-gpio.c: +3 -17
drivers/usb/core/devio.c: +22 -10
drivers/usb/core/hcd-pci.c: +1 -1
drivers/usb/core/hub.c: +7 -14
drivers/usb/core/usb-acpi.c: +1 -1
drivers/usb/core/usb.c: +8 -0
drivers/usb/dwc2/params.c: +10 -0
drivers/usb/dwc3/core.c: +107 -19
drivers/usb/dwc3/core.h: +13 -4
drivers/usb/dwc3/drd.c: +13 -0
drivers/usb/dwc3/dwc3-imx8mp.c: +70 -7
drivers/usb/dwc3/dwc3-meson-g12a.c: +5 -5
drivers/usb/dwc3/dwc3-omap.c: +1 -1
drivers/usb/dwc3/dwc3-pci.c: +39 -7
drivers/usb/dwc3/ep0.c: +14 -0
drivers/usb/dwc3/gadget.c: +74 -44
drivers/usb/dwc3/gadget.h: +1 -0
drivers/usb/early/xhci-dbc.c: +8 -5
drivers/usb/gadget/Makefile: +0 -1
drivers/usb/gadget/composite.c: +19 -17
drivers/usb/gadget/configfs.c: +14 -10
drivers/usb/gadget/function/f_fs.c: +2 -2
drivers/usb/gadget/function/f_mass_storage.c: +58 -12
drivers/usb/gadget/function/f_phonet.c: +1 -3
drivers/usb/gadget/function/f_serial.c: +4 -0
drivers/usb/gadget/function/f_uac1.c: +209 -27
drivers/usb/gadget/function/f_uac2.c: +355 -121
drivers/usb/gadget/function/u_audio.c: +218 -20
drivers/usb/gadget/function/u_audio.h: +12 -2
drivers/usb/gadget/function/u_uac1.h: +5 -2
drivers/usb/gadget/function/u_uac2.h: +9 -2
drivers/usb/gadget/function/uac_common.h: +9 -0
drivers/usb/gadget/legacy/audio.c: +63 -30
drivers/usb/gadget/legacy/hid.c: +12 -11
drivers/usb/gadget/legacy/inode.c: +4 -4
drivers/usb/gadget/legacy/raw_gadget.c: +12 -6
drivers/usb/gadget/legacy/serial.c: +5 -5
drivers/usb/gadget/udc/aspeed-vhub/epn.c: +7 -5
drivers/usb/gadget/udc/at91_udc.c: +7 -5
drivers/usb/gadget/udc/atmel_usba_udc.c: +8 -5
drivers/usb/gadget/udc/bdc/bdc_ep.c: +9 -4
drivers/usb/gadget/udc/core.c: +12 -8
drivers/usb/gadget/udc/dummy_hcd.c: +13 -12
drivers/usb/gadget/udc/fsl_qe_udc.c: +8 -5
drivers/usb/gadget/udc/fsl_udc_core.c: +8 -5
drivers/usb/gadget/udc/goku_udc.c: +7 -5
drivers/usb/gadget/udc/gr_udc.c: +7 -5
drivers/usb/gadget/udc/lpc32xx_udc.c: +7 -5
drivers/usb/gadget/udc/max3420_udc.c: +11 -7
drivers/usb/gadget/udc/mv_u3d_core.c: +7 -5
drivers/usb/gadget/udc/mv_udc_core.c: +7 -5
drivers/usb/gadget/udc/net2272.c: +7 -6
drivers/usb/gadget/udc/net2280.c: +8 -5
drivers/usb/gadget/udc/omap_udc.c: +7 -5
drivers/usb/gadget/udc/pxa25x_udc.c: +8 -5
drivers/usb/gadget/udc/pxa27x_udc.c: +7 -6
drivers/usb/gadget/udc/renesas_usb3.c: +1 -1
drivers/usb/gadget/udc/s3c-hsudc.c: +7 -5
drivers/usb/gadget/udc/s3c2410_udc.c: +9 -8
drivers/usb/gadget/udc/snps_udc_core.c: +1 -1
drivers/usb/gadget/udc/tegra-xudc.c: +17 -15
drivers/usb/gadget/udc/udc-xilinx.c: +8 -5
drivers/usb/host/ehci-dbg.c: +2 -2
drivers/usb/host/ehci-pci.c: +9 -0
drivers/usb/host/ehci-platform.c: +1 -2
drivers/usb/host/ehci-q.c: +4 -3
drivers/usb/host/ehci-sched.c: +1 -3
drivers/usb/host/fotg210-hcd.c: +1 -3
drivers/usb/host/ohci-dbg.c: +2 -2
drivers/usb/host/oxu210hp-hcd.c: +1 -1
drivers/usb/host/xen-hcd.c: +44 -17
drivers/usb/host/xhci-dbgcap.c: +72 -73
drivers/usb/host/xhci-dbgcap.h: +20 -6
drivers/usb/host/xhci-dbgtty.c: +57 -29
drivers/usb/host/xhci-hub.c: +4 -1
drivers/usb/host/xhci-mem.c: +5 -17
drivers/usb/host/xhci-mtk-sch.c: +3 -4
drivers/usb/host/xhci-mtk.c: +48 -33
drivers/usb/host/xhci-mtk.h: +3 -2
drivers/usb/host/xhci-plat.c: +3 -10
drivers/usb/host/xhci-rcar.c: +1 -1
drivers/usb/host/xhci.c: +29 -36
drivers/usb/host/xhci.h: +11 -5
drivers/usb/isp1760/isp1760-hcd.c: +2 -3
drivers/usb/misc/Kconfig: +11 -0
drivers/usb/misc/Makefile: +1 -0
drivers/usb/misc/qcom_eud.c: +251 -0
drivers/usb/serial/Kconfig: +1 -0
drivers/usb/serial/pl2303.c: +2 -0
drivers/usb/serial/pl2303.h: +3 -0
drivers/usb/serial/usb-serial-simple.c: +7 -0
drivers/usb/serial/usb_wwan.c: +0 -1
drivers/usb/storage/ene_ub6250.c: +76 -79
drivers/usb/storage/realtek_cr.c: +1 -1
drivers/usb/typec/Kconfig: +22 -0
drivers/usb/typec/Makefile: +2 -0
drivers/usb/typec/class.c: +43 -0
drivers/usb/typec/rt1719.c: +961 -0
drivers/usb/typec/tcpm/tcpm.c: +1 -23
drivers/usb/typec/tipd/core.c: +5 -0
drivers/usb/typec/tipd/tps6598x.h: +1 -0
drivers/usb/typec/wusb3801.c: +437 -0
drivers/usb/usbip/vudc_main.c: +5 -5
include/linux/usb/typec.h: +3 -0
include/linux/usb/xhci-dbgp.h: +1 -1
