commit 875bfd5276f31d09e811d31fca638b9f4d1205e8
Author: Kees Cook <kees@kernel.org>
Date:   Fri Sep 2 13:02:26 2022 -0700

    fortify: Add KUnit test for FORTIFY_SOURCE internals
    
    Add lib/fortify_kunit.c KUnit test for checking the expected behavioral
    characteristics of FORTIFY_SOURCE internals.
    
    Cc: Nick Desaulniers <ndesaulniers@google.com>
    Cc: Nathan Chancellor <nathan@kernel.org>
    Cc: Tom Rix <trix@redhat.com>
    Cc: Andrew Morton <akpm@linux-foundation.org>
    Cc: Vlastimil Babka <vbabka@suse.cz>
    Cc: "Steven Rostedt (Google)" <rostedt@goodmis.org>
    Cc: Yury Norov <yury.norov@gmail.com>
    Cc: Masami Hiramatsu <mhiramat@kernel.org>
    Cc: Sander Vanheule <sander@svanheule.net>
    Cc: linux-hardening@vger.kernel.org
    Cc: llvm@lists.linux.dev
    Reviewed-by: David Gow <davidgow@google.com>
    Signed-off-by: Kees Cook <keescook@chromium.org>

diff --git a/lib/Makefile b/lib/Makefile
index f545140ed9e7..4ee1ceae945a 100644
--- a/lib/Makefile
+++ b/lib/Makefile
@@ -381,6 +381,7 @@ obj-$(CONFIG_IS_SIGNED_TYPE_KUNIT_TEST) += is_signed_type_kunit.o
 obj-$(CONFIG_OVERFLOW_KUNIT_TEST) += overflow_kunit.o
 CFLAGS_stackinit_kunit.o += $(call cc-disable-warning, switch-unreachable)
 obj-$(CONFIG_STACKINIT_KUNIT_TEST) += stackinit_kunit.o
+obj-$(CONFIG_FORTIFY_KUNIT_TEST) += fortify_kunit.o
 
 obj-$(CONFIG_GENERIC_LIB_DEVMEM_IS_ALLOWED) += devmem_is_allowed.o