Files changed: 8
Insertions: 122625
Deletions: 34372
Total changes: 156997

File-specific changes:
Documentation/admin-guide/sysctl/net.rst: +1 -0
Documentation/bpf/libbpf/program_types.rst: +10 -0
Documentation/bpf/prog_flow_dissector.rst: +1 -1
Documentation/bpf/standardization/instruction-set.rst: +8 -0
Documentation/devicetree/bindings/arm/mediatek/mediatek,mt7622-wed.yaml: +1 -0
Documentation/devicetree/bindings/i3c/i3c.yaml: +6 -0
Documentation/devicetree/bindings/mfd/syscon.yaml: +2 -0
Documentation/devicetree/bindings/net/allwinner,sun8i-a83t-emac.yaml: +2 -0
Documentation/devicetree/bindings/net/brcm,asp-v2.0.yaml: +1 -1
Documentation/devicetree/bindings/net/dsa/brcm,sf2.yaml: +1 -0
Documentation/devicetree/bindings/net/dsa/dsa.yaml: +1 -10
Documentation/devicetree/bindings/net/dsa/mediatek,mt7530.yaml: +6 -4
Documentation/devicetree/bindings/net/dsa/microchip,ksz.yaml: +22 -0
Documentation/devicetree/bindings/net/dsa/microchip,lan937x.yaml: +2 -1
Documentation/devicetree/bindings/net/dsa/nxp,sja1105.yaml: +3 -1
Documentation/devicetree/bindings/net/dsa/qca8k.yaml: +1 -0
Documentation/devicetree/bindings/net/dsa/realtek.yaml: +2 -0
Documentation/devicetree/bindings/net/dsa/renesas,rzn1-a5psw.yaml: +2 -8
Documentation/devicetree/bindings/net/engleder,tsnep.yaml: +1 -0
Documentation/devicetree/bindings/net/ethernet-switch.yaml: +8 -6
Documentation/devicetree/bindings/net/fsl,fec.yaml: +1 -0
Documentation/devicetree/bindings/net/loongson,ls1b-gmac.yaml: +114 -0
Documentation/devicetree/bindings/net/loongson,ls1c-emac.yaml: +113 -0
Documentation/devicetree/bindings/net/mscc,vsc7514-switch.yaml: +18 -28
Documentation/devicetree/bindings/net/nxp,tja11xx.yaml: +1 -0
Documentation/devicetree/bindings/net/renesas,ether.yaml: +1 -2
Documentation/devicetree/bindings/net/renesas,etheravb.yaml: +1 -2
Documentation/devicetree/bindings/net/snps,dwmac.yaml: +5 -0
Documentation/devicetree/bindings/net/ti,cpsw-switch.yaml: +1 -1
Documentation/devicetree/bindings/net/ti,icssg-prueth.yaml: +8 -0
Documentation/devicetree/bindings/soc/mediatek/mediatek,mt7986-wo-ccif.yaml: +1 -0
Documentation/driver-api/80211/mac80211.rst: +1 -1
Documentation/driver-api/dpll.rst: +551 -0
Documentation/driver-api/index.rst: +1 -0
Documentation/netlink/genetlink-c.yaml: +38 -7
Documentation/netlink/genetlink-legacy.yaml: +43 -8
Documentation/netlink/genetlink.yaml: +32 -7
Documentation/netlink/netlink-raw.yaml: +22 -1
Documentation/netlink/specs/devlink.yaml: +1497 -117
Documentation/netlink/specs/dpll.yaml: +510 -0
Documentation/netlink/specs/ethtool.yaml: +0 -3
Documentation/netlink/specs/handshake.yaml: +4 -4
Documentation/netlink/specs/mptcp.yaml: +393 -0
Documentation/netlink/specs/netdev.yaml: +20 -1
Documentation/networking/device_drivers/appletalk/cops.rst: +0 -80
Documentation/networking/device_drivers/appletalk/index.rst: +0 -18
Documentation/networking/device_drivers/ethernet/index.rst: +1 -0
Documentation/networking/device_drivers/ethernet/intel/idpf.rst: +160 -0
Documentation/networking/device_drivers/ethernet/mellanox/mlx5/kconfig.rst: +1 -1
Documentation/networking/device_drivers/index.rst: +0 -1
Documentation/networking/devlink/i40e.rst: +59 -0
Documentation/networking/devlink/index.rst: +29 -0
Documentation/networking/dsa/b53.rst: +7 -7
Documentation/networking/dsa/bcm_sf2.rst: +1 -1
Documentation/networking/dsa/configuration.rst: +51 -51
Documentation/networking/dsa/dsa.rst: +83 -79
Documentation/networking/dsa/lan9303.rst: +1 -1
Documentation/networking/dsa/sja1105.rst: +3 -3
Documentation/networking/filter.rst: +2 -2
Documentation/networking/index.rst: +1 -1
Documentation/networking/ip-sysctl.rst: +39 -2
Documentation/networking/ipddp.rst: +0 -78
Documentation/networking/mptcp-sysctl.rst: +11 -0
Documentation/networking/msg_zerocopy.rst: +11 -2
Documentation/networking/netconsole.rst: +19 -3
Documentation/networking/page_pool.rst: +3 -1
Documentation/networking/pktgen.rst: +12 -0
Documentation/networking/scaling.rst: +42 -0
Documentation/networking/sfp-phylink.rst: +6 -4
Documentation/networking/tcp_ao.rst: +444 -0
Documentation/networking/xdp-rx-metadata.rst: +7 -0
Documentation/process/7.AdvancedTopics.rst: +18 -0
Documentation/process/maintainer-netdev.rst: +15 -0
Documentation/userspace-api/netlink/genetlink-legacy.rst: +15 -1
Documentation/userspace-api/netlink/specs.rst: +16 -7
MAINTAINERS: +34 -17
arch/arm/net/bpf_jit_32.c: +260 -20
arch/arm/net/bpf_jit_32.h: +4 -0
arch/arm64/boot/dts/marvell/armada-3720-espressobin.dtsi: +1 -1
arch/arm64/net/bpf_jit_comp.c: +1 -1
arch/s390/net/bpf_jit_comp.c: +203 -64
arch/x86/net/bpf_jit_comp.c: +130 -18
drivers/Kconfig: +2 -0
drivers/Makefile: +1 -0
drivers/atm/fore200e.c: +1 -7
drivers/bluetooth/btmtksdio.c: +38 -6
drivers/bluetooth/btqca.c: +68 -0
drivers/bluetooth/btqca.h: +4 -1
drivers/bluetooth/btusb.c: +11 -0
drivers/bluetooth/hci_bcm4377.c: +5 -0
drivers/bluetooth/hci_qca.c: +11 -0
drivers/dpll/Kconfig: +7 -0
drivers/dpll/Makefile: +9 -0
drivers/dpll/dpll_core.c: +798 -0
drivers/dpll/dpll_core.h: +89 -0
drivers/dpll/dpll_netlink.c: +1423 -0
drivers/dpll/dpll_netlink.h: +13 -0
drivers/dpll/dpll_nl.c: +164 -0
drivers/dpll/dpll_nl.h: +51 -0
drivers/i3c/master.c: +35 -0
drivers/infiniband/hw/mlx5/main.c: +17 -0
drivers/infiniband/ulp/ipoib/ipoib_ib.c: +2 -2
drivers/net/Kconfig: +9 -0
drivers/net/Makefile: +1 -1
drivers/net/Space.c: +0 -6
drivers/net/appletalk/Kconfig: +0 -102
drivers/net/appletalk/Makefile: +0 -7
drivers/net/appletalk/cops.c: +0 -1005
drivers/net/appletalk/cops.h: +0 -61
drivers/net/appletalk/cops_ffdrv.h: +0 -532
drivers/net/appletalk/cops_ltdrv.h: +0 -241
drivers/net/appletalk/ipddp.c: +0 -345
drivers/net/appletalk/ipddp.h: +0 -28
drivers/net/bareudp.c: +27 -18
drivers/net/bonding/bond_netlink.c: +1 -1
drivers/net/can/Kconfig: +1 -0
drivers/net/can/at91_can.c: +398 -586
drivers/net/can/dev/dev.c: +36 -15
drivers/net/can/dev/rx-offload.c: +1 -1
drivers/net/can/dev/skb.c: +5 -1
drivers/net/can/sja1000/peak_pci.c: +1 -1
drivers/net/can/sja1000/sja1000.c: +1 -1
drivers/net/can/usb/etas_es58x/es58x_core.c: +1 -0
drivers/net/can/usb/etas_es58x/es58x_core.h: +3 -3
drivers/net/can/usb/etas_es58x/es58x_devlink.c: +39 -18
drivers/net/dsa/b53/b53_common.c: +2 -2
drivers/net/dsa/b53/b53_mdio.c: +1 -1
drivers/net/dsa/b53/b53_mmap.c: +2 -4
drivers/net/dsa/b53/b53_srab.c: +3 -5
drivers/net/dsa/bcm_sf2.c: +23 -26
drivers/net/dsa/bcm_sf2.h: +1 -1
drivers/net/dsa/bcm_sf2_cfp.c: +2 -2
drivers/net/dsa/dsa_loop.c: +9 -0
drivers/net/dsa/hirschmann/hellcreek.c: +3 -5
drivers/net/dsa/lan9303-core.c: +2 -2
drivers/net/dsa/lantiq_gswip.c: +21 -24
drivers/net/dsa/microchip/Makefile: +1 -1
drivers/net/dsa/microchip/ksz8795.c: +83 -3
drivers/net/dsa/microchip/ksz8795_reg.h: +0 -21
drivers/net/dsa/microchip/ksz9477.c: +274 -0
drivers/net/dsa/microchip/ksz9477.h: +43 -0
drivers/net/dsa/microchip/ksz9477_acl.c: +1436 -0
drivers/net/dsa/microchip/ksz9477_i2c.c: +1 -4
drivers/net/dsa/microchip/ksz9477_reg.h: +0 -20
drivers/net/dsa/microchip/ksz9477_tc_flower.c: +281 -0
drivers/net/dsa/microchip/ksz_common.c: +634 -11
drivers/net/dsa/microchip/ksz_common.h: +42 -0
drivers/net/dsa/microchip/ksz_ptp.c: +1 -1
drivers/net/dsa/microchip/ksz_spi.c: +1 -4
drivers/net/dsa/mt7530-mmio.c: +2 -5
drivers/net/dsa/mt7530.c: +10 -22
drivers/net/dsa/mv88e6xxx/chip.c: +2 -2
drivers/net/dsa/mv88e6xxx/pcs-639x.c: +1 -1
drivers/net/dsa/mv88e6xxx/ptp.c: +4 -0
drivers/net/dsa/ocelot/felix.c: +34 -34
drivers/net/dsa/ocelot/felix.h: +3 -3
drivers/net/dsa/ocelot/ocelot_ext.c: +3 -5
drivers/net/dsa/ocelot/seville_vsc9953.c: +3 -5
drivers/net/dsa/qca/qca8k-8xxx.c: +25 -25
drivers/net/dsa/qca/qca8k-common.c: +3 -4
drivers/net/dsa/qca/qca8k-leds.c: +3 -3
drivers/net/dsa/qca/qca8k.h: +1 -1
drivers/net/dsa/realtek/realtek-smi.c: +17 -19
drivers/net/dsa/realtek/realtek.h: +1 -1
drivers/net/dsa/realtek/rtl8365mb.c: +2 -3
drivers/net/dsa/realtek/rtl8366-core.c: +2 -6
drivers/net/dsa/realtek/rtl8366rb.c: +35 -9
drivers/net/dsa/rzn1_a5psw.c: +3 -5
drivers/net/dsa/sja1105/sja1105_clocking.c: +13 -8
drivers/net/dsa/sja1105/sja1105_main.c: +2 -2
drivers/net/dsa/vitesse-vsc73xx-core.c: +33 -16
drivers/net/dsa/vitesse-vsc73xx-platform.c: +3 -5
drivers/net/dsa/xrs700x/xrs700x.c: +18 -12
drivers/net/ethernet/8390/ax88796.c: +2 -4
drivers/net/ethernet/8390/mcf8390.c: +2 -3
drivers/net/ethernet/8390/ne.c: +2 -3
drivers/net/ethernet/actions/owl-emac.c: +2 -4
drivers/net/ethernet/aeroflex/greth.c: +2 -4
drivers/net/ethernet/allwinner/sun4i-emac.c: +2 -3
drivers/net/ethernet/altera/altera_tse.h: +1 -1
drivers/net/ethernet/altera/altera_tse_main.c: +5 -14
drivers/net/ethernet/amazon/ena/ena_netdev.c: +1 -1
drivers/net/ethernet/amd/au1000_eth.c: +2 -4
drivers/net/ethernet/amd/pds_core/core.c: +36 -14
drivers/net/ethernet/amd/pds_core/core.h: +7 -0
drivers/net/ethernet/amd/pds_core/dev.c: +9 -2
drivers/net/ethernet/amd/pds_core/devlink.c: +10 -21
drivers/net/ethernet/amd/pds_core/main.c: +50 -0
drivers/net/ethernet/amd/sunlance.c: +2 -4
drivers/net/ethernet/amd/xgbe/xgbe-platform.c: +3 -45
drivers/net/ethernet/apm/xgene-v2/main.c: +2 -4
drivers/net/ethernet/apm/xgene/xgene_enet_main.c: +3 -18
drivers/net/ethernet/apm/xgene/xgene_enet_main.h: +2 -1
drivers/net/ethernet/apple/macmace.c: +2 -4
drivers/net/ethernet/arc/emac_arc.c: +2 -4
drivers/net/ethernet/arc/emac_rockchip.c: +2 -3
drivers/net/ethernet/asix/ax88796c_ioctl.c: +1 -1
drivers/net/ethernet/atheros/ag71xx.c: +3 -5
drivers/net/ethernet/atheros/atl1c/atl1c.h: +0 -3
drivers/net/ethernet/atheros/atl1c/atl1c_main.c: +23 -57
drivers/net/ethernet/atheros/atlx/atl1.c: +1 -3
drivers/net/ethernet/atheros/atlx/atl2.c: +1 -1
drivers/net/ethernet/broadcom/asp2/bcmasp.c: +3 -5
drivers/net/ethernet/broadcom/bcm4908_enet.c: +2 -4
drivers/net/ethernet/broadcom/bcm63xx_enet.c: +6 -8
drivers/net/ethernet/broadcom/bcmsysport.c: +3 -5
drivers/net/ethernet/broadcom/bgmac-platform.c: +2 -4
drivers/net/ethernet/broadcom/bnxt/Makefile: +1 -0
drivers/net/ethernet/broadcom/bnxt/bnxt.c: +159 -116
drivers/net/ethernet/broadcom/bnxt/bnxt.h: +13 -0
drivers/net/ethernet/broadcom/bnxt/bnxt_devlink.c: +33 -62
drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c: +492 -186
drivers/net/ethernet/broadcom/bnxt/bnxt_hsi.h: +367 -178
drivers/net/ethernet/broadcom/bnxt/bnxt_hwmon.c: +241 -0
drivers/net/ethernet/broadcom/bnxt/bnxt_hwmon.h: +30 -0
drivers/net/ethernet/broadcom/bnxt/bnxt_hwrm.c: +2 -0
drivers/net/ethernet/broadcom/bnxt/bnxt_hwrm.h: +14 -0
drivers/net/ethernet/broadcom/bnxt/bnxt_sriov.c: +17 -9
drivers/net/ethernet/broadcom/genet/bcmgenet.c: +2 -24
drivers/net/ethernet/broadcom/sb1250-mac.c: +2 -4
drivers/net/ethernet/broadcom/tg3.c: +65 -16
drivers/net/ethernet/broadcom/tg3.h: +3 -0
drivers/net/ethernet/brocade/bna/bfa_ioc.c: +1 -1
drivers/net/ethernet/cadence/macb_main.c: +2 -4
drivers/net/ethernet/calxeda/xgmac.c: +2 -4
drivers/net/ethernet/cavium/liquidio/lio_ethtool.c: +10 -8
drivers/net/ethernet/cavium/liquidio/lio_main.c: +1 -1
drivers/net/ethernet/cavium/liquidio/lio_vf_rep.c: +2 -1
drivers/net/ethernet/cavium/liquidio/octeon_device.c: +6 -5
drivers/net/ethernet/cavium/octeon/octeon_mgmt.c: +2 -3
drivers/net/ethernet/chelsio/cxgb3/l2t.h: +1 -1
drivers/net/ethernet/chelsio/cxgb3/sge.c: +1 -14
drivers/net/ethernet/chelsio/cxgb4/clip_tbl.h: +1 -1
drivers/net/ethernet/chelsio/cxgb4/cxgb4_tc_u32_parse.h: +1 -1
drivers/net/ethernet/chelsio/cxgb4/l2t.c: +1 -1
drivers/net/ethernet/chelsio/cxgb4/sched.h: +1 -1
drivers/net/ethernet/chelsio/cxgb4/sge.c: +1 -1
drivers/net/ethernet/chelsio/cxgb4/smt.h: +1 -1
drivers/net/ethernet/chelsio/cxgb4vf/sge.c: +1 -1
drivers/net/ethernet/chelsio/inline_crypto/ch_ktls/chcr_ktls.c: +19 -24
drivers/net/ethernet/chelsio/inline_crypto/ch_ktls/chcr_ktls.h: +27 -9
drivers/net/ethernet/chelsio/inline_crypto/chtls/chtls_cm.c: +1 -1
drivers/net/ethernet/cirrus/cs89x0.c: +2 -3
drivers/net/ethernet/cirrus/ep93xx_eth.c: +3 -5
drivers/net/ethernet/cirrus/mac89x0.c: +2 -3
drivers/net/ethernet/cortina/gemini.c: +4 -8
drivers/net/ethernet/davicom/dm9000.c: +2 -4
drivers/net/ethernet/dec/tulip/tulip.h: +1 -1
drivers/net/ethernet/dnet.c: +2 -4
drivers/net/ethernet/engleder/tsnep.h: +1 -1
drivers/net/ethernet/engleder/tsnep_hw.h: +2 -0
drivers/net/ethernet/engleder/tsnep_main.c: +85 -36
drivers/net/ethernet/ethoc.c: +2 -4
drivers/net/ethernet/ezchip/nps_enet.c: +1 -1
drivers/net/ethernet/faraday/ftgmac100.c: +2 -3
drivers/net/ethernet/faraday/ftmac100.c: +2 -3
drivers/net/ethernet/freescale/enetc/enetc.c: +1 -1
drivers/net/ethernet/freescale/enetc/enetc.h: +1 -1
drivers/net/ethernet/freescale/enetc/enetc_qos.c: +1 -1
drivers/net/ethernet/freescale/fec_main.c: +18 -65
drivers/net/ethernet/freescale/fman/fman_memac.c: +5 -6
drivers/net/ethernet/freescale/fs_enet/fs_enet-main.c: +8 -10
drivers/net/ethernet/freescale/fs_enet/mii-fec.c: +3 -7
drivers/net/ethernet/freescale/fsl_pq_mdio.c: +4 -8
drivers/net/ethernet/google/gve/gve_main.c: +2 -2
drivers/net/ethernet/hisilicon/hip04_eth.c: +2 -4
drivers/net/ethernet/hisilicon/hisi_femac.c: +2 -4
drivers/net/ethernet/hisilicon/hix5hd2_gmac.c: +5 -12
drivers/net/ethernet/hisilicon/hns/hns_dsaf_main.c: +2 -4
drivers/net/ethernet/hisilicon/hns/hns_dsaf_ppe.h: +1 -1
drivers/net/ethernet/hisilicon/hns/hns_dsaf_rcb.h: +1 -1
drivers/net/ethernet/hisilicon/hns/hns_enet.c: +2 -3
drivers/net/ethernet/hisilicon/hns3/hnae3.h: +5 -0
drivers/net/ethernet/hisilicon/hns3/hns3_common/hclge_comm_cmd.c: +1 -0
drivers/net/ethernet/hisilicon/hns3/hns3_common/hclge_comm_cmd.h: +2 -0
drivers/net/ethernet/hisilicon/hns3/hns3_debugfs.c: +3 -0
drivers/net/ethernet/hisilicon/hns3/hns3_enet.c: +1 -2
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c: +111 -5
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h: +2 -0
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c: +80 -81
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h: +16 -2
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c: +1 -1
drivers/net/ethernet/hisilicon/hns_mdio.c: +2 -3
drivers/net/ethernet/huawei/hinic/hinic_devlink.c: +56 -161
drivers/net/ethernet/huawei/hinic/hinic_tx.c: +3 -5
drivers/net/ethernet/i825xx/sni_82596.c: +2 -3
drivers/net/ethernet/ibm/ehea/ehea_main.c: +4 -6
drivers/net/ethernet/ibm/emac/core.c: +2 -4
drivers/net/ethernet/ibm/emac/mal.c: +3 -5
drivers/net/ethernet/ibm/emac/rgmii.c: +2 -4
drivers/net/ethernet/ibm/emac/tah.c: +2 -4
drivers/net/ethernet/ibm/emac/zmii.c: +2 -4
drivers/net/ethernet/ibm/ibmveth.c: +1 -1
drivers/net/ethernet/ibm/ibmvnic.c: +3 -2
drivers/net/ethernet/intel/Kconfig: +14 -0
drivers/net/ethernet/intel/Makefile: +1 -0
drivers/net/ethernet/intel/e100.c: +1 -1
drivers/net/ethernet/intel/e1000/e1000_main.c: +1 -1
drivers/net/ethernet/intel/fm10k/fm10k_ethtool.c: +4 -4
drivers/net/ethernet/intel/i40e/Makefile: +2 -1
drivers/net/ethernet/intel/i40e/i40e.h: +116 -96
drivers/net/ethernet/intel/i40e/i40e_adminq.c: +2 -6
drivers/net/ethernet/intel/i40e/i40e_adminq.h: +2 -1
drivers/net/ethernet/intel/i40e/i40e_adminq_cmd.h: +2 -0
drivers/net/ethernet/intel/i40e/i40e_alloc.h: +12 -12
drivers/net/ethernet/intel/i40e/i40e_client.c: +0 -1
drivers/net/ethernet/intel/i40e/i40e_common.c: +41 -28
drivers/net/ethernet/intel/i40e/i40e_dcb.c: +2 -2
drivers/net/ethernet/intel/i40e/i40e_dcb_nl.c: +1 -1
drivers/net/ethernet/intel/i40e/i40e_ddp.c: +24 -7
drivers/net/ethernet/intel/i40e/i40e_debug.h: +47 -0
drivers/net/ethernet/intel/i40e/i40e_debugfs.c: +2 -1
drivers/net/ethernet/intel/i40e/i40e_devlink.c: +236 -0
drivers/net/ethernet/intel/i40e/i40e_devlink.h: +18 -0
drivers/net/ethernet/intel/i40e/i40e_diag.h: +4 -1
drivers/net/ethernet/intel/i40e/i40e_ethtool.c: +10 -6
drivers/net/ethernet/intel/i40e/i40e_hmc.c: +5 -11
drivers/net/ethernet/intel/i40e/i40e_hmc.h: +4 -0
drivers/net/ethernet/intel/i40e/i40e_io.h: +16 -0
drivers/net/ethernet/intel/i40e/i40e_lan_hmc.c: +3 -6
drivers/net/ethernet/intel/i40e/i40e_lan_hmc.h: +2 -0
drivers/net/ethernet/intel/i40e/i40e_main.c: +80 -45
drivers/net/ethernet/intel/i40e/i40e_nvm.c: +2 -0
drivers/net/ethernet/intel/i40e/i40e_osdep.h: +0 -59
drivers/net/ethernet/intel/i40e/i40e_prototype.h: +8 -4
drivers/net/ethernet/intel/i40e/i40e_ptp.c: +2 -1
drivers/net/ethernet/intel/i40e/i40e_register.h: +5 -0
drivers/net/ethernet/intel/i40e/i40e_txrx.c: +4 -5
drivers/net/ethernet/intel/i40e/i40e_txrx.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_txrx_common.h: +2 -0
drivers/net/ethernet/intel/i40e/i40e_type.h: +12 -50
drivers/net/ethernet/intel/i40e/i40e_virtchnl_pf.c: +3 -1
drivers/net/ethernet/intel/i40e/i40e_virtchnl_pf.h: +3 -1
drivers/net/ethernet/intel/i40e/i40e_xsk.c: +0 -4
drivers/net/ethernet/intel/i40e/i40e_xsk.h: +4 -0
drivers/net/ethernet/intel/iavf/Makefile: +1 -1
drivers/net/ethernet/intel/iavf/iavf.h: +11 -35
drivers/net/ethernet/intel/iavf/iavf_client.c: +0 -578
drivers/net/ethernet/intel/iavf/iavf_client.h: +0 -169
drivers/net/ethernet/intel/iavf/iavf_common.c: +0 -32
drivers/net/ethernet/intel/iavf/iavf_ethtool.c: +3 -5
drivers/net/ethernet/intel/iavf/iavf_main.c: +102 -142
drivers/net/ethernet/intel/iavf/iavf_prototype.h: +0 -2
drivers/net/ethernet/intel/iavf/iavf_txrx.c: +23 -23
drivers/net/ethernet/intel/iavf/iavf_type.h: +0 -12
drivers/net/ethernet/intel/iavf/iavf_virtchnl.c: +60 -55
drivers/net/ethernet/intel/ice/Makefile: +1 -1
drivers/net/ethernet/intel/ice/ice.h: +22 -1
drivers/net/ethernet/intel/ice/ice_adminq_cmd.h: +289 -17
drivers/net/ethernet/intel/ice/ice_common.c: +612 -144
drivers/net/ethernet/intel/ice/ice_common.h: +45 -6
drivers/net/ethernet/intel/ice/ice_ddp.c: +365 -100
drivers/net/ethernet/intel/ice/ice_ddp.h: +25 -2
drivers/net/ethernet/intel/ice/ice_devids.h: +9 -1
drivers/net/ethernet/intel/ice/ice_dpll.c: +2120 -0
drivers/net/ethernet/intel/ice/ice_dpll.h: +114 -0
drivers/net/ethernet/intel/ice/ice_eswitch_br.c: +3 -3
drivers/net/ethernet/intel/ice/ice_ethtool.c: +157 -71
drivers/net/ethernet/intel/ice/ice_ethtool.h: +8 -0
drivers/net/ethernet/intel/ice/ice_ethtool_fdir.c: +16 -8
drivers/net/ethernet/intel/ice/ice_flow.c: +1 -4
drivers/net/ethernet/intel/ice/ice_flow.h: +0 -3
drivers/net/ethernet/intel/ice/ice_gnss.c: +3 -0
drivers/net/ethernet/intel/ice/ice_hw_autogen.h: +40 -13
drivers/net/ethernet/intel/ice/ice_lag.c: +82 -53
drivers/net/ethernet/intel/ice/ice_lag.h: +2 -0
drivers/net/ethernet/intel/ice/ice_lib.c: +19 -24
drivers/net/ethernet/intel/ice/ice_main.c: +58 -38
drivers/net/ethernet/intel/ice/ice_ptp.c: +494 -185
drivers/net/ethernet/intel/ice/ice_ptp.h: +36 -5
drivers/net/ethernet/intel/ice/ice_ptp_hw.c: +656 -102
drivers/net/ethernet/intel/ice/ice_ptp_hw.h: +90 -5
drivers/net/ethernet/intel/ice/ice_sched.c: +18 -38
drivers/net/ethernet/intel/ice/ice_sched.h: +2 -4
drivers/net/ethernet/intel/ice/ice_sriov.c: +262 -45
drivers/net/ethernet/intel/ice/ice_sriov.h: +15 -2
drivers/net/ethernet/intel/ice/ice_switch.c: +14 -49
drivers/net/ethernet/intel/ice/ice_txrx_lib.c: +1 -1
drivers/net/ethernet/intel/ice/ice_type.h: +21 -8
drivers/net/ethernet/intel/ice/ice_vf_lib.c: +2 -0
drivers/net/ethernet/intel/ice/ice_vf_lib.h: +7 -2
drivers/net/ethernet/intel/ice/ice_virtchnl.c: +66 -5
drivers/net/ethernet/intel/ice/ice_virtchnl_fdir.c: +21 -8
drivers/net/ethernet/intel/ice/ice_xsk.c: +8 -14
drivers/net/ethernet/intel/idpf/Makefile: +18 -0
drivers/net/ethernet/intel/idpf/idpf.h: +968 -0
drivers/net/ethernet/intel/idpf/idpf_controlq.c: +621 -0
drivers/net/ethernet/intel/idpf/idpf_controlq.h: +130 -0
drivers/net/ethernet/intel/idpf/idpf_controlq_api.h: +169 -0
drivers/net/ethernet/intel/idpf/idpf_controlq_setup.c: +171 -0
drivers/net/ethernet/intel/idpf/idpf_dev.c: +165 -0
drivers/net/ethernet/intel/idpf/idpf_devids.h: +10 -0
drivers/net/ethernet/intel/idpf/idpf_ethtool.c: +1369 -0
drivers/net/ethernet/intel/idpf/idpf_lan_pf_regs.h: +124 -0
drivers/net/ethernet/intel/idpf/idpf_lan_txrx.h: +293 -0
drivers/net/ethernet/intel/idpf/idpf_lan_vf_regs.h: +128 -0
drivers/net/ethernet/intel/idpf/idpf_lib.c: +2379 -0
drivers/net/ethernet/intel/idpf/idpf_main.c: +279 -0
drivers/net/ethernet/intel/idpf/idpf_mem.h: +20 -0
drivers/net/ethernet/intel/idpf/idpf_singleq_txrx.c: +1183 -0
drivers/net/ethernet/intel/idpf/idpf_txrx.c: +4292 -0
drivers/net/ethernet/intel/idpf/idpf_txrx.h: +1023 -0
drivers/net/ethernet/intel/idpf/idpf_vf_dev.c: +163 -0
drivers/net/ethernet/intel/idpf/idpf_virtchnl.c: +3798 -0
drivers/net/ethernet/intel/idpf/virtchnl2.h: +1273 -0
drivers/net/ethernet/intel/idpf/virtchnl2_lan_desc.h: +451 -0
drivers/net/ethernet/intel/igb/igb_ethtool.c: +2 -2
drivers/net/ethernet/intel/igb/igb_main.c: +27 -28
drivers/net/ethernet/intel/igbvf/netdev.c: +1 -1
drivers/net/ethernet/intel/igc/igc_ethtool.c: +3 -2
drivers/net/ethernet/intel/igc/igc_main.c: +1 -1
drivers/net/ethernet/intel/ixgbe/ixgbe_ethtool.c: +2 -2
drivers/net/ethernet/intel/ixgbe/ixgbe_main.c: +1 -1
drivers/net/ethernet/intel/ixgbe/ixgbe_sriov.c: +12 -14
drivers/net/ethernet/intel/ixgbe/ixgbe_xsk.c: +1 -1
drivers/net/ethernet/korina.c: +2 -4
drivers/net/ethernet/lantiq_etop.c: +2 -4
drivers/net/ethernet/lantiq_xrx200.c: +2 -4
drivers/net/ethernet/litex/litex_liteeth.c: +2 -4
drivers/net/ethernet/marvell/mv643xx_eth.c: +4 -7
drivers/net/ethernet/marvell/mvmdio.c: +2 -4
drivers/net/ethernet/marvell/mvneta.c: +3 -5
drivers/net/ethernet/marvell/mvneta_bm.c: +2 -4
drivers/net/ethernet/marvell/mvpp2/mvpp2_main.c: +5 -7
drivers/net/ethernet/marvell/octeon_ep/octep_cn9k_pf.c: +125 -43
drivers/net/ethernet/marvell/octeon_ep/octep_config.h: +17 -5
drivers/net/ethernet/marvell/octeon_ep/octep_ctrl_net.c: +23 -1
drivers/net/ethernet/marvell/octeon_ep/octep_ctrl_net.h: +18 -0
drivers/net/ethernet/marvell/octeon_ep/octep_main.c: +202 -11
drivers/net/ethernet/marvell/octeon_ep/octep_main.h: +11 -2
drivers/net/ethernet/marvell/octeon_ep/octep_regs_cn9k_pf.h: +4 -0
drivers/net/ethernet/marvell/octeon_ep/octep_rx.h: +3 -0
drivers/net/ethernet/marvell/octeon_ep/octep_tx.h: +4 -0
drivers/net/ethernet/marvell/octeontx2/af/cgx.c: +3 -5
drivers/net/ethernet/marvell/octeontx2/af/mbox.h: +9 -2
drivers/net/ethernet/marvell/octeontx2/af/npc.h: +8 -0
drivers/net/ethernet/marvell/octeontx2/af/ptp.c: +59 -27
drivers/net/ethernet/marvell/octeontx2/af/rvu_cgx.c: +3 -4
drivers/net/ethernet/marvell/octeontx2/af/rvu_debugfs.c: +53 -0
drivers/net/ethernet/marvell/octeontx2/af/rvu_devlink.c: +133 -331
drivers/net/ethernet/marvell/octeontx2/af/rvu_npc_fs.c: +62 -0
drivers/net/ethernet/marvell/octeontx2/nic/otx2_common.c: +1 -1
drivers/net/ethernet/marvell/octeontx2/nic/otx2_ptp.c: +23 -8
drivers/net/ethernet/marvell/octeontx2/nic/otx2_tc.c: +58 -0
drivers/net/ethernet/marvell/pxa168_eth.c: +2 -3
drivers/net/ethernet/mediatek/mtk_eth_soc.c: +5 -6
drivers/net/ethernet/mediatek/mtk_eth_soc.h: +1 -1
drivers/net/ethernet/mediatek/mtk_ppe.c: +3 -1
drivers/net/ethernet/mediatek/mtk_ppe.h: +10 -9
drivers/net/ethernet/mediatek/mtk_ppe_offload.c: +8 -4
drivers/net/ethernet/mediatek/mtk_wed.c: +1174 -258
drivers/net/ethernet/mediatek/mtk_wed.h: +57 -0
drivers/net/ethernet/mediatek/mtk_wed_debugfs.c: +385 -15
drivers/net/ethernet/mediatek/mtk_wed_mcu.c: +86 -64
drivers/net/ethernet/mediatek/mtk_wed_regs.h: +357 -12
drivers/net/ethernet/mediatek/mtk_wed_wo.h: +2 -1
drivers/net/ethernet/mellanox/mlx4/en_rx.c: +1 -1
drivers/net/ethernet/mellanox/mlx4/fw.c: +1 -1
drivers/net/ethernet/mellanox/mlx5/core/Kconfig: +8 -0
drivers/net/ethernet/mellanox/mlx5/core/Makefile: +3 -0
drivers/net/ethernet/mellanox/mlx5/core/cmd.c: +70 -0
drivers/net/ethernet/mellanox/mlx5/core/dev.c: +27 -95
drivers/net/ethernet/mellanox/mlx5/core/devlink.c: +0 -11
drivers/net/ethernet/mellanox/mlx5/core/diag/fw_tracer.c: +12 -37
drivers/net/ethernet/mellanox/mlx5/core/diag/reporter_vnic.c: +34 -84
drivers/net/ethernet/mellanox/mlx5/core/diag/reporter_vnic.h: +3 -3
drivers/net/ethernet/mellanox/mlx5/core/dpll.c: +432 -0
drivers/net/ethernet/mellanox/mlx5/core/en.h: +11 -2
drivers/net/ethernet/mellanox/mlx5/core/en/devlink.c: +8 -0
drivers/net/ethernet/mellanox/mlx5/core/en/fs.h: +0 -1
drivers/net/ethernet/mellanox/mlx5/core/en/health.c: +42 -145
drivers/net/ethernet/mellanox/mlx5/core/en/health.h: +7 -7
drivers/net/ethernet/mellanox/mlx5/core/en/reporter_rx.c: +106 -316
drivers/net/ethernet/mellanox/mlx5/core/en/reporter_tx.c: +87 -259
drivers/net/ethernet/mellanox/mlx5/core/en/rqt.c: +22 -10
drivers/net/ethernet/mellanox/mlx5/core/en/rqt.h: +6 -3
drivers/net/ethernet/mellanox/mlx5/core/en/rss.c: +111 -33
drivers/net/ethernet/mellanox/mlx5/core/en/rss.h: +13 -7
drivers/net/ethernet/mellanox/mlx5/core/en/rx_res.c: +61 -44
drivers/net/ethernet/mellanox/mlx5/core/en/rx_res.h: +6 -6
drivers/net/ethernet/mellanox/mlx5/core/en/xdp.c: +1 -1
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec.c: +16 -10
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec.h: +24 -1
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec_fs.c: +130 -16
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec_offload.c: +2 -1
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec_rxtx.h: +0 -1
drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c: +1 -1
drivers/net/ethernet/mellanox/mlx5/core/en_fs.c: +2 -6
drivers/net/ethernet/mellanox/mlx5/core/en_main.c: +81 -16
drivers/net/ethernet/mellanox/mlx5/core/en_rep.c: +13 -19
drivers/net/ethernet/mellanox/mlx5/core/en_tc.c: +9 -7
drivers/net/ethernet/mellanox/mlx5/core/esw/bridge_mcast.c: +2 -9
drivers/net/ethernet/mellanox/mlx5/core/esw/qos.c: +84 -12
drivers/net/ethernet/mellanox/mlx5/core/events.c: +0 -5
drivers/net/ethernet/mellanox/mlx5/core/fs_core.c: +5 -5
drivers/net/ethernet/mellanox/mlx5/core/health.c: +40 -89
drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib.c: +8 -16
drivers/net/ethernet/mellanox/mlx5/core/lag/lag.c: +38 -9
drivers/net/ethernet/mellanox/mlx5/core/lag/lag.h: +1 -0
drivers/net/ethernet/mellanox/mlx5/core/lag/mpesw.c: +16 -11
drivers/net/ethernet/mellanox/mlx5/core/lag/port_sel.c: +2 -8
drivers/net/ethernet/mellanox/mlx5/core/lib/devcom.c: +25 -0
drivers/net/ethernet/mellanox/mlx5/core/lib/devcom.h: +6 -0
drivers/net/ethernet/mellanox/mlx5/core/lib/eq.h: +0 -1
drivers/net/ethernet/mellanox/mlx5/core/lib/ipsec_fs_roce.c: +520 -22
drivers/net/ethernet/mellanox/mlx5/core/lib/ipsec_fs_roce.h: +10 -4
drivers/net/ethernet/mellanox/mlx5/core/main.c: +32 -1
drivers/net/ethernet/mellanox/mlx5/core/mlx5_core.h: +27 -9
drivers/net/ethernet/mellanox/mlx5/core/sf/dev/dev.c: +57 -44
drivers/net/ethernet/mellanox/mlx5/core/sf/dev/dev.h: +6 -0
drivers/net/ethernet/mellanox/mlx5/core/sf/dev/driver.c: +26 -0
drivers/net/ethernet/mellanox/mlx5/core/sf/devlink.c: +89 -153
drivers/net/ethernet/mellanox/mlx5/core/sf/vhca_event.c: +66 -3
drivers/net/ethernet/mellanox/mlx5/core/sf/vhca_event.h: +3 -0
drivers/net/ethernet/mellanox/mlx5/core/steering/dr_action.c: +33 -2
drivers/net/ethernet/mellanox/mlx5/core/steering/dr_types.h: +1 -4
drivers/net/ethernet/mellanox/mlx5/core/steering/fs_dr.c: +8 -1
drivers/net/ethernet/mellanox/mlxbf_gige/mlxbf_gige_main.c: +2 -4
drivers/net/ethernet/mellanox/mlxsw/cmd.h: +35 -8
drivers/net/ethernet/mellanox/mlxsw/core.c: +54 -124
drivers/net/ethernet/mellanox/mlxsw/core.h: +5 -1
drivers/net/ethernet/mellanox/mlxsw/core_acl_flex_keys.c: +61 -9
drivers/net/ethernet/mellanox/mlxsw/core_acl_flex_keys.h: +13 -2
drivers/net/ethernet/mellanox/mlxsw/core_env.c: +2 -2
drivers/net/ethernet/mellanox/mlxsw/core_hwmon.c: +1 -1
drivers/net/ethernet/mellanox/mlxsw/core_linecard_dev.c: +6 -3
drivers/net/ethernet/mellanox/mlxsw/core_thermal.c: +2 -1
drivers/net/ethernet/mellanox/mlxsw/i2c.c: +1 -3
drivers/net/ethernet/mellanox/mlxsw/pci.c: +30 -7
drivers/net/ethernet/mellanox/mlxsw/reg.h: +10 -10
drivers/net/ethernet/mellanox/mlxsw/spectrum.c: +84 -11
drivers/net/ethernet/mellanox/mlxsw/spectrum.h: +2 -1
drivers/net/ethernet/mellanox/mlxsw/spectrum2_mr_tcam.c: +12 -8
drivers/net/ethernet/mellanox/mlxsw/spectrum_acl_bloom_filter.c: +1 -1
drivers/net/ethernet/mellanox/mlxsw/spectrum_acl_flex_keys.c: +16 -14
drivers/net/ethernet/mellanox/mlxsw/spectrum_cnt.c: +1 -1
drivers/net/ethernet/mellanox/mlxsw/spectrum_ethtool.c: +1 -1
drivers/net/ethernet/mellanox/mlxsw/spectrum_fid.c: +33 -36
drivers/net/ethernet/mellanox/mlxsw/spectrum_pgt.c: +5 -15
drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c: +1 -1
drivers/net/ethernet/mellanox/mlxsw/spectrum_span.c: +1 -1
drivers/net/ethernet/micrel/ks8842.c: +2 -3
drivers/net/ethernet/micrel/ks8851_par.c: +2 -4
drivers/net/ethernet/microchip/lan743x_ethtool.c: +2 -1
drivers/net/ethernet/microchip/lan743x_main.c: +50 -1
drivers/net/ethernet/microchip/lan743x_main.h: +8 -0
drivers/net/ethernet/microchip/lan743x_ptp.c: +9 -0
drivers/net/ethernet/microchip/lan966x/lan966x_main.c: +2 -5
drivers/net/ethernet/microchip/sparx5/sparx5_ethtool.c: +1 -2
drivers/net/ethernet/microchip/sparx5/sparx5_main.c: +2 -4
drivers/net/ethernet/microchip/vcap/vcap_api_debugfs.c: +1 -1
drivers/net/ethernet/microsoft/mana/mana_en.c: +3 -2
drivers/net/ethernet/moxa/moxart_ether.c: +2 -4
drivers/net/ethernet/mscc/ocelot_vsc7514.c: +2 -4
drivers/net/ethernet/natsemi/jazzsonic.c: +2 -4
drivers/net/ethernet/natsemi/macsonic.c: +2 -4
drivers/net/ethernet/natsemi/xtsonic.c: +2 -4
drivers/net/ethernet/netronome/nfp/crypto/ipsec.c: +42 -3
drivers/net/ethernet/netronome/nfp/nfd3/dp.c: +1 -1
drivers/net/ethernet/netronome/nfp/nfd3/xsk.c: +1 -1
drivers/net/ethernet/netronome/nfp/nfdk/dp.c: +1 -1
drivers/net/ethernet/netronome/nfp/nfp_net_repr.h: +1 -1
drivers/net/ethernet/netronome/nfp/nfpcore/nfp_nsp.h: +1 -1
drivers/net/ethernet/netronome/nfp/nfpcore/nfp_resource.c: +1 -1
drivers/net/ethernet/ni/nixge.c: +4 -7
drivers/net/ethernet/nxp/lpc_eth.c: +2 -4
drivers/net/ethernet/pensando/ionic/ionic_dev.h: +2 -1
drivers/net/ethernet/pensando/ionic/ionic_lif.c: +12 -0
drivers/net/ethernet/pensando/ionic/ionic_main.c: +2 -2
drivers/net/ethernet/pensando/ionic/ionic_txrx.c: +68 -9
drivers/net/ethernet/qlogic/qed/qed_debug.c: +3 -4
drivers/net/ethernet/qlogic/qed/qed_devlink.c: +3 -3
drivers/net/ethernet/qlogic/qede/qede_ethtool.c: +12 -34
drivers/net/ethernet/qualcomm/emac/emac.c: +2 -4
drivers/net/ethernet/realtek/r8169_main.c: +4 -0
drivers/net/ethernet/renesas/Kconfig: +1 -8
drivers/net/ethernet/renesas/Makefile: +1 -3
drivers/net/ethernet/renesas/ravb_main.c: +2 -4
drivers/net/ethernet/renesas/rswitch.c: +49 -6
drivers/net/ethernet/renesas/rswitch.h: +1 -1
drivers/net/ethernet/renesas/sh_eth.c: +2 -4
drivers/net/ethernet/samsung/sxgbe/sxgbe_platform.c: +2 -4
drivers/net/ethernet/seeq/sgiseeq.c: +2 -4
drivers/net/ethernet/sfc/efx_channels.c: +1 -1
drivers/net/ethernet/sfc/mae.c: +59 -3
drivers/net/ethernet/sfc/mcdi.c: +1 -2
drivers/net/ethernet/sfc/ptp.c: +14 -13
drivers/net/ethernet/sfc/siena/efx_channels.c: +1 -1
drivers/net/ethernet/sfc/tc.c: +333 -4
drivers/net/ethernet/sfc/tc.h: +8 -0
drivers/net/ethernet/sfc/tc_conntrack.c: +89 -2
drivers/net/ethernet/sgi/ioc3-eth.c: +2 -4
drivers/net/ethernet/sgi/meth.c: +2 -4
drivers/net/ethernet/smsc/smc91x.c: +2 -4
drivers/net/ethernet/smsc/smsc911x.c: +2 -4
drivers/net/ethernet/socionext/netsec.c: +3 -5
drivers/net/ethernet/socionext/sni_ave.c: +2 -4
drivers/net/ethernet/stmicro/stmmac/Kconfig: +11 -0
drivers/net/ethernet/stmicro/stmmac/Makefile: +1 -0
drivers/net/ethernet/stmicro/stmmac/common.h: +1 -1
drivers/net/ethernet/stmicro/stmmac/dwmac-anarion.c: +2 -8
drivers/net/ethernet/stmicro/stmmac/dwmac-dwc-qos-eth.c: +3 -12
drivers/net/ethernet/stmicro/stmmac/dwmac-generic.c: +2 -13
drivers/net/ethernet/stmicro/stmmac/dwmac-imx.c: +4 -9
drivers/net/ethernet/stmicro/stmmac/dwmac-ingenic.c: +9 -24
drivers/net/ethernet/stmicro/stmmac/dwmac-intel-plat.c: +11 -23
drivers/net/ethernet/stmicro/stmmac/dwmac-intel.c: +0 -1
drivers/net/ethernet/stmicro/stmmac/dwmac-ipq806x.c: +8 -19
drivers/net/ethernet/stmicro/stmmac/dwmac-loongson1.c: +209 -0
drivers/net/ethernet/stmicro/stmmac/dwmac-lpc18xx.c: +4 -15
drivers/net/ethernet/stmicro/stmmac/dwmac-mediatek.c: +2 -4
drivers/net/ethernet/stmicro/stmmac/dwmac-meson.c: +6 -19
drivers/net/ethernet/stmicro/stmmac/dwmac-meson8b.c: +17 -36
drivers/net/ethernet/stmicro/stmmac/dwmac-rk.c: +5 -9
drivers/net/ethernet/stmicro/stmmac/dwmac-socfpga.c: +6 -10
drivers/net/ethernet/stmicro/stmmac/dwmac-starfive.c: +2 -8
drivers/net/ethernet/stmicro/stmmac/dwmac-sti.c: +5 -9
drivers/net/ethernet/stmicro/stmmac/dwmac-stm32.c: +51 -79
drivers/net/ethernet/stmicro/stmmac/dwmac-sun8i.c: +2 -4
drivers/net/ethernet/stmicro/stmmac/dwmac-sunxi.c: +8 -15
drivers/net/ethernet/stmicro/stmmac/dwmac-tegra.c: +4 -6
drivers/net/ethernet/stmicro/stmmac/dwmac-visconti.c: +4 -14
drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c: +1 -1
drivers/net/ethernet/stmicro/stmmac/stmmac_main.c: +43 -7
drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c: +23 -50
drivers/net/ethernet/stmicro/stmmac/stmmac_platform.h: +0 -5
drivers/net/ethernet/stmicro/stmmac/stmmac_ptp.c: +21 -13
drivers/net/ethernet/stmicro/stmmac/stmmac_ptp.h: +1 -1
drivers/net/ethernet/stmicro/stmmac/stmmac_selftests.c: +1 -1
drivers/net/ethernet/sun/niu.c: +2 -3
drivers/net/ethernet/sun/sunbmac.c: +2 -4
drivers/net/ethernet/sun/sunqe.c: +2 -4
drivers/net/ethernet/sunplus/spl2sw_driver.c: +2 -4
drivers/net/ethernet/ti/Kconfig: +1 -8
drivers/net/ethernet/ti/Makefile: +0 -1
drivers/net/ethernet/ti/cpmac.c: +0 -1251
drivers/net/ethernet/ti/cpsw_priv.c: +1 -1
drivers/net/ethernet/ti/davinci_emac.c: +17 -23
drivers/net/ethernet/ti/davinci_mdio.c: +2 -4
drivers/net/ethernet/ti/icssg/icssg_config.c: +14 -0
drivers/net/ethernet/ti/icssg/icssg_prueth.c: +37 -12
drivers/net/ethernet/ti/icssg/icssg_prueth.h: +2 -0
drivers/net/ethernet/ti/netcp_core.c: +2 -3
drivers/net/ethernet/ti/netcp_ethss.c: +2 -2
drivers/net/ethernet/toshiba/spider_net.c: +1 -1
drivers/net/ethernet/toshiba/tc35815.c: +3 -7
drivers/net/ethernet/tundra/tsi108_eth.c: +2 -4
drivers/net/ethernet/via/via-rhine.c: +2 -4
drivers/net/ethernet/via/via-velocity.c: +2 -4
drivers/net/ethernet/wangxun/libwx/wx_ethtool.c: +169 -0
drivers/net/ethernet/wangxun/libwx/wx_ethtool.h: +8 -0
drivers/net/ethernet/wangxun/libwx/wx_hw.c: +191 -0
drivers/net/ethernet/wangxun/libwx/wx_hw.h: +9 -0
drivers/net/ethernet/wangxun/libwx/wx_lib.c: +18 -2
drivers/net/ethernet/wangxun/libwx/wx_type.h: +82 -0
drivers/net/ethernet/wangxun/ngbe/ngbe_ethtool.c: +5 -0
drivers/net/ethernet/wangxun/ngbe/ngbe_hw.c: +2 -0
drivers/net/ethernet/wangxun/ngbe/ngbe_main.c: +2 -5
drivers/net/ethernet/wangxun/ngbe/ngbe_mdio.c: +4 -115
drivers/net/ethernet/wangxun/ngbe/ngbe_type.h: +0 -3
drivers/net/ethernet/wangxun/txgbe/txgbe_ethtool.c: +5 -0
drivers/net/ethernet/wangxun/txgbe/txgbe_hw.c: +2 -108
drivers/net/ethernet/wangxun/txgbe/txgbe_hw.h: +0 -1
drivers/net/ethernet/wangxun/txgbe/txgbe_main.c: +2 -8
drivers/net/ethernet/wangxun/txgbe/txgbe_phy.c: +2 -54
drivers/net/ethernet/wangxun/txgbe/txgbe_type.h: +0 -6
drivers/net/ethernet/wiznet/w5100-spi.c: +2 -10
drivers/net/ethernet/wiznet/w5100.c: +4 -6
drivers/net/ethernet/wiznet/w5300.c: +2 -3
drivers/net/ethernet/xilinx/ll_temac_main.c: +2 -3
drivers/net/ethernet/xilinx/xilinx_axienet_main.c: +2 -4
drivers/net/ethernet/xilinx/xilinx_emaclite.c: +2 -6
drivers/net/ethernet/xscale/ixp4xx_eth.c: +68 -6
drivers/net/fjes/fjes_main.c: +1 -1
drivers/net/geneve.c: +72 -133
drivers/net/gtp.c: +2 -2
drivers/net/hamradio/Kconfig: +7 -8
drivers/net/hamradio/baycom_epp.c: +2 -2
drivers/net/hyperv/netvsc.c: +10 -8
drivers/net/ipa/ipa_power.c: +1 -1
drivers/net/ipvlan/ipvlan_core.c: +4 -4
drivers/net/ipvlan/ipvlan_main.c: +1 -0
drivers/net/macsec.c: +3 -3
drivers/net/mctp/Kconfig: +9 -0
drivers/net/mctp/Makefile: +1 -0
drivers/net/mctp/mctp-i3c.c: +755 -0
drivers/net/mdio/mdio-aspeed.c: +2 -4
drivers/net/mdio/mdio-bcm-iproc.c: +2 -4
drivers/net/mdio/mdio-bcm-unimac.c: +2 -4
drivers/net/mdio/mdio-gpio.c: +2 -4
drivers/net/mdio/mdio-hisi-femac.c: +2 -4
drivers/net/mdio/mdio-ipq4019.c: +2 -4
drivers/net/mdio/mdio-ipq8064.c: +2 -5
drivers/net/mdio/mdio-moxart.c: +2 -4
drivers/net/mdio/mdio-mscc-miim.c: +2 -4
drivers/net/mdio/mdio-mux-bcm-iproc.c: +2 -4
drivers/net/mdio/mdio-mux-bcm6368.c: +2 -4
drivers/net/mdio/mdio-mux-gpio.c: +2 -3
drivers/net/mdio/mdio-mux-meson-g12a.c: +2 -4
drivers/net/mdio/mdio-mux-meson-gxl.c: +2 -4
drivers/net/mdio/mdio-mux-mmioreg.c: +2 -4
drivers/net/mdio/mdio-mux-multiplexer.c: +2 -4
drivers/net/mdio/mdio-octeon.c: +2 -3
drivers/net/mdio/mdio-sun4i.c: +2 -4
drivers/net/mdio/mdio-xgene.c: +7 -20
drivers/net/netconsole.c: +102 -53
drivers/net/netdevsim/bus.c: +12 -0
drivers/net/netdevsim/health.c: +32 -86
drivers/net/netkit.c: +936 -0
drivers/net/pcs/pcs-xpcs.c: +29 -0
drivers/net/pcs/pcs-xpcs.h: +2 -0
drivers/net/phy/Kconfig: +2 -2
drivers/net/phy/amd.c: +23 -10
drivers/net/phy/ax88796b.c: +1 -1
drivers/net/phy/broadcom.c: +121 -33
drivers/net/phy/dp83867.c: +137 -0
drivers/net/phy/micrel.c: +22 -0
drivers/net/phy/nxp-tja11xx.c: +2 -4
drivers/net/phy/phy.c: +112 -95
drivers/net/phy/phylink.c: +15 -30
drivers/net/phy/sfp.c: +32 -9
drivers/net/phy/smsc.c: +2 -4
drivers/net/ppp/pppoe.c: +1 -1
drivers/net/usb/lan78xx.c: +1 -1
drivers/net/usb/r8152.c: +63 -22
drivers/net/usb/sr9800.c: +2 -2
drivers/net/veth.c: +16 -9
drivers/net/virtio_net.c: +155 -103
drivers/net/vxlan/vxlan_core.c: +267 -183
drivers/net/vxlan/vxlan_mdb.c: +174 -16
drivers/net/vxlan/vxlan_private.h: +2 -0
drivers/net/wan/ixp4xx_hss.c: +2 -2
drivers/net/wireless/ath/ar5523/ar5523.c: +1 -1
drivers/net/wireless/ath/ath10k/ce.h: +1 -1
drivers/net/wireless/ath/ath10k/debug.c: +15 -34
drivers/net/wireless/ath/ath10k/htt.h: +1 -2
drivers/net/wireless/ath/ath10k/htt_rx.c: +0 -1
drivers/net/wireless/ath/ath10k/htt_tx.c: +6 -10
drivers/net/wireless/ath/ath10k/mac.c: +11 -15
drivers/net/wireless/ath/ath10k/pci.c: +1 -1
drivers/net/wireless/ath/ath10k/snoc.c: +14 -4
drivers/net/wireless/ath/ath10k/spectral.c: +8 -18
drivers/net/wireless/ath/ath11k/Makefile: +2 -1
drivers/net/wireless/ath/ath11k/ahb.c: +2 -8
drivers/net/wireless/ath/ath11k/core.c: +98 -23
drivers/net/wireless/ath/ath11k/core.h: +20 -3
drivers/net/wireless/ath/ath11k/debugfs.c: +4 -4
drivers/net/wireless/ath/ath11k/debugfs_sta.c: +15 -15
drivers/net/wireless/ath/ath11k/dp.c: +1 -1
drivers/net/wireless/ath/ath11k/dp_rx.c: +16 -23
drivers/net/wireless/ath/ath11k/dp_tx.c: +2 -2
drivers/net/wireless/ath/ath11k/fw.c: +168 -0
drivers/net/wireless/ath/ath11k/fw.h: +27 -0
drivers/net/wireless/ath/ath11k/hal.c: +3 -5
drivers/net/wireless/ath/ath11k/hal_rx.c: +14 -17
drivers/net/wireless/ath/ath11k/hal_rx.h: +12 -6
drivers/net/wireless/ath/ath11k/hal_tx.c: +1 -1
drivers/net/wireless/ath/ath11k/hif.h: +27 -27
drivers/net/wireless/ath/ath11k/htc.h: +0 -12
drivers/net/wireless/ath/ath11k/mac.c: +72 -46
drivers/net/wireless/ath/ath11k/mhi.c: +14 -5
drivers/net/wireless/ath/ath11k/pci.c: +12 -12
drivers/net/wireless/ath/ath11k/pcic.c: +3 -3
drivers/net/wireless/ath/ath11k/peer.c: +1 -1
drivers/net/wireless/ath/ath11k/qmi.c: +36 -18
drivers/net/wireless/ath/ath11k/reg.c: +11 -0
drivers/net/wireless/ath/ath11k/reg.h: +3 -0
drivers/net/wireless/ath/ath11k/spectral.c: +9 -19
drivers/net/wireless/ath/ath11k/thermal.c: +11 -11
drivers/net/wireless/ath/ath11k/thermal.h: +4 -4
drivers/net/wireless/ath/ath11k/wmi.c: +40 -30
drivers/net/wireless/ath/ath12k/core.c: +131 -6
drivers/net/wireless/ath/ath12k/core.h: +29 -2
drivers/net/wireless/ath/ath12k/debug.c: +1 -1
drivers/net/wireless/ath/ath12k/dp.c: +1 -0
drivers/net/wireless/ath/ath12k/dp_mon.c: +7 -9
drivers/net/wireless/ath/ath12k/dp_rx.c: +37 -18
drivers/net/wireless/ath/ath12k/dp_tx.c: +9 -7
drivers/net/wireless/ath/ath12k/hal.c: +6 -6
drivers/net/wireless/ath/ath12k/hal_rx.c: +0 -2
drivers/net/wireless/ath/ath12k/hif.h: +9 -9
drivers/net/wireless/ath/ath12k/hw.c: +22 -2
drivers/net/wireless/ath/ath12k/hw.h: +6 -0
drivers/net/wireless/ath/ath12k/mac.c: +250 -61
drivers/net/wireless/ath/ath12k/mac.h: +2 -0
drivers/net/wireless/ath/ath12k/mhi.c: +8 -4
drivers/net/wireless/ath/ath12k/pci.c: +2 -2
drivers/net/wireless/ath/ath12k/peer.h: +3 -0
drivers/net/wireless/ath/ath12k/qmi.c: +12 -0
drivers/net/wireless/ath/ath12k/qmi.h: +1 -0
drivers/net/wireless/ath/ath12k/reg.c: +14 -0
drivers/net/wireless/ath/ath12k/reg.h: +6 -0
drivers/net/wireless/ath/ath12k/rx_desc.h: +77 -14
drivers/net/wireless/ath/ath12k/wmi.c: +108 -23
drivers/net/wireless/ath/ath12k/wmi.h: +28 -0
drivers/net/wireless/ath/ath5k/base.c: +3 -3
drivers/net/wireless/ath/ath5k/led.c: +1 -2
drivers/net/wireless/ath/ath5k/pci.c: +2 -2
drivers/net/wireless/ath/ath6kl/cfg80211.c: +4 -4
drivers/net/wireless/ath/ath6kl/init.c: +1 -1
drivers/net/wireless/ath/ath6kl/main.c: +2 -2
drivers/net/wireless/ath/ath6kl/txrx.c: +1 -1
drivers/net/wireless/ath/ath9k/ar9003_phy.c: +4 -7
drivers/net/wireless/ath/ath9k/debug.c: +1 -1
drivers/net/wireless/ath/ath9k/hif_usb.c: +17 -17
drivers/net/wireless/ath/ath9k/hif_usb.h: +1 -1
drivers/net/wireless/ath/ath9k/htc_drv_debug.c: +1 -1
drivers/net/wireless/ath/ath9k/htc_drv_txrx.c: +1 -1
drivers/net/wireless/ath/ath9k/xmit.c: +1 -1
drivers/net/wireless/ath/carl9170/usb.c: +5 -5
drivers/net/wireless/ath/dfs_pattern_detector.c: +8 -13
drivers/net/wireless/ath/wcn36xx/dxe.c: +3 -3
drivers/net/wireless/ath/wcn36xx/smd.c: +10 -10
drivers/net/wireless/ath/wcn36xx/smd.h: +1 -1
drivers/net/wireless/ath/wcn36xx/testmode.c: +1 -1
drivers/net/wireless/ath/wil6210/cfg80211.c: +2 -1
drivers/net/wireless/ath/wil6210/wmi.c: +0 -2
drivers/net/wireless/atmel/atmel.c: +0 -72
drivers/net/wireless/broadcom/b43/dma.c: +2 -2
drivers/net/wireless/broadcom/b43/pio.c: +1 -1
drivers/net/wireless/broadcom/brcm80211/brcmfmac/cfg80211.c: +2 -3
drivers/net/wireless/broadcom/brcm80211/brcmfmac/firmware.c: +3 -3
drivers/net/wireless/broadcom/brcm80211/brcmfmac/firmware.h: +1 -1
drivers/net/wireless/broadcom/brcm80211/brcmfmac/fweh.c: +3 -3
drivers/net/wireless/broadcom/brcm80211/brcmfmac/fwil_types.h: +1 -1
drivers/net/wireless/intel/ipw2x00/ipw2100.c: +2 -18
drivers/net/wireless/intel/ipw2x00/ipw2200.c: +9 -14
drivers/net/wireless/intel/ipw2x00/libipw.h: +1 -1
drivers/net/wireless/intel/iwlegacy/4965-mac.c: +1 -1
drivers/net/wireless/intel/iwlegacy/common.c: +1 -1
drivers/net/wireless/intel/iwlwifi/cfg/ax210.c: +1 -1
drivers/net/wireless/intel/iwlwifi/cfg/bz.c: +7 -9
drivers/net/wireless/intel/iwlwifi/cfg/sc.c: +5 -7
drivers/net/wireless/intel/iwlwifi/dvm/commands.h: +20 -13
drivers/net/wireless/intel/iwlwifi/dvm/dev.h: +8 -6
drivers/net/wireless/intel/iwlwifi/dvm/mac80211.c: +3 -3
drivers/net/wireless/intel/iwlwifi/dvm/main.c: +1 -1
drivers/net/wireless/intel/iwlwifi/dvm/rs.h: +6 -6
drivers/net/wireless/intel/iwlwifi/dvm/tt.h: +5 -4
drivers/net/wireless/intel/iwlwifi/dvm/tx.c: +5 -4
drivers/net/wireless/intel/iwlwifi/fw/acpi.c: +36 -8
drivers/net/wireless/intel/iwlwifi/fw/acpi.h: +7 -1
drivers/net/wireless/intel/iwlwifi/fw/api/commands.h: +30 -0
drivers/net/wireless/intel/iwlwifi/fw/api/d3.h: +42 -4
drivers/net/wireless/intel/iwlwifi/fw/api/dbg-tlv.h: +37 -1
drivers/net/wireless/intel/iwlwifi/fw/api/debug.h: +22 -0
drivers/net/wireless/intel/iwlwifi/fw/api/mac-cfg.h: +9 -1
drivers/net/wireless/intel/iwlwifi/fw/api/nvm-reg.h: +64 -4
drivers/net/wireless/intel/iwlwifi/fw/api/offload.h: +4 -2
drivers/net/wireless/intel/iwlwifi/fw/api/phy-ctxt.h: +2 -2
drivers/net/wireless/intel/iwlwifi/fw/api/power.h: +5 -2
drivers/net/wireless/intel/iwlwifi/fw/api/rfi.h: +4 -3
drivers/net/wireless/intel/iwlwifi/fw/api/rx.h: +7 -9
drivers/net/wireless/intel/iwlwifi/fw/api/stats.h: +139 -14
drivers/net/wireless/intel/iwlwifi/fw/api/time-event.h: +71 -7
drivers/net/wireless/intel/iwlwifi/fw/api/txq.h: +2 -2
drivers/net/wireless/intel/iwlwifi/fw/dbg.c: +185 -18
drivers/net/wireless/intel/iwlwifi/fw/dbg.h: +1 -0
drivers/net/wireless/intel/iwlwifi/fw/debugfs.c: +12 -2
drivers/net/wireless/intel/iwlwifi/fw/file.h: +22 -10
drivers/net/wireless/intel/iwlwifi/fw/img.h: +2 -2
drivers/net/wireless/intel/iwlwifi/fw/notif-wait.h: +2 -1
drivers/net/wireless/intel/iwlwifi/fw/rs.c: +0 -1
drivers/net/wireless/intel/iwlwifi/fw/runtime.h: +4 -0
drivers/net/wireless/intel/iwlwifi/fw/uefi.c: +50 -0
drivers/net/wireless/intel/iwlwifi/fw/uefi.h: +17 -0
drivers/net/wireless/intel/iwlwifi/iwl-config.h: +1 -9
drivers/net/wireless/intel/iwlwifi/iwl-context-info-gen3.h: +7 -3
drivers/net/wireless/intel/iwlwifi/iwl-csr.h: +3 -1
drivers/net/wireless/intel/iwlwifi/iwl-dbg-tlv.c: +2 -0
drivers/net/wireless/intel/iwlwifi/iwl-dbg-tlv.h: +3 -2
drivers/net/wireless/intel/iwlwifi/iwl-devtrace.h: +7 -1
drivers/net/wireless/intel/iwlwifi/iwl-drv.c: +44 -46
drivers/net/wireless/intel/iwlwifi/iwl-drv.h: +1 -1
drivers/net/wireless/intel/iwlwifi/iwl-eeprom-parse.c: +4 -1
drivers/net/wireless/intel/iwlwifi/iwl-eeprom-parse.h: +2 -2
drivers/net/wireless/intel/iwlwifi/iwl-fh.h: +7 -6
drivers/net/wireless/intel/iwlwifi/iwl-nvm-parse.c: +70 -13
drivers/net/wireless/intel/iwlwifi/iwl-nvm-parse.h: +13 -6
drivers/net/wireless/intel/iwlwifi/iwl-prph.h: +12 -8
drivers/net/wireless/intel/iwlwifi/iwl-trans.h: +15 -9
drivers/net/wireless/intel/iwlwifi/mei/iwl-mei.h: +2 -2
drivers/net/wireless/intel/iwlwifi/mvm/constants.h: +2 -0
drivers/net/wireless/intel/iwlwifi/mvm/d3.c: +149 -28
drivers/net/wireless/intel/iwlwifi/mvm/debugfs-vif.c: +60 -16
drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c: +147 -1
drivers/net/wireless/intel/iwlwifi/mvm/debugfs.h: +1 -0
drivers/net/wireless/intel/iwlwifi/mvm/ftm-responder.c: +7 -2
drivers/net/wireless/intel/iwlwifi/mvm/fw.c: +109 -32
drivers/net/wireless/intel/iwlwifi/mvm/link.c: +15 -15
drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c: +21 -7
drivers/net/wireless/intel/iwlwifi/mvm/mac80211.c: +320 -252
drivers/net/wireless/intel/iwlwifi/mvm/mld-key.c: +13 -3
drivers/net/wireless/intel/iwlwifi/mvm/mld-mac80211.c: +182 -82
drivers/net/wireless/intel/iwlwifi/mvm/mld-sta.c: +19 -6
drivers/net/wireless/intel/iwlwifi/mvm/mvm.h: +87 -89
drivers/net/wireless/intel/iwlwifi/mvm/nvm.c: +11 -3
drivers/net/wireless/intel/iwlwifi/mvm/ops.c: +38 -6
drivers/net/wireless/intel/iwlwifi/mvm/phy-ctxt.c: +33 -39
drivers/net/wireless/intel/iwlwifi/mvm/power.c: +5 -0
drivers/net/wireless/intel/iwlwifi/mvm/rs.h: +12 -11
drivers/net/wireless/intel/iwlwifi/mvm/rx.c: +150 -7
drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c: +37 -298
drivers/net/wireless/intel/iwlwifi/mvm/scan.c: +1 -1
drivers/net/wireless/intel/iwlwifi/mvm/sta.c: +16 -23
drivers/net/wireless/intel/iwlwifi/mvm/sta.h: +3 -9
drivers/net/wireless/intel/iwlwifi/mvm/tdls.c: +4 -3
drivers/net/wireless/intel/iwlwifi/mvm/time-event.c: +165 -33
drivers/net/wireless/intel/iwlwifi/mvm/time-event.h: +17 -4
drivers/net/wireless/intel/iwlwifi/mvm/tt.c: +0 -7
drivers/net/wireless/intel/iwlwifi/mvm/tx.c: +70 -60
drivers/net/wireless/intel/iwlwifi/mvm/utils.c: +61 -0
drivers/net/wireless/intel/iwlwifi/pcie/drv.c: +5 -2
drivers/net/wireless/intel/iwlwifi/pcie/internal.h: +40 -19
drivers/net/wireless/intel/iwlwifi/pcie/rx.c: +8 -4
drivers/net/wireless/intel/iwlwifi/pcie/trans-gen2.c: +5 -1
drivers/net/wireless/intel/iwlwifi/pcie/trans.c: +36 -10
drivers/net/wireless/intel/iwlwifi/queue/tx.c: +5 -4
drivers/net/wireless/intel/iwlwifi/queue/tx.h: +5 -3
drivers/net/wireless/intersil/hostap/hostap.h: +0 -1
drivers/net/wireless/intersil/hostap/hostap_download.c: +1 -2
drivers/net/wireless/intersil/hostap/hostap_ioctl.c: +0 -228
drivers/net/wireless/intersil/hostap/hostap_main.c: +0 -3
drivers/net/wireless/intersil/hostap/hostap_wlan.h: +1 -1
drivers/net/wireless/intersil/p54/p54.h: +1 -1
drivers/net/wireless/legacy/ray_cs.c: +3 -3
drivers/net/wireless/marvell/mwifiex/11h.c: +2 -2
drivers/net/wireless/marvell/mwifiex/cfg80211.c: +2 -1
drivers/net/wireless/marvell/mwifiex/main.h: +2 -2
drivers/net/wireless/marvell/mwifiex/pcie.c: +77 -245
drivers/net/wireless/marvell/mwifiex/sdio.c: +0 -10
drivers/net/wireless/marvell/mwifiex/sdio.h: +0 -4
drivers/net/wireless/mediatek/mt76/Kconfig: +1 -0
drivers/net/wireless/mediatek/mt76/Makefile: +1 -0
drivers/net/wireless/mediatek/mt76/debugfs.c: +0 -2
drivers/net/wireless/mediatek/mt76/dma.c: +9 -5
drivers/net/wireless/mediatek/mt76/eeprom.c: +5 -2
drivers/net/wireless/mediatek/mt76/mac80211.c: +58 -6
drivers/net/wireless/mediatek/mt76/mt76.h: +17 -19
drivers/net/wireless/mediatek/mt76/mt7603/beacon.c: +55 -21
drivers/net/wireless/mediatek/mt76/mt7603/core.c: +2 -0
drivers/net/wireless/mediatek/mt76/mt7603/init.c: +8 -0
drivers/net/wireless/mediatek/mt76/mt7603/mac.c: +28 -24
drivers/net/wireless/mediatek/mt76/mt7603/main.c: +2 -2
drivers/net/wireless/mediatek/mt76/mt7603/regs.h: +5 -0
drivers/net/wireless/mediatek/mt76/mt7615/init.c: +1 -4
drivers/net/wireless/mediatek/mt76/mt7615/main.c: +2 -2
drivers/net/wireless/mediatek/mt76/mt7615/mcu.c: +1 -1
drivers/net/wireless/mediatek/mt76/mt7615/pci_mac.c: +1 -1
drivers/net/wireless/mediatek/mt76/mt76_connac.h: +6 -0
drivers/net/wireless/mediatek/mt76/mt76_connac3_mac.h: +17 -1
drivers/net/wireless/mediatek/mt76/mt76_connac_mac.c: +7 -21
drivers/net/wireless/mediatek/mt76/mt76_connac_mcu.c: +50 -141
drivers/net/wireless/mediatek/mt76/mt76_connac_mcu.h: +58 -2
drivers/net/wireless/mediatek/mt76/mt76x02_beacon.c: +3 -5
drivers/net/wireless/mediatek/mt76/mt76x02_mmio.c: +9 -2
drivers/net/wireless/mediatek/mt76/mt76x02_usb_core.c: +10 -3
drivers/net/wireless/mediatek/mt76/mt76x02_util.c: +2 -2
drivers/net/wireless/mediatek/mt76/mt7915/init.c: +19 -14
drivers/net/wireless/mediatek/mt76/mt7915/mac.c: +1 -1
drivers/net/wireless/mediatek/mt76/mt7915/main.c: +41 -12
drivers/net/wireless/mediatek/mt76/mt7915/mcu.c: +49 -30
drivers/net/wireless/mediatek/mt76/mt7915/mcu.h: +8 -10
drivers/net/wireless/mediatek/mt76/mt7915/mmio.c: +1 -1
drivers/net/wireless/mediatek/mt76/mt7915/mt7915.h: +4 -0
drivers/net/wireless/mediatek/mt76/mt7915/regs.h: +1 -0
drivers/net/wireless/mediatek/mt76/mt7915/soc.c: +1 -4
drivers/net/wireless/mediatek/mt76/mt7921/init.c: +54 -3
drivers/net/wireless/mediatek/mt76/mt7921/mac.c: +1 -1
drivers/net/wireless/mediatek/mt76/mt7921/main.c: +45 -33
drivers/net/wireless/mediatek/mt76/mt7921/mcu.c: +149 -6
drivers/net/wireless/mediatek/mt76/mt7921/mcu.h: +13 -0
drivers/net/wireless/mediatek/mt76/mt7921/mt7921.h: +1 -17
drivers/net/wireless/mediatek/mt76/mt7921/pci.c: +2 -0
drivers/net/wireless/mediatek/mt76/mt7921/pci_mac.c: +1 -1
drivers/net/wireless/mediatek/mt76/mt7921/sdio_mcu.c: +1 -1
drivers/net/wireless/mediatek/mt76/mt7921/usb.c: +2 -10
drivers/net/wireless/mediatek/mt76/mt7925/Kconfig: +30 -0
drivers/net/wireless/mediatek/mt76/mt7925/Makefile: +9 -0
drivers/net/wireless/mediatek/mt76/mt7925/debugfs.c: +319 -0
drivers/net/wireless/mediatek/mt76/mt7925/init.c: +235 -0
drivers/net/wireless/mediatek/mt76/mt7925/mac.c: +1452 -0
drivers/net/wireless/mediatek/mt76/mt7925/mac.h: +23 -0
drivers/net/wireless/mediatek/mt76/mt7925/main.c: +1454 -0
drivers/net/wireless/mediatek/mt76/mt7925/mcu.c: +3174 -0
drivers/net/wireless/mediatek/mt76/mt7925/mcu.h: +537 -0
drivers/net/wireless/mediatek/mt76/mt7925/mt7925.h: +309 -0
drivers/net/wireless/mediatek/mt76/mt7925/pci.c: +586 -0
drivers/net/wireless/mediatek/mt76/mt7925/pci_mac.c: +148 -0
drivers/net/wireless/mediatek/mt76/mt7925/pci_mcu.c: +53 -0
drivers/net/wireless/mediatek/mt76/mt7925/regs.h: +92 -0
drivers/net/wireless/mediatek/mt76/mt7925/usb.c: +332 -0
drivers/net/wireless/mediatek/mt76/mt792x.h: +37 -1
drivers/net/wireless/mediatek/mt76/mt792x_core.c: +26 -4
drivers/net/wireless/mediatek/mt76/mt792x_dma.c: +34 -15
drivers/net/wireless/mediatek/mt76/mt792x_usb.c: +9 -0
drivers/net/wireless/mediatek/mt76/mt7996/init.c: +34 -19
drivers/net/wireless/mediatek/mt76/mt7996/mac.c: +68 -43
drivers/net/wireless/mediatek/mt76/mt7996/main.c: +41 -24
drivers/net/wireless/mediatek/mt76/mt7996/mcu.c: +327 -32
drivers/net/wireless/mediatek/mt76/mt7996/mcu.h: +30 -7
drivers/net/wireless/mediatek/mt76/mt7996/mt7996.h: +1 -1
drivers/net/wireless/mediatek/mt76/mt7996/regs.h: +8 -0
drivers/net/wireless/mediatek/mt76/tx.c: +88 -20
drivers/net/wireless/mediatek/mt7601u/tx.c: +1 -1
drivers/net/wireless/microchip/wilc1000/cfg80211.c: +2 -2
drivers/net/wireless/microchip/wilc1000/netdev.c: +16 -4
drivers/net/wireless/microchip/wilc1000/netdev.h: +2 -0
drivers/net/wireless/microchip/wilc1000/wlan.c: +1 -1
drivers/net/wireless/purelifi/plfxlc/mac.c: +1 -1
drivers/net/wireless/quantenna/qtnfmac/cfg80211.c: +2 -2
drivers/net/wireless/quantenna/qtnfmac/commands.c: +3 -2
drivers/net/wireless/quantenna/qtnfmac/core.c: +1 -1
drivers/net/wireless/quantenna/qtnfmac/event.c: +2 -2
drivers/net/wireless/ralink/rt2x00/rt2800.h: +18 -0
drivers/net/wireless/ralink/rt2x00/rt2800lib.c: +196 -118
drivers/net/wireless/ralink/rt2x00/rt2800mmio.c: +3 -0
drivers/net/wireless/ralink/rt2x00/rt2x00.h: +6 -0
drivers/net/wireless/ralink/rt2x00/rt2x00dev.c: +1 -1
drivers/net/wireless/realtek/rtl8xxxu/rtl8xxxu_core.c: +2 -0
drivers/net/wireless/realtek/rtlwifi/base.c: +0 -6
drivers/net/wireless/realtek/rtlwifi/core.c: +1 -17
drivers/net/wireless/realtek/rtlwifi/ps.c: +1 -16
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/dm.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/hw.c: +0 -5
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/trx.c: +3 -5
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/trx.h: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192c/dm_common.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ce/hw.c: +0 -5
drivers/net/wireless/realtek/rtlwifi/rtl8192ce/trx.c: +3 -6
drivers/net/wireless/realtek/rtlwifi/rtl8192ce/trx.h: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/hw.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/sw.c: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/trx.c: +3 -31
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/trx.h: +2 -5
drivers/net/wireless/realtek/rtlwifi/rtl8192de/dm.c: +2 -16
drivers/net/wireless/realtek/rtlwifi/rtl8192de/fw.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192de/hw.c: +0 -4
drivers/net/wireless/realtek/rtlwifi/rtl8192de/trx.c: +3 -5
drivers/net/wireless/realtek/rtlwifi/rtl8192de/trx.h: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/dm.c: +2 -5
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/sw.c: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/trx.c: +8 -8
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/trx.h: +0 -4
drivers/net/wireless/realtek/rtlwifi/rtl8192se/fw.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192se/trx.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192se/trx.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/dm.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/hal_btc.c: +7 -9
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/hw.c: +0 -5
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/trx.c: +3 -5
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/trx.h: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8723be/dm.c: +2 -5
drivers/net/wireless/realtek/rtlwifi/rtl8723be/hw.c: +0 -6
drivers/net/wireless/realtek/rtlwifi/rtl8723be/trx.c: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8723be/trx.h: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/dm.c: +2 -4
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/hw.c: +0 -5
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/trx.c: +2 -3
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/trx.h: +0 -1
drivers/net/wireless/realtek/rtlwifi/wifi.h: +2 -13
drivers/net/wireless/realtek/rtw88/debug.c: +2 -2
drivers/net/wireless/realtek/rtw88/debug.h: +12 -0
drivers/net/wireless/realtek/rtw88/fw.c: +74 -0
drivers/net/wireless/realtek/rtw88/fw.h: +3 -0
drivers/net/wireless/realtek/rtw88/main.h: +9 -1
drivers/net/wireless/realtek/rtw88/ps.c: +2 -0
drivers/net/wireless/realtek/rtw88/reg.h: +23 -0
drivers/net/wireless/realtek/rtw88/regd.c: +17 -7
drivers/net/wireless/realtek/rtw88/regd.h: +2 -0
drivers/net/wireless/realtek/rtw88/rtw8821c.c: +67 -0
drivers/net/wireless/realtek/rtw88/rtw8821c.h: +1 -0
drivers/net/wireless/realtek/rtw88/rtw8821c_table.c: +825 -329
drivers/net/wireless/realtek/rtw88/rtw8822c_table.c: +522 -717
drivers/net/wireless/realtek/rtw88/rtw8822cu.c: +2 -2
drivers/net/wireless/realtek/rtw88/usb.c: +3 -6
drivers/net/wireless/realtek/rtw89/chan.c: +1613 -39
drivers/net/wireless/realtek/rtw89/chan.h: +34 -0
drivers/net/wireless/realtek/rtw89/coex.c: +11 -14
drivers/net/wireless/realtek/rtw89/core.c: +422 -43
drivers/net/wireless/realtek/rtw89/core.h: +377 -52
drivers/net/wireless/realtek/rtw89/debug.c: +263 -23
drivers/net/wireless/realtek/rtw89/fw.c: +647 -65
drivers/net/wireless/realtek/rtw89/fw.h: +141 -3
drivers/net/wireless/realtek/rtw89/mac.c: +149 -62
drivers/net/wireless/realtek/rtw89/mac.h: +39 -10
drivers/net/wireless/realtek/rtw89/mac80211.c: +12 -7
drivers/net/wireless/realtek/rtw89/mac_be.c: +397 -0
drivers/net/wireless/realtek/rtw89/pci.c: +1 -2
drivers/net/wireless/realtek/rtw89/phy.c: +337 -178
drivers/net/wireless/realtek/rtw89/phy.h: +132 -4
drivers/net/wireless/realtek/rtw89/phy_be.c: +576 -0
drivers/net/wireless/realtek/rtw89/reg.h: +407 -2
drivers/net/wireless/realtek/rtw89/regd.c: +2 -2
drivers/net/wireless/realtek/rtw89/rtw8851b.c: +18 -11
drivers/net/wireless/realtek/rtw89/rtw8851b_table.c: +707 -630
drivers/net/wireless/realtek/rtw89/rtw8851b_table.h: +0 -3
drivers/net/wireless/realtek/rtw89/rtw8852a.c: +17 -11
drivers/net/wireless/realtek/rtw89/rtw8852a_table.c: +2 -0
drivers/net/wireless/realtek/rtw89/rtw8852a_table.h: +0 -1
drivers/net/wireless/realtek/rtw89/rtw8852b.c: +22 -15
drivers/net/wireless/realtek/rtw89/rtw8852b_table.c: +184 -149
drivers/net/wireless/realtek/rtw89/rtw8852b_table.h: +0 -3
drivers/net/wireless/realtek/rtw89/rtw8852c.c: +40 -17
drivers/net/wireless/realtek/rtw89/rtw8852c_rfk.c: +94 -13
drivers/net/wireless/realtek/rtw89/rtw8852c_rfk.h: +3 -0
drivers/net/wireless/realtek/rtw89/rtw8852c_rfk_table.c: +21 -21
drivers/net/wireless/realtek/rtw89/rtw8852c_table.c: +3542 -240
drivers/net/wireless/realtek/rtw89/rtw8852c_table.h: +0 -3
drivers/net/wireless/realtek/rtw89/txrx.h: +271 -0
drivers/net/wireless/realtek/rtw89/wow.c: +3 -1
drivers/net/wireless/silabs/wfx/data_tx.c: +75 -50
drivers/net/wireless/silabs/wfx/data_tx.h: +4 -17
drivers/net/wireless/silabs/wfx/hif_tx.c: +43 -0
drivers/net/wireless/silabs/wfx/hif_tx.h: +1 -0
drivers/net/wireless/silabs/wfx/main.c: +5 -0
drivers/net/wireless/silabs/wfx/queue.c: +31 -7
drivers/net/wireless/silabs/wfx/queue.h: +1 -0
drivers/net/wireless/silabs/wfx/scan.c: +64 -2
drivers/net/wireless/silabs/wfx/scan.h: +6 -0
drivers/net/wireless/silabs/wfx/sta.c: +12 -29
drivers/net/wireless/silabs/wfx/sta.h: +0 -1
drivers/net/wireless/silabs/wfx/wfx.h: +5 -3
drivers/net/wireless/st/cw1200/txrx.c: +2 -2
drivers/net/wireless/ti/wl1251/main.c: +1 -1
drivers/net/wireless/ti/wl1251/tx.c: +3 -3
drivers/net/wireless/ti/wl12xx/main.c: +3 -3
drivers/net/wireless/ti/wl18xx/main.c: +2 -5
drivers/net/wireless/ti/wlcore/boot.c: +1 -4
drivers/net/wireless/ti/wlcore/event.c: +1 -1
drivers/net/wireless/ti/wlcore/main.c: +7 -9
drivers/net/wireless/ti/wlcore/wlcore.h: +1 -1
drivers/net/wireless/virtual/mac80211_hwsim.c: +30 -28
drivers/net/wireless/virtual/mac80211_hwsim.h: +9 -10
drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.h: +1 -1
drivers/net/wwan/iosm/iosm_ipc_imem_ops.h: +2 -2
drivers/net/wwan/iosm/iosm_ipc_mux.h: +1 -1
drivers/net/wwan/iosm/iosm_ipc_pm.h: +1 -1
drivers/net/wwan/iosm/iosm_ipc_port.h: +1 -1
drivers/net/wwan/iosm/iosm_ipc_trace.h: +1 -1
drivers/net/wwan/rpmsg_wwan_ctrl.c: +1 -1
drivers/net/wwan/t7xx/t7xx_hif_dpmaif_rx.c: +1 -1
drivers/net/wwan/t7xx/t7xx_state_monitor.c: +2 -1
drivers/net/wwan/t7xx/t7xx_state_monitor.h: +1 -1
drivers/net/wwan/wwan_core.c: +5 -4
drivers/net/xen-netback/interface.c: +4 -1
drivers/ptp/Kconfig: +1 -0
drivers/ptp/ptp_chardev.c: +106 -23
drivers/ptp/ptp_clock.c: +40 -5
drivers/ptp/ptp_ocp.c: +309 -60
drivers/ptp/ptp_private.h: +19 -9
drivers/ptp/ptp_sysfs.c: +8 -5
drivers/s390/net/ctcm_main.c: +2 -2
drivers/s390/net/qeth_core_main.c: +1 -1
drivers/ssb/Kconfig: +2 -1
drivers/ssb/main.c: +1 -1
drivers/staging/qlge/qlge_devlink.c: +16 -44
drivers/staging/rtl8723bs/os_dep/ioctl_cfg80211.c: +5 -4
drivers/vhost/vsock.c: +16 -5
include/linux/avf/virtchnl.h: +13 -2
include/linux/bpf-cgroup-defs.h: +5 -0
include/linux/bpf-cgroup.h: +54 -36
include/linux/bpf.h: +53 -11
include/linux/bpf_mem_alloc.h: +1 -0
include/linux/bpf_verifier.h: +35 -9
include/linux/brcmphy.h: +10 -0
include/linux/btf.h: +1 -0
include/linux/can/dev.h: +4 -0
include/linux/ceph/mon_client.h: +1 -1
include/linux/cgroup.h: +5 -7
include/linux/compiler_types.h: +21 -11
include/linux/dpll.h: +170 -0
include/linux/dsa/sja1105.h: +1 -1
include/linux/ethtool.h: +19 -0
include/linux/filter.h: +56 -11
include/linux/fortify-string.h: +0 -4
include/linux/i3c/master.h: +11 -0
include/linux/ieee80211.h: +101 -5
include/linux/igmp.h: +1 -1
include/linux/ipv6.h: +17 -33
include/linux/kasan.h: +2 -0
include/linux/linkmode.h: +9 -9
include/linux/micrel_phy.h: +4 -0
include/linux/mlx5/device.h: +3 -0
include/linux/mlx5/driver.h: +6 -14
include/linux/mlx5/fs.h: +1 -0
include/linux/mlx5/mlx5_ifc.h: +125 -6
include/linux/mm_types.h: +1 -12
include/linux/netdevice.h: +65 -35
include/linux/netfilter.h: +10 -0
include/linux/overflow.h: +35 -0
include/linux/pci_ids.h: +2 -0
include/linux/pds/pds_core_if.h: +1 -0
include/linux/percpu.h: +1 -0
include/linux/phy.h: +1 -0
include/linux/phylink.h: +11 -45
include/linux/posix-clock.h: +27 -8
include/linux/soc/mediatek/mtk_wed.h: +71 -5
include/linux/socket.h: +1 -0
include/linux/sockptr.h: +23 -0
include/linux/stmmac.h: +1 -1
include/linux/tcp.h: +52 -9
include/linux/trace_events.h: +4 -2
include/linux/udp.h: +39 -27
include/linux/virtio_vsock.h: +10 -0
include/net/Space.h: +0 -1
include/net/af_vsock.h: +7 -0
include/net/bluetooth/bluetooth.h: +1 -1
include/net/bluetooth/hci.h: +3 -0
include/net/bluetooth/hci_core.h: +32 -8
include/net/bluetooth/hci_sync.h: +2 -0
include/net/cfg80211.h: +166 -91
include/net/devlink.h: +37 -32
include/net/dropreason-core.h: +33 -0
include/net/dsa.h: +40 -29
include/net/dsa_stubs.h: +11 -11
include/net/dst.h: +2 -9
include/net/flow_offload.h: +1 -1
include/net/ieee80211_radiotap.h: +6 -0
include/net/if_inet6.h: +1 -1
include/net/inet_connection_sock.h: +16 -6
include/net/inet_sock.h: +10 -1
include/net/inet_timewait_sock.h: +2 -1
include/net/ip.h: +9 -6
include/net/ip6_route.h: +11 -8
include/net/ip_fib.h: +1 -1
include/net/ipv6.h: +14 -28
include/net/ipv6_stubs.h: +5 -0
include/net/mac80211.h: +79 -55
include/net/mana/hw_channel.h: +1 -1
include/net/mana/mana.h: +1 -1
include/net/net_namespace.h: +12 -3
include/net/netfilter/nf_conntrack.h: +10 -4
include/net/netfilter/nf_conntrack_labels.h: +1 -1
include/net/netfilter/nf_tables.h: +41 -26
include/net/netkit.h: +38 -0
include/net/netlink.h: +69 -4
include/net/netns/conntrack.h: +1 -1
include/net/netns/ipv4.h: +3 -0
include/net/nexthop.h: +4 -4
include/net/page_pool/helpers.h: +196 -34
include/net/page_pool/types.h: +2 -4
include/net/pkt_cls.h: +6 -0
include/net/pkt_sched.h: +4 -4
include/net/regulatory.h: +1 -0
include/net/route.h: +2 -8
include/net/sch_generic.h: +2 -2
include/net/sock.h: +26 -15
include/net/tc_act/tc_ct.h: +1 -0
include/net/tcp.h: +323 -48
include/net/tcp_ao.h: +362 -0
include/net/tcx.h: +1 -6
include/net/tls.h: +8 -13
include/net/udp_tunnel.h: +22 -8
include/net/udplite.h: +9 -5
include/net/xdp.h: +15 -4
include/net/xdp_sock.h: +18 -0
include/net/xfrm.h: +1 -1
include/trace/events/mptcp.h: +1 -1
include/trace/events/vsock_virtio_transport_common.h: +8 -4
include/uapi/linux/bpf.h: +47 -5
include/uapi/linux/devlink.h: +2 -1
include/uapi/linux/dpll.h: +207 -0
include/uapi/linux/if_bridge.h: +18 -0
include/uapi/linux/if_link.h: +30 -2
include/uapi/linux/mptcp.h: +7 -165
include/uapi/linux/mptcp_pm.h: +150 -0
include/uapi/linux/netdev.h: +16 -0
include/uapi/linux/netlink.h: +5 -0
include/uapi/linux/nl80211.h: +36 -7
include/uapi/linux/pkt_sched.h: +13 -2
include/uapi/linux/ptp_clock.h: +2 -0
include/uapi/linux/rtnetlink.h: +11 -7
include/uapi/linux/snmp.h: +7 -1
include/uapi/linux/tcp.h: +118 -0
include/uapi/linux/vm_sockets.h: +17 -0
kernel/bpf/bpf_iter.c: +0 -2
kernel/bpf/bpf_struct_ops.c: +22 -4
kernel/bpf/btf.c: +27 -8
kernel/bpf/cgroup.c: +24 -4
kernel/bpf/cgroup_iter.c: +65 -0
kernel/bpf/core.c: +26 -11
kernel/bpf/cpumap.c: +10 -0
kernel/bpf/devmap.c: +10 -0
kernel/bpf/hashtab.c: +5 -2
kernel/bpf/helpers.c: +97 -12
kernel/bpf/memalloc.c: +49 -23
kernel/bpf/offload.c: +13 -5
kernel/bpf/ringbuf.c: +1 -2
kernel/bpf/stackmap.c: +1 -1
kernel/bpf/syscall.c: +55 -16
kernel/bpf/task_iter.c: +252 -30
kernel/bpf/tcx.c: +2 -2
kernel/bpf/trampoline.c: +2 -2
kernel/bpf/verifier.c: +1105 -188
kernel/cgroup/cgroup.c: +12 -6
kernel/time/posix-clock.c: +27 -9
kernel/trace/bpf_trace.c: +8 -2
kernel/trace/trace_kprobe.c: +11 -3
kernel/trace/trace_syscalls.c: +2 -2
lib/nlattr.c: +22 -0
lib/test_bpf.c: +371 -0
mm/kasan/kasan.h: +0 -1
mm/percpu.c: +32 -3
net/Kconfig: +10 -1
net/appletalk/Kconfig: +30 -0
net/appletalk/aarp.c: +1 -1
net/appletalk/ddp.c: +0 -36
net/atm/atm_sysfs.c: +0 -2
net/ax25/af_ax25.c: +1 -1
net/bluetooth/amp.c: +1 -2
net/bluetooth/hci_conn.c: +85 -38
net/bluetooth/hci_core.c: +3 -0
net/bluetooth/hci_event.c: +50 -42
net/bluetooth/hci_sync.c: +16 -20
net/bluetooth/hci_sysfs.c: +12 -11
net/bluetooth/iso.c: +27 -11
net/bluetooth/l2cap_sock.c: +1 -1
net/bluetooth/msft.c: +7 -13
net/bridge/br.c: +1 -0
net/bridge/br_device.c: +2 -1
net/bridge/br_fdb.c: +61 -10
net/bridge/br_input.c: +1 -1
net/bridge/br_mdb.c: +176 -8
net/bridge/br_multicast.c: +3 -2
net/bridge/br_netfilter_hooks.c: +47 -51
net/bridge/br_netfilter_ipv6.c: +3 -3
net/bridge/br_netlink.c: +16 -1
net/bridge/br_private.h: +20 -6
net/can/j1939/socket.c: +1 -1
net/can/raw.c: +2 -3
net/ceph/mon_client.c: +1 -1
net/core/Makefile: +1 -0
net/core/dev.c: +99 -83
net/core/dev.h: +6 -0
net/core/dev_ioctl.c: +1 -1
net/core/dst.c: +5 -5
net/core/filter.c: +79 -4
net/core/gso_test.c: +278 -0
net/core/netclassid_cgroup.c: +6 -0
net/core/netdev-genl.c: +11 -1
net/core/page_pool.c: +21 -10
net/core/pktgen.c: +76 -26
net/core/rtnetlink.c: +134 -18
net/core/selftests.c: +3 -6
net/core/skbuff.c: +22 -5
net/core/sock.c: +124 -104
net/core/xdp.c: +2 -2
net/dccp/ipv4.c: +1 -1
net/dccp/ipv6.c: +5 -5
net/dccp/timer.c: +2 -2
net/devlink/core.c: +222 -1
net/devlink/dev.c: +55 -5
net/devlink/devl_internal.h: +21 -77
net/devlink/dpipe.c: +7 -7
net/devlink/health.c: +148 -263
net/devlink/linecard.c: +53 -30
net/devlink/netlink.c: +32 -326
net/devlink/netlink_gen.c: +756 -1
net/devlink/netlink_gen.h: +63 -1
net/devlink/param.c: +7 -7
net/devlink/port.c: +58 -8
net/devlink/rate.c: +3 -3
net/devlink/region.c: +4 -4
net/devlink/resource.c: +2 -2
net/devlink/sb.c: +8 -9
net/devlink/trap.c: +4 -5
net/dsa/Makefile: +3 -3
net/dsa/{master.c => conduit.c}: +59 -59
net/dsa/conduit.h: +22 -0
net/dsa/dsa.c: +112 -112
net/dsa/dsa.h: +6 -6
net/dsa/master.h: +0 -22
net/dsa/netlink.c: +11 -11
net/dsa/port.c: +65 -79
net/dsa/port.h: +4 -3
net/dsa/slave.h: +0 -69
net/dsa/switch.c: +10 -10
net/dsa/switch.h: +4 -4
net/dsa/tag.c: +5 -5
net/dsa/tag.h: +13 -13
net/dsa/tag_8021q.c: +11 -11
net/dsa/tag_8021q.h: +1 -1
net/dsa/tag_ar9331.c: +2 -2
net/dsa/tag_brcm.c: +7 -7
net/dsa/tag_dsa.c: +3 -3
net/dsa/tag_gswip.c: +2 -2
net/dsa/tag_hellcreek.c: +2 -2
net/dsa/tag_ksz.c: +14 -6
net/dsa/tag_lan9303.c: +2 -2
net/dsa/tag_mtk.c: +2 -2
net/dsa/tag_none.c: +3 -3
net/dsa/tag_ocelot.c: +11 -11
net/dsa/tag_ocelot_8021q.c: +6 -6
net/dsa/tag_qca.c: +3 -3
net/dsa/tag_rtl4_a.c: +3 -3
net/dsa/tag_rtl8_4.c: +3 -3
net/dsa/tag_rzn1_a5psw.c: +2 -2
net/dsa/tag_sja1105.c: +15 -15
net/dsa/tag_trailer.c: +2 -2
net/dsa/tag_xrs700x.c: +2 -2
net/dsa/{slave.c => user.c}: +740 -733
net/dsa/user.h: +69 -0
net/ethtool/common.c: +21 -0
net/handshake/genl.c: +1 -1
net/handshake/netlink.c: +1 -1
net/handshake/tlshd.c: +3 -3
net/ipv4/Kconfig: +17 -0
net/ipv4/Makefile: +2 -0
net/ipv4/af_inet.c: +5 -4
net/ipv4/datagram.c: +3 -3
net/ipv4/igmp.c: +0 -2
net/ipv4/inet_diag.c: +2 -2
net/ipv4/ip_forward.c: +2 -2
net/ipv4/ip_output.c: +10 -7
net/ipv4/ip_sockglue.c: +90 -97
net/ipv4/netfilter/iptable_mangle.c: +5 -4
net/ipv4/ping.c: +7 -8
net/ipv4/proc.c: +7 -1
net/ipv4/raw.c: +10 -9
net/ipv4/route.c: +3 -51
net/ipv4/syncookies.c: +23 -13
net/ipv4/sysctl_net_ipv4.c: +17 -0
net/ipv4/tcp.c: +114 -162
net/ipv4/tcp_ao.c: +2392 -0
net/ipv4/tcp_bbr.c: +7 -6
net/ipv4/tcp_input.c: +172 -41
net/ipv4/tcp_ipv4.c: +294 -90
net/ipv4/tcp_lp.c: +1 -1
net/ipv4/tcp_metrics.c: +12 -10
net/ipv4/tcp_minisocks.c: +58 -11
net/ipv4/tcp_output.c: +222 -94
net/ipv4/tcp_sigpool.c: +358 -0
net/ipv4/tcp_timer.c: +44 -19
net/ipv4/udp.c: +53 -48
net/ipv4/udp_offload.c: +2 -2
net/ipv4/udp_tunnel_core.c: +50 -1
net/ipv4/udp_tunnel_nic.c: +2 -9
net/ipv4/udplite.c: +0 -1
net/ipv4/xfrm4_input.c: +2 -2
net/ipv6/Makefile: +1 -0
net/ipv6/addrconf.c: +39 -18
net/ipv6/af_inet6.c: +11 -8
net/ipv6/datagram.c: +7 -8
net/ipv6/icmp.c: +2 -2
net/ipv6/inet6_connection_sock.c: +1 -1
net/ipv6/ioam6_iptunnel.c: +1 -1
net/ipv6/ip6_flowlabel.c: +4 -4
net/ipv6/ip6_output.c: +53 -118
net/ipv6/ip6_udp_tunnel.c: +73 -2
net/ipv6/ipv6_sockglue.c: +117 -125
net/ipv6/mcast.c: +4 -7
net/ipv6/ndisc.c: +3 -3
net/ipv6/netfilter/ip6table_mangle.c: +5 -4
net/ipv6/ping.c: +3 -3
net/ipv6/proc.c: +2 -1
net/ipv6/raw.c: +9 -9
net/ipv6/route.c: +3 -3
net/ipv6/syncookies.c: +5 -0
net/ipv6/tcp_ao.c: +168 -0
net/ipv6/tcp_ipv6.c: +293 -118
net/ipv6/udp.c: +28 -24
net/ipv6/udplite.c: +0 -1
net/ipv6/xfrm6_input.c: +2 -2
net/ipv6/xfrm6_output.c: +1 -1
net/l2tp/l2tp_core.c: +3 -3
net/l2tp/l2tp_eth.c: +12 -22
net/l2tp/l2tp_ip6.c: +3 -3
net/mac80211/Kconfig: +11 -0
net/mac80211/Makefile: +2 -0
net/mac80211/agg-rx.c: +19 -44
net/mac80211/agg-tx.c: +21 -42
net/mac80211/airtime.c: +4 -6
net/mac80211/cfg.c: +216 -274
net/mac80211/chan.c: +62 -94
net/mac80211/debugfs.c: +6 -5
net/mac80211/debugfs_key.c: +10 -10
net/mac80211/debugfs_netdev.c: +113 -48
net/mac80211/debugfs_netdev.h: +12 -3
net/mac80211/debugfs_sta.c: +3 -1
net/mac80211/driver-ops.c: +41 -13
net/mac80211/driver-ops.h: +142 -17
net/mac80211/drop.h: +48 -1
net/mac80211/ethtool.c: +14 -6
net/mac80211/ht.c: +31 -27
net/mac80211/ibss.c: +29 -75
net/mac80211/ieee80211_i.h: +93 -130
net/mac80211/iface.c: +84 -96
net/mac80211/key.c: +69 -80
net/mac80211/key.h: +3 -8
net/mac80211/link.c: +17 -46
net/mac80211/main.c: +53 -40
net/mac80211/mesh.c: +12 -12
net/mac80211/mesh_hwmp.c: +2 -0
net/mac80211/mesh_pathtbl.c: +14 -8
net/mac80211/mesh_plink.c: +5 -1
net/mac80211/mesh_ps.c: +5 -1
net/mac80211/mesh_sync.c: +3 -1
net/mac80211/mlme.c: +469 -240
net/mac80211/ocb.c: +7 -12
net/mac80211/offchannel.c: +65 -55
net/mac80211/pm.c: +6 -7
net/mac80211/rc80211_minstrel_ht.c: +3 -4
net/mac80211/rx.c: +59 -54
net/mac80211/s1g.c: +5 -10
net/mac80211/scan.c: +77 -149
net/mac80211/spectmgmt.c: +11 -2
net/mac80211/sta_info.c: +92 -79
net/mac80211/sta_info.h: +9 -17
net/mac80211/status.c: +61 -50
net/mac80211/tdls.c: +36 -52
net/mac80211/tests/Makefile: +3 -0
net/mac80211/tests/elems.c: +101 -0
net/mac80211/tests/module.c: +10 -0
net/mac80211/trace.h: +7 -4
net/mac80211/tx.c: +44 -29
net/mac80211/util.c: +111 -152
net/mac80211/wep.c: +5 -4
net/mac80211/wpa.c: +21 -21
net/mptcp/Makefile: +2 -1
net/mptcp/ctrl.c: +16 -0
net/mptcp/fastopen.c: +1 -0
net/mptcp/mptcp_pm_gen.c: +179 -0
net/mptcp/mptcp_pm_gen.h: +58 -0
net/mptcp/pm.c: +1 -1
net/mptcp/pm_netlink.c: +15 -99
net/mptcp/pm_userspace.c: +69 -20
net/mptcp/protocol.c: +48 -27
net/mptcp/protocol.h: +75 -17
net/mptcp/sockopt.c: +51 -22
net/mptcp/subflow.c: +26 -20
net/netfilter/core.c: +3 -3
net/netfilter/ipvs/ip_vs_sync.c: +6 -10
net/netfilter/nf_conntrack_core.c: +33 -43
net/netfilter/nf_conntrack_helper.c: +1 -6
net/netfilter/nf_conntrack_labels.c: +8 -9
net/netfilter/nf_conntrack_proto_tcp.c: +4 -3
net/netfilter/nf_nat_proto.c: +64 -5
net/netfilter/nf_synproxy_core.c: +1 -1
net/netfilter/nf_tables_api.c: +300 -264
net/netfilter/nf_tables_core.c: +6 -2
net/netfilter/nf_tables_trace.c: +6 -2
net/netfilter/nfnetlink_queue.c: +9 -6
net/netfilter/nft_dynset.c: +12 -11
net/netfilter/nft_set_bitmap.c: +26 -27
net/netfilter/nft_set_hash.c: +56 -53
net/netfilter/nft_set_pipapo.c: +41 -39
net/netfilter/nft_set_pipapo.h: +3 -1
net/netfilter/nft_set_rbtree.c: +100 -100
net/netlink/genetlink.c: +2 -1
net/netlink/policy.c: +19 -10
net/netrom/af_netrom.c: +1 -1
net/openvswitch/actions.c: +13 -14
net/openvswitch/flow_table.c: +2 -5
net/openvswitch/flow_table.h: +1 -1
net/openvswitch/meter.h: +2 -2
net/packet/internal.h: +1 -1
net/rose/af_rose.c: +1 -1
net/sched/act_ct.c: +18 -23
net/sched/cls_api.c: +20 -6
net/sched/cls_route.c: +21 -16
net/sched/em_meta.c: +1 -1
net/sched/sch_fq.c: +306 -85
net/sched/sch_fq_pie.c: +1 -1
net/sched/sch_frag.c: +2 -2
net/sched/sch_generic.c: +5 -4
net/sched/sch_netem.c: +1 -1
net/sched/sch_qfq.c: +2 -2
net/sched/sch_taprio.c: +1 -1
net/sctp/ipv6.c: +4 -5
net/sctp/protocol.c: +2 -2
net/sctp/sm_make_chunk.c: +1 -1
net/smc/af_smc.c: +1 -1
net/tipc/link.c: +2 -2
net/tls/tls.h: +7 -4
net/tls/tls_device.c: +42 -59
net/tls/tls_device_fallback.c: +5 -18
net/tls/tls_main.c: +32 -30
net/tls/tls_sw.c: +98 -96
net/unix/af_unix.c: +38 -20
net/vmw_vsock/af_vsock.c: +64 -2
net/vmw_vsock/virtio_transport.c: +92 -7
net/vmw_vsock/virtio_transport_common.c: +236 -71
net/vmw_vsock/vsock_loopback.c: +6 -0
net/wireless/Kconfig: +11 -0
net/wireless/Makefile: +1 -0
net/wireless/ap.c: +5 -19
net/wireless/chan.c: +21 -30
net/wireless/core.c: +44 -28
net/wireless/core.h: +14 -50
net/wireless/ibss.c: +14 -62
net/wireless/lib80211_crypt_tkip.c: +6 -6
net/wireless/mesh.c: +6 -22
net/wireless/mlme.c: +11 -12
net/wireless/nl80211.c: +210 -334
net/wireless/nl80211.h: +5 -2
net/wireless/ocb.c: +8 -35
net/wireless/pmsr.c: +1 -3
net/wireless/rdev-ops.h: +1 -1
net/wireless/reg.c: +59 -40
net/wireless/reg.h: +8 -8
net/wireless/scan.c: +67 -44
net/wireless/sme.c: +36 -46
net/wireless/sysfs.c: +2 -2
net/wireless/tests/Makefile: +3 -0
net/wireless/tests/fragmentation.c: +157 -0
net/wireless/tests/module.c: +10 -0
net/wireless/trace.h: +43 -45
net/wireless/util.c: +38 -22
net/wireless/wext-compat.c: +11 -36
net/wireless/wext-sme.c: +14 -45
net/x25/af_x25.c: +1 -1
net/xdp/xsk.c: +30 -2
net/xdp/xsk_buff_pool.c: +3 -0
net/xfrm/xfrm_policy.c: +1 -1
samples/bpf/Makefile: +15 -4
samples/bpf/syscall_tp_kern.c: +13 -2
samples/bpf/syscall_tp_user.c: +31 -14
tools/bpf/bpftool/Documentation/bpftool-cgroup.rst: +13 -3
tools/bpf/bpftool/Documentation/bpftool-net.rst: +4 -4
tools/bpf/bpftool/Documentation/bpftool-prog.rst: +5 -3
tools/bpf/bpftool/bash-completion/bpftool: +7 -7
tools/bpf/bpftool/btf_dumper.c: +1 -1
tools/bpf/bpftool/cgroup.c: +9 -7
tools/bpf/bpftool/gen.c: +32 -26
tools/bpf/bpftool/link.c: +15 -0
tools/bpf/bpftool/net.c: +6 -1
tools/bpf/bpftool/prog.c: +4 -3
tools/bpf/bpftool/struct_ops.c: +6 -0
tools/include/uapi/linux/bpf.h: +47 -5
tools/include/uapi/linux/if_link.h: +141 -0
tools/include/uapi/linux/netdev.h: +16 -0
tools/lib/bpf/bpf.c: +16 -0
tools/lib/bpf/bpf.h: +5 -0
tools/lib/bpf/bpf_helpers.h: +1 -0
tools/lib/bpf/bpf_tracing.h: +0 -2
tools/lib/bpf/btf.c: +160 -0
tools/lib/bpf/elf.c: +131 -12
tools/lib/bpf/libbpf.c: +207 -30
tools/lib/bpf/libbpf.h: +88 -0
tools/lib/bpf/libbpf.map: +8 -0
tools/lib/bpf/ringbuf.c: +72 -13
tools/net/ynl/Makefile: +0 -1
tools/net/ynl/cli.py: +2 -1
tools/net/ynl/generated/Makefile: +3 -3
tools/net/ynl/generated/devlink-user.c: +4463 -612
tools/net/ynl/generated/devlink-user.h: +3943 -680
tools/net/ynl/generated/ethtool-user.h: +41 -41
tools/net/ynl/generated/fou-user.h: +1 -1
tools/net/ynl/generated/handshake-user.h: +6 -6
tools/net/ynl/generated/netdev-user.c: +19 -0
tools/net/ynl/generated/netdev-user.h: +5 -2
tools/net/ynl/lib/nlspec.py: +6 -0
tools/net/ynl/lib/ynl.c: +12 -0
tools/net/ynl/lib/ynl.h: +20 -2
tools/net/ynl/lib/ynl.py: +62 -15
tools/net/ynl/samples/Makefile: +3 -0
tools/net/ynl/samples/netdev.c: +7 -1
tools/net/ynl/ynl-gen-c.py: +231 -56
tools/testing/selftests/bpf/DENYLIST.aarch64: +2 -0
tools/testing/selftests/bpf/DENYLIST.s390x: +1 -25
tools/testing/selftests/bpf/Makefile: +37 -19
tools/testing/selftests/bpf/bpf_experimental.h: +346 -0
tools/testing/selftests/bpf/bpf_kfuncs.h: +14 -0
tools/testing/selftests/bpf/bpf_testmod/bpf_testmod.c: +5 -0
tools/testing/selftests/bpf/bpf_testmod/bpf_testmod_kfunc.h: +2 -0
tools/testing/selftests/bpf/cgroup_helpers.c: +31 -7
tools/testing/selftests/bpf/config: +2 -0
tools/testing/selftests/bpf/liburandom_read.map: +15 -0
tools/testing/selftests/bpf/map_tests/map_in_map_batch_ops.c: +2 -2
tools/testing/selftests/bpf/netlink_helpers.c: +358 -0
tools/testing/selftests/bpf/netlink_helpers.h: +46 -0
tools/testing/selftests/bpf/network_helpers.c: +34 -0
tools/testing/selftests/bpf/network_helpers.h: +1 -0
tools/testing/selftests/bpf/prog_tests/align.c: +121 -120
tools/testing/selftests/bpf/prog_tests/bloom_filter_map.c: +2 -2
tools/testing/selftests/bpf/prog_tests/bpf_iter.c: +22 -22
tools/testing/selftests/bpf/prog_tests/btf.c: +2 -2
tools/testing/selftests/bpf/prog_tests/connect_ping.c: +2 -2
tools/testing/selftests/bpf/prog_tests/exceptions.c: +409 -0
tools/testing/selftests/bpf/prog_tests/fib_lookup.c: +77 -6
tools/testing/selftests/bpf/prog_tests/fill_link_info.c: +1 -1
tools/testing/selftests/bpf/prog_tests/iters.c: +208 -0
tools/testing/selftests/bpf/prog_tests/kprobe_multi_testmod_test.c: +13 -7
tools/testing/selftests/bpf/prog_tests/libbpf_str.c: +5 -1
tools/testing/selftests/bpf/prog_tests/linked_list.c: +5 -11
tools/testing/selftests/bpf/prog_tests/lwt_helpers.h: +2 -1
tools/testing/selftests/bpf/prog_tests/missed.c: +138 -0
tools/testing/selftests/bpf/prog_tests/module_fentry_shadow.c: +5 -0
tools/testing/selftests/bpf/prog_tests/percpu_alloc.c: +128 -0
tools/testing/selftests/bpf/prog_tests/preempted_bpf_ma_op.c: +89 -0
tools/testing/selftests/bpf/prog_tests/queue_stack_map.c: +1 -1
tools/testing/selftests/bpf/prog_tests/ringbuf.c: +26 -0
tools/testing/selftests/bpf/prog_tests/ringbuf_multi.c: +15 -0
tools/testing/selftests/bpf/prog_tests/section_names.c: +45 -0
tools/testing/selftests/bpf/prog_tests/sock_addr.c: +612 -0
tools/testing/selftests/bpf/prog_tests/sockmap_basic.c: +4 -4
tools/testing/selftests/bpf/prog_tests/sockmap_helpers.h: +1 -1
tools/testing/selftests/bpf/prog_tests/sockmap_listen.c: +33 -117
tools/testing/selftests/bpf/prog_tests/tailcalls.c: +249 -20
tools/testing/selftests/bpf/prog_tests/task_under_cgroup.c: +9 -2
tools/testing/selftests/bpf/prog_tests/tc_helpers.h: +4 -0
tools/testing/selftests/bpf/prog_tests/tc_netkit.c: +687 -0
tools/testing/selftests/bpf/prog_tests/tc_opts.c: +130 -1
tools/testing/selftests/bpf/prog_tests/test_bpf_ma.c: +19 -1
tools/testing/selftests/bpf/prog_tests/timer.c: +4 -0
tools/testing/selftests/bpf/prog_tests/uprobe.c: +95 -0
tools/testing/selftests/bpf/prog_tests/xdp_metadata.c: +1 -1
tools/testing/selftests/bpf/progs/{bpf_iter_task_vma.c => bpf_iter_task_vmas.c}: +0 -0
tools/testing/selftests/bpf/progs/{bpf_iter_task.c => bpf_iter_tasks.c}: +0 -0
tools/testing/selftests/bpf/progs/bpf_misc.h: +3 -0
tools/testing/selftests/bpf/progs/connect_unix_prog.c: +40 -0
tools/testing/selftests/bpf/progs/exceptions.c: +368 -0
tools/testing/selftests/bpf/progs/exceptions_assert.c: +135 -0
tools/testing/selftests/bpf/progs/exceptions_ext.c: +72 -0
tools/testing/selftests/bpf/progs/exceptions_fail.c: +347 -0
tools/testing/selftests/bpf/progs/getpeername_unix_prog.c: +39 -0
tools/testing/selftests/bpf/progs/getsockname_unix_prog.c: +39 -0
tools/testing/selftests/bpf/progs/iters.c: +695 -0
tools/testing/selftests/bpf/progs/iters_css.c: +72 -0
tools/testing/selftests/bpf/progs/iters_css_task.c: +47 -0
tools/testing/selftests/bpf/progs/iters_task.c: +41 -0
tools/testing/selftests/bpf/progs/iters_task_failure.c: +105 -0
tools/testing/selftests/bpf/progs/iters_task_vma.c: +44 -0
tools/testing/selftests/bpf/progs/linked_list_fail.c: +3 -1
tools/testing/selftests/bpf/progs/missed_kprobe.c: +30 -0
tools/testing/selftests/bpf/progs/missed_kprobe_recursion.c: +48 -0
tools/testing/selftests/bpf/progs/missed_tp_recursion.c: +41 -0
tools/testing/selftests/bpf/progs/percpu_alloc_array.c: +190 -0
tools/testing/selftests/bpf/progs/percpu_alloc_cgrp_local_storage.c: +109 -0
tools/testing/selftests/bpf/progs/percpu_alloc_fail.c: +164 -0
tools/testing/selftests/bpf/progs/preempted_bpf_ma_op.c: +106 -0
tools/testing/selftests/bpf/progs/profiler.inc.h: +1 -1
tools/testing/selftests/bpf/progs/recvmsg_unix_prog.c: +39 -0
tools/testing/selftests/bpf/progs/sendmsg_unix_prog.c: +40 -0
tools/testing/selftests/bpf/progs/tailcall_bpf2bpf_fentry.c: +18 -0
tools/testing/selftests/bpf/progs/tailcall_bpf2bpf_fexit.c: +18 -0
tools/testing/selftests/bpf/progs/test_bpf_ma.c: +174 -6
tools/testing/selftests/bpf/progs/test_ldsx_insn.c: +7 -2
tools/testing/selftests/bpf/progs/test_task_under_cgroup.c: +27 -1
tools/testing/selftests/bpf/progs/test_tc_link.c: +13 -0
tools/testing/selftests/bpf/progs/test_uprobe.c: +61 -0
tools/testing/selftests/bpf/progs/test_vmlinux.c: +2 -2
tools/testing/selftests/bpf/progs/timer.c: +62 -1
tools/testing/selftests/bpf/progs/verifier_bswap.c: +3 -1
tools/testing/selftests/bpf/progs/verifier_gotol.c: +3 -1
tools/testing/selftests/bpf/progs/verifier_ldsx.c: +89 -63
tools/testing/selftests/bpf/progs/verifier_movsx.c: +3 -1
tools/testing/selftests/bpf/progs/verifier_sdiv.c: +3 -1
tools/testing/selftests/bpf/progs/xdp_hw_metadata.c: +1 -1
tools/testing/selftests/bpf/progs/xdp_synproxy_kern.c: +2 -2
tools/testing/selftests/bpf/progs/xsk_xdp_progs.c: +20 -2
tools/testing/selftests/bpf/test_bpftool_synctypes.py: +9 -0
tools/testing/selftests/bpf/test_loader.c: +2 -2
tools/testing/selftests/bpf/test_progs.c: +1 -1
tools/testing/selftests/bpf/test_progs.h: +2 -0
tools/testing/selftests/bpf/test_xsk.sh: +39 -1
tools/testing/selftests/bpf/trace_helpers.c: +98 -36
tools/testing/selftests/bpf/trace_helpers.h: +6 -2
tools/testing/selftests/bpf/unpriv_helpers.c: +32 -1
tools/testing/selftests/bpf/urandom_read.c: +13 -2
tools/testing/selftests/bpf/urandom_read_lib1.c: +22 -0
tools/testing/selftests/bpf/xdp_features.c: +2 -2
tools/testing/selftests/bpf/xdp_hw_metadata.c: +67 -13
tools/testing/selftests/bpf/xsk.c: +1 -2
tools/testing/selftests/bpf/xsk.h: +1 -1
tools/testing/selftests/bpf/xsk_prereqs.sh: +6 -4
tools/testing/selftests/bpf/xsk_xdp_common.h: +12 -0
tools/testing/selftests/bpf/xsk_xdp_metadata.h: +0 -5
tools/testing/selftests/bpf/xskxceiver.c: +618 -402
tools/testing/selftests/bpf/xskxceiver.h: +17 -40
tools/testing/selftests/drivers/net/netdevsim/devlink.sh: +14 -7
tools/testing/selftests/net/Makefile: +1 -0
tools/testing/selftests/net/af_unix/scm_pidfd.c: +0 -1
tools/testing/selftests/net/af_unix/test_unix_oob.c: +0 -2
tools/testing/selftests/net/fdb_flush.sh: +812 -0
tools/testing/selftests/net/forwarding/Makefile: +2 -1
tools/testing/selftests/net/forwarding/bridge_fdb_learning_limit.sh: +283 -0
tools/testing/selftests/net/forwarding/bridge_mdb.sh: +71 -113
tools/testing/selftests/net/mptcp/mptcp_join.sh: +16 -7
tools/testing/selftests/net/mptcp/mptcp_sockopt.sh: +0 -1
tools/testing/selftests/net/nettest.c: +3 -2
tools/testing/selftests/net/route_localnet.sh: +4 -2
tools/testing/selftests/net/rtnetlink.sh: +400 -581
tools/testing/selftests/net/test_vxlan_mdb.sh: +54 -54
tools/testing/selftests/netfilter/Makefile: +1 -1
tools/testing/selftests/netfilter/nf_nat_edemux.sh: +37 -9
tools/testing/selftests/netfilter/xt_string.sh: +128 -0
tools/testing/selftests/ptp/ptpchmaskfmt.sh: +14 -0
tools/testing/selftests/ptp/testptp.c: +18 -1
tools/testing/selftests/tc-testing/Makefile: +1 -1
tools/testing/selftests/tc-testing/README: +10 -55
tools/testing/selftests/tc-testing/TdcPlugin.py: +2 -2
tools/testing/selftests/tc-testing/TdcResults.py: +2 -1
tools/testing/selftests/tc-testing/config: +9 -0
tools/testing/selftests/tc-testing/plugin-lib/nsPlugin.py: +143 -51
tools/testing/selftests/tc-testing/plugin-lib/rootPlugin.py: +2 -2
tools/testing/selftests/tc-testing/plugin-lib/valgrindPlugin.py: +3 -2
tools/testing/selftests/tc-testing/{ => scripts}/taprio_wait_for_admin.sh: +0 -0
tools/testing/selftests/tc-testing/tc-tests/actions/connmark.json: +45 -0
tools/testing/selftests/tc-testing/tc-tests/actions/csum.json: +69 -0
tools/testing/selftests/tc-testing/tc-tests/actions/ct.json: +54 -0
tools/testing/selftests/tc-testing/tc-tests/actions/ctinfo.json: +36 -0
tools/testing/selftests/tc-testing/tc-tests/actions/gact.json: +75 -0
tools/testing/selftests/tc-testing/tc-tests/actions/gate.json: +36 -0
tools/testing/selftests/tc-testing/tc-tests/actions/ife.json: +144 -0
tools/testing/selftests/tc-testing/tc-tests/actions/mirred.json: +72 -0
tools/testing/selftests/tc-testing/tc-tests/actions/mpls.json: +159 -0
tools/testing/selftests/tc-testing/tc-tests/actions/nat.json: +81 -0
tools/testing/selftests/tc-testing/tc-tests/actions/pedit.json: +198 -0
tools/testing/selftests/tc-testing/tc-tests/actions/police.json: +102 -0
tools/testing/selftests/tc-testing/tc-tests/actions/sample.json: +87 -0
tools/testing/selftests/tc-testing/tc-tests/actions/simple.json: +27 -0
tools/testing/selftests/tc-testing/tc-tests/actions/skbedit.json: +90 -0
tools/testing/selftests/tc-testing/tc-tests/actions/skbmod.json: +54 -0
tools/testing/selftests/tc-testing/tc-tests/actions/tunnel_key.json: +117 -0
tools/testing/selftests/tc-testing/tc-tests/actions/vlan.json: +108 -0
tools/testing/selftests/tc-testing/tc-tests/actions/xt.json: +24 -0
tools/testing/selftests/tc-testing/tc-tests/filters/bpf.json: +8 -2
tools/testing/selftests/tc-testing/tc-tests/filters/fw.json: +178 -137
tools/testing/selftests/tc-testing/tc-tests/filters/matchall.json: +81 -60
tools/testing/selftests/tc-testing/tc-tests/filters/route.json: +25 -0
tools/testing/selftests/tc-testing/tc-tests/filters/u32.json: +25 -0
tools/testing/selftests/tc-testing/tc-tests/infra/actions.json: +72 -72
tools/testing/selftests/tc-testing/tc-tests/infra/filter.json: +5 -4
tools/testing/selftests/tc-testing/tc-tests/qdiscs/cake.json: +20 -62
tools/testing/selftests/tc-testing/tc-tests/qdiscs/cbs.json: +9 -29
tools/testing/selftests/tc-testing/tc-tests/qdiscs/choke.json: +7 -23
tools/testing/selftests/tc-testing/tc-tests/qdiscs/codel.json: +8 -26
tools/testing/selftests/tc-testing/tc-tests/qdiscs/drr.json: +2 -8
tools/testing/selftests/tc-testing/tc-tests/qdiscs/etf.json: +4 -14
tools/testing/selftests/tc-testing/tc-tests/qdiscs/ets.json: +166 -118
tools/testing/selftests/tc-testing/tc-tests/qdiscs/fifo.json: +56 -42
tools/testing/selftests/tc-testing/tc-tests/qdiscs/fq.json: +16 -52
tools/testing/selftests/tc-testing/tc-tests/qdiscs/fq_codel.json: +13 -41
tools/testing/selftests/tc-testing/tc-tests/qdiscs/fq_pie.json: +3 -2
tools/testing/selftests/tc-testing/tc-tests/qdiscs/gred.json: +7 -21
tools/testing/selftests/tc-testing/tc-tests/qdiscs/hfsc.json: +32 -26
tools/testing/selftests/tc-testing/tc-tests/qdiscs/hhf.json: +9 -27
tools/testing/selftests/tc-testing/tc-tests/qdiscs/htb.json: +11 -35
tools/testing/selftests/tc-testing/tc-tests/qdiscs/ingress.json: +21 -15
tools/testing/selftests/tc-testing/tc-tests/qdiscs/netem.json: +15 -47
tools/testing/selftests/tc-testing/tc-tests/qdiscs/pfifo_fast.json: +4 -14
tools/testing/selftests/tc-testing/tc-tests/qdiscs/plug.json: +7 -23
tools/testing/selftests/tc-testing/tc-tests/qdiscs/prio.json: +50 -35
tools/testing/selftests/tc-testing/tc-tests/qdiscs/qfq.json: +8 -31
tools/testing/selftests/tc-testing/tc-tests/qdiscs/red.json: +8 -26
tools/testing/selftests/tc-testing/tc-tests/qdiscs/sfb.json: +12 -36
tools/testing/selftests/tc-testing/tc-tests/qdiscs/sfq.json: +10 -30
tools/testing/selftests/tc-testing/tc-tests/qdiscs/skbprio.json: +4 -12
tools/testing/selftests/tc-testing/tc-tests/qdiscs/taprio.json: +4 -4
tools/testing/selftests/tc-testing/tc-tests/qdiscs/tbf.json: +9 -27
tools/testing/selftests/tc-testing/tc-tests/qdiscs/teql.json: +11 -23
tools/testing/selftests/tc-testing/tdc.py: +189 -61
tools/testing/vsock/.gitignore: +1 -0
tools/testing/vsock/Makefile: +7 -4
tools/testing/vsock/msg_zerocopy_common.c: +87 -0
tools/testing/vsock/msg_zerocopy_common.h: +18 -0
tools/testing/vsock/util.c: +213 -44
tools/testing/vsock/util.h: +8 -0
tools/testing/vsock/vsock_perf.c: +71 -9
tools/testing/vsock/vsock_test.c: +188 -153
tools/testing/vsock/vsock_test_zerocopy.c: +358 -0
tools/testing/vsock/vsock_test_zerocopy.h: +15 -0
tools/testing/vsock/vsock_uring_test.c: +342 -0
