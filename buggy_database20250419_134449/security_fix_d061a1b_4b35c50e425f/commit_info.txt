Commit Hash: d061a1bd1fff5332ee48601947abb414007a9610
Subject: nvme-auth: have dhchap_auth_work wait for queues auth to complete


Security Keywords:
- auth

Full commit message:
nvme-auth: have dhchap_auth_work wait for queues auth to complete

It triggered the queue authentication work elements in parallel, but
the ctrl authentication work itself completes when all of them
completes. Hence wait for queues auth completions.

This also makes nvme_auth_stop simply a sync cancel of ctrl
dhchap_auth_work.

Signed-off-by: Sagi Grimberg <sagi@grimberg.me>
Signed-off-by: Christoph Hellwig <hch@lst.de>

Metadata:
Author: Sagi Grimberg <sagi@grimberg.me>
Author Date: Sun Nov 13 13:24:22 2022 +0200
Committer: Christoph Hellwig <hch@lst.de>
Commit Date: Wed Nov 16 08:36:36 2022 +0100

Files Changed: 1
Lines Added: 6
Lines Removed: 7
Total Changes: 13
