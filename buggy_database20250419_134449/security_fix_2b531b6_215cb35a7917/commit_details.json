{
  "hash": "2b531b6137834a55857a337ac17510d6436b6fbb",
  "hash_short": "2b531b61",
  "subject": "selftests: cpu-hotplug: fix case where CPUs offline > CPUs present",
  "body": "The cpu-hotplug test assumes that we can offline the maximum CPU as\ndescribed by /sys/devices/system/cpu/offline.  However, in the case\nwhere the number of CPUs exceeds like kernel configuration then\nthe offline count can be greater than the present count and we end\nup trying to test the offlining of a CPU that is not available to\noffline.  Fix this by testing the maximum present CPU instead.\n\nAlso, the test currently offlines the CPU and does not online it,\nso fix this by onlining the CPU after the test.\n\nFixes: d89dffa976bc (\"fault-injection: add selftests for cpu and memory hotplug\")\nSigned-off-by: Colin Ian King <colin.king@canonical.com>\nSigned-off-by: Shuah Khan <shuah@kernel.org>",
  "full_message": "selftests: cpu-hotplug: fix case where CPUs offline > CPUs present\n\nThe cpu-hotplug test assumes that we can offline the maximum CPU as\ndescribed by /sys/devices/system/cpu/offline.  However, in the case\nwhere the number of CPUs exceeds like kernel configuration then\nthe offline count can be greater than the present count and we end\nup trying to test the offlining of a CPU that is not available to\noffline.  Fix this by testing the maximum present CPU instead.\n\nAlso, the test currently offlines the CPU and does not online it,\nso fix this by onlining the CPU after the test.\n\nFixes: d89dffa976bc (\"fault-injection: add selftests for cpu and memory hotplug\")\nSigned-off-by: Colin Ian King <colin.king@canonical.com>\nSigned-off-by: Shuah Khan <shuah@kernel.org>",
  "author_name": "Colin Ian King",
  "author_email": "colin.king@canonical.com",
  "author_date": "Thu Jan 10 12:38:02 2019 +0000",
  "author_date_iso": "2019-01-10T12:38:02+00:00",
  "committer_name": "Shuah Khan",
  "committer_email": "shuah@kernel.org",
  "committer_date": "Fri Jan 25 14:57:45 2019 -0700",
  "committer_date_iso": "2019-01-25T14:57:45-07:00",
  "files_changed": [
    "tools/testing/selftests/cpu-hotplug/cpu-on-off-test.sh"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "tools/testing/selftests/cpu-hotplug/cpu-on-off-test.sh",
      "insertions": 10,
      "deletions": 3
    }
  ],
  "total_insertions": 10,
  "total_deletions": 3,
  "total_changes": 13,
  "parents": [
    "3d244c192afeee7dd4f5fb1b916ea4e47420d401"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.0",
    "v5.0-rc5",
    "v5.0-rc6",
    "v5.0-rc7",
    "v5.0-rc8",
    "v5.1",
    "v5.1-rc1",
    "v5.1-rc2",
    "v5.1-rc3",
    "v5.1-rc4"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "tools/testing/selftests/cpu-hotplug/cpu-on-off-test.sh",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}