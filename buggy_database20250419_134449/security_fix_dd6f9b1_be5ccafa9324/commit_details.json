{
  "hash": "dd6f9b17cd7af68b6a5090deedf1f5e84f66f4e6",
  "hash_short": "dd6f9b17",
  "subject": "Merge tag 'tty-6.2-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty",
  "body": "Pull tty/serial driver updates from Greg KH:\n \"Here is the \"big\" set of tty/serial driver changes for 6.2-rc1.\n\n  As in previous kernel releases, nothing big here at all, just some\n  small incremental serial/tty layer cleanups and some individual driver\n  additions and fixes. Highlights are:\n\n   - serial helper macros from Jiri Slaby to reduce the amount of\n     duplicated code in serial drivers\n\n   - api cleanups and consolidations from Ilpo J\u00e4rvinen in lots of\n     serial drivers\n\n   - the usual set of n_gsm fixes from Daniel Starke as that code gets\n     exercised more\n\n   - TIOCSTI is finally able to be disabled if requested (security\n     hardening feature from Kees Cook)\n\n   - fsl_lpuart driver fixes and features added\n\n   - other small serial driver additions and fixes\n\n  All of these have been in linux-next for a while with no reported\n  problems\"\n\n* tag 'tty-6.2-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty: (97 commits)\n  serial: atmel: don't stop the transmitter when doing PIO\n  serial: atmel: cleanup atmel_start+stop_tx()\n  tty: serial: fsl_lpuart: switch to new dmaengine_terminate_* API\n  serial: sunsab: Fix error handling in sunsab_init()\n  serial: altera_uart: fix locking in polling mode\n  serial: pch: Fix PCI device refcount leak in pch_request_dma()\n  tty: serial: fsl_lpuart: Use pm_ptr() to avoid need to make pm __maybe_unused\n  tty: serial: fsl_lpuart: Add runtime pm support\n  tty: serial: fsl_lpuart: enable wakeup source for lpuart\n  serdev: Replace poll loop by readx_poll_timeout() macro\n  tty: synclink_gt: unwind actions in error path of net device open\n  serial: stm32: move dma_request_chan() before clk_prepare_enable()\n  dt-bindings: serial: xlnx,opb-uartlite: Drop 'contains' from 'xlnx,use-parity'\n  serial: pl011: Do not clear RX FIFO & RX interrupt in unthrottle.\n  serial: amba-pl011: avoid SBSA UART accessing DMACR register\n  tty: serial: altera_jtaguart: remove struct altera_jtaguart\n  tty: serial: altera_jtaguart: use uart_port::read_status_mask\n  tty: serial: altera_jtaguart: remove unused altera_jtaguart::sigs\n  tty: serial: altera_jtaguart: remove flag from altera_jtaguart_rx_chars()\n  n_tty: Rename tail to old_tail in n_tty_read()\n  ...",
  "full_message": "Merge tag 'tty-6.2-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty\n\nPull tty/serial driver updates from Greg KH:\n \"Here is the \"big\" set of tty/serial driver changes for 6.2-rc1.\n\n  As in previous kernel releases, nothing big here at all, just some\n  small incremental serial/tty layer cleanups and some individual driver\n  additions and fixes. Highlights are:\n\n   - serial helper macros from Jiri Slaby to reduce the amount of\n     duplicated code in serial drivers\n\n   - api cleanups and consolidations from Ilpo J\u00e4rvinen in lots of\n     serial drivers\n\n   - the usual set of n_gsm fixes from Daniel Starke as that code gets\n     exercised more\n\n   - TIOCSTI is finally able to be disabled if requested (security\n     hardening feature from Kees Cook)\n\n   - fsl_lpuart driver fixes and features added\n\n   - other small serial driver additions and fixes\n\n  All of these have been in linux-next for a while with no reported\n  problems\"\n\n* tag 'tty-6.2-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty: (97 commits)\n  serial: atmel: don't stop the transmitter when doing PIO\n  serial: atmel: cleanup atmel_start+stop_tx()\n  tty: serial: fsl_lpuart: switch to new dmaengine_terminate_* API\n  serial: sunsab: Fix error handling in sunsab_init()\n  serial: altera_uart: fix locking in polling mode\n  serial: pch: Fix PCI device refcount leak in pch_request_dma()\n  tty: serial: fsl_lpuart: Use pm_ptr() to avoid need to make pm __maybe_unused\n  tty: serial: fsl_lpuart: Add runtime pm support\n  tty: serial: fsl_lpuart: enable wakeup source for lpuart\n  serdev: Replace poll loop by readx_poll_timeout() macro\n  tty: synclink_gt: unwind actions in error path of net device open\n  serial: stm32: move dma_request_chan() before clk_prepare_enable()\n  dt-bindings: serial: xlnx,opb-uartlite: Drop 'contains' from 'xlnx,use-parity'\n  serial: pl011: Do not clear RX FIFO & RX interrupt in unthrottle.\n  serial: amba-pl011: avoid SBSA UART accessing DMACR register\n  tty: serial: altera_jtaguart: remove struct altera_jtaguart\n  tty: serial: altera_jtaguart: use uart_port::read_status_mask\n  tty: serial: altera_jtaguart: remove unused altera_jtaguart::sigs\n  tty: serial: altera_jtaguart: remove flag from altera_jtaguart_rx_chars()\n  n_tty: Rename tail to old_tail in n_tty_read()\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri Dec 16 03:31:56 2022 -0800",
  "author_date_iso": "2022-12-16T03:31:56-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri Dec 16 03:31:56 2022 -0800",
  "committer_date_iso": "2022-12-16T03:31:56-08:00",
  "files_changed": [
    "drivers/tty/serial/8250/8250_core.c",
    "drivers/tty/serial/pic32_uart.c",
    "drivers/tty/serial/samsung_tty.c",
    "drivers/tty/serial/sh-sci.c",
    "drivers/tty/serial/xilinx_uartps.c",
    "drivers/tty/tty_io.c",
    "include/linux/serial_core.h"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "Documentation/devicetree/bindings/serial/ingenic,uart.yaml",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/serial/renesas,scif.yaml",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/devicetree/bindings/serial/xlnx,opb-uartlite.yaml",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "Documentation/driver-api/serial/driver.rst",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "Documentation/driver-api/serial/serial-rs485.rst",
      "insertions": 30,
      "deletions": 26
    },
    {
      "file": "drivers/tty/Kconfig",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "drivers/tty/ehv_bytechan.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/tty/hvc/hvc_rtas.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/tty/n_gsm.c",
      "insertions": 378,
      "deletions": 24
    },
    {
      "file": "drivers/tty/n_tty.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/21285.c",
      "insertions": 5,
      "deletions": 27
    },
    {
      "file": "drivers/tty/serial/8250/8250_bcm7271.c",
      "insertions": 10,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/8250/8250_core.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/8250/8250_dma.c",
      "insertions": 16,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/8250/8250_ingenic.c",
      "insertions": 29,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/8250/8250_omap.c",
      "insertions": 82,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/8250/8250_port.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/Kconfig",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/tty/serial/altera_jtaguart.c",
      "insertions": 34,
      "deletions": 78
    },
    {
      "file": "drivers/tty/serial/altera_uart.c",
      "insertions": 8,
      "deletions": 26
    },
    {
      "file": "drivers/tty/serial/amba-pl010.c",
      "insertions": 5,
      "deletions": 27
    },
    {
      "file": "drivers/tty/serial/amba-pl011.c",
      "insertions": 14,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/apbuart.c",
      "insertions": 5,
      "deletions": 29
    },
    {
      "file": "drivers/tty/serial/ar933x_uart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/arc_uart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/atmel_serial.c",
      "insertions": 32,
      "deletions": 48
    },
    {
      "file": "drivers/tty/serial/bcm63xx_uart.c",
      "insertions": 9,
      "deletions": 38
    },
    {
      "file": "drivers/tty/serial/clps711x.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/cpm_uart/cpm_uart_core.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/digicolor-usart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/dz.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/fsl_linflexuart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/fsl_lpuart.c",
      "insertions": 271,
      "deletions": 115
    },
    {
      "file": "drivers/tty/serial/imx.c",
      "insertions": 60,
      "deletions": 11
    },
    {
      "file": "drivers/tty/serial/ip22zilog.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/lantiq.c",
      "insertions": 4,
      "deletions": 32
    },
    {
      "file": "drivers/tty/serial/liteuart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/lpc32xx_hs.c",
      "insertions": 4,
      "deletions": 29
    },
    {
      "file": "drivers/tty/serial/max3100.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/max310x.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/mcf.c",
      "insertions": 8,
      "deletions": 26
    },
    {
      "file": "drivers/tty/serial/men_z135_uart.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/meson_uart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/milbeaut_usio.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/mpc52xx_uart.c",
      "insertions": 4,
      "deletions": 35
    },
    {
      "file": "drivers/tty/serial/mps2-uart.c",
      "insertions": 4,
      "deletions": 22
    },
    {
      "file": "drivers/tty/serial/msm_serial.c",
      "insertions": 4,
      "deletions": 9
    },
    {
      "file": "drivers/tty/serial/mux.c",
      "insertions": 13,
      "deletions": 32
    },
    {
      "file": "drivers/tty/serial/mvebu-uart.c",
      "insertions": 6,
      "deletions": 35
    },
    {
      "file": "drivers/tty/serial/mxs-auart.c",
      "insertions": 8,
      "deletions": 24
    },
    {
      "file": "drivers/tty/serial/omap-serial.c",
      "insertions": 5,
      "deletions": 27
    },
    {
      "file": "drivers/tty/serial/owl-uart.c",
      "insertions": 4,
      "deletions": 28
    },
    {
      "file": "drivers/tty/serial/pch_uart.c",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "drivers/tty/serial/pic32_uart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/pmac_zilog.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/pxa.c",
      "insertions": 5,
      "deletions": 28
    },
    {
      "file": "drivers/tty/serial/qcom_geni_serial.c",
      "insertions": 35,
      "deletions": 0
    },
    {
      "file": "drivers/tty/serial/rda-uart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/rp2.c",
      "insertions": 6,
      "deletions": 25
    },
    {
      "file": "drivers/tty/serial/sa1100.c",
      "insertions": 4,
      "deletions": 30
    },
    {
      "file": "drivers/tty/serial/samsung_tty.c",
      "insertions": 3,
      "deletions": 7
    },
    {
      "file": "drivers/tty/serial/sb1250-duart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/sc16is7xx.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/sccnxp.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/serial-tegra.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/serial_txx9.c",
      "insertions": 5,
      "deletions": 27
    },
    {
      "file": "drivers/tty/serial/sh-sci.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/sifive.c",
      "insertions": 5,
      "deletions": 26
    },
    {
      "file": "drivers/tty/serial/sprd_serial.c",
      "insertions": 7,
      "deletions": 33
    },
    {
      "file": "drivers/tty/serial/st-asc.c",
      "insertions": 5,
      "deletions": 43
    },
    {
      "file": "drivers/tty/serial/stm32-usart.c",
      "insertions": 26,
      "deletions": 28
    },
    {
      "file": "drivers/tty/serial/sunhv.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/sunplus-uart.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/sunsab.c",
      "insertions": 9,
      "deletions": 5
    },
    {
      "file": "drivers/tty/serial/sunsu.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/sunzilog.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/tty/serial/timbuart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/uartlite.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/ucc_uart.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/serial/vt8500_serial.c",
      "insertions": 5,
      "deletions": 27
    },
    {
      "file": "drivers/tty/serial/xilinx_uartps.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/tty/serial/zs.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/tty/synclink_gt.c",
      "insertions": 10,
      "deletions": 9
    },
    {
      "file": "drivers/tty/tty.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/tty/tty_buffer.c",
      "insertions": 16,
      "deletions": 16
    },
    {
      "file": "drivers/tty/tty_io.c",
      "insertions": 43,
      "deletions": 2
    },
    {
      "file": "drivers/tty/tty_ldisc.c",
      "insertions": 1,
      "deletions": 37
    },
    {
      "file": "include/linux/serdev.h",
      "insertions": 3,
      "deletions": 10
    },
    {
      "file": "include/linux/serial_core.h",
      "insertions": 80,
      "deletions": 0
    },
    {
      "file": "include/linux/tty_buffer.h",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "include/linux/tty_flip.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/uapi/linux/serial.h",
      "insertions": 36,
      "deletions": 19
    }
  ],
  "total_insertions": 1447,
  "total_deletions": 1246,
  "total_changes": 2693,
  "parents": [
    "b83a7080d30032cf70832bc2bb04cc342e203b88",
    "6373ab4dfee731deec62b4452ea641611feff9b3"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/tty/serial/8250/8250_core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/tty/serial/samsung_tty.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/tty/serial/xilinx_uartps.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/tty/serial/sh-sci.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/tty/serial/pic32_uart.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/tty/tty_io.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/serial_core.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}