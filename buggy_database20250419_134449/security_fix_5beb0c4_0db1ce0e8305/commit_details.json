{
  "hash": "5beb0c435bdde35a09376566b0e28f7df87c9f68",
  "hash_short": "5beb0c43",
  "subject": "keys, trusted: seal with a TPM2 authorization policy",
  "body": "TPM2 supports authorization policies, which are essentially\ncombinational logic statements repsenting the conditions where the data\ncan be unsealed based on the TPM state. This patch enables to use\nauthorization policies to seal trusted keys.\n\nTwo following new options have been added for trusted keys:\n\n* 'policydigest=': provide an auth policy digest for sealing.\n* 'policyhandle=': provide a policy session handle for unsealing.\n\nIf 'hash=' option is supplied after 'policydigest=' option, this\nwill result an error because the state of the option would become\nmixed.\n\nSigned-off-by: Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com>\nTested-by: Colin Ian King <colin.king@canonical.com>\nReviewed-by: Mimi Zohar <zohar@linux.vnet.ibm.com>\nAcked-by: Peter Huewe <peterhuewe@gmx.de>",
  "full_message": "keys, trusted: seal with a TPM2 authorization policy\n\nTPM2 supports authorization policies, which are essentially\ncombinational logic statements repsenting the conditions where the data\ncan be unsealed based on the TPM state. This patch enables to use\nauthorization policies to seal trusted keys.\n\nTwo following new options have been added for trusted keys:\n\n* 'policydigest=': provide an auth policy digest for sealing.\n* 'policyhandle=': provide a policy session handle for unsealing.\n\nIf 'hash=' option is supplied after 'policydigest=' option, this\nwill result an error because the state of the option would become\nmixed.\n\nSigned-off-by: Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com>\nTested-by: Colin Ian King <colin.king@canonical.com>\nReviewed-by: Mimi Zohar <zohar@linux.vnet.ibm.com>\nAcked-by: Peter Huewe <peterhuewe@gmx.de>",
  "author_name": "Jarkko Sakkinen",
  "author_email": "jarkko.sakkinen@linux.intel.com",
  "author_date": "Sat Oct 31 17:53:44 2015 +0200",
  "author_date_iso": "2015-10-31T17:53:44+02:00",
  "committer_name": "Jarkko Sakkinen",
  "committer_email": "jarkko.sakkinen@linux.intel.com",
  "committer_date": "Sun Dec 20 15:27:13 2015 +0200",
  "committer_date_iso": "2015-12-20T15:27:13+02:00",
  "files_changed": [
    "Documentation/security/keys-trusted-encrypted.txt",
    "drivers/char/tpm/tpm2-cmd.c",
    "include/keys/trusted-type.h",
    "security/keys/trusted.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "Documentation/security/keys-trusted-encrypted.txt",
      "insertions": 20,
      "deletions": 14
    },
    {
      "file": "drivers/char/tpm/tpm2-cmd.c",
      "insertions": 20,
      "deletions": 4
    },
    {
      "file": "include/keys/trusted-type.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "security/keys/trusted.c",
      "insertions": 26,
      "deletions": 0
    }
  ],
  "total_insertions": 70,
  "total_deletions": 18,
  "total_changes": 88,
  "parents": [
    "5ca4c20cfd37bac6486de040e9951b3b34755238"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/security/keys-trusted-encrypted.txt",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/char/tpm/tpm2-cmd.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/keys/trusted-type.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "security/keys/trusted.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}