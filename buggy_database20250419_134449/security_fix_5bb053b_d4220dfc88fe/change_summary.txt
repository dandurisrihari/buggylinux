Files changed: 13
Insertions: 101697
Deletions: 28186
Total changes: 129883

File-specific changes:
Documentation/bpf/bpf_devel_QA.txt: +12 -0
Documentation/devicetree/bindings/net/dsa/marvell.txt: +10 -1
Documentation/devicetree/bindings/net/ethernet.txt: +2 -0
Documentation/devicetree/bindings/net/ieee802154/mcr20a.txt: +23 -0
Documentation/devicetree/bindings/net/macb.txt: +1 -0
Documentation/devicetree/bindings/net/meson-dwmac.txt: +3 -2
Documentation/devicetree/bindings/net/nixge.txt: +32 -0
Documentation/devicetree/bindings/net/renesas,ravb.txt: +1 -0
Documentation/devicetree/bindings/net/sff,sfp.txt: +5 -0
Documentation/devicetree/bindings/net/socionext,uniphier-ave4.txt: +1 -0
Documentation/devicetree/bindings/net/ti,dp83867.txt: +2 -0
Documentation/networking/ice.txt: +39 -0
Documentation/networking/ip-sysctl.txt: +18 -12
Documentation/networking/msg_zerocopy.rst: +0 -5
Documentation/networking/net_dim.txt: +174 -0
Documentation/networking/nf_flowtable.txt: +112 -0
Documentation/networking/packet_mmap.txt: +5 -17
Documentation/networking/tls.txt: +64 -2
Documentation/ptp/ptp.txt: +1 -4
Documentation/sysctl/net.txt: +12 -0
MAINTAINERS: +19 -2
arch/arm/boot/dts/armada-370-rd.dts: +32 -0
arch/m68k/mac/config.c: +4 -0
arch/x86/net/bpf_jit_comp.c: +134 -100
drivers/atm/idt77252.c: +4 -8
drivers/bcma/Kconfig: +1 -1
drivers/bcma/driver_chipcommon_pmu.c: +1 -1
drivers/bcma/host_pci.c: +1 -0
drivers/bluetooth/Kconfig: +12 -18
drivers/bluetooth/Makefile: +2 -1
drivers/bluetooth/ath3k.c: +16 -12
drivers/bluetooth/bpa10x.c: +1 -1
drivers/bluetooth/btmrvl_main.c: +1 -1
drivers/bluetooth/btmrvl_sdio.c: +2 -2
drivers/bluetooth/btrsi.c: +187 -0
drivers/bluetooth/btrtl.c: +85 -34
drivers/bluetooth/btuart_cs.c: +0 -675
drivers/bluetooth/btusb.c: +14 -0
drivers/bluetooth/h4_recv.h: +160 -0
drivers/bluetooth/hci_ath.c: +2 -2
drivers/bluetooth/hci_bcm.c: +231 -74
drivers/bluetooth/hci_ll.c: +71 -153
drivers/crypto/chelsio/Kconfig: +11 -0
drivers/crypto/chelsio/Makefile: +1 -0
drivers/crypto/chelsio/chcr_algo.h: +42 -0
drivers/crypto/chelsio/chcr_core.h: +54 -1
drivers/crypto/chelsio/chtls/Makefile: +4 -0
drivers/crypto/chelsio/chtls/chtls.h: +482 -0
drivers/crypto/chelsio/chtls/chtls_cm.c: +2126 -0
drivers/crypto/chelsio/chtls/chtls_cm.h: +203 -0
drivers/crypto/chelsio/chtls/chtls_hw.c: +412 -0
drivers/crypto/chelsio/chtls/chtls_io.c: +1822 -0
drivers/crypto/chelsio/chtls/chtls_main.c: +578 -0
drivers/infiniband/core/cma.c: +1 -1
drivers/infiniband/core/roce_gid_mgmt.c: +2 -0
drivers/infiniband/hw/cxgb4/device.c: +1 -0
drivers/infiniband/hw/hfi1/file_ops.c: +1 -1
drivers/infiniband/hw/hfi1/trace_ctxts.h: +6 -6
drivers/infiniband/hw/mlx5/Makefile: +1 -0
drivers/infiniband/hw/mlx5/cq.c: +40 -32
drivers/infiniband/hw/mlx5/ib_rep.c: +192 -0
drivers/infiniband/hw/mlx5/ib_rep.h: +72 -0
drivers/infiniband/hw/mlx5/main.c: +301 -93
drivers/infiniband/hw/mlx5/mlx5_ib.h: +34 -4
drivers/infiniband/hw/mlx5/mr.c: +3 -2
drivers/infiniband/hw/mlx5/qp.c: +25 -16
drivers/infiniband/hw/qedr/main.c: +2 -2
drivers/infiniband/hw/qedr/qedr_hsi_rdma.h: +3 -1
drivers/infiniband/hw/qedr/verbs.c: +2 -2
drivers/infiniband/hw/usnic/usnic_ib_main.c: +5 -23
drivers/infiniband/hw/usnic/usnic_transport.c: +2 -3
drivers/isdn/mISDN/socket.c: +2 -3
drivers/net/Kconfig: +3 -2
drivers/net/Space.c: +0 -6
drivers/net/bonding/bond_procfs.c: +1 -1
drivers/net/bonding/bond_sysfs.c: +36 -37
drivers/net/bonding/bond_sysfs_slave.c: +2 -2
drivers/net/caif/caif_serial.c: +16 -16
drivers/net/caif/caif_spi.c: +8 -8
drivers/net/caif/caif_virtio.c: +8 -8
drivers/net/can/at91_can.c: +1 -2
drivers/net/can/cc770/cc770.c: +2 -2
drivers/net/can/cc770/cc770_isa.c: +8 -8
drivers/net/can/grcan.c: +2 -2
drivers/net/can/janz-ican3.c: +3 -3
drivers/net/can/sja1000/sja1000_isa.c: +7 -7
drivers/net/can/softing/softing_main.c: +2 -2
drivers/net/can/spi/mcp251x.c: +1 -1
drivers/net/can/usb/esd_usb2.c: +3 -3
drivers/net/can/vcan.c: +1 -1
drivers/net/dsa/b53/b53_common.c: +1 -1
drivers/net/dsa/b53/b53_priv.h: +1 -1
drivers/net/dsa/dsa_loop.c: +1 -1
drivers/net/dsa/lan9303-core.c: +1 -1
drivers/net/dsa/microchip/ksz_common.c: +1 -1
drivers/net/dsa/mt7530.c: +1 -1
drivers/net/dsa/mv88e6xxx/Kconfig: +10 -0
drivers/net/dsa/mv88e6xxx/Makefile: +4 -0
drivers/net/dsa/mv88e6xxx/chip.c: +349 -88
drivers/net/dsa/mv88e6xxx/chip.h: +131 -4
drivers/net/dsa/mv88e6xxx/global1_atu.c: +8 -4
drivers/net/dsa/mv88e6xxx/global1_vtu.c: +7 -4
drivers/net/dsa/mv88e6xxx/global2.c: +38 -5
drivers/net/dsa/mv88e6xxx/global2.h: +114 -1
drivers/net/dsa/mv88e6xxx/global2_avb.c: +193 -0
drivers/net/dsa/mv88e6xxx/global2_scratch.c: +291 -0
drivers/net/dsa/mv88e6xxx/hwtstamp.c: +576 -0
drivers/net/dsa/mv88e6xxx/hwtstamp.h: +172 -0
drivers/net/dsa/mv88e6xxx/ptp.c: +381 -0
drivers/net/dsa/mv88e6xxx/ptp.h: +108 -0
drivers/net/dsa/mv88e6xxx/serdes.c: +104 -5
drivers/net/dsa/mv88e6xxx/serdes.h: +5 -1
drivers/net/dsa/qca8k.c: +1 -1
drivers/net/dummy.c: +2 -0
drivers/net/ethernet/8390/Makefile: +3 -3
drivers/net/ethernet/8390/apne.c: +1 -1
drivers/net/ethernet/8390/ax88796.c: +0 -3
drivers/net/ethernet/8390/axnet_cs.c: +0 -2
drivers/net/ethernet/8390/etherh.c: +0 -17
drivers/net/ethernet/8390/hydra.c: +0 -4
drivers/net/ethernet/8390/lib8390.c: +3 -1
drivers/net/ethernet/8390/mac8390.c: +78 -93
drivers/net/ethernet/8390/mcf8390.c: +0 -4
drivers/net/ethernet/8390/ne.c: +2 -2
drivers/net/ethernet/8390/ne2k-pci.c: +1 -1
drivers/net/ethernet/8390/pcnet_cs.c: +0 -4
drivers/net/ethernet/8390/smc-ultra.c: +1 -1
drivers/net/ethernet/8390/stnic.c: +1 -1
drivers/net/ethernet/8390/wd.c: +2 -2
drivers/net/ethernet/8390/zorro8390.c: +0 -5
drivers/net/ethernet/Kconfig: +1 -0
drivers/net/ethernet/Makefile: +1 -0
drivers/net/ethernet/altera/altera_tse_main.c: +3 -3
drivers/net/ethernet/amazon/ena/ena_com.c: +6 -2
drivers/net/ethernet/amazon/ena/ena_eth_com.h: +6 -2
drivers/net/ethernet/amazon/ena/ena_netdev.c: +3 -2
drivers/net/ethernet/amd/amd8111e.c: +1 -1
drivers/net/ethernet/amd/xgbe/xgbe-drv.c: +5 -5
drivers/net/ethernet/amd/xgbe/xgbe-main.c: +1 -1
drivers/net/ethernet/apple/macmace.c: +4 -21
drivers/net/ethernet/aquantia/atlantic/hw_atl/Makefile: +2 -0
drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_utils.c: +1 -1
drivers/net/ethernet/broadcom/bcmsysport.c: +111 -19
drivers/net/ethernet/broadcom/bcmsysport.h: +13 -0
drivers/net/ethernet/broadcom/bgmac.c: +5 -2
drivers/net/ethernet/broadcom/bgmac.h: +3 -3
drivers/net/ethernet/broadcom/bnx2.c: +1 -1
drivers/net/ethernet/broadcom/bnx2x/bnx2x.h: +8 -4
drivers/net/ethernet/broadcom/bnx2x/bnx2x_cmn.c: +3 -2
drivers/net/ethernet/broadcom/bnx2x/bnx2x_cmn.h: +2 -2
drivers/net/ethernet/broadcom/bnx2x/bnx2x_ethtool.c: +3 -2
drivers/net/ethernet/broadcom/bnx2x/bnx2x_main.c: +8 -8
drivers/net/ethernet/broadcom/bnx2x/bnx2x_vfpf.c: +3 -1
drivers/net/ethernet/broadcom/bnxt/bnxt.c: +243 -98
drivers/net/ethernet/broadcom/bnxt/bnxt.h: +28 -2
drivers/net/ethernet/broadcom/bnxt/bnxt_dcb.h: +3 -2
drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c: +54 -2
drivers/net/ethernet/broadcom/bnxt/bnxt_hsi.h: +196 -93
drivers/net/ethernet/broadcom/bnxt/bnxt_sriov.c: +43 -18
drivers/net/ethernet/broadcom/bnxt/bnxt_sriov.h: +2 -1
drivers/net/ethernet/broadcom/bnxt/bnxt_ulp.c: +132 -12
drivers/net/ethernet/broadcom/bnxt/bnxt_ulp.h: +15 -7
drivers/net/ethernet/broadcom/genet/bcmgenet.c: +122 -23
drivers/net/ethernet/broadcom/genet/bcmgenet.h: +12 -0
drivers/net/ethernet/broadcom/sb1250-mac.c: +5 -5
drivers/net/ethernet/broadcom/tg3.c: +3 -3
drivers/net/ethernet/brocade/bna/bnad.c: +1 -1
drivers/net/ethernet/brocade/bna/bnad_debugfs.c: +5 -5
drivers/net/ethernet/cadence/macb_main.c: +52 -44
drivers/net/ethernet/cavium/common/cavium_ptp.c: +1 -12
drivers/net/ethernet/cavium/liquidio/lio_core.c: +117 -28
drivers/net/ethernet/cavium/liquidio/lio_ethtool.c: +18 -6
drivers/net/ethernet/cavium/liquidio/lio_main.c: +181 -259
drivers/net/ethernet/cavium/liquidio/lio_vf_main.c: +40 -238
drivers/net/ethernet/cavium/liquidio/liquidio_common.h: +25 -5
drivers/net/ethernet/cavium/liquidio/octeon_device.h: +2 -0
drivers/net/ethernet/cavium/liquidio/octeon_droq.c: +29 -54
drivers/net/ethernet/cavium/liquidio/octeon_droq.h: +4 -7
drivers/net/ethernet/cavium/liquidio/octeon_mailbox.c: +3 -2
drivers/net/ethernet/cavium/liquidio/octeon_network.h: +73 -0
drivers/net/ethernet/cavium/liquidio/request_manager.c: +7 -1
drivers/net/ethernet/cavium/liquidio/response_manager.c: +4 -2
drivers/net/ethernet/cavium/thunder/nic.h: +29 -0
drivers/net/ethernet/cavium/thunder/nic_main.c: +41 -4
drivers/net/ethernet/cavium/thunder/nicvf_main.c: +110 -2
drivers/net/ethernet/cavium/thunder/thunder_bgx.c: +187 -14
drivers/net/ethernet/cavium/thunder/thunder_bgx.h: +8 -11
drivers/net/ethernet/chelsio/cxgb3/cxgb3_main.c: +3 -3
drivers/net/ethernet/chelsio/cxgb3/t3_hw.c: +4 -4
drivers/net/ethernet/chelsio/cxgb4/Makefile: +1 -1
drivers/net/ethernet/chelsio/cxgb4/cudbg_lib.c: +82 -4
drivers/net/ethernet/chelsio/cxgb4/cxgb4.h: +23 -0
drivers/net/ethernet/chelsio/cxgb4/cxgb4_debugfs.c: +64 -58
drivers/net/ethernet/chelsio/cxgb4/cxgb4_ethtool.c: +14 -10
drivers/net/ethernet/chelsio/cxgb4/cxgb4_filter.c: +0 -6
drivers/net/ethernet/chelsio/cxgb4/cxgb4_main.c: +312 -21
drivers/net/ethernet/chelsio/cxgb4/cxgb4_uld.c: +3 -0
drivers/net/ethernet/chelsio/cxgb4/cxgb4_uld.h: +12 -1
drivers/net/ethernet/chelsio/cxgb4/sched.h: +2 -2
drivers/net/ethernet/chelsio/cxgb4/sge.c: +101 -6
drivers/net/ethernet/chelsio/cxgb4/srq.c: +138 -0
drivers/net/ethernet/chelsio/cxgb4/srq.h: +65 -0
drivers/net/ethernet/chelsio/cxgb4/t4_hw.c: +144 -71
drivers/net/ethernet/chelsio/cxgb4/t4_msg.h: +191 -2
drivers/net/ethernet/chelsio/cxgb4/t4_regs.h: +2 -0
drivers/net/ethernet/chelsio/cxgb4/t4fw_api.h: +222 -4
drivers/net/ethernet/chelsio/cxgb4vf/cxgb4vf_main.c: +40 -21
drivers/net/ethernet/cirrus/mac89x0.c: +49 -109
drivers/net/ethernet/cisco/enic/enic.h: +2 -1
drivers/net/ethernet/cisco/enic/enic_ethtool.c: +36 -0
drivers/net/ethernet/cisco/enic/enic_main.c: +68 -18
drivers/net/ethernet/cisco/enic/vnic_dev.c: +19 -3
drivers/net/ethernet/cisco/enic/vnic_dev.h: +2 -1
drivers/net/ethernet/cisco/enic/vnic_devcmd.h: +5 -0
drivers/net/ethernet/cisco/enic/vnic_nic.h: +1 -0
drivers/net/ethernet/ec_bhf.c: +1 -1
drivers/net/ethernet/emulex/benet/be_cmds.c: +1 -1
drivers/net/ethernet/emulex/benet/be_cmds.h: +1 -1
drivers/net/ethernet/emulex/benet/be_main.c: +3 -3
drivers/net/ethernet/freescale/dpaa/dpaa_eth.c: +38 -27
drivers/net/ethernet/freescale/dpaa/dpaa_ethtool.c: +2 -2
drivers/net/ethernet/freescale/fman/Kconfig: +0 -1
drivers/net/ethernet/freescale/fman/fman_dtsec.c: +19 -0
drivers/net/ethernet/freescale/fman/fman_dtsec.h: +1 -0
drivers/net/ethernet/freescale/fman/fman_memac.c: +30 -2
drivers/net/ethernet/freescale/fman/fman_memac.h: +1 -0
drivers/net/ethernet/freescale/fman/fman_tgec.c: +30 -3
drivers/net/ethernet/freescale/fman/fman_tgec.h: +1 -0
drivers/net/ethernet/freescale/fman/mac.c: +3 -1
drivers/net/ethernet/freescale/fman/mac.h: +2 -0
drivers/net/ethernet/hisilicon/hns/hns_dsaf_mac.c: +2 -4
drivers/net/ethernet/hisilicon/hns3/hclge_mbx.h: +18 -0
drivers/net/ethernet/hisilicon/hns3/hnae3.h: +15 -3
drivers/net/ethernet/hisilicon/hns3/hns3_enet.c: +264 -134
drivers/net/ethernet/hisilicon/hns3/hns3_enet.h: +13 -5
drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c: +50 -103
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h: +3 -1
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_dcb.c: +16 -0
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c: +362 -197
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h: +27 -0
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c: +75 -19
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mdio.c: +6 -0
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c: +64 -12
drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.h: +7 -1
drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c: +6 -0
drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.h: +1 -1
drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c: +414 -61
drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h: +35 -0
drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_mbx.c: +91 -4
drivers/net/ethernet/ibm/ehea/ehea_main.c: +3 -4
drivers/net/ethernet/ibm/ibmveth.c: +1 -1
drivers/net/ethernet/ibm/ibmvnic.c: +386 -240
drivers/net/ethernet/ibm/ibmvnic.h: +10 -6
drivers/net/ethernet/intel/Kconfig: +14 -0
drivers/net/ethernet/intel/Makefile: +1 -0
drivers/net/ethernet/intel/e100.c: +1 -0
drivers/net/ethernet/intel/e1000/Makefile: +1 -0
drivers/net/ethernet/intel/e1000/e1000.h: +1 -0
drivers/net/ethernet/intel/e1000/e1000_ethtool.c: +1 -0
drivers/net/ethernet/intel/e1000/e1000_hw.c: +1 -0
drivers/net/ethernet/intel/e1000/e1000_hw.h: +1 -0
drivers/net/ethernet/intel/e1000/e1000_main.c: +1 -0
drivers/net/ethernet/intel/e1000/e1000_osdep.h: +1 -0
drivers/net/ethernet/intel/e1000/e1000_param.c: +1 -0
drivers/net/ethernet/intel/e1000e/80003es2lan.c: +1 -0
drivers/net/ethernet/intel/e1000e/80003es2lan.h: +1 -0
drivers/net/ethernet/intel/e1000e/82571.c: +1 -0
drivers/net/ethernet/intel/e1000e/82571.h: +1 -0
drivers/net/ethernet/intel/e1000e/Makefile: +1 -0
drivers/net/ethernet/intel/e1000e/defines.h: +1 -0
drivers/net/ethernet/intel/e1000e/e1000.h: +1 -0
drivers/net/ethernet/intel/e1000e/ethtool.c: +1 -0
drivers/net/ethernet/intel/e1000e/hw.h: +1 -0
drivers/net/ethernet/intel/e1000e/ich8lan.c: +1 -0
drivers/net/ethernet/intel/e1000e/ich8lan.h: +1 -0
drivers/net/ethernet/intel/e1000e/mac.c: +1 -0
drivers/net/ethernet/intel/e1000e/mac.h: +1 -0
drivers/net/ethernet/intel/e1000e/manage.c: +1 -0
drivers/net/ethernet/intel/e1000e/manage.h: +1 -0
drivers/net/ethernet/intel/e1000e/netdev.c: +1 -0
drivers/net/ethernet/intel/e1000e/nvm.c: +1 -0
drivers/net/ethernet/intel/e1000e/nvm.h: +1 -0
drivers/net/ethernet/intel/e1000e/param.c: +1 -0
drivers/net/ethernet/intel/e1000e/phy.c: +1 -0
drivers/net/ethernet/intel/e1000e/phy.h: +1 -0
drivers/net/ethernet/intel/e1000e/ptp.c: +1 -0
drivers/net/ethernet/intel/e1000e/regs.h: +1 -0
drivers/net/ethernet/intel/fm10k/Makefile: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k.h: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_common.c: +4 -2
drivers/net/ethernet/intel/fm10k/fm10k_common.h: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_dcbnl.c: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_debugfs.c: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_ethtool.c: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_iov.c: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_main.c: +3 -2
drivers/net/ethernet/intel/fm10k/fm10k_mbx.c: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_mbx.h: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_netdev.c: +6 -5
drivers/net/ethernet/intel/fm10k/fm10k_pci.c: +8 -6
drivers/net/ethernet/intel/fm10k/fm10k_pf.c: +3 -2
drivers/net/ethernet/intel/fm10k/fm10k_pf.h: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_tlv.c: +5 -3
drivers/net/ethernet/intel/fm10k/fm10k_tlv.h: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_type.h: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_vf.c: +1 -0
drivers/net/ethernet/intel/fm10k/fm10k_vf.h: +1 -0
drivers/net/ethernet/intel/i40e/Makefile: +1 -0
drivers/net/ethernet/intel/i40e/i40e.h: +45 -37
drivers/net/ethernet/intel/i40e/i40e_adminq.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_adminq.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_adminq_cmd.h: +38 -0
drivers/net/ethernet/intel/i40e/i40e_alloc.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_client.c: +17 -7
drivers/net/ethernet/intel/i40e/i40e_client.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_common.c: +55 -9
drivers/net/ethernet/intel/i40e/i40e_dcb.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_dcb.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_dcb_nl.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_debugfs.c: +13 -40
drivers/net/ethernet/intel/i40e/i40e_devids.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_diag.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_diag.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_ethtool.c: +64 -63
drivers/net/ethernet/intel/i40e/i40e_fcoe.c: +0 -1571
drivers/net/ethernet/intel/i40e/i40e_fcoe.h: +0 -127
drivers/net/ethernet/intel/i40e/i40e_hmc.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_hmc.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_lan_hmc.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_lan_hmc.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_main.c: +307 -158
drivers/net/ethernet/intel/i40e/i40e_nvm.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_osdep.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_prototype.h: +3 -2
drivers/net/ethernet/intel/i40e/i40e_ptp.c: +1 -0
drivers/net/ethernet/intel/i40e/i40e_register.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_status.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_trace.h: +1 -0
drivers/net/ethernet/intel/i40e/i40e_txrx.c: +373 -169
drivers/net/ethernet/intel/i40e/i40e_txrx.h: +40 -33
drivers/net/ethernet/intel/i40e/i40e_type.h: +5 -1
drivers/net/ethernet/intel/i40e/i40e_virtchnl_pf.c: +994 -97
drivers/net/ethernet/intel/i40e/i40e_virtchnl_pf.h: +21 -0
drivers/net/ethernet/intel/i40evf/Makefile: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_adminq.c: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_adminq.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_adminq_cmd.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_alloc.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_common.c: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_devids.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_hmc.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_lan_hmc.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_osdep.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_prototype.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_register.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_status.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_trace.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40e_txrx.c: +282 -146
drivers/net/ethernet/intel/i40evf/i40e_txrx.h: +36 -32
drivers/net/ethernet/intel/i40evf/i40e_type.h: +1 -0
drivers/net/ethernet/intel/i40evf/i40evf.h: +74 -5
drivers/net/ethernet/intel/i40evf/i40evf_ethtool.c: +28 -25
drivers/net/ethernet/intel/i40evf/i40evf_main.c: +873 -61
drivers/net/ethernet/intel/i40evf/i40evf_virtchnl.c: +316 -23
drivers/net/ethernet/intel/ice/Makefile: +17 -0
drivers/net/ethernet/intel/ice/ice.h: +312 -0
drivers/net/ethernet/intel/ice/ice_adminq_cmd.h: +1352 -0
drivers/net/ethernet/intel/ice/ice_common.c: +2233 -0
drivers/net/ethernet/intel/ice/ice_common.h: +86 -0
drivers/net/ethernet/intel/ice/ice_controlq.c: +1066 -0
drivers/net/ethernet/intel/ice/ice_controlq.h: +94 -0
drivers/net/ethernet/intel/ice/ice_devids.h: +19 -0
drivers/net/ethernet/intel/ice/ice_ethtool.c: +940 -0
drivers/net/ethernet/intel/ice/ice_hw_autogen.h: +266 -0
drivers/net/ethernet/intel/ice/ice_lan_tx_rx.h: +473 -0
drivers/net/ethernet/intel/ice/ice_main.c: +5495 -0
drivers/net/ethernet/intel/ice/ice_nvm.c: +236 -0
drivers/net/ethernet/intel/ice/ice_osdep.h: +73 -0
drivers/net/ethernet/intel/ice/ice_sched.c: +1659 -0
drivers/net/ethernet/intel/ice/ice_sched.h: +43 -0
drivers/net/ethernet/intel/ice/ice_status.h: +32 -0
drivers/net/ethernet/intel/ice/ice_switch.c: +1883 -0
drivers/net/ethernet/intel/ice/ice_switch.h: +161 -0
drivers/net/ethernet/intel/ice/ice_txrx.c: +1782 -0
drivers/net/ethernet/intel/ice/ice_txrx.h: +192 -0
drivers/net/ethernet/intel/ice/ice_type.h: +394 -0
drivers/net/ethernet/intel/igb/Makefile: +1 -0
drivers/net/ethernet/intel/igb/e1000_82575.c: +1 -0
drivers/net/ethernet/intel/igb/e1000_82575.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_defines.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_hw.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_i210.c: +1 -0
drivers/net/ethernet/intel/igb/e1000_i210.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_mac.c: +1 -0
drivers/net/ethernet/intel/igb/e1000_mac.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_mbx.c: +1 -0
drivers/net/ethernet/intel/igb/e1000_mbx.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_nvm.c: +1 -0
drivers/net/ethernet/intel/igb/e1000_nvm.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_phy.c: +1 -0
drivers/net/ethernet/intel/igb/e1000_phy.h: +1 -0
drivers/net/ethernet/intel/igb/e1000_regs.h: +1 -0
drivers/net/ethernet/intel/igb/igb.h: +2 -0
drivers/net/ethernet/intel/igb/igb_ethtool.c: +1 -0
drivers/net/ethernet/intel/igb/igb_hwmon.c: +2 -1
drivers/net/ethernet/intel/igb/igb_main.c: +30 -6
drivers/net/ethernet/intel/igb/igb_ptp.c: +1 -0
drivers/net/ethernet/intel/igbvf/Makefile: +1 -0
drivers/net/ethernet/intel/igbvf/defines.h: +1 -0
drivers/net/ethernet/intel/igbvf/ethtool.c: +1 -0
drivers/net/ethernet/intel/igbvf/igbvf.h: +1 -0
drivers/net/ethernet/intel/igbvf/mbx.c: +1 -0
drivers/net/ethernet/intel/igbvf/mbx.h: +1 -0
drivers/net/ethernet/intel/igbvf/netdev.c: +1 -0
drivers/net/ethernet/intel/igbvf/regs.h: +1 -0
drivers/net/ethernet/intel/igbvf/vf.c: +1 -0
drivers/net/ethernet/intel/igbvf/vf.h: +1 -0
drivers/net/ethernet/intel/ixgb/Makefile: +1 -0
drivers/net/ethernet/intel/ixgb/ixgb.h: +1 -0
drivers/net/ethernet/intel/ixgb/ixgb_ee.h: +1 -0
drivers/net/ethernet/intel/ixgb/ixgb_hw.h: +1 -0
drivers/net/ethernet/intel/ixgb/ixgb_ids.h: +1 -0
drivers/net/ethernet/intel/ixgb/ixgb_osdep.h: +1 -0
drivers/net/ethernet/intel/ixgbe/Makefile: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_82598.c: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_82599.c: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_common.c: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_common.h: +2 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_dcb.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_dcb_82598.c: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_dcb_82598.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_dcb_82599.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_ethtool.c: +3 -2
drivers/net/ethernet/intel/ixgbe/ixgbe_fcoe.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_ipsec.c: +47 -22
drivers/net/ethernet/intel/ixgbe/ixgbe_ipsec.h: +2 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_lib.c: +0 -1
drivers/net/ethernet/intel/ixgbe/ixgbe_main.c: +49 -33
drivers/net/ethernet/intel/ixgbe/ixgbe_mbx.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_model.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_phy.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_sriov.c: +5 -1
drivers/net/ethernet/intel/ixgbe/ixgbe_sriov.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_sysfs.c: +1 -1
drivers/net/ethernet/intel/ixgbe/ixgbe_type.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_x540.h: +1 -0
drivers/net/ethernet/intel/ixgbe/ixgbe_x550.c: +2 -2
drivers/net/ethernet/intel/ixgbevf/Makefile: +1 -0
drivers/net/ethernet/intel/ixgbevf/defines.h: +1 -0
drivers/net/ethernet/intel/ixgbevf/ethtool.c: +111 -5
drivers/net/ethernet/intel/ixgbevf/ixgbevf.h: +89 -12
drivers/net/ethernet/intel/ixgbevf/ixgbevf_main.c: +837 -377
drivers/net/ethernet/intel/ixgbevf/mbx.h: +1 -0
drivers/net/ethernet/intel/ixgbevf/regs.h: +1 -0
drivers/net/ethernet/intel/ixgbevf/vf.h: +1 -0
drivers/net/ethernet/marvell/mvneta.c: +135 -53
drivers/net/ethernet/marvell/mvpp2.c: +853 -411
drivers/net/ethernet/marvell/skge.c: +1 -1
drivers/net/ethernet/marvell/sky2.c: +2 -2
drivers/net/ethernet/mellanox/mlx4/en_ethtool.c: +14 -0
drivers/net/ethernet/mellanox/mlx4/en_netdev.c: +4 -4
drivers/net/ethernet/mellanox/mlx4/en_port.c: +25 -13
drivers/net/ethernet/mellanox/mlx4/en_rx.c: +17 -24
drivers/net/ethernet/mellanox/mlx4/main.c: +8 -8
drivers/net/ethernet/mellanox/mlx4/mlx4_en.h: +1 -0
drivers/net/ethernet/mellanox/mlx4/mlx4_stats.h: +9 -1
drivers/net/ethernet/mellanox/mlx5/core/accel/ipsec.c: +45 -14
drivers/net/ethernet/mellanox/mlx5/core/accel/ipsec.h: +24 -74
drivers/net/ethernet/mellanox/mlx5/core/alloc.c: +25 -12
drivers/net/ethernet/mellanox/mlx5/core/cmd.c: +3 -1
drivers/net/ethernet/mellanox/mlx5/core/cq.c: +22 -91
drivers/net/ethernet/mellanox/mlx5/core/dev.c: +8 -0
drivers/net/ethernet/mellanox/mlx5/core/diag/fs_tracepoint.c: +3 -0
drivers/net/ethernet/mellanox/mlx5/core/diag/fs_tracepoint.h: +4 -2
drivers/net/ethernet/mellanox/mlx5/core/en.h: +70 -68
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec.c: +206 -117
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec.h: +24 -0
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec_rxtx.c: +36 -3
drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec_rxtx.h: +5 -0
drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c: +102 -108
drivers/net/ethernet/mellanox/mlx5/core/en_main.c: +421 -254
drivers/net/ethernet/mellanox/mlx5/core/en_rep.c: +13 -4
drivers/net/ethernet/mellanox/mlx5/core/en_rx.c: +170 -136
drivers/net/ethernet/mellanox/mlx5/core/en_stats.c: +122 -10
drivers/net/ethernet/mellanox/mlx5/core/en_stats.h: +10 -0
drivers/net/ethernet/mellanox/mlx5/core/en_tc.c: +11 -5
drivers/net/ethernet/mellanox/mlx5/core/en_tx.c: +26 -1
drivers/net/ethernet/mellanox/mlx5/core/eq.c: +87 -5
drivers/net/ethernet/mellanox/mlx5/core/eswitch.c: +47 -7
drivers/net/ethernet/mellanox/mlx5/core/eswitch.h: +12 -43
drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c: +105 -29
drivers/net/ethernet/mellanox/mlx5/core/fpga/ipsec.c: +1223 -67
drivers/net/ethernet/mellanox/mlx5/core/fpga/ipsec.h: +62 -14
drivers/net/ethernet/mellanox/mlx5/core/fs_cmd.c: +176 -41
drivers/net/ethernet/mellanox/mlx5/core/fs_cmd.h: +40 -32
drivers/net/ethernet/mellanox/mlx5/core/fs_core.c: +95 -50
drivers/net/ethernet/mellanox/mlx5/core/fs_core.h: +4 -4
drivers/net/ethernet/mellanox/mlx5/core/fw.c: +4 -1
drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib.c: +18 -13
drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib_vlan.c: +1 -1
drivers/net/ethernet/mellanox/mlx5/core/main.c: +26 -23
drivers/net/ethernet/mellanox/mlx5/core/mlx5_core.h: +27 -6
drivers/net/ethernet/mellanox/mlx5/core/port.c: +56 -8
drivers/net/ethernet/mellanox/mlx5/core/transobj.c: +25 -21
drivers/net/ethernet/mellanox/mlx5/core/vport.c: +26 -0
drivers/net/ethernet/mellanox/mlx5/core/wq.c: +7 -11
drivers/net/ethernet/mellanox/mlx5/core/wq.h: +7 -15
drivers/net/ethernet/mellanox/mlxsw/Kconfig: +2 -0
drivers/net/ethernet/mellanox/mlxsw/Makefile: +1 -1
drivers/net/ethernet/mellanox/mlxsw/core.c: +3 -2
drivers/net/ethernet/mellanox/mlxsw/core.h: +6 -8
drivers/net/ethernet/mellanox/mlxsw/core_acl_flex_actions.c: +8 -11
drivers/net/ethernet/mellanox/mlxsw/core_acl_flex_actions.h: +6 -3
drivers/net/ethernet/mellanox/mlxsw/core_hwmon.c: +5 -5
drivers/net/ethernet/mellanox/mlxsw/pci.c: +10 -10
drivers/net/ethernet/mellanox/mlxsw/reg.h: +212 -18
drivers/net/ethernet/mellanox/mlxsw/spectrum.c: +72 -485
drivers/net/ethernet/mellanox/mlxsw/spectrum.h: +13 -34
drivers/net/ethernet/mellanox/mlxsw/spectrum_acl.c: +27 -25
drivers/net/ethernet/mellanox/mlxsw/spectrum_acl_flex_actions.c: +9 -25
drivers/net/ethernet/mellanox/mlxsw/spectrum_acl_flex_actions.h: +2 -2
drivers/net/ethernet/mellanox/mlxsw/spectrum_acl_tcam.c: +0 -5
drivers/net/ethernet/mellanox/mlxsw/spectrum_ipip.c: +87 -87
drivers/net/ethernet/mellanox/mlxsw/spectrum_ipip.h: +11 -4
drivers/net/ethernet/mellanox/mlxsw/spectrum_kvdl.c: +184 -81
drivers/net/ethernet/mellanox/mlxsw/spectrum_mr.c: +180 -112
drivers/net/ethernet/mellanox/mlxsw/spectrum_mr.h: +5 -4
drivers/net/ethernet/mellanox/mlxsw/spectrum_mr_tcam.c: +72 -33
drivers/net/ethernet/mellanox/mlxsw/spectrum_qdisc.c: +179 -27
drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c: +111 -33
drivers/net/ethernet/mellanox/mlxsw/spectrum_router.h: +1 -0
drivers/net/ethernet/mellanox/mlxsw/spectrum_span.c: +824 -0
drivers/net/ethernet/mellanox/mlxsw/spectrum_span.h: +107 -0
drivers/net/ethernet/mellanox/mlxsw/spectrum_switchdev.c: +7 -9
drivers/net/ethernet/mellanox/mlxsw/switchib.c: +0 -1
drivers/net/ethernet/mellanox/mlxsw/switchx2.c: +4 -5
drivers/net/ethernet/mellanox/mlxsw/trap.h: +1 -0
drivers/net/ethernet/microchip/Kconfig: +10 -0
drivers/net/ethernet/microchip/Makefile: +3 -0
drivers/net/ethernet/microchip/lan743x_main.c: +2771 -0
drivers/net/ethernet/microchip/lan743x_main.h: +597 -0
drivers/net/ethernet/myricom/myri10ge/myri10ge.c: +16 -16
drivers/net/ethernet/natsemi/jazzsonic.c: +8 -24
drivers/net/ethernet/natsemi/macsonic.c: +141 -103
drivers/net/ethernet/natsemi/sonic.c: +51 -48
drivers/net/ethernet/natsemi/sonic.h: +2 -0
drivers/net/ethernet/natsemi/xtsonic.c: +8 -22
drivers/net/ethernet/netronome/nfp/bpf/Makefile: +2 -0
drivers/net/ethernet/netronome/nfp/bpf/cmsg.c: +6 -6
drivers/net/ethernet/netronome/nfp/bpf/fw.h: +1 -0
drivers/net/ethernet/netronome/nfp/bpf/jit.c: +426 -36
drivers/net/ethernet/netronome/nfp/bpf/main.c: +20 -2
drivers/net/ethernet/netronome/nfp/bpf/main.h: +82 -3
drivers/net/ethernet/netronome/nfp/bpf/offload.c: +42 -3
drivers/net/ethernet/netronome/nfp/bpf/verifier.c: +186 -31
drivers/net/ethernet/netronome/nfp/flower/Makefile: +2 -0
drivers/net/ethernet/netronome/nfp/flower/cmsg.c: +39 -2
drivers/net/ethernet/netronome/nfp/flower/cmsg.h: +24 -11
drivers/net/ethernet/netronome/nfp/flower/main.c: +85 -2
drivers/net/ethernet/netronome/nfp/flower/main.h: +20 -0
drivers/net/ethernet/netronome/nfp/flower/match.c: +60 -33
drivers/net/ethernet/netronome/nfp/flower/offload.c: +49 -0
drivers/net/ethernet/netronome/nfp/nfp_app.h: +18 -7
drivers/net/ethernet/netronome/nfp/nfp_asm.c: +2 -0
drivers/net/ethernet/netronome/nfp/nfp_asm.h: +7 -0
drivers/net/ethernet/netronome/nfp/nfp_main.c: +1 -0
drivers/net/ethernet/netronome/nfp/nfp_net_common.c: +1 -1
drivers/net/ethernet/netronome/nfp/nfp_net_ctrl.h: +140 -140
drivers/net/ethernet/netronome/nfp/nfp_net_debugfs.c: +3 -3
drivers/net/ethernet/netronome/nfp/nfp_net_repr.c: +12 -1
drivers/net/ethernet/netronome/nfp/nfpcore/Makefile: +2 -0
drivers/net/ethernet/netronome/nfp/nfpcore/nfp6000/Makefile: +2 -0
drivers/net/ethernet/netronome/nfp/nic/Makefile: +2 -0
drivers/net/ethernet/ni/Kconfig: +27 -0
drivers/net/ethernet/ni/Makefile: +1 -0
drivers/net/ethernet/ni/nixge.c: +1310 -0
drivers/net/ethernet/qlogic/netxen/netxen_nic_main.c: +7 -7
drivers/net/ethernet/qlogic/qed/qed.h: +15 -0
drivers/net/ethernet/qlogic/qed/qed_debug.c: +238 -177
drivers/net/ethernet/qlogic/qed/qed_dev.c: +31 -7
drivers/net/ethernet/qlogic/qed/qed_hsi.h: +981 -918
drivers/net/ethernet/qlogic/qed/qed_init_fw_funcs.c: +79 -24
drivers/net/ethernet/qlogic/qed/qed_iwarp.c: +1 -8
drivers/net/ethernet/qlogic/qed/qed_l2.c: +1 -1
drivers/net/ethernet/qlogic/qed/qed_ll2.c: +0 -13
drivers/net/ethernet/qlogic/qed/qed_main.c: +338 -0
drivers/net/ethernet/qlogic/qed/qed_mcp.c: +192 -27
drivers/net/ethernet/qlogic/qed/qed_mcp.h: +49 -7
drivers/net/ethernet/qlogic/qed/qed_selftest.c: +5 -4
drivers/net/ethernet/qlogic/qede/qede_ethtool.c: +9 -0
drivers/net/ethernet/qlogic/qla3xxx.c: +3 -2
drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_hw.c: +1 -1
drivers/net/ethernet/qlogic/qlcnic/qlcnic_sysfs.c: +15 -15
drivers/net/ethernet/qlogic/qlge/qlge.h: +16 -0
drivers/net/ethernet/qlogic/qlge/qlge_main.c: +2 -1
drivers/net/ethernet/qualcomm/qca_debug.c: +1 -1
drivers/net/ethernet/qualcomm/qca_spi.c: +0 -1
drivers/net/ethernet/qualcomm/rmnet/rmnet_config.c: +58 -17
drivers/net/ethernet/qualcomm/rmnet/rmnet_config.h: +1 -1
drivers/net/ethernet/qualcomm/rmnet/rmnet_handlers.c: +6 -6
drivers/net/ethernet/qualcomm/rmnet/rmnet_map.h: +4 -4
drivers/net/ethernet/qualcomm/rmnet/rmnet_map_command.c: +2 -2
drivers/net/ethernet/qualcomm/rmnet/rmnet_map_data.c: +2 -3
drivers/net/ethernet/qualcomm/rmnet/rmnet_private.h: +1 -7
drivers/net/ethernet/qualcomm/rmnet/rmnet_vnd.c: +1 -1
drivers/net/ethernet/realtek/r8169.c: +433 -721
drivers/net/ethernet/renesas/ravb.h: +1 -0
drivers/net/ethernet/renesas/ravb_main.c: +26 -7
drivers/net/ethernet/renesas/sh_eth.c: +131 -116
drivers/net/ethernet/renesas/sh_eth.h: +11 -2
drivers/net/ethernet/samsung/sxgbe/sxgbe_main.c: +2 -2
drivers/net/ethernet/sfc/ef10.c: +360 -436
drivers/net/ethernet/sfc/efx.c: +83 -8
drivers/net/ethernet/sfc/efx.h: +16 -3
drivers/net/ethernet/sfc/ethtool.c: +193 -25
drivers/net/ethernet/sfc/falcon/enum.h: +0 -1
drivers/net/ethernet/sfc/farch.c: +43 -48
drivers/net/ethernet/sfc/filter.h: +4 -3
drivers/net/ethernet/sfc/mcdi_mon.c: +1 -1
drivers/net/ethernet/sfc/mcdi_pcol.h: +1776 -1046
drivers/net/ethernet/sfc/mcdi_port.c: +150 -0
drivers/net/ethernet/sfc/net_driver.h: +51 -17
drivers/net/ethernet/sfc/nic.h: +3 -4
drivers/net/ethernet/sfc/rx.c: +80 -39
drivers/net/ethernet/sfc/siena.c: +13 -14
drivers/net/ethernet/socionext/sni_ave.c: +8 -0
drivers/net/ethernet/stmicro/stmmac/Makefile: +1 -1
drivers/net/ethernet/stmicro/stmmac/common.h: +22 -0
drivers/net/ethernet/stmicro/stmmac/dwmac-meson8b.c: +95 -118
drivers/net/ethernet/stmicro/stmmac/dwmac4.h: +4 -0
drivers/net/ethernet/stmicro/stmmac/dwmac4_core.c: +41 -4
drivers/net/ethernet/stmicro/stmmac/dwmac4_descs.c: +2 -0
drivers/net/ethernet/stmicro/stmmac/dwmac4_dma.c: +6 -0
drivers/net/ethernet/stmicro/stmmac/dwmac5.c: +298 -0
drivers/net/ethernet/stmicro/stmmac/dwmac5.h: +52 -0
drivers/net/ethernet/stmicro/stmmac/stmmac.h: +13 -1
drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c: +38 -1
drivers/net/ethernet/stmicro/stmmac/stmmac_main.c: +135 -33
drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c: +27 -7
drivers/net/ethernet/sun/niu.c: +5 -5
drivers/net/ethernet/ti/cpsw.c: +64 -3
drivers/net/ethernet/ti/davinci_cpdma.c: +1 -1
drivers/net/ethernet/ti/davinci_cpdma.h: +2 -0
drivers/net/hamradio/bpqether.c: +1 -2
drivers/net/hamradio/yam.c: +1 -1
drivers/net/hyperv/Makefile: +1 -1
drivers/net/hyperv/hyperv_net.h: +1 -0
drivers/net/hyperv/netvsc.c: +46 -5
drivers/net/hyperv/netvsc_drv.c: +3 -3
drivers/net/hyperv/netvsc_trace.c: +7 -0
drivers/net/hyperv/netvsc_trace.h: +182 -0
drivers/net/hyperv/rndis_filter.c: +19 -13
drivers/net/ieee802154/Kconfig: +11 -0
drivers/net/ieee802154/Makefile: +1 -0
drivers/net/ieee802154/at86rf230.c: +1 -1
drivers/net/ieee802154/ca8210.c: +11 -3
drivers/net/ieee802154/mcr20a.c: +1411 -0
drivers/net/ieee802154/mcr20a.h: +498 -0
drivers/net/ifb.c: +2 -0
drivers/net/ipvlan/ipvlan.h: +7 -0
drivers/net/ipvlan/ipvlan_core.c: +74 -29
drivers/net/ipvlan/ipvlan_main.c: +74 -44
drivers/net/netdevsim/Makefile: +4 -0
drivers/net/netdevsim/devlink.c: +296 -0
drivers/net/netdevsim/fib.c: +263 -0
drivers/net/netdevsim/netdev.c: +15 -1
drivers/net/netdevsim/netdevsim.h: +44 -0
drivers/net/phy/aquantia.c: +6 -14
drivers/net/phy/bcm7xxx.c: +1 -1
drivers/net/phy/cortina.c: +3 -15
drivers/net/phy/dp83867.c: +19 -0
drivers/net/phy/intel-xway.c: +36 -8
drivers/net/phy/marvell.c: +1 -1
drivers/net/phy/marvell10g.c: +2 -11
drivers/net/phy/mdio-bitbang.c: +1 -1
drivers/net/phy/mdio-mux-mmioreg.c: +3 -2
drivers/net/phy/phy-c45.c: +17 -11
drivers/net/phy/phy-core.c: +2 -2
drivers/net/phy/phy.c: +4 -18
drivers/net/phy/phy_device.c: +1 -1
drivers/net/phy/phylink.c: +27 -50
drivers/net/phy/sfp-bus.c: +79 -89
drivers/net/phy/sfp.c: +163 -28
drivers/net/phy/spi_ks8995.c: +1 -1
drivers/net/phy/teranetics.c: +5 -27
drivers/net/ppp/ppp_generic.c: +1 -1
drivers/net/ppp/pppoe.c: +3 -5
drivers/net/ppp/pptp.c: +2 -4
drivers/net/team/team.c: +11 -5
drivers/net/tun.c: +78 -13
drivers/net/usb/ax88179_178a.c: +0 -1
drivers/net/usb/cdc_eem.c: +1 -4
drivers/net/usb/cdc_ncm.c: +6 -6
drivers/net/usb/hso.c: +4 -4
drivers/net/usb/kalmia.c: +5 -9
drivers/net/usb/lg-vl600.c: +1 -5
drivers/net/virtio_net.c: +1 -1
drivers/net/vrf.c: +8 -4
drivers/net/wimax/i2400m/usb-rx.c: +0 -3
drivers/net/wireless/admtek/Kconfig: +2 -2
drivers/net/wireless/ath/Kconfig: +2 -2
drivers/net/wireless/ath/ath.h: +0 -2
drivers/net/wireless/ath/ath10k/core.c: +7 -2
drivers/net/wireless/ath/ath10k/core.h: +88 -0
drivers/net/wireless/ath/ath10k/coredump.c: +90 -0
drivers/net/wireless/ath/ath10k/coredump.h: +2 -0
drivers/net/wireless/ath/ath10k/debug.c: +154 -0
drivers/net/wireless/ath/ath10k/debug.h: +41 -0
drivers/net/wireless/ath/ath10k/debugfs_sta.c: +286 -0
drivers/net/wireless/ath/ath10k/htt_rx.c: +85 -28
drivers/net/wireless/ath/ath10k/mac.c: +45 -9
drivers/net/wireless/ath/ath10k/pci.c: +81 -20
drivers/net/wireless/ath/ath10k/trace.h: +4 -8
drivers/net/wireless/ath/ath10k/txrx.c: +7 -5
drivers/net/wireless/ath/ath10k/wmi-ops.h: +48 -8
drivers/net/wireless/ath/ath10k/wmi-tlv.c: +101 -15
drivers/net/wireless/ath/ath10k/wmi-tlv.h: +18 -0
drivers/net/wireless/ath/ath10k/wmi.c: +427 -35
drivers/net/wireless/ath/ath10k/wmi.h: +93 -1
drivers/net/wireless/ath/ath5k/attach.c: +1 -1
drivers/net/wireless/ath/ath5k/base.c: +3 -3
drivers/net/wireless/ath/ath5k/debug.c: +11 -26
drivers/net/wireless/ath/ath5k/qcu.c: +0 -2
drivers/net/wireless/ath/ath5k/sysfs.c: +4 -4
drivers/net/wireless/ath/ath6kl/debug.c: +21 -22
drivers/net/wireless/ath/ath9k/common-debug.c: +4 -5
drivers/net/wireless/ath/ath9k/common-init.c: +1 -1
drivers/net/wireless/ath/ath9k/common-spectral.c: +12 -10
drivers/net/wireless/ath/ath9k/debug.c: +19 -21
drivers/net/wireless/ath/ath9k/debug_sta.c: +3 -3
drivers/net/wireless/ath/ath9k/dfs_debug.c: +2 -2
drivers/net/wireless/ath/ath9k/htc_drv_debug.c: +8 -8
drivers/net/wireless/ath/ath9k/htc_drv_init.c: +1 -1
drivers/net/wireless/ath/ath9k/hw.c: +11 -3
drivers/net/wireless/ath/ath9k/init.c: +6 -5
drivers/net/wireless/ath/ath9k/tx99.c: +2 -2
drivers/net/wireless/ath/ath9k/xmit.c: +4 -0
drivers/net/wireless/ath/carl9170/debug.c: +4 -4
drivers/net/wireless/ath/carl9170/main.c: +2 -2
drivers/net/wireless/ath/dfs_pattern_detector.c: +1 -1
drivers/net/wireless/ath/wcn36xx/debug.c: +2 -3
drivers/net/wireless/ath/wcn36xx/dxe.c: +50 -19
drivers/net/wireless/ath/wcn36xx/dxe.h: +204 -17
drivers/net/wireless/ath/wcn36xx/main.c: +5 -9
drivers/net/wireless/ath/wcn36xx/smd.c: +64 -51
drivers/net/wireless/ath/wcn36xx/txrx.c: +10 -22
drivers/net/wireless/ath/wcn36xx/wcn36xx.h: +2 -0
drivers/net/wireless/ath/wil6210/cfg80211.c: +524 -220
drivers/net/wireless/ath/wil6210/debug.c: +5 -4
drivers/net/wireless/ath/wil6210/debugfs.c: +93 -24
drivers/net/wireless/ath/wil6210/ethtool.c: +3 -1
drivers/net/wireless/ath/wil6210/fw.h: +37 -1
drivers/net/wireless/ath/wil6210/fw_inc.c: +48 -4
drivers/net/wireless/ath/wil6210/interrupt.c: +5 -3
drivers/net/wireless/ath/wil6210/main.c: +195 -138
drivers/net/wireless/ath/wil6210/netdev.c: +322 -60
drivers/net/wireless/ath/wil6210/p2p.c: +91 -84
drivers/net/wireless/ath/wil6210/pcie_bus.c: +44 -13
drivers/net/wireless/ath/wil6210/pm.c: +94 -38
drivers/net/wireless/ath/wil6210/pmc.c: +6 -2
drivers/net/wireless/ath/wil6210/rx_reorder.c: +28 -17
drivers/net/wireless/ath/wil6210/txrx.c: +109 -68
drivers/net/wireless/ath/wil6210/txrx.h: +18 -4
drivers/net/wireless/ath/wil6210/wil6210.h: +142 -75
drivers/net/wireless/ath/wil6210/wmi.c: +320 -140
drivers/net/wireless/atmel/Kconfig: +2 -2
drivers/net/wireless/broadcom/Kconfig: +2 -2
drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcdc.c: +6 -0
drivers/net/wireless/broadcom/brcm80211/brcmfmac/btcoex.c: +1 -1
drivers/net/wireless/broadcom/brcm80211/brcmfmac/bus.h: +4 -4
drivers/net/wireless/broadcom/brcm80211/brcmfmac/cfg80211.c: +43 -46
drivers/net/wireless/broadcom/brcm80211/brcmfmac/cfg80211.h: +11 -6
drivers/net/wireless/broadcom/brcm80211/brcmfmac/chip.c: +7 -7
drivers/net/wireless/broadcom/brcm80211/brcmfmac/chip.h: +2 -1
drivers/net/wireless/broadcom/brcm80211/brcmfmac/common.c: +26 -54
drivers/net/wireless/broadcom/brcm80211/brcmfmac/core.c: +85 -66
drivers/net/wireless/broadcom/brcm80211/brcmfmac/core.h: +2 -2
drivers/net/wireless/broadcom/brcm80211/brcmfmac/debug.c: +3 -39
drivers/net/wireless/broadcom/brcm80211/brcmfmac/debug.h: +0 -17
drivers/net/wireless/broadcom/brcm80211/brcmfmac/feature.c: +3 -0
drivers/net/wireless/broadcom/brcm80211/brcmfmac/feature.h: +7 -0
drivers/net/wireless/broadcom/brcm80211/brcmfmac/firmware.c: +161 -81
drivers/net/wireless/broadcom/brcm80211/brcmfmac/firmware.h: +46 -36
drivers/net/wireless/broadcom/brcm80211/brcmfmac/fwil.c: +1 -2
drivers/net/wireless/broadcom/brcm80211/brcmfmac/fwsignal.c: +7 -4
drivers/net/wireless/broadcom/brcm80211/brcmfmac/fwsignal.h: +1 -0
drivers/net/wireless/broadcom/brcm80211/brcmfmac/msgbuf.c: +6 -2
drivers/net/wireless/broadcom/brcm80211/brcmfmac/p2p.c: +1 -1
drivers/net/wireless/broadcom/brcm80211/brcmfmac/pcie.c: +95 -82
drivers/net/wireless/broadcom/brcm80211/brcmfmac/proto.c: +2 -1
drivers/net/wireless/broadcom/brcm80211/brcmfmac/proto.h: +7 -0
drivers/net/wireless/broadcom/brcm80211/brcmfmac/sdio.c: +133 -111
drivers/net/wireless/broadcom/brcm80211/brcmfmac/usb.c: +72 -57
drivers/net/wireless/broadcom/brcm80211/brcmsmac/channel.c: +0 -1
drivers/net/wireless/broadcom/brcm80211/brcmsmac/debug.c: +1 -1
drivers/net/wireless/broadcom/brcm80211/brcmsmac/mac80211_if.c: +3 -3
drivers/net/wireless/cisco/Kconfig: +2 -2
drivers/net/wireless/cisco/airo.c: +3 -3
drivers/net/wireless/intel/Kconfig: +2 -2
drivers/net/wireless/intel/ipw2x00/ipw2100.c: +14 -15
drivers/net/wireless/intel/ipw2x00/ipw2200.c: +22 -29
drivers/net/wireless/intel/ipw2x00/libipw_module.c: +1 -1
drivers/net/wireless/intel/iwlegacy/3945-mac.c: +16 -19
drivers/net/wireless/intel/iwlegacy/4965-mac.c: +9 -10
drivers/net/wireless/intel/iwlegacy/4965-rs.c: +4 -4
drivers/net/wireless/intel/iwlegacy/common.c: +2 -2
drivers/net/wireless/intel/iwlegacy/debug.c: +28 -30
drivers/net/wireless/intel/iwlwifi/cfg/22000.c: +3 -1
drivers/net/wireless/intel/iwlwifi/cfg/9000.c: +3 -1
drivers/net/wireless/intel/iwlwifi/dvm/debugfs.c: +38 -40
drivers/net/wireless/intel/iwlwifi/dvm/main.c: +1 -6
drivers/net/wireless/intel/iwlwifi/dvm/rs.c: +8 -8
drivers/net/wireless/intel/iwlwifi/fw/api/nvm-reg.h: +17 -3
drivers/net/wireless/intel/iwlwifi/fw/api/scan.h: +55 -18
drivers/net/wireless/intel/iwlwifi/fw/dbg.c: +10 -0
drivers/net/wireless/intel/iwlwifi/fw/debugfs.c: +16 -10
drivers/net/wireless/intel/iwlwifi/fw/debugfs.h: +5 -0
drivers/net/wireless/intel/iwlwifi/fw/file.h: +15 -1
drivers/net/wireless/intel/iwlwifi/iwl-devtrace-iwlwifi.h: +18 -21
drivers/net/wireless/intel/iwlwifi/iwl-devtrace.c: +1 -0
drivers/net/wireless/intel/iwlwifi/iwl-drv.c: +17 -26
drivers/net/wireless/intel/iwlwifi/mvm/constants.h: +2 -0
drivers/net/wireless/intel/iwlwifi/mvm/debugfs-vif.c: +20 -31
drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c: +53 -57
drivers/net/wireless/intel/iwlwifi/mvm/mac80211.c: +12 -3
drivers/net/wireless/intel/iwlwifi/mvm/mvm.h: +40 -8
drivers/net/wireless/intel/iwlwifi/mvm/ops.c: +3 -3
drivers/net/wireless/intel/iwlwifi/mvm/rs-fw.c: +5 -1
drivers/net/wireless/intel/iwlwifi/mvm/rs.c: +6 -6
drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c: +15 -10
drivers/net/wireless/intel/iwlwifi/mvm/scan.c: +146 -53
drivers/net/wireless/intel/iwlwifi/mvm/tx.c: +83 -75
drivers/net/wireless/intel/iwlwifi/mvm/utils.c: +16 -10
drivers/net/wireless/intel/iwlwifi/pcie/drv.c: +155 -2
drivers/net/wireless/intel/iwlwifi/pcie/trans.c: +6 -6
drivers/net/wireless/intersil/Kconfig: +2 -2
drivers/net/wireless/intersil/p54/main.c: +1 -1
drivers/net/wireless/mac80211_hwsim.c: +77 -26
drivers/net/wireless/mac80211_hwsim.h: +8 -1
drivers/net/wireless/marvell/Kconfig: +2 -2
drivers/net/wireless/marvell/mwifiex/11n.c: +32 -0
drivers/net/wireless/marvell/mwifiex/cfg80211.c: +25 -15
drivers/net/wireless/marvell/mwifiex/cmdevt.c: +2 -1
drivers/net/wireless/marvell/mwifiex/decl.h: +17 -0
drivers/net/wireless/marvell/mwifiex/fw.h: +7 -0
drivers/net/wireless/marvell/mwifiex/main.c: +19 -5
drivers/net/wireless/marvell/mwifiex/main.h: +28 -1
drivers/net/wireless/marvell/mwifiex/sta_cmd.c: +22 -0
drivers/net/wireless/marvell/mwifiex/sta_cmdresp.c: +19 -0
drivers/net/wireless/marvell/mwifiex/sta_ioctl.c: +13 -43
drivers/net/wireless/mediatek/Kconfig: +2 -2
drivers/net/wireless/mediatek/mt76/debugfs.c: +5 -5
drivers/net/wireless/mediatek/mt76/mac80211.c: +51 -17
drivers/net/wireless/mediatek/mt76/mt76.h: +3 -0
drivers/net/wireless/mediatek/mt76/mt76x2.h: +1 -0
drivers/net/wireless/mediatek/mt76/mt76x2_debugfs.c: +4 -4
drivers/net/wireless/mediatek/mt76/mt76x2_eeprom.c: +6 -6
drivers/net/wireless/mediatek/mt76/mt76x2_init.c: +3 -0
drivers/net/wireless/mediatek/mt76/mt76x2_mac.c: +2 -2
drivers/net/wireless/mediatek/mt76/mt76x2_main.c: +47 -0
drivers/net/wireless/mediatek/mt76/mt76x2_mcu.c: +2 -11
drivers/net/wireless/mediatek/mt76/mt76x2_phy.c: +39 -16
drivers/net/wireless/mediatek/mt76/mt76x2_regs.h: +2 -0
drivers/net/wireless/mediatek/mt76/mt76x2_tx.c: +4 -1
drivers/net/wireless/mediatek/mt7601u/debugfs.c: +7 -9
drivers/net/wireless/mediatek/mt7601u/eeprom.c: +3 -23
drivers/net/wireless/mediatek/mt7601u/initvals.h: +1 -0
drivers/net/wireless/mediatek/mt7601u/mac.c: +25 -1
drivers/net/wireless/mediatek/mt7601u/mac.h: +1 -0
drivers/net/wireless/mediatek/mt7601u/main.c: +3 -0
drivers/net/wireless/mediatek/mt7601u/mcu.c: +3 -4
drivers/net/wireless/mediatek/mt7601u/mt7601u.h: +2 -1
drivers/net/wireless/mediatek/mt7601u/trace.h: +3 -3
drivers/net/wireless/mediatek/mt7601u/usb.c: +37 -15
drivers/net/wireless/quantenna/Kconfig: +2 -2
drivers/net/wireless/quantenna/qtnfmac/bus.h: +2 -1
drivers/net/wireless/quantenna/qtnfmac/pearl/pcie.c: +209 -209
drivers/net/wireless/quantenna/qtnfmac/pearl/pcie_ipc.h: +1 -0
drivers/net/wireless/quantenna/qtnfmac/pearl/pcie_regs_pearl.h: +1 -0
drivers/net/wireless/ralink/Kconfig: +2 -2
drivers/net/wireless/ralink/rt2x00/rt2500usb.c: +1 -1
drivers/net/wireless/ralink/rt2x00/rt2800pci.c: +1 -1
drivers/net/wireless/ralink/rt2x00/rt2800soc.c: +1 -1
drivers/net/wireless/ralink/rt2x00/rt2800usb.c: +1 -1
drivers/net/wireless/ralink/rt2x00/rt2x00debug.c: +33 -31
drivers/net/wireless/ralink/rt2x00/rt61pci.c: +1 -1
drivers/net/wireless/ralink/rt2x00/rt73usb.c: +1 -1
drivers/net/wireless/ray_cs.c: +5 -3
drivers/net/wireless/realtek/Kconfig: +2 -2
drivers/net/wireless/realtek/rtl818x/rtl8187/dev.c: +1 -1
drivers/net/wireless/realtek/rtlwifi/base.c: +28 -7
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtc8723b1ant.c: +2 -1
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtc8723b2ant.c: +3 -3
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtc8821a1ant.c: +0 -33
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtc8821a2ant.c: +2 -2
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtc8822bwifionly.c: +55 -0
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtc8822bwifionly.h: +25 -0
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtcoutsrc.c: +105 -3
drivers/net/wireless/realtek/rtlwifi/btcoexist/halbtcoutsrc.h: +124 -0
drivers/net/wireless/realtek/rtlwifi/efuse.c: +13 -0
drivers/net/wireless/realtek/rtlwifi/efuse.h: +1 -1
drivers/net/wireless/realtek/rtlwifi/pci.c: +1 -0
drivers/net/wireless/realtek/rtlwifi/rc.c: +46 -9
drivers/net/wireless/realtek/rtlwifi/rtl8188ee/pwrseq.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/rf.c: +0 -3
drivers/net/wireless/realtek/rtlwifi/rtl8192cu/trx.c: +0 -1
drivers/net/wireless/realtek/rtlwifi/rtl8192ee/pwrseq.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723ae/pwrseq.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8723be/pwrseq.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/dm.c: +8 -8
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/pwrseq.h: +2 -2
drivers/net/wireless/realtek/rtlwifi/rtl8821ae/sw.c: +1 -0
drivers/net/wireless/realtek/rtlwifi/wifi.h: +68 -4
drivers/net/wireless/rsi/Kconfig: +13 -2
drivers/net/wireless/rsi/Makefile: +1 -0
drivers/net/wireless/rsi/rsi_91x_coex.c: +179 -0
drivers/net/wireless/rsi/rsi_91x_core.c: +15 -5
drivers/net/wireless/rsi/rsi_91x_hal.c: +48 -8
drivers/net/wireless/rsi/rsi_91x_main.c: +124 -5
drivers/net/wireless/rsi/rsi_91x_mgmt.c: +1 -1
drivers/net/wireless/rsi/rsi_91x_sdio.c: +84 -29
drivers/net/wireless/rsi/rsi_91x_sdio_ops.c: +52 -13
drivers/net/wireless/rsi/rsi_91x_usb.c: +133 -54
drivers/net/wireless/rsi/rsi_91x_usb_ops.c: +16 -15
drivers/net/wireless/rsi/rsi_coex.h: +37 -0
drivers/net/wireless/rsi/rsi_common.h: +3 -2
drivers/net/wireless/rsi/rsi_hal.h: +22 -0
drivers/net/wireless/rsi/rsi_main.h: +11 -10
drivers/net/wireless/rsi/rsi_mgmt.h: +3 -0
drivers/net/wireless/rsi/rsi_sdio.h: +10 -0
drivers/net/wireless/rsi/rsi_usb.h: +13 -4
drivers/net/wireless/st/Kconfig: +2 -2
drivers/net/wireless/st/cw1200/debug.c: +3 -3
drivers/net/wireless/st/cw1200/main.c: +1 -1
drivers/net/wireless/ti/Kconfig: +2 -2
drivers/net/wireless/ti/wl1251/main.c: +84 -18
drivers/net/wireless/ti/wl1251/tx.c: +1 -3
drivers/net/wireless/ti/wl18xx/main.c: +12 -15
drivers/net/wireless/ti/wlcore/main.c: +4 -4
drivers/net/wireless/ti/wlcore/sdio.c: +1 -1
drivers/net/wireless/ti/wlcore/sysfs.c: +3 -4
drivers/net/wireless/zydas/Kconfig: +2 -2
drivers/net/wireless/zydas/zd1211rw/zd_mac.c: +0 -1
drivers/net/xen-netback/rx.c: +1 -1
drivers/net/xen-netback/xenbus.c: +2 -2
drivers/net/xen-netfront.c: +3 -3
drivers/of/of_net.c: +40 -0
drivers/s390/net/qeth_core.h: +0 -8
drivers/s390/net/qeth_core_main.c: +18 -22
drivers/s390/net/qeth_l2_main.c: +16 -18
drivers/s390/net/qeth_l3.h: +22 -12
drivers/s390/net/qeth_l3_main.c: +130 -289
drivers/s390/net/qeth_l3_sys.c: +12 -39
drivers/scsi/iscsi_tcp.c: +7 -7
drivers/soc/qcom/qmi_interface.c: +1 -2
drivers/ssb/Kconfig: +1 -1
drivers/ssb/main.c: +2 -2
drivers/staging/ipx/af_ipx.c: +2 -4
drivers/staging/irda/net/af_irda.c: +3 -5
drivers/staging/lustre/lnet/lnet/lib-socket.c: +3 -4
drivers/target/iscsi/iscsi_target_login.c: +9 -9
drivers/usb/gadget/function/f_eem.c: +0 -1
drivers/vhost/net.c: +3 -4
drivers/vhost/vsock.c: +2 -2
fs/afs/internal.h: +1 -0
fs/afs/rxrpc.c: +8 -4
fs/dlm/lowcomms.c: +3 -4
fs/nsfs.c: +1 -0
fs/ocfs2/cluster/tcp.c: +2 -4
include/asm-generic/vmlinux.lds.h: +10 -0
include/dt-bindings/net/ti-dp83867.h: +14 -0
include/linux/atalk.h: +2 -0
include/linux/avf/virtchnl.h: +104 -3
include/linux/bpf-cgroup.h: +65 -3
include/linux/bpf.h: +5 -1
include/linux/bpf_types.h: +3 -0
include/linux/bpf_verifier.h: +10 -3
include/linux/ethtool.h: +5 -0
include/linux/filter.h: +32 -2
include/linux/ieee80211.h: +13 -1
include/linux/if_vlan.h: +24 -0
include/linux/kernel.h: +7 -0
include/linux/mlx5/accel.h: +144 -0
include/linux/mlx5/cq.h: +18 -2
include/linux/mlx5/device.h: +7 -0
include/linux/mlx5/driver.h: +50 -44
include/linux/mlx5/eswitch.h: +58 -0
include/linux/mlx5/fs.h: +12 -0
include/linux/mlx5/fs_helpers.h: +134 -0
include/linux/mlx5/mlx5_ifc.h: +116 -16
include/linux/mlx5/mlx5_ifc_fpga.h: +91 -1
include/linux/mlx5/port.h: +6 -0
include/linux/mlx5/transobj.h: +1 -1
include/linux/mlx5/vport.h: +3 -0
include/linux/mroute.h: +3 -114
include/linux/mroute6.h: +24 -46
include/linux/mroute_base.h: +474 -0
include/linux/net.h: +3 -5
include/linux/netdev_features.h: +2 -0
include/linux/netdevice.h: +68 -57
include/linux/netfilter/nfnetlink_acct.h: +1 -2
include/linux/netfilter/x_tables.h: +4 -1
include/linux/of_net.h: +6 -0
include/linux/phy.h: +8 -0
include/linux/phylink.h: +11 -6
include/linux/ptp_classify.h: +4 -0
include/linux/ptr_ring.h: +4 -3
include/linux/qed/common_hsi.h: +1 -1
include/linux/qed/eth_common.h: +1 -1
include/linux/qed/iscsi_common.h: +2 -2
include/linux/qed/qed_if.h: +19 -0
include/linux/qed/rdma_common.h: +2 -0
include/linux/qed/roce_common.h: +3 -0
include/linux/rhashtable.h: +4 -4
include/linux/rtnetlink.h: +3 -1
include/linux/scatterlist.h: +18 -0
include/linux/sfp.h: +10 -8
include/linux/skbuff.h: +4 -0
include/linux/socket.h: +2 -1
include/linux/trace_events.h: +42 -0
include/linux/tracepoint-defs.h: +6 -0
include/net/Space.h: +0 -2
include/net/act_api.h: +13 -7
include/net/addrconf.h: +9 -2
include/net/af_rxrpc.h: +9 -2
include/net/ax25.h: +2 -0
include/net/bluetooth/mgmt.h: +1 -1
include/net/cfg80211.h: +172 -6
include/net/devlink.h: +0 -6
include/net/dsa.h: +21 -1
include/net/dst.h: +1 -0
include/net/dst_cache.h: +2 -2
include/net/ethoc.h: +0 -1
include/net/fib_rules.h: +43 -2
include/net/flow.h: +1 -17
include/net/gre.h: +3 -0
include/net/ieee80211_radiotap.h: +2 -0
include/net/inet_common.h: +3 -1
include/net/inet_connection_sock.h: +5 -5
include/net/inet_frag.h: +55 -71
include/net/ip.h: +17 -9
include/net/ip6_fib.h: +28 -1
include/net/ip6_route.h: +10 -5
include/net/ip_fib.h: +28 -3
include/net/ip_tunnels.h: +18 -0
include/net/ipv6.h: +21 -31
include/net/lwtunnel.h: +15 -0
include/net/mac80211.h: +22 -0
include/net/net_namespace.h: +32 -5
include/net/netevent.h: +2 -1
include/net/netfilter/nf_conntrack_count.h: +0 -1
include/net/netfilter/nf_conntrack_helper.h: +1 -2
include/net/netfilter/nf_tables.h: +20 -13
include/net/netfilter/xt_rateest.h: +2 -2
include/net/netns/ipv4.h: +6 -0
include/net/netns/ipv6.h: +6 -2
include/net/pkt_cls.h: +8 -0
include/net/regulatory.h: +28 -0
include/net/route.h: +0 -2
include/net/rsi_91x.h: +56 -0
include/net/sch_generic.h: +1 -1
include/net/sctp/auth.h: +12 -9
include/net/sctp/command.h: +1 -0
include/net/sctp/sctp.h: +1 -10
include/net/sctp/sm.h: +2 -1
include/net/sctp/structs.h: +14 -6
include/net/sock.h: +10 -10
include/net/tcp.h: +4 -5
include/net/tcp_states.h: +13 -13
include/net/tls.h: +74 -17
include/net/udp.h: +1 -0
include/net/xfrm.h: +8 -8
include/rdma/ib_verbs.h: +2 -2
include/trace/bpf_probe.h: +92 -0
include/trace/define_trace.h: +1 -0
include/trace/events/afs.h: +30 -39
include/trace/events/f2fs.h: +1 -1
include/trace/events/rxrpc.h: +218 -73
include/uapi/linux/batadv_packet.h: +3 -12
include/uapi/linux/batman_adv.h: +83 -1
include/uapi/linux/bpf.h: +107 -1
include/uapi/linux/bpf_perf_event.h: +1 -0
include/uapi/linux/ethtool.h: +30 -6
include/uapi/linux/fib_rules.h: +10 -1
include/uapi/linux/if_ether.h: +1 -0
include/uapi/linux/if_link.h: +39 -0
include/uapi/linux/ncsi.h: +115 -0
include/uapi/linux/netfilter/nf_conntrack_common.h: +1 -0
include/uapi/linux/netfilter/nf_tables.h: +10 -2
include/uapi/linux/netfilter/nfnetlink_conntrack.h: +10 -0
include/uapi/linux/netfilter/xt_connmark.h: +10 -0
include/uapi/linux/netfilter_bridge/ebt_ip.h: +12 -3
include/uapi/linux/netfilter_bridge/ebtables.h: +13 -3
include/uapi/linux/nl80211.h: +134 -2
include/uapi/linux/pkt_cls.h: +3 -1
include/uapi/linux/rds.h: +8 -0
include/uapi/linux/sctp.h: +42 -1
include/uapi/linux/tc_ematch/tc_em_ipt.h: +20 -0
include/uapi/linux/tcp.h: +3 -0
include/uapi/linux/tipc.h: +88 -73
include/uapi/linux/tipc_netlink.h: +21 -0
include/uapi/linux/tipc_sockets_diag.h: +17 -0
include/uapi/linux/tls.h: +2 -0
kernel/bpf/cgroup.c: +38 -1
kernel/bpf/disasm.c: +26 -26
kernel/bpf/disasm.h: +1 -4
kernel/bpf/inode.c: +3 -0
kernel/bpf/sockmap.c: +977 -43
kernel/bpf/stackmap.c: +235 -22
kernel/bpf/syscall.c: +192 -6
kernel/bpf/verifier.c: +43 -30
kernel/trace/bpf_trace.c: +215 -11
lib/kobject_uevent.c: +85 -11
lib/rhashtable.c: +2 -0
lib/scatterlist.c: +1 -8
lib/test_bpf.c: +91 -2
net/8021q/vlan.c: +21 -0
net/8021q/vlan.h: +3 -0
net/8021q/vlan_core.c: +76 -25
net/8021q/vlan_dev.c: +5 -1
net/8021q/vlanproc.c: +3 -3
net/appletalk/atalk_proc.c: +4 -4
net/appletalk/ddp.c: +2 -3
net/atm/atm_sysfs.c: +6 -6
net/atm/clip.c: +1 -1
net/atm/lec.c: +1 -1
net/atm/proc.c: +1 -1
net/atm/pvc.c: +2 -3
net/atm/svc.c: +2 -3
net/ax25/af_ax25.c: +5 -5
net/batman-adv/Kconfig: +1 -1
net/batman-adv/Makefile: +1 -1
net/batman-adv/bat_algo.c: +1 -1
net/batman-adv/bat_algo.h: +1 -1
net/batman-adv/bat_iv_ogm.c: +1 -1
net/batman-adv/bat_iv_ogm.h: +1 -1
net/batman-adv/bat_v.c: +1 -1
net/batman-adv/bat_v.h: +1 -1
net/batman-adv/bat_v_elp.c: +1 -1
net/batman-adv/bat_v_elp.h: +1 -1
net/batman-adv/bat_v_ogm.c: +1 -1
net/batman-adv/bat_v_ogm.h: +1 -1
net/batman-adv/bitarray.c: +1 -1
net/batman-adv/bitarray.h: +1 -1
net/batman-adv/bridge_loop_avoidance.c: +1 -1
net/batman-adv/bridge_loop_avoidance.h: +1 -1
net/batman-adv/debugfs.c: +1 -1
net/batman-adv/debugfs.h: +1 -1
net/batman-adv/distributed-arp-table.c: +154 -2
net/batman-adv/distributed-arp-table.h: +9 -1
net/batman-adv/fragmentation.c: +1 -1
net/batman-adv/fragmentation.h: +1 -1
net/batman-adv/gateway_client.c: +1 -1
net/batman-adv/gateway_client.h: +1 -1
net/batman-adv/gateway_common.c: +1 -1
net/batman-adv/gateway_common.h: +1 -1
net/batman-adv/hard-interface.c: +1 -1
net/batman-adv/hard-interface.h: +1 -1
net/batman-adv/hash.c: +1 -1
net/batman-adv/hash.h: +1 -1
net/batman-adv/icmp_socket.c: +1 -1
net/batman-adv/icmp_socket.h: +1 -1
net/batman-adv/log.c: +1 -1
net/batman-adv/log.h: +1 -1
net/batman-adv/main.c: +1 -1
net/batman-adv/main.h: +9 -7
net/batman-adv/multicast.c: +290 -5
net/batman-adv/multicast.h: +19 -1
net/batman-adv/netlink.c: +56 -34
net/batman-adv/netlink.h: +1 -1
net/batman-adv/network-coding.c: +1 -1
net/batman-adv/network-coding.h: +1 -1
net/batman-adv/originator.c: +1 -1
net/batman-adv/originator.h: +1 -1
net/batman-adv/routing.c: +1 -1
net/batman-adv/routing.h: +1 -1
net/batman-adv/send.c: +1 -1
net/batman-adv/send.h: +1 -1
net/batman-adv/soft-interface.c: +1 -1
net/batman-adv/soft-interface.h: +1 -1
net/batman-adv/sysfs.c: +1 -1
net/batman-adv/sysfs.h: +1 -1
net/batman-adv/tp_meter.c: +1 -1
net/batman-adv/tp_meter.h: +1 -1
net/batman-adv/translation-table.c: +1 -1
net/batman-adv/translation-table.h: +1 -1
net/batman-adv/tvlv.c: +1 -1
net/batman-adv/tvlv.h: +1 -1
net/batman-adv/types.h: +1 -1
net/bluetooth/hci_request.c: +3 -3
net/bluetooth/hci_sock.c: +2 -2
net/bluetooth/l2cap_sock.c: +2 -3
net/bluetooth/mgmt.c: +1 -0
net/bluetooth/rfcomm/sock.c: +3 -3
net/bluetooth/rfcomm/tty.c: +2 -2
net/bluetooth/sco.c: +2 -3
net/bridge/br.c: +1 -1
net/bridge/br_device.c: +2 -2
net/bridge/br_if.c: +22 -13
net/bridge/br_private.h: +2 -1
net/bridge/br_sysfs_br.c: +1 -1
net/bridge/br_sysfs_if.c: +18 -18
net/bridge/netfilter/Kconfig: +1 -1
net/bridge/netfilter/Makefile: +0 -1
net/bridge/netfilter/ebt_ip.c: +48 -10
net/bridge/netfilter/ebt_stp.c: +2 -4
net/bridge/netfilter/ebtables.c: +43 -31
net/bridge/netfilter/nf_tables_bridge.c: +0 -79
net/can/af_can.c: +1 -1
net/can/gw.c: +1 -1
net/can/raw.c: +2 -4
net/ceph/ceph_common.c: +1 -1
net/core/dev.c: +66 -9
net/core/devlink.c: +34 -10
net/core/dst_cache.c: +2 -2
net/core/ethtool.c: +63 -15
net/core/fib_notifier.c: +10 -2
net/core/fib_rules.c: +107 -3
net/core/filter.c: +725 -29
net/core/flow_dissector.c: +0 -16
net/core/net-procfs.c: +3 -3
net/core/net-sysfs.c: +6 -6
net/core/net_namespace.c: +61 -62
net/core/pktgen.c: +8 -7
net/core/rtnetlink.c: +15 -4
net/core/skbuff.c: +28 -9
net/core/sock.c: +77 -13
net/core/sysctl_net_core.c: +12 -0
net/decnet/af_decnet.c: +3 -5
net/decnet/dn_dev.c: +1 -1
net/decnet/dn_neigh.c: +1 -1
net/decnet/dn_route.c: +1 -1
net/dns_resolver/dns_key.c: +1 -1
net/dsa/dsa.c: +36 -0
net/dsa/master.c: +2 -2
net/dsa/slave.c: +60 -1
net/ieee802154/6lowpan/6lowpan_i.h: +4 -22
net/ieee802154/6lowpan/core.c: +1 -0
net/ieee802154/6lowpan/reassembly.c: +74 -74
net/ipv4/Kconfig: +5 -0
net/ipv4/Makefile: +1 -0
net/ipv4/af_inet.c: +55 -21
net/ipv4/arp.c: +1 -1
net/ipv4/esp4.c: +1 -1
net/ipv4/esp4_offload.c: +2 -0
net/ipv4/fib_rules.c: +19 -0
net/ipv4/fib_semantics.c: +18 -18
net/ipv4/fib_trie.c: +29 -9
net/ipv4/igmp.c: +2 -2
net/ipv4/inet_fragment.c: +69 -289
net/ipv4/inetpeer.c: +2 -1
net/ipv4/ip_fragment.c: +114 -139
net/ipv4/ip_gre.c: +11 -2
net/ipv4/ip_input.c: +2 -3
net/ipv4/ip_output.c: +12 -5
net/ipv4/ip_sockglue.c: +13 -21
net/ipv4/ip_tunnel.c: +21 -33
net/ipv4/ipconfig.c: +1 -1
net/ipv4/ipmr.c: +190 -508
net/ipv4/ipmr_base.c: +365 -0
net/ipv4/netfilter/Kconfig: +2 -2
net/ipv4/netfilter/Makefile: +0 -2
net/ipv4/netfilter/arp_tables.c: +13 -20
net/ipv4/netfilter/ip_tables.c: +12 -19
net/ipv4/netfilter/ipt_CLUSTERIP.c: +1 -1
net/ipv4/netfilter/ipt_SYNPROXY.c: +7 -1
net/ipv4/netfilter/ipt_ah.c: +1 -1
net/ipv4/netfilter/nf_tables_arp.c: +0 -58
net/ipv4/netfilter/nf_tables_ipv4.c: +0 -67
net/ipv4/netfilter/nft_chain_nat_ipv4.c: +14 -6
net/ipv4/netfilter/nft_chain_route_ipv4.c: +4 -2
net/ipv4/ping.c: +1 -1
net/ipv4/proc.c: +6 -7
net/ipv4/raw.c: +1 -3
net/ipv4/route.c: +41 -50
net/ipv4/sysctl_net_ipv4.c: +17 -17
net/ipv4/tcp.c: +33 -46
net/ipv4/tcp_bbr.c: +20 -18
net/ipv4/tcp_input.c: +3 -4
net/ipv4/tcp_ipv4.c: +32 -12
net/ipv4/tcp_minisocks.c: +3 -1
net/ipv4/tcp_output.c: +14 -41
net/ipv4/tunnel4.c: +1 -1
net/ipv4/udp.c: +66 -36
net/ipv4/xfrm4_policy.c: +0 -2
net/ipv6/Kconfig: +1 -0
net/ipv6/addrconf.c: +66 -25
net/ipv6/af_inet6.c: +50 -21
net/ipv6/anycast.c: +8 -6
net/ipv6/datagram.c: +3 -2
net/ipv6/esp6_offload.c: +2 -0
net/ipv6/exthdrs_core.c: +0 -1
net/ipv6/fib6_rules.c: +32 -3
net/ipv6/icmp.c: +3 -2
net/ipv6/ip6_fib.c: +14 -5
net/ipv6/ip6_flowlabel.c: +1 -1
net/ipv6/ip6_gre.c: +18 -8
net/ipv6/ip6_output.c: +13 -6
net/ipv6/ip6_tunnel.c: +12 -6
net/ipv6/ip6_vti.c: +1 -1
net/ipv6/ip6mr.c: +484 -627
net/ipv6/ipv6_sockglue.c: +0 -1
net/ipv6/mcast.c: +4 -4
net/ipv6/ndisc.c: +2 -2
net/ipv6/netfilter/Kconfig: +1 -1
net/ipv6/netfilter/Makefile: +0 -1
net/ipv6/netfilter/ip6_tables.c: +13 -20
net/ipv6/netfilter/ip6t_SYNPROXY.c: +7 -1
net/ipv6/netfilter/ip6t_rpfilter.c: +1 -1
net/ipv6/netfilter/nf_conntrack_reasm.c: +49 -74
net/ipv6/netfilter/nf_tables_ipv6.c: +0 -65
net/ipv6/netfilter/nft_chain_nat_ipv6.c: +14 -6
net/ipv6/netfilter/nft_chain_route_ipv6.c: +4 -2
net/ipv6/netfilter/nft_fib_ipv6.c: +2 -1
net/ipv6/proc.c: +6 -6
net/ipv6/raw.c: +1 -1
net/ipv6/reassembly.c: +115 -120
net/ipv6/route.c: +201 -105
net/ipv6/seg6_local.c: +2 -2
net/ipv6/sit.c: +4 -1
net/ipv6/sysctl_net_ipv6.c: +27 -0
net/ipv6/tcp_ipv6.c: +28 -1
net/ipv6/udp.c: +46 -26
net/ipv6/xfrm6_state.c: +0 -1
net/iucv/af_iucv.c: +2 -3
net/kcm/kcmproc.c: +2 -2
net/kcm/kcmsock.c: +1 -0
net/l2tp/l2tp_ip.c: +2 -3
net/l2tp/l2tp_ip6.c: +2 -3
net/l2tp/l2tp_ppp.c: +3 -4
net/llc/af_llc.c: +2 -3
net/llc/llc_proc.c: +2 -2
net/llc/llc_sap.c: +4 -3
net/mac80211/agg-rx.c: +12 -2
net/mac80211/cfg.c: +13 -0
net/mac80211/debugfs.c: +1 -0
net/mac80211/debugfs_sta.c: +7 -3
net/mac80211/ht.c: +15 -0
net/mac80211/ibss.c: +2 -1
net/mac80211/ieee80211_i.h: +12 -0
net/mac80211/iface.c: +3 -2
net/mac80211/key.c: +5 -3
net/mac80211/main.c: +8 -2
net/mac80211/mesh.c: +2 -1
net/mac80211/michael.c: +1 -1
net/mac80211/mlme.c: +105 -77
net/mac80211/rc80211_minstrel.c: +1 -1
net/mac80211/rc80211_minstrel_debugfs.c: +4 -4
net/mac80211/rc80211_minstrel_ht.c: +1 -1
net/mac80211/rc80211_minstrel_ht_debugfs.c: +4 -4
net/mac80211/rx.c: +154 -75
net/mac80211/scan.c: +3 -1
net/mac80211/sta_info.c: +6 -0
net/mac80211/sta_info.h: +2 -0
net/mac80211/status.c: +10 -1
net/mac80211/tx.c: +49 -8
net/mac80211/util.c: +46 -1
net/mac80211/vht.c: +39 -0
net/mac80211/wpa.c: +3 -5
net/mac802154/trace.h: +4 -4
net/ncsi/Makefile: +1 -1
net/ncsi/internal.h: +3 -0
net/ncsi/ncsi-manage.c: +26 -4
net/ncsi/ncsi-netlink.c: +427 -0
net/ncsi/ncsi-netlink.h: +20 -0
net/netfilter/Kconfig: +2 -2
net/netfilter/Makefile: +4 -5
net/netfilter/ipset/ip_set_core.c: +1 -1
net/netfilter/ipset/ip_set_hash_mac.c: +2 -5
net/netfilter/ipvs/ip_vs_lblc.c: +2 -2
net/netfilter/ipvs/ip_vs_lblcr.c: +2 -2
net/netfilter/nf_conncount.c: +9 -5
net/netfilter/nf_conntrack_acct.c: +4 -2
net/netfilter/nf_conntrack_broadcast.c: +0 -1
net/netfilter/nf_conntrack_core.c: +2 -2
net/netfilter/nf_conntrack_ecache.c: +4 -2
net/netfilter/nf_conntrack_netbios_ns.c: +4 -3
net/netfilter/nf_conntrack_netlink.c: +86 -6
net/netfilter/nf_conntrack_snmp.c: +4 -3
net/netfilter/nf_conntrack_standalone.c: +1 -1
net/netfilter/nf_conntrack_timestamp.c: +4 -2
net/netfilter/nf_log.c: +1 -1
net/netfilter/nf_nat_core.c: +3 -1
net/netfilter/nf_nat_ftp.c: +4 -3
net/netfilter/nf_nat_irc.c: +4 -3
net/netfilter/nf_synproxy_core.c: +1 -1
net/netfilter/nf_tables_api.c: +62 -53
net/netfilter/nf_tables_inet.c: +0 -75
net/netfilter/nf_tables_netdev.c: +0 -142
net/netfilter/nfnetlink_acct.c: +1 -2
net/netfilter/nfnetlink_cthelper.c: +17 -8
net/netfilter/nfnetlink_cttimeout.c: +17 -9
net/netfilter/nfnetlink_queue.c: +7 -7
net/netfilter/nft_chain_filter.c: +398 -0
net/netfilter/nft_ct.c: +38 -0
net/netfilter/nft_dynset.c: +3 -2
net/netfilter/nft_lookup.c: +2 -2
net/netfilter/nft_objref.c: +3 -2
net/netfilter/x_tables.c: +174 -17
net/netfilter/xt_IDLETIMER.c: +1 -1
net/netfilter/xt_RATEEST.c: +65 -26
net/netfilter/xt_TEE.c: +46 -27
net/netfilter/xt_cluster.c: +1 -9
net/netfilter/xt_connlimit.c: +2 -2
net/netfilter/xt_connmark.c: +60 -17
net/netfilter/xt_hashlimit.c: +1 -2
net/netfilter/xt_limit.c: +1 -1
net/netfilter/xt_nfacct.c: +1 -1
net/netfilter/xt_rateest.c: +5 -5
net/netfilter/xt_recent.c: +2 -2
net/netfilter/xt_string.c: +1 -0
net/netfilter/xt_time.c: +7 -6
net/netlink/af_netlink.c: +2 -3
net/netrom/af_netrom.c: +8 -7
net/nfc/llcp_sock.c: +2 -3
net/openvswitch/datapath.c: +2 -2
net/openvswitch/vport.c: +4 -4
net/packet/af_packet.c: +4 -6
net/phonet/socket.c: +2 -3
net/qrtr/qrtr.c: +2 -3
net/rds/af_rds.c: +9 -5
net/rds/connection.c: +5 -2
net/rds/ib.c: +3 -0
net/rds/message.c: +156 -7
net/rds/rds.h: +30 -1
net/rds/recv.c: +41 -1
net/rds/send.c: +42 -12
net/rds/tcp.c: +33 -82
net/rose/af_rose.c: +6 -7
net/rxrpc/af_rxrpc.c: +12 -3
net/rxrpc/ar-internal.h: +30 -47
net/rxrpc/call_accept.c: +17 -10
net/rxrpc/call_event.c: +3 -2
net/rxrpc/call_object.c: +23 -9
net/rxrpc/conn_client.c: +2 -1
net/rxrpc/conn_event.c: +5 -1
net/rxrpc/conn_object.c: +9 -1
net/rxrpc/conn_service.c: +1 -0
net/rxrpc/input.c: +14 -9
net/rxrpc/local_object.c: +63 -2
net/rxrpc/net_ns.c: +23 -1
net/rxrpc/output.c: +58 -1
net/rxrpc/peer_event.c: +97 -1
net/rxrpc/peer_object.c: +90 -3
net/rxrpc/proc.c: +6 -0
net/rxrpc/recvmsg.c: +1 -1
net/rxrpc/rxkad.c: +2 -0
net/rxrpc/security.c: +0 -3
net/rxrpc/sendmsg.c: +8 -2
net/sched/Kconfig: +12 -0
net/sched/Makefile: +1 -0
net/sched/act_api.c: +139 -60
net/sched/act_bpf.c: +6 -4
net/sched/act_connmark.c: +7 -4
net/sched/act_csum.c: +6 -4
net/sched/act_gact.c: +20 -4
net/sched/act_ife.c: +6 -4
net/sched/act_ipt.c: +12 -8
net/sched/act_mirred.c: +17 -8
net/sched/act_nat.c: +7 -4
net/sched/act_pedit.c: +6 -4
net/sched/act_police.c: +7 -4
net/sched/act_sample.c: +6 -4
net/sched/act_simple.c: +6 -4
net/sched/act_skbedit.c: +6 -4
net/sched/act_skbmod.c: +6 -4
net/sched/act_tunnel_key.c: +6 -4
net/sched/act_vlan.c: +7 -5
net/sched/cls_api.c: +3 -2
net/sched/cls_flower.c: +6 -0
net/sched/em_ipt.c: +257 -0
net/sched/sch_api.c: +6 -1
net/sched/sch_htb.c: +7 -4
net/sched/sch_prio.c: +38 -7
net/sctp/Makefile: +2 -0
net/sctp/auth.c: +100 -46
net/sctp/chunk.c: +14 -0
net/sctp/{sctp_diag.c => diag.c}: +31 -0
net/sctp/endpointola.c: +4 -4
net/sctp/input.c: +6 -7
net/sctp/ipv6.c: +4 -4
net/sctp/objcnt.c: +0 -8
net/sctp/output.c: +16 -2
net/sctp/proc.c: +21 -69
net/sctp/protocol.c: +8 -53
net/sctp/sm_make_chunk.c: +30 -3
net/sctp/sm_sideeffect.c: +13 -0
net/sctp/sm_statefuns.c: +49 -7
net/sctp/socket.c: +476 -352
net/smc/af_smc.c: +114 -97
net/smc/smc.h: +4 -5
net/smc/smc_clc.c: +196 -18
net/smc/smc_clc.h: +13 -9
net/smc/smc_core.c: +69 -31
net/smc/smc_core.h: +15 -1
net/smc/smc_ib.c: +9 -1
net/smc/smc_llc.c: +401 -7
net/smc/smc_llc.h: +13 -28
net/smc/smc_wr.h: +0 -1
net/socket.c: +26 -25
net/sunrpc/auth_gss/svcauth_gss.c: +1 -1
net/sunrpc/cache.c: +5 -5
net/sunrpc/clnt.c: +3 -3
net/sunrpc/debugfs.c: +3 -3
net/sunrpc/rpc_pipe.c: +21 -21
net/sunrpc/svcsock.c: +8 -5
net/sunrpc/xprtsock.c: +1 -2
net/tipc/Kconfig: +8 -0
net/tipc/Makefile: +6 -1
net/tipc/addr.c: +68 -91
net/tipc/addr.h: +32 -15
net/tipc/bcast.c: +1 -1
net/tipc/bearer.c: +76 -84
net/tipc/bearer.h: +1 -1
net/tipc/core.c: +5 -1
net/tipc/core.h: +18 -5
net/tipc/diag.c: +114 -0
net/tipc/discover.c: +233 -159
net/tipc/discover.h: +4 -4
net/tipc/group.c: +1 -1
net/tipc/link.c: +25 -14
net/tipc/link.h: +2 -2
net/tipc/msg.c: +1 -1
net/tipc/msg.h: +22 -1
net/tipc/name_distr.c: +51 -101
net/tipc/name_distr.h: +1 -2
net/tipc/name_table.c: +508 -656
net/tipc/name_table.h: +36 -30
net/tipc/net.c: +46 -34
net/tipc/net.h: +2 -3
net/tipc/node.c: +108 -21
net/tipc/node.h: +6 -3
net/tipc/server.c: +0 -710
net/tipc/socket.c: +136 -51
net/tipc/socket.h: +9 -1
net/tipc/subscr.c: +65 -296
net/tipc/subscr.h: +46 -22
net/tipc/topsrv.c: +703 -0
net/tipc/{server.h => topsrv.h}: +4 -53
net/tipc/udp_media.c: +14 -0
net/tls/Kconfig: +1 -0
net/tls/tls_main.c: +178 -28
net/tls/tls_sw.c: +569 -144
net/unix/af_unix.c: +5 -5
net/vmw_vsock/af_vsock.c: +2 -2
net/wireless/ap.c: +1 -0
net/wireless/chan.c: +7 -2
net/wireless/core.h: +4 -8
net/wireless/ibss.c: +6 -21
net/wireless/mesh.c: +1 -15
net/wireless/mlme.c: +6 -3
net/wireless/nl80211.c: +366 -42
net/wireless/rdev-ops.h: +30 -0
net/wireless/reg.c: +197 -9
net/wireless/sme.c: +32 -11
net/wireless/trace.h: +71 -1
net/wireless/util.c: +3 -2
net/wireless/wext-core.c: +2 -4
net/wireless/wext-proc.c: +1 -1
net/x25/af_x25.c: +2 -2
net/x25/x25_proc.c: +6 -6
net/x25/x25_subr.c: +1 -2
net/xfrm/xfrm_device.c: +1 -1
net/xfrm/xfrm_input.c: +2 -1
net/xfrm/xfrm_policy.c: +3 -4
net/xfrm/xfrm_proc.c: +1 -1
samples/bpf/Makefile: +5 -0
samples/bpf/bpf_load.c: +20 -2
samples/bpf/cookie_uid_helper_example.c: +1 -1
samples/bpf/cpustat_kern.c: +281 -0
samples/bpf/cpustat_user.c: +219 -0
samples/bpf/tcbpf2_kern.c: +4 -2
samples/bpf/test_cgrp2_sock.sh: +1 -0
samples/bpf/test_cgrp2_sock2.sh: +3 -0
samples/bpf/test_overhead_raw_tp_kern.c: +17 -0
samples/bpf/test_overhead_user.c: +12 -0
samples/bpf/test_tunnel_bpf.sh: +3 -2
samples/bpf/trace_event_kern.c: +4 -0
samples/bpf/trace_event_user.c: +15 -0
samples/bpf/xdp_redirect_user.c: +7 -0
samples/sockmap/Makefile: +1 -1
samples/sockmap/sockmap_kern.c: +236 -3
samples/sockmap/sockmap_test.sh: +488 -0
samples/sockmap/sockmap_user.c: +336 -24
security/apparmor/include/path.h: +1 -6
security/selinux/include/xfrm.h: +2 -2
security/tomoyo/network.c: +3 -2
sound/firewire/amdtp-stream-trace.h: +1 -1
tools/bpf/Makefile: +53 -25
tools/bpf/bpftool/Documentation/bpftool-prog.rst: +12 -6
tools/bpf/bpftool/Makefile: +4 -2
tools/bpf/bpftool/bash-completion/bpftool: +9 -4
tools/bpf/bpftool/cfg.c: +514 -0
tools/bpf/bpftool/cfg.h: +43 -0
tools/bpf/bpftool/main.c: +89 -15
tools/bpf/bpftool/prog.c: +30 -275
tools/bpf/bpftool/xlated_dumper.c: +338 -0
tools/bpf/bpftool/xlated_dumper.h: +64 -0
tools/include/uapi/linux/bpf.h: +106 -1
tools/lib/bpf/bpf.c: +40 -15
tools/lib/bpf/bpf.h: +13 -5
tools/lib/bpf/libbpf.c: +88 -26
tools/lib/bpf/libbpf.h: +8 -0
tools/testing/selftests/bpf/Makefile: +21 -4
tools/testing/selftests/bpf/bpf_helpers.h: +12 -0
tools/testing/selftests/bpf/bpf_rlimit.h: +28 -0
tools/testing/selftests/bpf/connect4_prog.c: +45 -0
tools/testing/selftests/bpf/connect6_prog.c: +61 -0
tools/testing/selftests/bpf/sockmap_parse_prog.c: +13 -2
tools/testing/selftests/bpf/sockmap_tcp_msg_prog.c: +33 -0
tools/testing/selftests/bpf/sockmap_verdict_prog.c: +7 -0
tools/testing/selftests/bpf/test_align.c: +1 -5
tools/testing/selftests/bpf/test_dev_cgroup.c: +1 -5
tools/testing/selftests/bpf/test_lpm_map.c: +3 -11
tools/testing/selftests/bpf/test_lru_map.c: +2 -4
tools/testing/selftests/bpf/test_maps.c: +53 -9
tools/testing/selftests/bpf/test_progs.c: +219 -11
tools/testing/selftests/bpf/test_sock.c: +479 -0
tools/testing/selftests/bpf/test_sock_addr.c: +588 -0
tools/testing/selftests/bpf/test_sock_addr.sh: +57 -0
tools/testing/selftests/bpf/test_stacktrace_build_id.c: +60 -0
tools/testing/selftests/bpf/test_tag.c: +1 -3
tools/testing/selftests/bpf/test_tcpbpf_user.c: +2 -0
tools/testing/selftests/bpf/test_verifier.c: +287 -17
tools/testing/selftests/bpf/test_verifier_log.c: +2 -6
tools/testing/selftests/bpf/urandom_read.c: +22 -0
tools/testing/selftests/net/Makefile: +1 -1
tools/testing/selftests/net/config: +5 -0
tools/testing/selftests/net/fib-onlink-tests.sh: +467 -0
tools/testing/selftests/net/fib_tests.sh: +418 -246
tools/testing/selftests/net/forwarding/.gitignore: +1 -0
tools/testing/selftests/net/forwarding/README: +56 -0
tools/testing/selftests/net/forwarding/bridge_vlan_aware.sh: +88 -0
tools/testing/selftests/net/forwarding/bridge_vlan_unaware.sh: +86 -0
tools/testing/selftests/net/forwarding/config: +12 -0
tools/testing/selftests/net/forwarding/forwarding.config.sample: +35 -0
tools/testing/selftests/net/forwarding/lib.sh: +577 -0
tools/testing/selftests/net/forwarding/router.sh: +125 -0
tools/testing/selftests/net/forwarding/router_multipath.sh: +376 -0
tools/testing/selftests/net/forwarding/tc_actions.sh: +202 -0
tools/testing/selftests/net/forwarding/tc_chains.sh: +122 -0
tools/testing/selftests/net/forwarding/tc_common.sh: +25 -0
tools/testing/selftests/net/forwarding/tc_flower.sh: +196 -0
tools/testing/selftests/net/forwarding/tc_shblocks.sh: +122 -0
tools/testing/selftests/net/in_netns.sh: +23 -0
tools/testing/selftests/net/msg_zerocopy.c: +118 -13
tools/testing/selftests/net/pmtu.sh: +471 -0
tools/testing/selftests/net/psock_fanout.c: +28 -7
tools/testing/selftests/net/rtnetlink.sh: +6 -0
tools/testing/selftests/net/run_afpackettests: +2 -2
tools/testing/selftests/networking/timestamping/txtimestamp.c: +18 -3
tools/testing/selftests/tc-testing/README: +156 -17
tools/testing/selftests/tc-testing/TODO.txt: +23 -2
tools/testing/selftests/tc-testing/TdcPlugin.py: +74 -0
tools/testing/selftests/tc-testing/creating-plugins/AddingPlugins.txt: +104 -0
tools/testing/selftests/tc-testing/creating-testcases/AddingTestCases.txt: +27 -8
tools/testing/selftests/tc-testing/plugin-lib/README-PLUGINS: +27 -0
tools/testing/selftests/tc-testing/plugin-lib/nsPlugin.py: +141 -0
tools/testing/selftests/tc-testing/plugin-lib/rootPlugin.py: +19 -0
tools/testing/selftests/tc-testing/plugin-lib/valgrindPlugin.py: +142 -0
tools/testing/selftests/tc-testing/plugins/__init__.py: +0 -0
tools/testing/selftests/tc-testing/tc-tests/actions/bpf.json: +289 -0
tools/testing/selftests/tc-testing/tc-tests/actions/connmark.json: +291 -0
tools/testing/selftests/tc-testing/tc-tests/actions/csum.json: +410 -0
tools/testing/selftests/tc-testing/tc-tests/actions/gact.json: +71 -0
tools/testing/selftests/tc-testing/tc-tests/actions/mirred.json: +192 -0
tools/testing/selftests/tc-testing/tc-tests/actions/police.json: +144 -0
tools/testing/selftests/tc-testing/tc-tests/actions/skbedit.json: +168 -0
tools/testing/selftests/tc-testing/tc-tests/actions/skbmod.json: +24 -0
tools/testing/selftests/tc-testing/tc-tests/actions/vlan.json: +410 -0
tools/testing/selftests/tc-testing/tdc.py: +400 -176
tools/testing/selftests/tc-testing/tdc_batch.py: +4 -4
tools/testing/selftests/tc-testing/tdc_helper.py: +3 -12
