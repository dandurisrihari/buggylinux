{
  "hash": "a89f040fa34ec9cd682aed98b8f04e3c47d998bd",
  "hash_short": "a89f040f",
  "subject": "x86/cpufeatures: Add X86_BUG_CPU_INSECURE",
  "body": "Many x86 CPUs leak information to user space due to missing isolation of\nuser space and kernel space page tables. There are many well documented\nways to exploit that.\n\nThe upcoming software migitation of isolating the user and kernel space\npage tables needs a misfeature flag so code can be made runtime\nconditional.\n\nAdd the BUG bits which indicates that the CPU is affected and add a feature\nbit which indicates that the software migitation is enabled.\n\nAssume for now that _ALL_ x86 CPUs are affected by this. Exceptions can be\nmade later.\n\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Boris Ostrovsky <boris.ostrovsky@oracle.com>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Brian Gerst <brgerst@gmail.com>\nCc: Dave Hansen <dave.hansen@linux.intel.com>\nCc: David Laight <David.Laight@aculab.com>\nCc: Denys Vlasenko <dvlasenk@redhat.com>\nCc: Eduardo Valentin <eduval@amazon.com>\nCc: Greg KH <gregkh@linuxfoundation.org>\nCc: H. Peter Anvin <hpa@zytor.com>\nCc: Josh Poimboeuf <jpoimboe@redhat.com>\nCc: Juergen Gross <jgross@suse.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Will Deacon <will.deacon@arm.com>\nCc: aliguori@amazon.com\nCc: daniel.gruss@iaik.tugraz.at\nCc: hughd@google.com\nCc: keescook@google.com\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "full_message": "x86/cpufeatures: Add X86_BUG_CPU_INSECURE\n\nMany x86 CPUs leak information to user space due to missing isolation of\nuser space and kernel space page tables. There are many well documented\nways to exploit that.\n\nThe upcoming software migitation of isolating the user and kernel space\npage tables needs a misfeature flag so code can be made runtime\nconditional.\n\nAdd the BUG bits which indicates that the CPU is affected and add a feature\nbit which indicates that the software migitation is enabled.\n\nAssume for now that _ALL_ x86 CPUs are affected by this. Exceptions can be\nmade later.\n\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Boris Ostrovsky <boris.ostrovsky@oracle.com>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Brian Gerst <brgerst@gmail.com>\nCc: Dave Hansen <dave.hansen@linux.intel.com>\nCc: David Laight <David.Laight@aculab.com>\nCc: Denys Vlasenko <dvlasenk@redhat.com>\nCc: Eduardo Valentin <eduval@amazon.com>\nCc: Greg KH <gregkh@linuxfoundation.org>\nCc: H. Peter Anvin <hpa@zytor.com>\nCc: Josh Poimboeuf <jpoimboe@redhat.com>\nCc: Juergen Gross <jgross@suse.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Will Deacon <will.deacon@arm.com>\nCc: aliguori@amazon.com\nCc: daniel.gruss@iaik.tugraz.at\nCc: hughd@google.com\nCc: keescook@google.com\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "author_name": "Thomas Gleixner",
  "author_email": "tglx@linutronix.de",
  "author_date": "Mon Dec 4 15:07:33 2017 +0100",
  "author_date_iso": "2017-12-04T15:07:33+01:00",
  "committer_name": "Ingo Molnar",
  "committer_email": "mingo@kernel.org",
  "committer_date": "Sat Dec 23 21:12:59 2017 +0100",
  "committer_date_iso": "2017-12-23T21:12:59+01:00",
  "files_changed": [
    "arch/x86/include/asm/cpufeatures.h",
    "arch/x86/include/asm/disabled-features.h",
    "arch/x86/kernel/cpu/common.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/disabled-features.h",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "insertions": 4,
      "deletions": 0
    }
  ],
  "total_insertions": 13,
  "total_deletions": 2,
  "total_changes": 15,
  "parents": [
    "f6c4fd506cb626e4346aa81688f255e593a7c5a0"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.15",
    "v4.15-rc6",
    "v4.15-rc7",
    "v4.15-rc8",
    "v4.15-rc9",
    "v4.16",
    "v4.16-rc1",
    "v4.16-rc2",
    "v4.16-rc3",
    "v4.16-rc4"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/disabled-features.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}