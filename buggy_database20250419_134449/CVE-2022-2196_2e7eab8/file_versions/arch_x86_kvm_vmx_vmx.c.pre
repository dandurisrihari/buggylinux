commit 4f209989586c79e9bf59ba9381101f5fb449dfbb
Author: Jim Mattson <jmattson@google.com>
Date:   Wed Oct 19 14:36:19 2022 -0700

    KVM: VMX: Guest usage of IA32_SPEC_CTRL is likely
    
    At this point in time, most guests (in the default, out-of-the-box
    configuration) are likely to use IA32_SPEC_CTRL.  Therefore, drop the
    compiler hint that it is unlikely for KVM to be intercepting WRMSR of
    IA32_SPEC_CTRL.
    
    Signed-off-by: Jim Mattson <jmattson@google.com>
    Reviewed-by: Sean Christopherson <seanjc@google.com>
    Link: https://lore.kernel.org/r/20221019213620.1953281-2-jmattson@google.com
    Signed-off-by: Sean Christopherson <seanjc@google.com>

diff --git a/arch/x86/kvm/vmx/vmx.c b/arch/x86/kvm/vmx/vmx.c
index cea8c07f5229..cb40f724d8cc 100644
--- a/arch/x86/kvm/vmx/vmx.c
+++ b/arch/x86/kvm/vmx/vmx.c
@@ -858,7 +858,7 @@ unsigned int __vmx_vcpu_run_flags(struct vcpu_vmx *vmx)
 	 * to change it directly without causing a vmexit.  In that case read
 	 * it after vmexit and store it in vmx->spec_ctrl.
 	 */
-	if (unlikely(!msr_write_intercepted(vmx, MSR_IA32_SPEC_CTRL)))
+	if (!msr_write_intercepted(vmx, MSR_IA32_SPEC_CTRL))
 		flags |= VMX_RUN_SAVE_SPEC_CTRL;
 
 	return flags;