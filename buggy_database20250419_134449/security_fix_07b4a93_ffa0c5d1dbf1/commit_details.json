{
  "hash": "07b4a930fc44a537efecf73c1fd2b4937f64caaa",
  "hash_short": "07b4a930",
  "subject": "rcu: Don't set nesting depth negative in rcu_preempt_deferred_qs()",
  "body": "Now that RCU flavors have been consolidated, an RCU-preempt\nrcu_read_unlock() in an interrupt or softirq handler cannot possibly\nend the RCU read-side critical section.  Consider the old vulnerability\ninvolving rcu_preempt_deferred_qs() being invoked within such a handler\nthat interrupted an extended RCU read-side critical section, in which\na wakeup might be invoked with a scheduler lock held.  Because\nrcu_read_unlock_special() no longer does wakeups in such situations,\nit is no longer necessary for rcu_preempt_deferred_qs() to set the\nnesting level negative.\n\nThis commit therefore removes this recursion-protection code from\nrcu_preempt_deferred_qs().\n\n[ paulmck: Fix typo in commit log per Steve Rostedt. ]\nSigned-off-by: Lai Jiangshan <laijs@linux.alibaba.com>\nSigned-off-by: Paul E. McKenney <paulmck@kernel.org>",
  "full_message": "rcu: Don't set nesting depth negative in rcu_preempt_deferred_qs()\n\nNow that RCU flavors have been consolidated, an RCU-preempt\nrcu_read_unlock() in an interrupt or softirq handler cannot possibly\nend the RCU read-side critical section.  Consider the old vulnerability\ninvolving rcu_preempt_deferred_qs() being invoked within such a handler\nthat interrupted an extended RCU read-side critical section, in which\na wakeup might be invoked with a scheduler lock held.  Because\nrcu_read_unlock_special() no longer does wakeups in such situations,\nit is no longer necessary for rcu_preempt_deferred_qs() to set the\nnesting level negative.\n\nThis commit therefore removes this recursion-protection code from\nrcu_preempt_deferred_qs().\n\n[ paulmck: Fix typo in commit log per Steve Rostedt. ]\nSigned-off-by: Lai Jiangshan <laijs@linux.alibaba.com>\nSigned-off-by: Paul E. McKenney <paulmck@kernel.org>",
  "author_name": "Lai Jiangshan",
  "author_email": "laijs@linux.alibaba.com",
  "author_date": "Sat Feb 15 14:37:26 2020 -0800",
  "author_date_iso": "2020-02-15T14:37:26-08:00",
  "committer_name": "Paul E. McKenney",
  "committer_email": "paulmck@kernel.org",
  "committer_date": "Mon Apr 27 11:03:50 2020 -0700",
  "committer_date_iso": "2020-04-27T11:03:50-07:00",
  "files_changed": [
    "kernel/rcu/tree_plugin.h"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "kernel/rcu/tree_plugin.h",
      "insertions": 0,
      "deletions": 5
    }
  ],
  "total_insertions": 0,
  "total_deletions": 5,
  "total_changes": 5,
  "parents": [
    "e4453d8a1c56050df320ef54f339ffa4a9513d0a"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "kernel/rcu/tree_plugin.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}