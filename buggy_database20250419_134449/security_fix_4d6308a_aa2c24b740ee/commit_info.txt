Commit Hash: 4d6308aac3258ecad8444811a16951a919adc131
Subject: virtio_net: exploit napi_complete_done() return value


Security Keywords:
- exploit

Full commit message:
virtio_net: exploit napi_complete_done() return value

Since commit 364b6055738b ("net: busy-poll: return busypolling status to
drivers"), napi_complete_done() returns a boolean that can be used
by drivers to conditionally rearm interrupts.

This patch changes virtio_net to use this boolean to avoid a bit of
overhead for busy-poll users.

Jason reports about 1.1% improvement for 1 byte TCP_RR (burst 100).

Signed-off-by: Eric Dumazet <edumazet@google.com>
Acked-by: Jason Wang <jasowang@redhat.com>
Cc: Michael S. Tsirkin <mst@redhat.com>
Cc: Willem de Bruijn <willemb@google.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Metadata:
Author: Eric Dumazet <edumazet@google.com>
Author Date: Sat Feb 4 07:49:21 2017 -0800
Committer: David S. Miller <davem@davemloft.net>
Commit Date: Sat Feb 4 19:38:28 2017 -0500

Files Changed: 1
Lines Added: 6
Lines Removed: 5
Total Changes: 11
