{
  "hash": "4217fdde34a574f1bbdd5f34f64e499465a157ba",
  "hash_short": "4217fdde",
  "subject": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm",
  "body": "Pull KVM fixes from Radim Kr\u010dm\u00e1\u0159:\n \"ARM:\n   - a fix for a build failure introduced in -rc1 when tracepoints are\n     enabled on 32-bit ARM.\n\n   - disable use of stack pointer protection in the hyp code which can\n     cause panics.\n\n   - a handful of VGIC fixes.\n\n   - a fix to the init of the redistributors on GICv3 systems that\n     prevented boot with kvmtool on GICv3 systems introduced in -rc1.\n\n   - a number of race conditions fixed in our MMU handling code.\n\n   - a fix for the guest being able to program the debug extensions for\n     the host on the 32-bit side.\n\n  PPC:\n   - fixes for build failures with PR KVM configurations.\n\n   - a fix for a host crash that can occur on POWER9 with radix guests.\n\n  x86:\n   - fixes for nested PML and nested EPT.\n\n   - a fix for crashes caused by reserved bits in SSE MXCSR that could\n     have been set by userspace.\n\n   - an optimization of halt polling that fixes high CPU overhead.\n\n   - fixes for four reports from Dan Carpenter's static checker.\n\n   - a protection around code that shouldn't have been preemptible.\n\n   - a fix for port IO emulation\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (27 commits)\n  KVM: x86: prevent uninitialized variable warning in check_svme()\n  KVM: x86/vPMU: fix undefined shift in intel_pmu_refresh()\n  KVM: x86: zero base3 of unusable segments\n  KVM: X86: Fix read out-of-bounds vulnerability in kvm pio emulation\n  KVM: x86: Fix potential preemption when get the current kvmclock timestamp\n  KVM: Silence underflow warning in avic_get_physical_id_entry()\n  KVM: arm/arm64: Hold slots_lock when unregistering kvm io bus devices\n  KVM: arm/arm64: Fix bug when registering redist iodevs\n  KVM: x86: lower default for halt_poll_ns\n  kvm: arm/arm64: Fix use after free of stage2 page table\n  kvm: arm/arm64: Force reading uncached stage2 PGD\n  KVM: nVMX: fix EPT permissions as reported in exit qualification\n  KVM: VMX: Don't enable EPT A/D feature if EPT feature is disabled\n  KVM: x86: Fix load damaged SSEx MXCSR register\n  kvm: nVMX: off by one in vmx_write_pml_buffer()\n  KVM: arm: rename pm_fake handler to trap_raz_wi\n  KVM: arm: plug potential guest hardware debug leakage\n  kvm: arm/arm64: Fix race in resetting stage2 PGD\n  KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH_APxRn_EL2 registers\n  KVM: arm/arm64: vgic-v3: Do not use Active+Pending state for a HW interrupt\n  ...",
  "full_message": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm\n\nPull KVM fixes from Radim Kr\u010dm\u00e1\u0159:\n \"ARM:\n   - a fix for a build failure introduced in -rc1 when tracepoints are\n     enabled on 32-bit ARM.\n\n   - disable use of stack pointer protection in the hyp code which can\n     cause panics.\n\n   - a handful of VGIC fixes.\n\n   - a fix to the init of the redistributors on GICv3 systems that\n     prevented boot with kvmtool on GICv3 systems introduced in -rc1.\n\n   - a number of race conditions fixed in our MMU handling code.\n\n   - a fix for the guest being able to program the debug extensions for\n     the host on the 32-bit side.\n\n  PPC:\n   - fixes for build failures with PR KVM configurations.\n\n   - a fix for a host crash that can occur on POWER9 with radix guests.\n\n  x86:\n   - fixes for nested PML and nested EPT.\n\n   - a fix for crashes caused by reserved bits in SSE MXCSR that could\n     have been set by userspace.\n\n   - an optimization of halt polling that fixes high CPU overhead.\n\n   - fixes for four reports from Dan Carpenter's static checker.\n\n   - a protection around code that shouldn't have been preemptible.\n\n   - a fix for port IO emulation\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm: (27 commits)\n  KVM: x86: prevent uninitialized variable warning in check_svme()\n  KVM: x86/vPMU: fix undefined shift in intel_pmu_refresh()\n  KVM: x86: zero base3 of unusable segments\n  KVM: X86: Fix read out-of-bounds vulnerability in kvm pio emulation\n  KVM: x86: Fix potential preemption when get the current kvmclock timestamp\n  KVM: Silence underflow warning in avic_get_physical_id_entry()\n  KVM: arm/arm64: Hold slots_lock when unregistering kvm io bus devices\n  KVM: arm/arm64: Fix bug when registering redist iodevs\n  KVM: x86: lower default for halt_poll_ns\n  kvm: arm/arm64: Fix use after free of stage2 page table\n  kvm: arm/arm64: Force reading uncached stage2 PGD\n  KVM: nVMX: fix EPT permissions as reported in exit qualification\n  KVM: VMX: Don't enable EPT A/D feature if EPT feature is disabled\n  KVM: x86: Fix load damaged SSEx MXCSR register\n  kvm: nVMX: off by one in vmx_write_pml_buffer()\n  KVM: arm: rename pm_fake handler to trap_raz_wi\n  KVM: arm: plug potential guest hardware debug leakage\n  kvm: arm/arm64: Fix race in resetting stage2 PGD\n  KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH_APxRn_EL2 registers\n  KVM: arm/arm64: vgic-v3: Do not use Active+Pending state for a HW interrupt\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri May 19 15:13:13 2017 -0700",
  "author_date_iso": "2017-05-19T15:13:13-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri May 19 15:13:13 2017 -0700",
  "committer_date_iso": "2017-05-19T15:13:13-07:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "arch/arm/include/asm/kvm_coproc.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm/kvm/coproc.c",
      "insertions": 74,
      "deletions": 32
    },
    {
      "file": "arch/arm/kvm/handle_exit.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm/kvm/hyp/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm/kvm/hyp/switch.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm/kvm/trace.h",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/kvm/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/Makefile",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/powerpc/kvm/book3s_64_vio_hv.c",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "arch/powerpc/kvm/book3s_hv_builtin.c",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "arch/powerpc/kvm/book3s_pr_papr.c",
      "insertions": 53,
      "deletions": 17
    },
    {
      "file": "arch/powerpc/kvm/powerpc.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kernel/fpu/init.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/emulate.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/paging_tmpl.h",
      "insertions": 21,
      "deletions": 14
    },
    {
      "file": "arch/x86/kvm/pmu_intel.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/svm.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/vmx.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 33,
      "deletions": 12
    },
    {
      "file": "include/kvm/arm_vgic.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "virt/kvm/arm/hyp/vgic-v3-sr.c",
      "insertions": 9,
      "deletions": 9
    },
    {
      "file": "virt/kvm/arm/mmu.c",
      "insertions": 21,
      "deletions": 12
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-init.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-mmio-v3.c",
      "insertions": 9,
      "deletions": 3
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-v2.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "virt/kvm/arm/vgic/vgic-v3.c",
      "insertions": 7,
      "deletions": 0
    }
  ],
  "total_insertions": 292,
  "total_deletions": 120,
  "total_changes": 412,
  "parents": [
    "9e856e4b475502270f2cfdd7b289075c1924786b",
    "92ceb7679ab8807d3b7fbcc6daf2279036954ef5"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.12",
    "v4.12-rc2",
    "v4.12-rc3",
    "v4.12-rc4",
    "v4.12-rc5",
    "v4.12-rc6",
    "v4.12-rc7",
    "v4.13",
    "v4.13-rc1",
    "v4.13-rc2"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": []
}