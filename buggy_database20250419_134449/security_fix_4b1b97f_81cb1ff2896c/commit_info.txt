Commit Hash: 4b1b97f0d7cfd3e29ae72f380996b8359200fd86
Subject: KVM: arm64: nv: Handle L2->L1 transition on interrupt injection


Security Keywords:
- injection

Full commit message:
KVM: arm64: nv: Handle L2->L1 transition on interrupt injection

An interrupt being delivered to L1 while running L2 must result
in the correct exception being delivered to L1.

This means that if, on entry to L2, we found ourselves with pending
interrupts in the L1 distributor, we need to take immediate action.
This is done by posting a request which will prevent the entry in
L2, and deliver an IRQ exception to L1, forcing the switch.

Signed-off-by: Marc Zyngier <maz@kernel.org>
Link: https://lore.kernel.org/r/20250225172930.1850838-10-maz@kernel.org
Signed-off-by: Oliver Upton <oliver.upton@linux.dev>

Metadata:
Author: Marc Zyngier <maz@kernel.org>
Author Date: Tue Feb 25 17:29:23 2025 +0000
Committer: Oliver Upton <oliver.upton@linux.dev>
Commit Date: Mon Mar 3 14:57:10 2025 -0800

Files Changed: 4
Lines Added: 41
Lines Removed: 8
Total Changes: 49
