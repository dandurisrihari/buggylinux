commit 61810096de3c3ec977c71dbb7e00447d70045163
Author: Borislav Petkov <bp@suse.de>
Date:   Tue Dec 15 09:18:44 2020 +0100

    EDAC/amd64: Merge error injection sysfs facilities
    
    Merge them into the main driver and put them inside an EDAC_DEBUG
    ifdeffery to simplify the driver and have all debugging/injection stuff
    behind a debug build-time switch.
    
    No functional changes.
    
    Signed-off-by: Borislav Petkov <bp@suse.de>
    Reviewed-by: Yazen Ghannam <yazen.ghannam@amd.com>
    Link: https://lkml.kernel.org/r/20201215110517.5215-2-bp@alien8.de

diff --git a/drivers/edac/Makefile b/drivers/edac/Makefile
index 1c70cdcf2b15..2d1641a27a28 100644
--- a/drivers/edac/Makefile
+++ b/drivers/edac/Makefile
@@ -44,11 +44,7 @@ obj-$(CONFIG_EDAC_IE31200)		+= ie31200_edac.o
 obj-$(CONFIG_EDAC_X38)			+= x38_edac.o
 obj-$(CONFIG_EDAC_I82860)		+= i82860_edac.o
 obj-$(CONFIG_EDAC_R82600)		+= r82600_edac.o
-
-amd64_edac_mod-y := amd64_edac.o
-amd64_edac_mod-$(CONFIG_EDAC_AMD64_ERROR_INJECTION) += amd64_edac_inj.o
-
-obj-$(CONFIG_EDAC_AMD64)		+= amd64_edac_mod.o
+obj-$(CONFIG_EDAC_AMD64)		+= amd64_edac.o
 
 obj-$(CONFIG_EDAC_PASEMI)		+= pasemi_edac.o