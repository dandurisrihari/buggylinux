{
  "hash": "13bb8429ca985497bfba3a4afa6cd470d15fed10",
  "hash_short": "13bb8429",
  "subject": "net: wwan: iosm: firmware flashing and coredump collection",
  "body": "This patch brings-in support for M.2 7560 Device firmware flashing &\ncoredump collection using devlink.\n- Driver Registers with Devlink framework.\n- Register devlink params callback for configuring device params\n  required in flashing or coredump flow.\n- Implements devlink ops flash_update callback that programs modem\n  firmware.\n- Creates region & snapshot required for device coredump log collection.\n\nOn early detection of device in boot rom stage. Driver registers with\nDevlink framework and establish transport channel for PSI (Primary Signed\nImage) injection. Once PSI is injected to device, the device execution\nstage details are read to determine whether device is in flash or\nexception mode. The collected information is reported to devlink user\nspace application & based on this informationi, application proceeds with\neither modem firmware flashing or coredump collection.\n\nSigned-off-by: M Chetan Kumar <m.chetan.kumar@linux.intel.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "net: wwan: iosm: firmware flashing and coredump collection\n\nThis patch brings-in support for M.2 7560 Device firmware flashing &\ncoredump collection using devlink.\n- Driver Registers with Devlink framework.\n- Register devlink params callback for configuring device params\n  required in flashing or coredump flow.\n- Implements devlink ops flash_update callback that programs modem\n  firmware.\n- Creates region & snapshot required for device coredump log collection.\n\nOn early detection of device in boot rom stage. Driver registers with\nDevlink framework and establish transport channel for PSI (Primary Signed\nImage) injection. Once PSI is injected to device, the device execution\nstage details are read to determine whether device is in flash or\nexception mode. The collected information is reported to devlink user\nspace application & based on this informationi, application proceeds with\neither modem firmware flashing or coredump collection.\n\nSigned-off-by: M Chetan Kumar <m.chetan.kumar@linux.intel.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "M Chetan Kumar",
  "author_email": "m.chetan.kumar@linux.intel.com",
  "author_date": "Mon Sep 13 18:34:12 2021 +0530",
  "author_date_iso": "2021-09-13T18:34:12+05:30",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Mon Sep 13 15:21:10 2021 +0100",
  "committer_date_iso": "2021-09-13T15:21:10+01:00",
  "files_changed": [
    "drivers/net/wwan/Kconfig",
    "drivers/net/wwan/iosm/Makefile",
    "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.c",
    "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.h",
    "drivers/net/wwan/iosm/iosm_ipc_coredump.c",
    "drivers/net/wwan/iosm/iosm_ipc_coredump.h",
    "drivers/net/wwan/iosm/iosm_ipc_devlink.c",
    "drivers/net/wwan/iosm/iosm_ipc_devlink.h",
    "drivers/net/wwan/iosm/iosm_ipc_flash.c",
    "drivers/net/wwan/iosm/iosm_ipc_flash.h",
    "drivers/net/wwan/iosm/iosm_ipc_imem.c",
    "drivers/net/wwan/iosm/iosm_ipc_imem.h",
    "drivers/net/wwan/iosm/iosm_ipc_imem_ops.c",
    "drivers/net/wwan/iosm/iosm_ipc_imem_ops.h"
  ],
  "files_changed_count": 14,
  "stats": [
    {
      "file": "drivers/net/wwan/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/Makefile",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_coredump.c",
      "insertions": 110,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_coredump.h",
      "insertions": 75,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_devlink.c",
      "insertions": 360,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_devlink.h",
      "insertions": 207,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_flash.c",
      "insertions": 562,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_flash.h",
      "insertions": 271,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem.c",
      "insertions": 78,
      "deletions": 25
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem.h",
      "insertions": 16,
      "deletions": 3
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem_ops.c",
      "insertions": 317,
      "deletions": 0
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem_ops.h",
      "insertions": 48,
      "deletions": 1
    }
  ],
  "total_insertions": 2055,
  "total_deletions": 31,
  "total_changes": 2086,
  "parents": [
    "08c53aee26d4413b860f5042873b56ecc959c42c"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_coredump.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_devlink.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_devlink.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_coredump.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_flash.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_flash.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem_ops.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/wwan/iosm/iosm_ipc_imem_ops.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}