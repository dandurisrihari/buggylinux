Commit Hash: 7f054a5bee0987f1e2d4e59daea462421c76f2cb
Subject: ALSA: opl3: Hardening for potential Spectre v1


Security Keywords:
- Hardening

Full commit message:
ALSA: opl3: Hardening for potential Spectre v1

As recently Smatch suggested, one place in OPL3 driver may expand the
array directly from the user-space value with speculation:
  sound/drivers/opl3/opl3_synth.c:476 snd_opl3_set_voice() warn: potential spectre issue 'snd_opl3_regmap'

This patch puts array_index_nospec() for hardening against it.

BugLink: https://marc.info/?l=linux-kernel&m=152411496503418&w=2
Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
Cc: <stable@vger.kernel.org>
Signed-off-by: Takashi Iwai <tiwai@suse.de>

Metadata:
Author: Takashi Iwai <tiwai@suse.de>
Author Date: Tue Apr 24 07:56:07 2018 +0200
Committer: Takashi Iwai <tiwai@suse.de>
Commit Date: Wed Apr 25 10:37:47 2018 +0200

Files Changed: 1
Lines Added: 5
Lines Removed: 2
Total Changes: 7
