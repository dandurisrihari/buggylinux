{
  "hash": "e5eb08ac81d237e19fc68888bbba2cf88891bbe9",
  "hash_short": "e5eb08ac",
  "subject": "Merge tag 'perf-core-for-mingo-5.3-20190709' of git://git.kernel.org/pub/scm/linux/kernel/git/acme/linux into perf/urgent",
  "body": "Pull perf/core improvements and fixes:\n\nIntel PT:\n\n  Adrian Hunter:\n\n  - Fix DROP VIEW power_events_view in the postgresql and sqlite export-db\n    python scripts.\n\nperf script:\n\n  Song Liu:\n\n  - Assume native_arch for pipe mode, fixing a segfault.\n\nperf inject:\n\n  Arnaldo Carvalho de Melo:\n\n  - The tool->read() call may pass a NULL evsel, handle it.\n\ncore:\n\n  Arnaldo Carvalho de Melo:\n\n  - Move zalloc/zfree.c to tools/lib, further eroding tools/perf/util.[ch]\n\n  - Use zfree() where applicable instead of open coded equivalent.\n\n  - Add stdlib.h and some other headers to places where its needed and were\n    getting via util.h, that doesn't need that anymore.\n\n  - Use list_del_init() more thoroughly.\n\nMiscellaneous:\n\n  Leo Yan:\n\n  - Fix use after free and potential NULL pointer derefs detected by the\n    smatch tool in various places.\n\n  Luke Mujica:\n\n  - Remove a couple unused variables in the parse-events code.\n\n  Numfor Mbiziwo-Tiapo:\n\n  - Initialize variable to suppress memory sanitizer warning in the\n    mmap-thread-lookup 'perf test' entry.\n\nSigned-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "full_message": "Merge tag 'perf-core-for-mingo-5.3-20190709' of git://git.kernel.org/pub/scm/linux/kernel/git/acme/linux into perf/urgent\n\nPull perf/core improvements and fixes:\n\nIntel PT:\n\n  Adrian Hunter:\n\n  - Fix DROP VIEW power_events_view in the postgresql and sqlite export-db\n    python scripts.\n\nperf script:\n\n  Song Liu:\n\n  - Assume native_arch for pipe mode, fixing a segfault.\n\nperf inject:\n\n  Arnaldo Carvalho de Melo:\n\n  - The tool->read() call may pass a NULL evsel, handle it.\n\ncore:\n\n  Arnaldo Carvalho de Melo:\n\n  - Move zalloc/zfree.c to tools/lib, further eroding tools/perf/util.[ch]\n\n  - Use zfree() where applicable instead of open coded equivalent.\n\n  - Add stdlib.h and some other headers to places where its needed and were\n    getting via util.h, that doesn't need that anymore.\n\n  - Use list_del_init() more thoroughly.\n\nMiscellaneous:\n\n  Leo Yan:\n\n  - Fix use after free and potential NULL pointer derefs detected by the\n    smatch tool in various places.\n\n  Luke Mujica:\n\n  - Remove a couple unused variables in the parse-events code.\n\n  Numfor Mbiziwo-Tiapo:\n\n  - Initialize variable to suppress memory sanitizer warning in the\n    mmap-thread-lookup 'perf test' entry.\n\nSigned-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "author_name": "Ingo Molnar",
  "author_email": "mingo@kernel.org",
  "author_date": "Sat Jul 13 11:12:47 2019 +0200",
  "author_date_iso": "2019-07-13T11:12:47+02:00",
  "committer_name": "Ingo Molnar",
  "committer_email": "mingo@kernel.org",
  "committer_date": "Sat Jul 13 11:12:47 2019 +0200",
  "committer_date_iso": "2019-07-13T11:12:47+02:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "tools/include/linux/zalloc.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "tools/lib/zalloc.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "tools/perf/MANIFEST",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/arch/arm/annotate/instructions.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/arch/arm/util/auxtrace.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/arch/arm/util/cs-etm.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/arch/arm64/util/arm-spe.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/arch/common.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/arch/powerpc/util/perf_regs.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "tools/perf/arch/s390/util/auxtrace.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/arch/s390/util/header.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/arch/x86/util/event.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/arch/x86/util/intel-bts.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/arch/x86/util/intel-pt.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/arch/x86/util/perf_regs.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/bench/futex-hash.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/bench/futex-lock-pi.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/bench/mem-functions.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/bench/numa.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-annotate.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-bench.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-c2c.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-config.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/builtin-diff.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-ftrace.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-help.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/perf/builtin-inject.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-kmem.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-kvm.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-lock.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "tools/perf/builtin-probe.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-record.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/builtin-report.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/builtin-sched.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/builtin-script.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "tools/perf/builtin-stat.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/perf/builtin-timechart.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "tools/perf/builtin-top.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "tools/perf/builtin-trace.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "tools/perf/perf.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/pmu-events/jevents.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/scripts/python/export-to-postgresql.py",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/scripts/python/export-to-sqlite.py",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/tests/dwarf-unwind.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "tools/perf/tests/expr.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/tests/llvm.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/tests/mem2node.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/tests/mmap-thread-lookup.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/tests/sample-parsing.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/tests/switch-tracking.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/tests/thread-map.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/tests/vmlinux-kallsyms.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/ui/browser.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/ui/browser.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/ui/browsers/annotate.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/ui/browsers/hists.c",
      "insertions": 12,
      "deletions": 5
    },
    {
      "file": "tools/perf/ui/browsers/map.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/ui/browsers/res_sample.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/perf/ui/browsers/scripts.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/ui/gtk/annotate.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/ui/gtk/util.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "tools/perf/ui/stdio/hist.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/ui/tui/setup.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/ui/tui/util.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/Build",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/annotate.c",
      "insertions": 5,
      "deletions": 8
    },
    {
      "file": "tools/perf/util/arm-spe.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/auxtrace.c",
      "insertions": 5,
      "deletions": 6
    },
    {
      "file": "tools/perf/util/bpf-loader.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/build-id.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/call-path.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/callchain.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "tools/perf/util/cgroup.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/comm.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/config.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/counts.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/cpumap.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/cputopo.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/cs-etm-decoder/cs-etm-decoder.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/cs-etm.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/perf/util/data-convert-bt.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/data.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/db-export.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/debug.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/demangle-java.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/dso.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/dwarf-aux.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/env.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "tools/perf/util/event.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/evlist.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/evsel.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/get_current_dir_name.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/get_current_dir_name.h",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/header.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "tools/perf/util/help-unknown-cmd.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/hist.c",
      "insertions": 10,
      "deletions": 10
    },
    {
      "file": "tools/perf/util/intel-bts.c",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "tools/perf/util/intel-pt-decoder/intel-pt-decoder.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/intel-pt.c",
      "insertions": 6,
      "deletions": 9
    },
    {
      "file": "tools/perf/util/jitdump.c",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "tools/perf/util/llvm-utils.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/machine.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/map.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/mem2node.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/metricgroup.c",
      "insertions": 6,
      "deletions": 4
    },
    {
      "file": "tools/perf/util/mmap.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/namespaces.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/namespaces.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/ordered-events.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/parse-branch-options.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/parse-events.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/parse-events.y",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/parse-regs-options.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/pmu.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/probe-event.c",
      "insertions": 26,
      "deletions": 29
    },
    {
      "file": "tools/perf/util/probe-file.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/probe-finder.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/pstack.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/python-ext-sources",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/s390-cpumsf.c",
      "insertions": 5,
      "deletions": 6
    },
    {
      "file": "tools/perf/util/session.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/setns.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/srccode.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "tools/perf/util/srcline.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/stat-shadow.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/stat.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/strbuf.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/strfilter.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/strlist.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/svghelper.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/symbol-elf.c",
      "insertions": 10,
      "deletions": 8
    },
    {
      "file": "tools/perf/util/symbol-minimal.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/symbol.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/syscalltbl.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/target.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/thread-stack.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/thread.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/thread_map.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/perf/util/trace-event-info.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/trace-event-scripting.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/unwind-libdw.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/unwind-libunwind-local.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/usage.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/util.h",
      "insertions": 0,
      "deletions": 17
    },
    {
      "file": "tools/perf/util/values.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/vdso.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/xyarray.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 375,
  "total_deletions": 279,
  "total_changes": 654,
  "parents": [
    "f632a8170a6b667ee4e3f552087588f0fe13c4bb",
    "323fd749821daab0f327ec86d707c4542963cdb0"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.3",
    "v5.3-rc1",
    "v5.3-rc2",
    "v5.3-rc3",
    "v5.3-rc4",
    "v5.3-rc5",
    "v5.3-rc6",
    "v5.3-rc7",
    "v5.3-rc8",
    "v5.4"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "security",
  "file_results": []
}