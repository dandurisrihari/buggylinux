{
  "hash": "02c2c1900feb12363892a983bf04aa5d9d65934b",
  "hash_short": "02c2c190",
  "subject": "Merge tag 'qcom-drivers-for-6.10' of https://git.kernel.org/pub/scm/linux/kernel/git/qcom/linux into soc/drivers",
  "body": "Qualcomm driver updates for v6.10\n\nThe Qualcomm SCM driver initialization order is improved, to avoid any\npotential for a client to find a half-initialized SCM instance.\nThe handling of download mode bits is updated to not attempt\nQCOM_SCM_BOOT_SET_DLOAD_MODE if a io-address for the update is\nspecified, and that path is changed to perform a read-modify-write to\navoid updating unrelated bits.  Error handling is corrected in the\nperipheral authentication service (PAS) functions, to release\ninterconnect bandwidth votes in the case of an error. An unwanted error\nprint on allocation error is also removed from this code path.\n\nThe QSEECOM allow list is marked __maybe_unused to avoid build warnings\nwhen built with !OF. The error handling related to the interconnect API\nis cleaned up to avoid handling the impossible IS_ERR() condition.\n\ninitcall level is bumped to \"core\" for cmd-db and rpmh-rsc, as dependent\ndrivers like regulators, interconnects and clocks are registered at this\nlevel.\n\nAnother attempt is made to remove the strncpy() usage in cmd-db, this\ntime with strtomem_pad() which has the correct characteristics.\n\nThe bwmon regmap cache is changed to maple tree.\n\nAfter an attempt to add missing MODULE_DEVICE_TABLEs to debug drivers,\nthe intention of not having them automatically load is documented.\n\nOperations on the pmic_glink client list is put under mutual exclusion,\nto avoid races when clients are being registered. pmic_glink client\nregistered after the firmware notification arrived was not informed that\nthe firmware was up, this is resolved.\n\nMore DSPs and the apss subsystem is added to the Qualcomm sleep stats driver.\n\nChecks for in-flight regulator requests in the RPMh RSC driver is\nimproved to deal with the fact that these occupy multiple registers, so\nit's insufficient to just to direct address comparison.\n\nThe socinfo drivers learns about X1 Elite and SMB2360 PMIC.\n\nThe maintainers entry is split between the linux-arm-msm list and\nsubset that is maintained in the qcom-soc tree, to avoid some confusion\nabout maintainership.\n\n* tag 'qcom-drivers-for-6.10' of https://git.kernel.org/pub/scm/linux/kernel/git/qcom/linux: (21 commits)\n  soc: qcom: cmd-db: replace deprecated strncpy with strtomem\n  soc: qcom: rpmh-rsc: Enhance check for VRM in-flight request\n  firmware: qcom: scm: Modify only the download bits in TCSR register\n  firmware: qcom: scm: Fix __scm and waitq completion variable initialization\n  firmware: qcom: scm: Rework dload mode availability check\n  firmware: qcom: scm: Remove redundant scm argument from qcom_scm_waitq_wakeup()\n  firmware: qcom: scm: Remove log reporting memory allocation failure\n  soc: qcom: pmic_glink: notify clients about the current state\n  soc: qcom: pmic_glink: don't traverse clients list without a lock\n  soc: qcom: mention intentionally broken module autoloading\n  firmware: qcom: qcm: fix unused qcom_scm_qseecom_allowlist\n  MAINTAINERS: Split Qualcomm SoC and linux-arm-msm entries\n  soc: qcom: qcom_stats: Add DSPs and apss subsystem stats\n  dt-bindings: soc: qcom: qcom,pmic-glink: document QCM6490 compatible\n  soc: qcom: socinfo: Add SMB2360 PMIC\n  soc: qcom: socinfo: Add X1E80100 SoC ID table entry\n  dt-bindings: arm: qcom,ids: Add SoC ID for X1E80100\n  soc: qcom: Update init level to core_initcall() for cmd-db and rpmh-rsc\n  soc: qcom: icc-bwmon: Convert to use maple tree register cache\n  firmware: qcom_scm: remove IS_ERR() checks from qcom_scm_bw_{en,dis}able()\n  ...\n\nLink: https://lore.kernel.org/r/20240427160917.1431354-1-andersson@kernel.org\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>",
  "full_message": "Merge tag 'qcom-drivers-for-6.10' of https://git.kernel.org/pub/scm/linux/kernel/git/qcom/linux into soc/drivers\n\nQualcomm driver updates for v6.10\n\nThe Qualcomm SCM driver initialization order is improved, to avoid any\npotential for a client to find a half-initialized SCM instance.\nThe handling of download mode bits is updated to not attempt\nQCOM_SCM_BOOT_SET_DLOAD_MODE if a io-address for the update is\nspecified, and that path is changed to perform a read-modify-write to\navoid updating unrelated bits.  Error handling is corrected in the\nperipheral authentication service (PAS) functions, to release\ninterconnect bandwidth votes in the case of an error. An unwanted error\nprint on allocation error is also removed from this code path.\n\nThe QSEECOM allow list is marked __maybe_unused to avoid build warnings\nwhen built with !OF. The error handling related to the interconnect API\nis cleaned up to avoid handling the impossible IS_ERR() condition.\n\ninitcall level is bumped to \"core\" for cmd-db and rpmh-rsc, as dependent\ndrivers like regulators, interconnects and clocks are registered at this\nlevel.\n\nAnother attempt is made to remove the strncpy() usage in cmd-db, this\ntime with strtomem_pad() which has the correct characteristics.\n\nThe bwmon regmap cache is changed to maple tree.\n\nAfter an attempt to add missing MODULE_DEVICE_TABLEs to debug drivers,\nthe intention of not having them automatically load is documented.\n\nOperations on the pmic_glink client list is put under mutual exclusion,\nto avoid races when clients are being registered. pmic_glink client\nregistered after the firmware notification arrived was not informed that\nthe firmware was up, this is resolved.\n\nMore DSPs and the apss subsystem is added to the Qualcomm sleep stats driver.\n\nChecks for in-flight regulator requests in the RPMh RSC driver is\nimproved to deal with the fact that these occupy multiple registers, so\nit's insufficient to just to direct address comparison.\n\nThe socinfo drivers learns about X1 Elite and SMB2360 PMIC.\n\nThe maintainers entry is split between the linux-arm-msm list and\nsubset that is maintained in the qcom-soc tree, to avoid some confusion\nabout maintainership.\n\n* tag 'qcom-drivers-for-6.10' of https://git.kernel.org/pub/scm/linux/kernel/git/qcom/linux: (21 commits)\n  soc: qcom: cmd-db: replace deprecated strncpy with strtomem\n  soc: qcom: rpmh-rsc: Enhance check for VRM in-flight request\n  firmware: qcom: scm: Modify only the download bits in TCSR register\n  firmware: qcom: scm: Fix __scm and waitq completion variable initialization\n  firmware: qcom: scm: Rework dload mode availability check\n  firmware: qcom: scm: Remove redundant scm argument from qcom_scm_waitq_wakeup()\n  firmware: qcom: scm: Remove log reporting memory allocation failure\n  soc: qcom: pmic_glink: notify clients about the current state\n  soc: qcom: pmic_glink: don't traverse clients list without a lock\n  soc: qcom: mention intentionally broken module autoloading\n  firmware: qcom: qcm: fix unused qcom_scm_qseecom_allowlist\n  MAINTAINERS: Split Qualcomm SoC and linux-arm-msm entries\n  soc: qcom: qcom_stats: Add DSPs and apss subsystem stats\n  dt-bindings: soc: qcom: qcom,pmic-glink: document QCM6490 compatible\n  soc: qcom: socinfo: Add SMB2360 PMIC\n  soc: qcom: socinfo: Add X1E80100 SoC ID table entry\n  dt-bindings: arm: qcom,ids: Add SoC ID for X1E80100\n  soc: qcom: Update init level to core_initcall() for cmd-db and rpmh-rsc\n  soc: qcom: icc-bwmon: Convert to use maple tree register cache\n  firmware: qcom_scm: remove IS_ERR() checks from qcom_scm_bw_{en,dis}able()\n  ...\n\nLink: https://lore.kernel.org/r/20240427160917.1431354-1-andersson@kernel.org\nSigned-off-by: Arnd Bergmann <arnd@arndb.de>",
  "author_name": "Arnd Bergmann",
  "author_email": "arnd@arndb.de",
  "author_date": "Mon Apr 29 22:23:11 2024 +0200",
  "author_date_iso": "2024-04-29T22:23:11+02:00",
  "committer_name": "Arnd Bergmann",
  "committer_email": "arnd@arndb.de",
  "committer_date": "Mon Apr 29 22:23:14 2024 +0200",
  "committer_date_iso": "2024-04-29T22:23:14+02:00",
  "files_changed": [
    "MAINTAINERS"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "MAINTAINERS",
      "insertions": 28,
      "deletions": 5
    },
    {
      "file": "drivers/firmware/qcom/qcom_scm.c",
      "insertions": 50,
      "deletions": 29
    },
    {
      "file": "drivers/soc/qcom/cmd-db.c",
      "insertions": 33,
      "deletions": 8
    },
    {
      "file": "drivers/soc/qcom/icc-bwmon.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/soc/qcom/pmic_glink.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "drivers/soc/qcom/pmic_pdcharger_ulog.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/soc/qcom/qcom_stats.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/soc/qcom/rpm_master_stats.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/soc/qcom/rpmh-rsc.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/soc/qcom/socinfo.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/dt-bindings/arm/qcom,ids.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/soc/qcom/cmd-db.h",
      "insertions": 9,
      "deletions": 1
    }
  ],
  "total_insertions": 151,
  "total_deletions": 49,
  "total_changes": 200,
  "parents": [
    "cc0739fe2e55e59c7c983c00e22390b79a46ddc2",
    "166db01007ea802ff9933ac73ec8f140ca0cf5d5"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}