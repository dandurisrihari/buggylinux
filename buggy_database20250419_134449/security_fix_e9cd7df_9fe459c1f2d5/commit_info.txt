Commit Hash: e9cd7dfd7ef939394436ef6d03ff156e587ba39e
Subject: ubifs: Do not skip hash checking in data nodes


Security Keywords:
- authentication

Full commit message:
ubifs: Do not skip hash checking in data nodes

UBIFS bails out early from try_read_node() when it doesn't have to check
the CRC. Still the node hash has to be checked, otherwise wrong data
could be sneaked into the FS. Fix this by not bailing out early and
always checking the node hash.

Fixes: 16a26b20d2af ("ubifs: authentication: Add hashes to index nodes")
Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
Signed-off-by: Richard Weinberger <richard@nod.at>

Metadata:
Author: Sascha Hauer <s.hauer@pengutronix.de>
Author Date: Mon Apr 1 15:00:44 2019 +0200
Committer: Richard Weinberger <richard@nod.at>
Commit Date: Tue May 7 21:58:23 2019 +0200

Files Changed: 1
Lines Added: 7
Lines Removed: 8
Total Changes: 15
