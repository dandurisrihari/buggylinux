Commit Hash: 19508b2047403cc88d2255118e2640ab1d3bf8a1
Subject: s390/dasd: Display FC Endpoint Security information via sysfs


Security Keywords:
- Authentication

Full commit message:
s390/dasd: Display FC Endpoint Security information via sysfs

Add a new sysfs attribute (fc_security) per device and per operational
channel path. The information of the current FC Endpoint Security state
is received through the CIO layer.

The state of the FC Endpoint Security can be either "Unsupported",
"Authentication", or "Encryption".

For example:
$ cat /sys/bus/ccw/devices/0.0.c600/fc_security
Encryption

If any of the operational paths is in a state different from all
others, the device sysfs attribute will display the additional state
"Inconsistent".

The sysfs attributes per paths are organised in a new directory called
"paths_info" with subdirectories for each path.

/sys/bus/ccw/devices/0.0.c600/paths_info/
├── 0.38
│   └── fc_security
├── 0.39
│   └── fc_security
├── 0.3a
│   └── fc_security
└── 0.3b
    └── fc_security

Signed-off-by: Jan Höppner <hoeppner@linux.ibm.com>
Signed-off-by: Stefan Haberland <sth@linux.ibm.com>
Reviewed-by: Stefan Haberland <sth@linux.ibm.com>
Reviewed-by: Cornelia Huck <cohuck@redhat.com>
Signed-off-by: Jens Axboe <axboe@kernel.dk>

Metadata:
Author: Jan Höppner <hoeppner@linux.ibm.com>
Author Date: Thu Oct 8 15:13:34 2020 +0200
Committer: Jens Axboe <axboe@kernel.dk>
Commit Date: Mon Nov 16 08:14:38 2020 -0700

Files Changed: 3
Lines Added: 207
Lines Removed: 0
Total Changes: 207
