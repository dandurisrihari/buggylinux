{
  "hash": "087b681805f1de084f89f1041af67295aa981192",
  "hash_short": "087b6818",
  "subject": "drm/i915/dg2: setup HuC loading via GSC",
  "body": "The GSC will perform both the load and the authentication, so we just\nneed to check the auth bit after the GSC has replied.\nSince we require the PXP module to load the HuC, the earliest we can\ntrigger the load is during the pxp_bind operation.\n\nNote that GSC-loaded HuC survives GT reset, so we need to just mark it\nas ready when we re-init the GT HW.\n\nV2: move setting of HuC fw error state to the failure path of the HuC\nauth function, so it covers both the legacy and new auth flows\nV4:\n1. Fix typo in the commit message\n2. style fix in intel_huc_wait_for_auth_complete()\n\nSigned-off-by: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>\nSigned-off-by: Vitaly Lubart <vitaly.lubart@intel.com>\nSigned-off-by: Tomas Winkler <tomas.winkler@intel.com>\nReviewed-by: Alan Previn <alan.previn.teres.alexis@intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/20220928004145.745803-11-daniele.ceraolospurio@intel.com",
  "full_message": "drm/i915/dg2: setup HuC loading via GSC\n\nThe GSC will perform both the load and the authentication, so we just\nneed to check the auth bit after the GSC has replied.\nSince we require the PXP module to load the HuC, the earliest we can\ntrigger the load is during the pxp_bind operation.\n\nNote that GSC-loaded HuC survives GT reset, so we need to just mark it\nas ready when we re-init the GT HW.\n\nV2: move setting of HuC fw error state to the failure path of the HuC\nauth function, so it covers both the legacy and new auth flows\nV4:\n1. Fix typo in the commit message\n2. style fix in intel_huc_wait_for_auth_complete()\n\nSigned-off-by: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>\nSigned-off-by: Vitaly Lubart <vitaly.lubart@intel.com>\nSigned-off-by: Tomas Winkler <tomas.winkler@intel.com>\nReviewed-by: Alan Previn <alan.previn.teres.alexis@intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/20220928004145.745803-11-daniele.ceraolospurio@intel.com",
  "author_name": "Daniele Ceraolo Spurio",
  "author_email": "daniele.ceraolospurio@intel.com",
  "author_date": "Tue Sep 27 17:41:40 2022 -0700",
  "author_date_iso": "2022-09-27T17:41:40-07:00",
  "committer_name": "Daniele Ceraolo Spurio",
  "committer_email": "daniele.ceraolospurio@intel.com",
  "committer_date": "Mon Oct 3 11:29:16 2022 -0700",
  "committer_date_iso": "2022-10-03T11:29:16-07:00",
  "files_changed": [
    "drivers/gpu/drm/i915/gt/uc/intel_huc.c",
    "drivers/gpu/drm/i915/gt/uc/intel_huc.h",
    "drivers/gpu/drm/i915/gt/uc/intel_huc_fw.c",
    "drivers/gpu/drm/i915/gt/uc/intel_huc_fw.h",
    "drivers/gpu/drm/i915/pxp/intel_pxp_tee.c"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc.c",
      "insertions": 27,
      "deletions": 14
    },
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc_fw.c",
      "insertions": 34,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc_fw.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/pxp/intel_pxp_tee.c",
      "insertions": 13,
      "deletions": 1
    }
  ],
  "total_insertions": 77,
  "total_deletions": 15,
  "total_changes": 92,
  "parents": [
    "887a193b4fb13e886d34bea4a1d8711fd775c7cf"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc_fw.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/gt/uc/intel_huc_fw.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/pxp/intel_pxp_tee.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}