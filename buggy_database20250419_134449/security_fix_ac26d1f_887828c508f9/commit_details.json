{
  "hash": "ac26d1f74cfc19c8dc9d533b5f20e99dbee3d9bd",
  "hash_short": "ac26d1f7",
  "subject": "x86/fpu: Use the correct exception table macro in the XSTATE_OP wrapper",
  "body": "Commit\n\n  75045f77f7a7 (\"x86/extable: Introduce _ASM_EXTABLE_UA for uaccess fixups\")\n\nincorrectly replaced the fixup entry for XSTATE_OP with a user-#PF-only\nfixup. XRSTOR can also raise #GP if the xstate content is invalid,\nand _ASM_EXTABLE_UA doesn't expect that. Change this fixup back to\n_ASM_EXTABLE so that #GP gets fixed up.\n\nFixes: 75045f77f7a7 (\"x86/extable: Introduce _ASM_EXTABLE_UA for uaccess fixups\")\nReported-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>\nSigned-off-by: Jann Horn <jannh@google.com>\nSigned-off-by: Borislav Petkov <bp@suse.de>\nAcked-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>\nTested-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>\nCc: \"H. Peter Anvin\" <hpa@zytor.com>\nCc: \"Naveen N. Rao\" <naveen.n.rao@linux.vnet.ibm.com>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Ingo Molnar <mingo@redhat.com>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: kernel-hardening@lists.openwall.com\nCc: x86-ml <x86@kernel.org>\nLink: https://lkml.kernel.org/r/20181126165957.xhsyu2dhyy45mrjo@linutronix.de\nLink: https://lkml.kernel.org/r/20181127133200.38322-1-jannh@google.com",
  "full_message": "x86/fpu: Use the correct exception table macro in the XSTATE_OP wrapper\n\nCommit\n\n  75045f77f7a7 (\"x86/extable: Introduce _ASM_EXTABLE_UA for uaccess fixups\")\n\nincorrectly replaced the fixup entry for XSTATE_OP with a user-#PF-only\nfixup. XRSTOR can also raise #GP if the xstate content is invalid,\nand _ASM_EXTABLE_UA doesn't expect that. Change this fixup back to\n_ASM_EXTABLE so that #GP gets fixed up.\n\nFixes: 75045f77f7a7 (\"x86/extable: Introduce _ASM_EXTABLE_UA for uaccess fixups\")\nReported-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>\nSigned-off-by: Jann Horn <jannh@google.com>\nSigned-off-by: Borislav Petkov <bp@suse.de>\nAcked-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>\nTested-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>\nCc: \"H. Peter Anvin\" <hpa@zytor.com>\nCc: \"Naveen N. Rao\" <naveen.n.rao@linux.vnet.ibm.com>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Ingo Molnar <mingo@redhat.com>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: kernel-hardening@lists.openwall.com\nCc: x86-ml <x86@kernel.org>\nLink: https://lkml.kernel.org/r/20181126165957.xhsyu2dhyy45mrjo@linutronix.de\nLink: https://lkml.kernel.org/r/20181127133200.38322-1-jannh@google.com",
  "author_name": "Jann Horn",
  "author_email": "jannh@google.com",
  "author_date": "Tue Nov 27 14:32:00 2018 +0100",
  "author_date_iso": "2018-11-27T14:32:00+01:00",
  "committer_name": "Borislav Petkov",
  "committer_email": "bp@suse.de",
  "committer_date": "Tue Nov 27 17:55:45 2018 +0100",
  "committer_date_iso": "2018-11-27T17:55:45+01:00",
  "files_changed": [
    "arch/x86/include/asm/fpu/internal.h"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/include/asm/fpu/internal.h",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "68239654acafe6aad5a3c1dc7237e60accfebc03"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.20",
    "v4.20-rc5",
    "v4.20-rc6",
    "v4.20-rc7",
    "v5.0",
    "v5.0-rc1",
    "v5.0-rc2",
    "v5.0-rc3",
    "v5.0-rc4",
    "v5.0-rc5"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/include/asm/fpu/internal.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}