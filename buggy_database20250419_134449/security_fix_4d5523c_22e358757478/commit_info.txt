Commit Hash: 4d5523cfd5d298c58743eb31c003886cfc856709
Subject: KVM: x86: fix DR6 delivery for various cases of #DB injection


Security Keywords:
- injection

Full commit message:
KVM: x86: fix DR6 delivery for various cases of #DB injection

Go through kvm_queue_exception_p so that the payload is correctly delivered
through the exit qualification, and add a kvm_update_dr6 call to
kvm_deliver_exception_payload that is needed on AMD.

Reported-by: Peter Xu <peterx@redhat.com>
Reviewed-by: Peter Xu <peterx@redhat.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Paolo Bonzini <pbonzini@redhat.com>
Author Date: Tue May 5 07:33:20 2020 -0400
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Thu May 7 06:13:41 2020 -0400

Files Changed: 3
Lines Added: 9
Lines Removed: 11
Total Changes: 20
