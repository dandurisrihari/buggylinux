{
  "hash": "b45176703647e5302314c740a51e7d1054a7bd3c",
  "hash_short": "b4517670",
  "subject": "Merge branch 'selftests-net-page_poll-allocation-error-injection'",
  "body": "Jakub Kicinski says:\n\n====================\nselftests: net: page_poll allocation error injection\n\nAdd a test for exercising driver memory allocation failure paths.\npage pool is a bit tricky to inject errors into at the page allocator\nlevel because of the bulk alloc and recycling, so add explicit error\ninjection support \"in front\" of the caches.\n\nAdd a test to exercise that using only the standard APIs.\nThis is the first useful test for the new tests with an endpoint.\nThere's no point testing netdevsim here, so this is also the first\nHW-only test in Python.\n\nI'm not super happy with the traffic generation using iperf3,\nmy initial approach was to use mausezahn. But it turned out to be\n5x slower in terms of PPS. Hopefully this is good enough for now.\n\nv1: https://lore.kernel.org/all/20240426232400.624864-1-kuba@kernel.org/\n====================\n\nLink: https://lore.kernel.org/r/20240429144426.743476-1-kuba@kernel.org\nSigned-off-by: Jakub Kicinski <kuba@kernel.org>",
  "full_message": "Merge branch 'selftests-net-page_poll-allocation-error-injection'\n\nJakub Kicinski says:\n\n====================\nselftests: net: page_poll allocation error injection\n\nAdd a test for exercising driver memory allocation failure paths.\npage pool is a bit tricky to inject errors into at the page allocator\nlevel because of the bulk alloc and recycling, so add explicit error\ninjection support \"in front\" of the caches.\n\nAdd a test to exercise that using only the standard APIs.\nThis is the first useful test for the new tests with an endpoint.\nThere's no point testing netdevsim here, so this is also the first\nHW-only test in Python.\n\nI'm not super happy with the traffic generation using iperf3,\nmy initial approach was to use mausezahn. But it turned out to be\n5x slower in terms of PPS. Hopefully this is good enough for now.\n\nv1: https://lore.kernel.org/all/20240426232400.624864-1-kuba@kernel.org/\n====================\n\nLink: https://lore.kernel.org/r/20240429144426.743476-1-kuba@kernel.org\nSigned-off-by: Jakub Kicinski <kuba@kernel.org>",
  "author_name": "Jakub Kicinski",
  "author_email": "kuba@kernel.org",
  "author_date": "Tue Apr 30 08:15:33 2024 -0700",
  "author_date_iso": "2024-04-30T08:15:33-07:00",
  "committer_name": "Jakub Kicinski",
  "committer_email": "kuba@kernel.org",
  "committer_date": "Tue Apr 30 08:15:34 2024 -0700",
  "committer_date_iso": "2024-04-30T08:15:34-07:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "net/core/page_pool.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/drivers/net/hw/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/drivers/net/hw/lib/py/__init__.py",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/drivers/net/hw/pp_alloc_fail.py",
      "insertions": 129,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/drivers/net/lib/py/__init__.py",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/drivers/net/lib/py/env.py",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/drivers/net/lib/py/load.py",
      "insertions": 41,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/net/lib/py/ksft.py",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/net/lib/py/utils.py",
      "insertions": 10,
      "deletions": 4
    }
  ],
  "total_insertions": 214,
  "total_deletions": 7,
  "total_changes": 221,
  "parents": [
    "f581bcf02f0e0b42516bfeb3e34860919b9e78d2",
    "9da271f825e42156058a2eb09360bc993853bbba"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": []
}