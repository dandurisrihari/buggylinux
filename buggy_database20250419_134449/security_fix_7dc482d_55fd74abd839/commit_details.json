{
  "hash": "7dc482dfeeeefcfd000d4271c4626937406756d7",
  "hash_short": "7dc482df",
  "subject": "drm/r128: Add test for initialisation to all ioctls that require it",
  "body": "Almost all r128's private ioctls require that the CCE state has\nalready been initialised.  However, most do not test that this has\nbeen done, and will proceed to dereference a null pointer.  This may\nresult in a security vulnerability, since some ioctls are\nunprivileged.\n\nThis adds a macro for the common initialisation test and changes all\nioctl implementations that require prior initialisation to use that\nmacro.\n\nAlso, r128_do_init_cce() does not test that the CCE state has not\nbeen initialised already.  Repeated initialisation may lead to a crash\nor resource leak.  This adds that test.\n\nSigned-off-by: Ben Hutchings <ben@decadent.org.uk>\nSigned-off-by: Dave Airlie <airlied@redhat.com>",
  "full_message": "drm/r128: Add test for initialisation to all ioctls that require it\n\nAlmost all r128's private ioctls require that the CCE state has\nalready been initialised.  However, most do not test that this has\nbeen done, and will proceed to dereference a null pointer.  This may\nresult in a security vulnerability, since some ioctls are\nunprivileged.\n\nThis adds a macro for the common initialisation test and changes all\nioctl implementations that require prior initialisation to use that\nmacro.\n\nAlso, r128_do_init_cce() does not test that the CCE state has not\nbeen initialised already.  Repeated initialisation may lead to a crash\nor resource leak.  This adds that test.\n\nSigned-off-by: Ben Hutchings <ben@decadent.org.uk>\nSigned-off-by: Dave Airlie <airlied@redhat.com>",
  "author_name": "Ben Hutchings",
  "author_email": "ben@decadent.org.uk",
  "author_date": "Sun Aug 23 16:59:04 2009 +0100",
  "author_date_iso": "2009-08-23T16:59:04+01:00",
  "committer_name": "Dave Airlie",
  "committer_email": "airlied@redhat.com",
  "committer_date": "Mon Aug 31 09:09:30 2009 +1000",
  "committer_date_iso": "2009-08-31T09:09:30+10:00",
  "files_changed": [
    "drivers/gpu/drm/r128/r128_cce.c",
    "drivers/gpu/drm/r128/r128_drv.h",
    "drivers/gpu/drm/r128/r128_state.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "drivers/gpu/drm/r128/r128_cce.c",
      "insertions": 14,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/r128/r128_drv.h",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/r128/r128_state.c",
      "insertions": 19,
      "deletions": 17
    }
  ],
  "total_insertions": 41,
  "total_deletions": 21,
  "total_changes": 62,
  "parents": [
    "70967ab9c0c9017645d167d33675eab996633631"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.32",
    "v2.6.32-rc1",
    "v2.6.32-rc2",
    "v2.6.32-rc3",
    "v2.6.32-rc4",
    "v2.6.32-rc5",
    "v2.6.32-rc6",
    "v2.6.32-rc7",
    "v2.6.32-rc8",
    "v2.6.33"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "security vulnerability",
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/r128/r128_cce.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/r128/r128_drv.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/r128/r128_state.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}