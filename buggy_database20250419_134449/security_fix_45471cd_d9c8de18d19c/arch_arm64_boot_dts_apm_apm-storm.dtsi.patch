commit 45471cd98decae5fced8b38e46c223f54a924814
Merge: 93a4b1b9465d 043b43180efe
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Wed Jun 24 19:52:06 2015 -0700

    Merge tag 'edac_for_4.2_2' of git://git.kernel.org/pub/scm/linux/kernel/git/bp/bp
    
    Pull EDAC updates from Borislav Petkov:
    
     - New APM X-Gene SoC EDAC driver (Loc Ho)
    
     - AMD error injection module improvements (Aravind Gopalakrishnan)
    
     - Altera Arria 10 support (Thor Thayer)
    
     - misc fixes and cleanups all over the place
    
    * tag 'edac_for_4.2_2' of git://git.kernel.org/pub/scm/linux/kernel/git/bp/bp: (28 commits)
      EDAC: Update Documentation/edac.txt
      EDAC: Fix typos in Documentation/edac.txt
      EDAC, mce_amd_inj: Set MISCV on injection
      EDAC, mce_amd_inj: Move bit preparations before the injection
      EDAC, mce_amd_inj: Cleanup and simplify README
      EDAC, altera: Do not allow suspend when EDAC is enabled
      EDAC, mce_amd_inj: Make inj_type static
      arm: socfpga: dts: Add Arria10 SDRAM EDAC DTS support
      EDAC, altera: Add Arria10 EDAC support
      EDAC, altera: Refactor for Altera CycloneV SoC
      EDAC, altera: Generalize driver to use DT Memory size
      EDAC, mce_amd_inj: Add README file
      EDAC, mce_amd_inj: Add individual permissions field to dfs_node
      EDAC, mce_amd_inj: Modify flags attribute to use string arguments
      EDAC, mce_amd_inj: Read out number of MCE banks from the hardware
      EDAC, mce_amd_inj: Use MCE_INJECT_GET macro for bank node too
      EDAC, xgene: Fix cpuid abuse
      EDAC, mpc85xx: Extend error address to 64 bit
      EDAC, mpc8xxx: Adapt for FSL SoC
      EDAC, edac_stub: Drop arch-specific include
      ...

diff --cc arch/arm64/boot/dts/apm/apm-storm.dtsi
index d8f3a1c65ecd,577799f0c5a3..0bb287ca0a98
--- a/arch/arm64/boot/dts/apm/apm-storm.dtsi
+++ b/arch/arm64/boot/dts/apm/apm-storm.dtsi
@@@ -374,28 -374,89 +374,111 @@@
  			};
  		};
  
 +		msi: msi@79000000 {
 +			compatible = "apm,xgene1-msi";
 +			msi-controller;
 +			reg = <0x00 0x79000000 0x0 0x900000>;
 +			interrupts = <  0x0 0x10 0x4
 +					0x0 0x11 0x4
 +					0x0 0x12 0x4
 +					0x0 0x13 0x4
 +					0x0 0x14 0x4
 +					0x0 0x15 0x4
 +					0x0 0x16 0x4
 +					0x0 0x17 0x4
 +					0x0 0x18 0x4
 +					0x0 0x19 0x4
 +					0x0 0x1a 0x4
 +					0x0 0x1b 0x4
 +					0x0 0x1c 0x4
 +					0x0 0x1d 0x4
 +					0x0 0x1e 0x4
 +					0x0 0x1f 0x4>;
 +		};
 +
+ 		csw: csw@7e200000 {
+ 			compatible = "apm,xgene-csw", "syscon";
+ 			reg = <0x0 0x7e200000 0x0 0x1000>;
+ 		};
+ 
+ 		mcba: mcba@7e700000 {
+ 			compatible = "apm,xgene-mcb", "syscon";
+ 			reg = <0x0 0x7e700000 0x0 0x1000>;
+ 		};
+ 
+ 		mcbb: mcbb@7e720000 {
+ 			compatible = "apm,xgene-mcb", "syscon";
+ 			reg = <0x0 0x7e720000 0x0 0x1000>;
+ 		};
+ 
+ 		efuse: efuse@1054a000 {
+ 			compatible = "apm,xgene-efuse", "syscon";
+ 			reg = <0x0 0x1054a000 0x0 0x20>;
+ 		};
+ 
+ 		edac@78800000 {
+ 			compatible = "apm,xgene-edac";
+ 			#address-cells = <2>;
+ 			#size-cells = <2>;
+ 			ranges;
+ 			regmap-csw = <&csw>;
+ 			regmap-mcba = <&mcba>;
+ 			regmap-mcbb = <&mcbb>;
+ 			regmap-efuse = <&efuse>;
+ 			reg = <0x0 0x78800000 0x0 0x100>;
+ 			interrupts = <0x0 0x20 0x4>,
+ 				     <0x0 0x21 0x4>,
+ 				     <0x0 0x27 0x4>;
+ 
+ 			edacmc@7e800000 {
+ 				compatible = "apm,xgene-edac-mc";
+ 				reg = <0x0 0x7e800000 0x0 0x1000>;
+ 				memory-controller = <0>;
+ 			};
+ 
+ 			edacmc@7e840000 {
+ 				compatible = "apm,xgene-edac-mc";
+ 				reg = <0x0 0x7e840000 0x0 0x1000>;
+ 				memory-controller = <1>;
+ 			};
+ 
+ 			edacmc@7e880000 {
+ 				compatible = "apm,xgene-edac-mc";
+ 				reg = <0x0 0x7e880000 0x0 0x1000>;
+ 				memory-controller = <2>;
+ 			};
+ 
+ 			edacmc@7e8c0000 {
+ 				compatible = "apm,xgene-edac-mc";
+ 				reg = <0x0 0x7e8c0000 0x0 0x1000>;
+ 				memory-controller = <3>;
+ 			};
+ 
+ 			edacpmd@7c000000 {
+ 				compatible = "apm,xgene-edac-pmd";
+ 				reg = <0x0 0x7c000000 0x0 0x200000>;
+ 				pmd-controller = <0>;
+ 			};
+ 
+ 			edacpmd@7c200000 {
+ 				compatible = "apm,xgene-edac-pmd";
+ 				reg = <0x0 0x7c200000 0x0 0x200000>;
+ 				pmd-controller = <1>;
+ 			};
+ 
+ 			edacpmd@7c400000 {
+ 				compatible = "apm,xgene-edac-pmd";
+ 				reg = <0x0 0x7c400000 0x0 0x200000>;
+ 				pmd-controller = <2>;
+ 			};
+ 
+ 			edacpmd@7c600000 {
+ 				compatible = "apm,xgene-edac-pmd";
+ 				reg = <0x0 0x7c600000 0x0 0x200000>;
+ 				pmd-controller = <3>;
+ 			};
+ 		};
+ 
  		pcie0: pcie@1f2b0000 {
  			status = "disabled";
  			device_type = "pci";