{
  "hash": "f1d40433352e5d4babd59c0dd50b5f9414073ddb",
  "hash_short": "f1d40433",
  "subject": "ALSA: rawmidi: Move lock to snd_rawmidi_substream",
  "body": "Having a lock in snd_rawmidi_runtime can be a problem especially when\na substream is accessed from the outside, as the runtime creation\nmight be racy with the external calls.  As a first step for hardening,\nmove the spinlock from snd_rawmidi_runtime to snd_rawmidi_substream.\n\nThis patch just replaces the lock calls, no real functional change is\nput yet.\n\nLink: https://lore.kernel.org/r/20220617144051.18985-3-tiwai@suse.de\nSigned-off-by: Takashi Iwai <tiwai@suse.de>",
  "full_message": "ALSA: rawmidi: Move lock to snd_rawmidi_substream\n\nHaving a lock in snd_rawmidi_runtime can be a problem especially when\na substream is accessed from the outside, as the runtime creation\nmight be racy with the external calls.  As a first step for hardening,\nmove the spinlock from snd_rawmidi_runtime to snd_rawmidi_substream.\n\nThis patch just replaces the lock calls, no real functional change is\nput yet.\n\nLink: https://lore.kernel.org/r/20220617144051.18985-3-tiwai@suse.de\nSigned-off-by: Takashi Iwai <tiwai@suse.de>",
  "author_name": "Takashi Iwai",
  "author_email": "tiwai@suse.de",
  "author_date": "Fri Jun 17 16:40:48 2022 +0200",
  "author_date_iso": "2022-06-17T16:40:48+02:00",
  "committer_name": "Takashi Iwai",
  "committer_email": "tiwai@suse.de",
  "committer_date": "Mon Jun 20 09:36:02 2022 +0200",
  "committer_date_iso": "2022-06-20T09:36:02+02:00",
  "files_changed": [
    "include/sound/rawmidi.h",
    "sound/core/rawmidi.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "include/sound/rawmidi.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "sound/core/rawmidi.c",
      "insertions": 64,
      "deletions": 67
    }
  ],
  "total_insertions": 65,
  "total_deletions": 68,
  "total_changes": 133,
  "parents": [
    "cd76175a2b204911a3cddef36b99e56945b6938c"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/sound/rawmidi.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "sound/core/rawmidi.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}