Commit Hash: 519a0d7e495a6d3ce62594e485aea2a3a4a2ca0a
Subject: crypto: arm64/poly1305-neon - reorder PAC authentication with SP update


Security Keywords:
- authentication

Full commit message:
crypto: arm64/poly1305-neon - reorder PAC authentication with SP update

PAC pointer authentication signs the return address against the value
of the stack pointer, to prevent stack overrun exploits from corrupting
the control flow. However, this requires that the AUTIASP is issued with
SP holding the same value as it held when the PAC value was generated.
The Poly1305 NEON code got this wrong, resulting in crashes on PAC
capable hardware.

Fixes: f569ca164751 ("crypto: arm64/poly1305 - incorporate OpenSSL/CRYPTOGAMS ...")
Signed-off-by: Ard Biesheuvel <ardb@kernel.org>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

Metadata:
Author: Ard Biesheuvel <ardb@kernel.org>
Author Date: Tue Oct 27 00:00:27 2020 +0100
Committer: Herbert Xu <herbert@gondor.apana.org.au>
Commit Date: Fri Nov 6 14:29:11 2020 +1100

Files Changed: 2
Lines Added: 2
Lines Removed: 2
Total Changes: 4
