{
  "hash": "80fb97479878f2c7c4f300de7758304fc0401006",
  "hash_short": "80fb9747",
  "subject": "Merge tag 'gpio-v3.16-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio into next",
  "body": "Pull GPIO updates from Linus Walleij:\n \"This is the bulk of GPIO changes for the v3.16 series.\n\n  There is a lot of action in the GPIO subsystem doing refactorings and\n  cleanups, almost as many deletions as insertions and minor feature\n  growth and no new drivers this time.  Which is actually pretty nice.\n  Some GPIO-related stuff will come in through the pin control tree as\n  well.\n\n  Details:\n\n   - We are finalizing and fixing up the gpiochip irqchip helpers\n     bringing a helpful irqchip implementation into the gpiolib core and\n     avoiding duplicate code and, more importantly, duplicate bug fixes:\n\n     * Support for using the helpers with threaded interrupt handlers as\n       used on sleeping GPIO-irqchips\n\n     * Do not set up hardware triggers for edges or levels if the\n       default IRQ type is IRQ_TYPE_NONE - some drivers would exploit\n       the fact that you could get default initialization of the IRQ\n       type from the core at probe() but if no default type is set up\n       from the helper, we should not call the driver to configure\n       anything.  Wait until a consumer requests the interrupt instead.\n\n     * Make the irqchip helpers put the GPIO irqs into their own lock\n       class.  The GPIO irqchips can often emit (harmless, but annoying)\n       lockdep warnings about recursions when they are in fact just\n       cascaded IRQs.  By putting them into their own lock class we help\n       the lockdep core to keep track of things.\n\n     * Switch the tc3589x GPIO expanders to use the irqchip helpers\n\n     * Switch the OMAP GPIO driver to use the irqchip helpers\n\n     * Add some documentation for the irqchip helpers\n\n     * select IRQ_DOMAIN when using the helpers since some platforms may\n       not be using this by default and it's a strict dependency.\n\n   - Continued GPIO descriptor refactoring:\n\n     * Remove the one instance of gpio_to_desc() from the device tree\n       code, making the OF GPIO code use GPIO descriptors only.\n\n     * Introduce gpiod_get_optional() and gpiod_get_optional_index()\n       akin to the similar regulator functions for cases where the use\n       of GPIO is optional and not strictly required.\n\n     * Make of_get_named_gpiod_flags() private - we do not want to\n       unnecessarily expose APIs to drivers that make the gpiolib harder\n       than necessary to maintain and refactor.  Privatize this\n       function.\n\n   - Support \"-gpio\" suffix for the OF GPIO retrieveal path.  We used to\n     look for \"foo-gpios\" or just \"gpios\" in device tree nodes, but it\n     turns out that some drivers with a single GPIO line will just state\n     \"foo-gpio\" (singularis).  Sigh.  Support this with a fallback\n     looking for it, as this simplifies driver code and handles it in\n     core code.\n\n   - Switch the ACPI GPIO core to fetch GPIOs with the *_cansleep\n     function variants as the GPIO operation region handler can sleep,\n     and shall be able to handle gpiochips that sleep.\n\n   - Tons of cleanups and janitorial work from Jingoo Han, Axel Lin,\n     Javier Martinez Canillas and Abdoulaye Berthe.  Notably Jingoo cut\n     off a ton of pointless OOM messages.\n\n   - Incremental development and fixes for various drivers, nothing\n     really special here\"\n\n* tag 'gpio-v3.16-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio: (85 commits)\n  gpio: select IRQ_DOMAIN for gpiolib irqchip helpers\n  gpio: pca953x: use gpiolib irqchip helpers\n  gpio: pcf857x: Add IRQF_SHARED when request irq\n  gpio: pcf857x: Avoid calling irq_domain_cleanup twice\n  gpio: mcp23s08: switch chip count to int\n  gpio: dwapb: use a second irq chip\n  gpio: ep93xx: Use devm_ioremap_resource()\n  gpio: mcp23s08: fixed count variable for devicetree probing\n  gpio: Add run-time dependencies to R-Car driver\n  gpio: pch: add slab include\n  Documentation / ACPI: Fix location of GPIO documentation\n  gpio / ACPI: use *_cansleep version of gpiod_get/set APIs\n  gpio: generic: add request function pointer\n  gpio-pch: Fix Kconfig dependencies\n  gpio: make of_get_named_gpiod_flags() private\n  gpio: gpioep93xx: use devm functions\n  gpio: janzttl: use devm function\n  gpio: timberdale: use devm functions\n  gpio: bt8xx: use devm function for memory allocation\n  gpio: include linux/bug.h in interface header\n  ...",
  "full_message": "Merge tag 'gpio-v3.16-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio into next\n\nPull GPIO updates from Linus Walleij:\n \"This is the bulk of GPIO changes for the v3.16 series.\n\n  There is a lot of action in the GPIO subsystem doing refactorings and\n  cleanups, almost as many deletions as insertions and minor feature\n  growth and no new drivers this time.  Which is actually pretty nice.\n  Some GPIO-related stuff will come in through the pin control tree as\n  well.\n\n  Details:\n\n   - We are finalizing and fixing up the gpiochip irqchip helpers\n     bringing a helpful irqchip implementation into the gpiolib core and\n     avoiding duplicate code and, more importantly, duplicate bug fixes:\n\n     * Support for using the helpers with threaded interrupt handlers as\n       used on sleeping GPIO-irqchips\n\n     * Do not set up hardware triggers for edges or levels if the\n       default IRQ type is IRQ_TYPE_NONE - some drivers would exploit\n       the fact that you could get default initialization of the IRQ\n       type from the core at probe() but if no default type is set up\n       from the helper, we should not call the driver to configure\n       anything.  Wait until a consumer requests the interrupt instead.\n\n     * Make the irqchip helpers put the GPIO irqs into their own lock\n       class.  The GPIO irqchips can often emit (harmless, but annoying)\n       lockdep warnings about recursions when they are in fact just\n       cascaded IRQs.  By putting them into their own lock class we help\n       the lockdep core to keep track of things.\n\n     * Switch the tc3589x GPIO expanders to use the irqchip helpers\n\n     * Switch the OMAP GPIO driver to use the irqchip helpers\n\n     * Add some documentation for the irqchip helpers\n\n     * select IRQ_DOMAIN when using the helpers since some platforms may\n       not be using this by default and it's a strict dependency.\n\n   - Continued GPIO descriptor refactoring:\n\n     * Remove the one instance of gpio_to_desc() from the device tree\n       code, making the OF GPIO code use GPIO descriptors only.\n\n     * Introduce gpiod_get_optional() and gpiod_get_optional_index()\n       akin to the similar regulator functions for cases where the use\n       of GPIO is optional and not strictly required.\n\n     * Make of_get_named_gpiod_flags() private - we do not want to\n       unnecessarily expose APIs to drivers that make the gpiolib harder\n       than necessary to maintain and refactor.  Privatize this\n       function.\n\n   - Support \"-gpio\" suffix for the OF GPIO retrieveal path.  We used to\n     look for \"foo-gpios\" or just \"gpios\" in device tree nodes, but it\n     turns out that some drivers with a single GPIO line will just state\n     \"foo-gpio\" (singularis).  Sigh.  Support this with a fallback\n     looking for it, as this simplifies driver code and handles it in\n     core code.\n\n   - Switch the ACPI GPIO core to fetch GPIOs with the *_cansleep\n     function variants as the GPIO operation region handler can sleep,\n     and shall be able to handle gpiochips that sleep.\n\n   - Tons of cleanups and janitorial work from Jingoo Han, Axel Lin,\n     Javier Martinez Canillas and Abdoulaye Berthe.  Notably Jingoo cut\n     off a ton of pointless OOM messages.\n\n   - Incremental development and fixes for various drivers, nothing\n     really special here\"\n\n* tag 'gpio-v3.16-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio: (85 commits)\n  gpio: select IRQ_DOMAIN for gpiolib irqchip helpers\n  gpio: pca953x: use gpiolib irqchip helpers\n  gpio: pcf857x: Add IRQF_SHARED when request irq\n  gpio: pcf857x: Avoid calling irq_domain_cleanup twice\n  gpio: mcp23s08: switch chip count to int\n  gpio: dwapb: use a second irq chip\n  gpio: ep93xx: Use devm_ioremap_resource()\n  gpio: mcp23s08: fixed count variable for devicetree probing\n  gpio: Add run-time dependencies to R-Car driver\n  gpio: pch: add slab include\n  Documentation / ACPI: Fix location of GPIO documentation\n  gpio / ACPI: use *_cansleep version of gpiod_get/set APIs\n  gpio: generic: add request function pointer\n  gpio-pch: Fix Kconfig dependencies\n  gpio: make of_get_named_gpiod_flags() private\n  gpio: gpioep93xx: use devm functions\n  gpio: janzttl: use devm function\n  gpio: timberdale: use devm functions\n  gpio: bt8xx: use devm function for memory allocation\n  gpio: include linux/bug.h in interface header\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Mon Jun 2 08:46:03 2014 -0700",
  "author_date_iso": "2014-06-02T08:46:03-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Jun 2 08:46:03 2014 -0700",
  "committer_date_iso": "2014-06-02T08:46:03-07:00",
  "files_changed": [
    "MAINTAINERS",
    "drivers/gpio/gpio-mcp23s08.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "Documentation/acpi/enumeration.txt",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "Documentation/devicetree/bindings/gpio/renesas,gpio-rcar.txt",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "Documentation/driver-model/devres.txt",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "Documentation/gpio/driver.txt",
      "insertions": 59,
      "deletions": 0
    },
    {
      "file": "MAINTAINERS",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpio/Kconfig",
      "insertions": 16,
      "deletions": 4
    },
    {
      "file": "drivers/gpio/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpio/devres.c",
      "insertions": 43,
      "deletions": 0
    },
    {
      "file": "drivers/gpio/gpio-adp5520.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-adp5588.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-bt8xx.c",
      "insertions": 6,
      "deletions": 13
    },
    {
      "file": "drivers/gpio/gpio-davinci.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-dwapb.c",
      "insertions": 22,
      "deletions": 16
    },
    {
      "file": "drivers/gpio/gpio-em.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/gpio/gpio-ep93xx.c",
      "insertions": 7,
      "deletions": 27
    },
    {
      "file": "drivers/gpio/gpio-ge.c",
      "insertions": 53,
      "deletions": 121
    },
    {
      "file": "drivers/gpio/gpio-generic.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "drivers/gpio/gpio-grgpio.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpio/gpio-janz-ttl.c",
      "insertions": 8,
      "deletions": 30
    },
    {
      "file": "drivers/gpio/gpio-kempld.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpio/gpio-lynxpoint.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-max730x.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-mcp23s08.c",
      "insertions": 12,
      "deletions": 5
    },
    {
      "file": "drivers/gpio/gpio-moxart.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-mvebu.c",
      "insertions": 3,
      "deletions": 10
    },
    {
      "file": "drivers/gpio/gpio-omap.c",
      "insertions": 110,
      "deletions": 95
    },
    {
      "file": "drivers/gpio/gpio-palmas.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/gpio/gpio-pca953x.c",
      "insertions": 38,
      "deletions": 64
    },
    {
      "file": "drivers/gpio/gpio-pcf857x.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "drivers/gpio/gpio-pch.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpio/gpio-pl061.c",
      "insertions": 13,
      "deletions": 14
    },
    {
      "file": "drivers/gpio/gpio-rc5t583.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-rcar.c",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "drivers/gpio/gpio-rdc321x.c",
      "insertions": 7,
      "deletions": 16
    },
    {
      "file": "drivers/gpio/gpio-sch.c",
      "insertions": 22,
      "deletions": 4
    },
    {
      "file": "drivers/gpio/gpio-sch311x.c",
      "insertions": 12,
      "deletions": 4
    },
    {
      "file": "drivers/gpio/gpio-spear-spics.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-sx150x.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/gpio/gpio-tc3589x.c",
      "insertions": 32,
      "deletions": 116
    },
    {
      "file": "drivers/gpio/gpio-tegra.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/gpio/gpio-timberdale.c",
      "insertions": 16,
      "deletions": 31
    },
    {
      "file": "drivers/gpio/gpio-tps6586x.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-tps65910.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpio/gpio-xilinx.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpio/gpio-zevio.c",
      "insertions": 11,
      "deletions": 7
    },
    {
      "file": "drivers/gpio/gpiolib-acpi.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/gpio/gpiolib-of.c",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "drivers/gpio/gpiolib.c",
      "insertions": 83,
      "deletions": 18
    },
    {
      "file": "drivers/gpio/gpiolib.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "include/linux/gpio/consumer.h",
      "insertions": 41,
      "deletions": 0
    },
    {
      "file": "include/linux/gpio/driver.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "include/linux/mfd/tc3589x.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "include/linux/of_gpio.h",
      "insertions": 3,
      "deletions": 32
    }
  ],
  "total_insertions": 704,
  "total_deletions": 685,
  "total_changes": 1389,
  "parents": [
    "9f888b3a10782de27864659d4ab48eb6ef2c0bf3",
    "fc346270124a1a05a5b3c47f277d467ff410b3ae"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.16",
    "v3.16-rc1",
    "v3.16-rc2",
    "v3.16-rc3",
    "v3.16-rc4",
    "v3.16-rc5",
    "v3.16-rc6",
    "v3.16-rc7",
    "v3.17",
    "v3.17-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpio/gpio-mcp23s08.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}