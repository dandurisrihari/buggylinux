{
  "hash": "5fbf57a937f418fe204f9dbb7735e91984f4ee6a",
  "hash_short": "5fbf57a9",
  "subject": "net: netlink: remove the cb_mutex \"injection\" from netlink core",
  "body": "Back in 2007, in commit af65bdfce98d (\"[NETLINK]: Switch cb_lock spinlock\nto mutex and allow to override it\") netlink core was extended to allow\nsubsystems to replace the dump mutex lock with its own lock.\n\nThe mechanism was used by rtnetlink to take rtnl_lock but it isn't\nsufficiently flexible for other users. Over the 17 years since\nit was added no other user appeared. Since rtnetlink needs conditional\nlocking now, and doesn't use it either, axe this feature complete.\n\nSigned-off-by: Jakub Kicinski <kuba@kernel.org>\nReviewed-by: Kuniyuki Iwashima <kuniyu@amazon.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "net: netlink: remove the cb_mutex \"injection\" from netlink core\n\nBack in 2007, in commit af65bdfce98d (\"[NETLINK]: Switch cb_lock spinlock\nto mutex and allow to override it\") netlink core was extended to allow\nsubsystems to replace the dump mutex lock with its own lock.\n\nThe mechanism was used by rtnetlink to take rtnl_lock but it isn't\nsufficiently flexible for other users. Over the 17 years since\nit was added no other user appeared. Since rtnetlink needs conditional\nlocking now, and doesn't use it either, axe this feature complete.\n\nSigned-off-by: Jakub Kicinski <kuba@kernel.org>\nReviewed-by: Kuniyuki Iwashima <kuniyu@amazon.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "Jakub Kicinski",
  "author_email": "kuba@kernel.org",
  "author_date": "Thu Jun 6 12:29:06 2024 -0700",
  "author_date_iso": "2024-06-06T12:29:06-07:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Mon Jun 10 13:15:40 2024 +0100",
  "committer_date_iso": "2024-06-10T13:15:40+01:00",
  "files_changed": [
    "include/linux/netlink.h",
    "net/netlink/af_netlink.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "include/linux/netlink.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "net/netlink/af_netlink.c",
      "insertions": 3,
      "deletions": 15
    }
  ],
  "total_insertions": 3,
  "total_deletions": 16,
  "total_changes": 19,
  "parents": [
    "5380d64f8d766576ac5c0f627418b2d0e1d2641f"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/linux/netlink.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/netlink/af_netlink.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}