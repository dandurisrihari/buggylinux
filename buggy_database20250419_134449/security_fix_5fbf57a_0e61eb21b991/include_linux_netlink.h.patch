commit 5fbf57a937f418fe204f9dbb7735e91984f4ee6a
Author: Jakub Kicinski <kuba@kernel.org>
Date:   Thu Jun 6 12:29:06 2024 -0700

    net: netlink: remove the cb_mutex "injection" from netlink core
    
    Back in 2007, in commit af65bdfce98d ("[NETLINK]: Switch cb_lock spinlock
    to mutex and allow to override it") netlink core was extended to allow
    subsystems to replace the dump mutex lock with its own lock.
    
    The mechanism was used by rtnetlink to take rtnl_lock but it isn't
    sufficiently flexible for other users. Over the 17 years since
    it was added no other user appeared. Since rtnetlink needs conditional
    locking now, and doesn't use it either, axe this feature complete.
    
    Signed-off-by: Jakub Kicinski <kuba@kernel.org>
    Reviewed-by: Kuniyuki Iwashima <kuniyu@amazon.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

diff --git a/include/linux/netlink.h b/include/linux/netlink.h
index 5df7340d4dab..b332c2048c75 100644
--- a/include/linux/netlink.h
+++ b/include/linux/netlink.h
@@ -47,7 +47,6 @@ struct netlink_kernel_cfg {
 	unsigned int	groups;
 	unsigned int	flags;
 	void		(*input)(struct sk_buff *skb);
-	struct mutex	*cb_mutex;
 	int		(*bind)(struct net *net, int group);
 	void		(*unbind)(struct net *net, int group);
 	void            (*release) (struct sock *sk, unsigned long *groups);