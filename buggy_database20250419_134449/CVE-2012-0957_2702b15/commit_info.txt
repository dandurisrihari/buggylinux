Commit Hash: 2702b1526c7278c4d65d78de209a465d4de2885e
Subject: kernel/sys.c: fix stack memory content leak via UNAME26

CVE Identifiers:
- CVE-2012-0957

Full commit message:
kernel/sys.c: fix stack memory content leak via UNAME26

Calling uname() with the UNAME26 personality set allows a leak of kernel
stack contents.  This fixes it by defensively calculating the length of
copy_to_user() call, making the len argument unsigned, and initializing
the stack buffer to zero (now technically unneeded, but hey, overkill).

CVE-2012-0957

Reported-by: PaX Team <pageexec@freemail.hu>
Signed-off-by: Kees Cook <keescook@chromium.org>
Cc: Andi Kleen <ak@linux.intel.com>
Cc: PaX Team <pageexec@freemail.hu>
Cc: Brad Spengler <spender@grsecurity.net>
Cc: <stable@vger.kernel.org>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Metadata:
Author: Kees Cook <keescook@chromium.org>
Author Date: Fri Oct 19 13:56:51 2012 -0700
Committer: Linus Torvalds <torvalds@linux-foundation.org>
Commit Date: Fri Oct 19 14:07:47 2012 -0700

Files Changed: 1
Lines Added: 7
Lines Removed: 5
Total Changes: 12
