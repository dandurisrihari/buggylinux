Commit Hash: 4780c65904f0fc4e312ee2da9383eacbe04e61ea
Subject: KVM: Reset PIT irq injection logic when the PIT IRQ is unmasked


Security Keywords:
- injection

Full commit message:
KVM: Reset PIT irq injection logic when the PIT IRQ is unmasked

While the PIT is masked the guest cannot ack the irq, so the reinject logic
will never allow the interrupt to be injected.

Fix by resetting the reinjection counters on unmask.

Unbreaks Xen.

Signed-off-by: Avi Kivity <avi@redhat.com>

Metadata:
Author: Avi Kivity <avi@redhat.com>
Author Date: Sun Jan 4 18:06:06 2009 +0200
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Tue Mar 24 11:03:03 2009 +0200

Files Changed: 2
Lines Added: 16
Lines Removed: 0
Total Changes: 16
