{
  "hash": "4780c65904f0fc4e312ee2da9383eacbe04e61ea",
  "hash_short": "4780c659",
  "subject": "KVM: Reset PIT irq injection logic when the PIT IRQ is unmasked",
  "body": "While the PIT is masked the guest cannot ack the irq, so the reinject logic\nwill never allow the interrupt to be injected.\n\nFix by resetting the reinjection counters on unmask.\n\nUnbreaks Xen.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",
  "full_message": "KVM: Reset PIT irq injection logic when the PIT IRQ is unmasked\n\nWhile the PIT is masked the guest cannot ack the irq, so the reinject logic\nwill never allow the interrupt to be injected.\n\nFix by resetting the reinjection counters on unmask.\n\nUnbreaks Xen.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",
  "author_name": "Avi Kivity",
  "author_email": "avi@redhat.com",
  "author_date": "Sun Jan 4 18:06:06 2009 +0200",
  "author_date_iso": "2009-01-04T18:06:06+02:00",
  "committer_name": "Avi Kivity",
  "committer_email": "avi@redhat.com",
  "committer_date": "Tue Mar 24 11:03:03 2009 +0200",
  "committer_date_iso": "2009-03-24T11:03:03+02:00",
  "files_changed": [
    "arch/x86/kvm/i8254.c",
    "arch/x86/kvm/i8254.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "arch/x86/kvm/i8254.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "arch/x86/kvm/i8254.h",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 16,
  "total_deletions": 0,
  "total_changes": 16,
  "parents": [
    "75858a84a6207f5e60196f6bbd18fde4250e5759"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.30",
    "v2.6.30-rc1",
    "v2.6.30-rc2",
    "v2.6.30-rc3",
    "v2.6.30-rc4",
    "v2.6.30-rc5",
    "v2.6.30-rc6",
    "v2.6.30-rc7",
    "v2.6.30-rc8",
    "v2.6.31"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kvm/i8254.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kvm/i8254.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}