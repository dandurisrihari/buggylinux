{
  "hash": "d15d7538c6d210b2a10df94d131b70b025ee9cd2",
  "hash_short": "d15d7538",
  "subject": "drm/i915: Tune down init error message due to failure injection",
  "body": "Atm, in case failure injection forces an error the subsequent \"*ERROR*\nfailed to init modeset\" error message will make automated tests (CI)\nreport this event as a breakage even though the event is expected. To\nfix this print the error message with debug log level in this case.\n\nWhile at it print the error message for any init failure and change it\nto\n\"\"\"\nDevice initialization failed (errno)\nPlease file a bug at https://bugs.freedesktop.org/enter_bug.cgi?product=DRI\nagainst DRM/Intel providing the dmesg log by booting with drm.debug=0xf\n\"\"\"\nand export a helper printing error messages using this same format.\nA follow-up patch will convert all uses of DRM_ERROR reporting a user\nfacing problem to use this new helper instead.\n\nv2:\n- Include the problematic error message in the commit log, add a\n  request to file an fdo bug to the message (Chris)\nv3:\n- Include the new error message too in the commit log, make the\n  fdo link more precise and print part of the message with info log\n  level (Chris)\nv4: (Chris)\n- Use dev_printk instead of DRM_ERROR/INFO and use NOTICE instead of\n  INFO loglevel\n- Export a helper for printing user facing error messages\nv5:\n- Keep the DRM_ERROR message prefix used by piglit-igt/CI to filter\n  relevant dmesg lines\n- Use dev_notice(), instead of dev_printk(KERN_NOTICE,...)\nv6:\n- Print the fdo bug link only once (Chris)\n\nCC: Chris Wilson <chris@chris-wilson.co.uk>\nSigned-off-by: Imre Deak <imre.deak@intel.com>\nReviewed-by: Chris Wilson <chris@chris-wilson.co.uk>\nLink: http://patchwork.freedesktop.org/patch/msgid/1458290770-15480-1-git-send-email-imre.deak@intel.com",
  "full_message": "drm/i915: Tune down init error message due to failure injection\n\nAtm, in case failure injection forces an error the subsequent \"*ERROR*\nfailed to init modeset\" error message will make automated tests (CI)\nreport this event as a breakage even though the event is expected. To\nfix this print the error message with debug log level in this case.\n\nWhile at it print the error message for any init failure and change it\nto\n\"\"\"\nDevice initialization failed (errno)\nPlease file a bug at https://bugs.freedesktop.org/enter_bug.cgi?product=DRI\nagainst DRM/Intel providing the dmesg log by booting with drm.debug=0xf\n\"\"\"\nand export a helper printing error messages using this same format.\nA follow-up patch will convert all uses of DRM_ERROR reporting a user\nfacing problem to use this new helper instead.\n\nv2:\n- Include the problematic error message in the commit log, add a\n  request to file an fdo bug to the message (Chris)\nv3:\n- Include the new error message too in the commit log, make the\n  fdo link more precise and print part of the message with info log\n  level (Chris)\nv4: (Chris)\n- Use dev_printk instead of DRM_ERROR/INFO and use NOTICE instead of\n  INFO loglevel\n- Export a helper for printing user facing error messages\nv5:\n- Keep the DRM_ERROR message prefix used by piglit-igt/CI to filter\n  relevant dmesg lines\n- Use dev_notice(), instead of dev_printk(KERN_NOTICE,...)\nv6:\n- Print the fdo bug link only once (Chris)\n\nCC: Chris Wilson <chris@chris-wilson.co.uk>\nSigned-off-by: Imre Deak <imre.deak@intel.com>\nReviewed-by: Chris Wilson <chris@chris-wilson.co.uk>\nLink: http://patchwork.freedesktop.org/patch/msgid/1458290770-15480-1-git-send-email-imre.deak@intel.com",
  "author_name": "Imre Deak",
  "author_email": "imre.deak@intel.com",
  "author_date": "Fri Mar 18 10:46:10 2016 +0200",
  "author_date_iso": "2016-03-18T10:46:10+02:00",
  "committer_name": "Imre Deak",
  "committer_email": "imre.deak@intel.com",
  "committer_date": "Fri Mar 18 15:39:20 2016 +0200",
  "committer_date_iso": "2016-03-18T15:39:20+02:00",
  "files_changed": [
    "drivers/gpu/drm/i915/i915_dma.c",
    "drivers/gpu/drm/i915/i915_drv.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/gpu/drm/i915/i915_dma.c",
      "insertions": 46,
      "deletions": 5
    },
    {
      "file": "drivers/gpu/drm/i915/i915_drv.h",
      "insertions": 7,
      "deletions": 0
    }
  ],
  "total_insertions": 53,
  "total_deletions": 5,
  "total_changes": 58,
  "parents": [
    "c890e2d5313e8e8f4fb54258dc2bbb2c7dd901ce"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/i915/i915_dma.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/i915_drv.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}