{
  "hash": "0bf13a84362e750a90008af259b098d7c0e0755b",
  "hash_short": "0bf13a84",
  "subject": "Merge tag 'kernel-hardening-v5.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux",
  "body": "Pull kernel hardening updates from Kees Cook:\n\n - usercopy hardening expanded to check other allocation types (Matthew\n   Wilcox, Yuanzheng Song)\n\n - arm64 stackleak behavioral improvements (Mark Rutland)\n\n - arm64 CFI code gen improvement (Sami Tolvanen)\n\n - LoadPin LSM block dev API adjustment (Christoph Hellwig)\n\n - Clang randstruct support (Bill Wendling, Kees Cook)\n\n* tag 'kernel-hardening-v5.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux: (34 commits)\n  loadpin: stop using bdevname\n  mm: usercopy: move the virt_addr_valid() below the is_vmalloc_addr()\n  gcc-plugins: randstruct: Remove cast exception handling\n  af_unix: Silence randstruct GCC plugin warning\n  niu: Silence randstruct warnings\n  big_keys: Use struct for internal payload\n  gcc-plugins: Change all version strings match kernel\n  randomize_kstack: Improve docs on requirements/rationale\n  lkdtm/stackleak: fix CONFIG_GCC_PLUGIN_STACKLEAK=n\n  arm64: entry: use stackleak_erase_on_task_stack()\n  stackleak: add on/off stack variants\n  lkdtm/stackleak: check stack boundaries\n  lkdtm/stackleak: prevent unexpected stack usage\n  lkdtm/stackleak: rework boundary management\n  lkdtm/stackleak: avoid spurious failure\n  stackleak: rework poison scanning\n  stackleak: rework stack high bound handling\n  stackleak: clarify variable names\n  stackleak: rework stack low bound handling\n  stackleak: remove redundant check\n  ...",
  "full_message": "Merge tag 'kernel-hardening-v5.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux\n\nPull kernel hardening updates from Kees Cook:\n\n - usercopy hardening expanded to check other allocation types (Matthew\n   Wilcox, Yuanzheng Song)\n\n - arm64 stackleak behavioral improvements (Mark Rutland)\n\n - arm64 CFI code gen improvement (Sami Tolvanen)\n\n - LoadPin LSM block dev API adjustment (Christoph Hellwig)\n\n - Clang randstruct support (Bill Wendling, Kees Cook)\n\n* tag 'kernel-hardening-v5.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux: (34 commits)\n  loadpin: stop using bdevname\n  mm: usercopy: move the virt_addr_valid() below the is_vmalloc_addr()\n  gcc-plugins: randstruct: Remove cast exception handling\n  af_unix: Silence randstruct GCC plugin warning\n  niu: Silence randstruct warnings\n  big_keys: Use struct for internal payload\n  gcc-plugins: Change all version strings match kernel\n  randomize_kstack: Improve docs on requirements/rationale\n  lkdtm/stackleak: fix CONFIG_GCC_PLUGIN_STACKLEAK=n\n  arm64: entry: use stackleak_erase_on_task_stack()\n  stackleak: add on/off stack variants\n  lkdtm/stackleak: check stack boundaries\n  lkdtm/stackleak: prevent unexpected stack usage\n  lkdtm/stackleak: rework boundary management\n  lkdtm/stackleak: avoid spurious failure\n  stackleak: rework poison scanning\n  stackleak: rework stack high bound handling\n  stackleak: clarify variable names\n  stackleak: rework stack low bound handling\n  stackleak: remove redundant check\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue May 24 12:27:09 2022 -0700",
  "author_date_iso": "2022-05-24T12:27:09-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue May 24 12:27:09 2022 -0700",
  "committer_date_iso": "2022-05-24T12:27:09-07:00",
  "files_changed": [
    "Makefile",
    "arch/Kconfig",
    "arch/arm64/include/asm/processor.h",
    "arch/arm64/kernel/vdso/Makefile",
    "security/security.c"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "Documentation/dontdiff",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/kbuild/reproducible-builds.rst",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/Kconfig",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "arch/arm/vdso/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/compiler.h",
      "insertions": 0,
      "deletions": 16
    },
    {
      "file": "arch/arm64/include/asm/processor.h",
      "insertions": 4,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kernel/entry.S",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/vdso/Makefile",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/riscv/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/sparc/vdso/Makefile",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/entry/vdso/Makefile",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/highmem.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/x86/mm/pti.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/misc/lkdtm/stackleak.c",
      "insertions": 99,
      "deletions": 46
    },
    {
      "file": "drivers/net/ethernet/sun/niu.c",
      "insertions": 31,
      "deletions": 10
    },
    {
      "file": "include/linux/compiler-clang.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "include/linux/compiler-gcc.h",
      "insertions": 0,
      "deletions": 8
    },
    {
      "file": "include/linux/compiler_types.h",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "include/linux/highmem-internal.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "include/linux/netfs.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/randomize_kstack.h",
      "insertions": 24,
      "deletions": 3
    },
    {
      "file": "include/linux/stackleak.h",
      "insertions": 54,
      "deletions": 1
    },
    {
      "file": "include/linux/vermagic.h",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "kernel/panic.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "kernel/stackleak.c",
      "insertions": 63,
      "deletions": 42
    },
    {
      "file": "mm/usercopy.c",
      "insertions": 24,
      "deletions": 67
    },
    {
      "file": "net/unix/af_unix.c",
      "insertions": 3,
      "deletions": 5
    },
    {
      "file": "scripts/Makefile.gcc-plugins",
      "insertions": 10,
      "deletions": 12
    },
    {
      "file": "scripts/Makefile.randstruct",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "scripts/basic/.gitignore",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "scripts/basic/Makefile",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "scripts/gcc-plugins/Kconfig",
      "insertions": 0,
      "deletions": 38
    },
    {
      "file": "scripts/gcc-plugins/Makefile",
      "insertions": 15,
      "deletions": 9
    },
    {
      "file": "scripts/gcc-plugins/gen-random-seed.sh",
      "insertions": 0,
      "deletions": 9
    },
    {
      "file": "scripts/gcc-plugins/latent_entropy_plugin.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "scripts/gcc-plugins/randomize_layout_plugin.c",
      "insertions": 4,
      "deletions": 85
    },
    {
      "file": "scripts/gcc-plugins/sancov_plugin.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "scripts/gcc-plugins/stackleak_plugin.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "scripts/gcc-plugins/structleak_plugin.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "scripts/gen-randstruct-seed.sh",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "security/Kconfig",
      "insertions": 1,
      "deletions": 12
    },
    {
      "file": "security/Kconfig.hardening",
      "insertions": 73,
      "deletions": 0
    },
    {
      "file": "security/keys/big_key.c",
      "insertions": 36,
      "deletions": 37
    },
    {
      "file": "security/loadpin/loadpin.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "security/security.c",
      "insertions": 4,
      "deletions": 5
    }
  ],
  "total_insertions": 539,
  "total_deletions": 449,
  "total_changes": 988,
  "parents": [
    "51518aa68c1ffb54f2fdfed5324af30325529b32",
    "ed5edd5a70b9525085403f193786395179ea303d"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/processor.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/vdso/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "security/security.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}