{
  "hash": "23d62fb5d368b56fbfede3757c061d5de410a9b8",
  "hash_short": "23d62fb5",
  "subject": "Merge tag 'iio-fixes-for-6.8a' of http://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio into char-misc-linus",
  "body": "Jonathan writes:\n\nIIO: 1st set of fixes for the 6.8 cycle\n\nUsual mixed bag of issues introduced this cycle and fixes for long term\nissues that have been identified recently + one case where I messed up\na merge resolution and dropped the build file changes.\n\nMost important is the userspace ABI fix for the iio_modifier enum\nwhere we accidentally added new entries in the middle rather than at\nthe end.\n\nIIO Core\n - Close a memory leak in an error path.\n - Move LIGHT_UVA and LIGHT_UVB definitions to end of the iio_modifier\n   enum to avoid breaking older userspace. (not yet in a released kernel\n   thankfully).\n\nadi,adis\n - Fix a DMA buffer alignment issue that was missing in series that fixed\n   these across IIO.\n\nadi,ad-sigma-delta\n - Fix a DMA buffer alignment issue that was missing in series that fixed\n   these across IIO.\n\nadi,ad4130\n - Zero init remaining fields of clock init data.\n - Only set GPIO control bits on pins that aren't in use for anything else.\n\nadi,ad5933\n - Fix an old bug due to type mismatch. This is a rare device so good to\n   get some new test coverage.\n\nadi,ad7091r\n - Use right variable for an error return code.\n\nbosch,bma400\n - Add missing CONFIG_REGMAP_I2C dependency.\n\nbosch,bmp280:\n - Add missing bmp085 ID to the SPI table to avoid mismatch with the\n   of_device_id table.\n\nhid-sensors:\n - Avoid returning an error for timestamp read back that succeeds.\n\npni,rm3100\n - Check value read from RM31000_REG_TMRC register is valid before using\n   it. Hardening  to avoid a real world issue seen on some faulty hardware.\n\nst,st-sensors\n - Fix a DMA buffer alignment issue that was missing in series that fixed\n   these across IIO.\n\nti,hdc3020\n - Add missing Kconfig and Makefile entrees accidentally dropped when patches\n   were applied.\n - Fix wrong temperature offset (negated)\n\n* tag 'iio-fixes-for-6.8a' of http://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio:\n  iio: adc: ad4130: only set GPIO_CTRL if pin is unused\n  iio: adc: ad4130: zero-initialize clock init data\n  iio: accel: bma400: Fix a compilation problem\n  iio: commom: st_sensors: ensure proper DMA alignment\n  iio: hid-sensor-als: Return 0 for HID_USAGE_SENSOR_TIME_TIMESTAMP\n  iio: move LIGHT_UVA and LIGHT_UVB to the end of iio_modifier\n  staging: iio: ad5933: fix type mismatch regression\n  iio: humidity: hdc3020: fix temperature offset\n  iio: adc: ad7091r8: Fix error code in ad7091r8_gpio_setup()\n  iio: adc: ad_sigma_delta: ensure proper DMA alignment\n  iio: imu: adis: ensure proper DMA alignment\n  iio: humidity: hdc3020: Add Makefile, Kconfig and MAINTAINERS entry\n  iio: imu: bno055: serdev requires REGMAP\n  iio: magnetometer: rm3100: add boundary check for the value read from RM3100_REG_TMRC\n  iio: pressure: bmp280: Add missing bmp085 to SPI id table\n  iio: core: fix memleak in iio_device_register_sysfs",
  "full_message": "Merge tag 'iio-fixes-for-6.8a' of http://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio into char-misc-linus\n\nJonathan writes:\n\nIIO: 1st set of fixes for the 6.8 cycle\n\nUsual mixed bag of issues introduced this cycle and fixes for long term\nissues that have been identified recently + one case where I messed up\na merge resolution and dropped the build file changes.\n\nMost important is the userspace ABI fix for the iio_modifier enum\nwhere we accidentally added new entries in the middle rather than at\nthe end.\n\nIIO Core\n - Close a memory leak in an error path.\n - Move LIGHT_UVA and LIGHT_UVB definitions to end of the iio_modifier\n   enum to avoid breaking older userspace. (not yet in a released kernel\n   thankfully).\n\nadi,adis\n - Fix a DMA buffer alignment issue that was missing in series that fixed\n   these across IIO.\n\nadi,ad-sigma-delta\n - Fix a DMA buffer alignment issue that was missing in series that fixed\n   these across IIO.\n\nadi,ad4130\n - Zero init remaining fields of clock init data.\n - Only set GPIO control bits on pins that aren't in use for anything else.\n\nadi,ad5933\n - Fix an old bug due to type mismatch. This is a rare device so good to\n   get some new test coverage.\n\nadi,ad7091r\n - Use right variable for an error return code.\n\nbosch,bma400\n - Add missing CONFIG_REGMAP_I2C dependency.\n\nbosch,bmp280:\n - Add missing bmp085 ID to the SPI table to avoid mismatch with the\n   of_device_id table.\n\nhid-sensors:\n - Avoid returning an error for timestamp read back that succeeds.\n\npni,rm3100\n - Check value read from RM31000_REG_TMRC register is valid before using\n   it. Hardening  to avoid a real world issue seen on some faulty hardware.\n\nst,st-sensors\n - Fix a DMA buffer alignment issue that was missing in series that fixed\n   these across IIO.\n\nti,hdc3020\n - Add missing Kconfig and Makefile entrees accidentally dropped when patches\n   were applied.\n - Fix wrong temperature offset (negated)\n\n* tag 'iio-fixes-for-6.8a' of http://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio:\n  iio: adc: ad4130: only set GPIO_CTRL if pin is unused\n  iio: adc: ad4130: zero-initialize clock init data\n  iio: accel: bma400: Fix a compilation problem\n  iio: commom: st_sensors: ensure proper DMA alignment\n  iio: hid-sensor-als: Return 0 for HID_USAGE_SENSOR_TIME_TIMESTAMP\n  iio: move LIGHT_UVA and LIGHT_UVB to the end of iio_modifier\n  staging: iio: ad5933: fix type mismatch regression\n  iio: humidity: hdc3020: fix temperature offset\n  iio: adc: ad7091r8: Fix error code in ad7091r8_gpio_setup()\n  iio: adc: ad_sigma_delta: ensure proper DMA alignment\n  iio: imu: adis: ensure proper DMA alignment\n  iio: humidity: hdc3020: Add Makefile, Kconfig and MAINTAINERS entry\n  iio: imu: bno055: serdev requires REGMAP\n  iio: magnetometer: rm3100: add boundary check for the value read from RM3100_REG_TMRC\n  iio: pressure: bmp280: Add missing bmp085 to SPI id table\n  iio: core: fix memleak in iio_device_register_sysfs",
  "author_name": "Greg Kroah-Hartman",
  "author_email": "gregkh@linuxfoundation.org",
  "author_date": "Wed Feb 14 16:19:17 2024 +0100",
  "author_date_iso": "2024-02-14T16:19:17+01:00",
  "committer_name": "Greg Kroah-Hartman",
  "committer_email": "gregkh@linuxfoundation.org",
  "committer_date": "Wed Feb 14 16:19:17 2024 +0100",
  "committer_date_iso": "2024-02-14T16:19:17+01:00",
  "files_changed": [
    "MAINTAINERS"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "MAINTAINERS",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "drivers/iio/accel/Kconfig",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/iio/adc/ad4130.c",
      "insertions": 8,
      "deletions": 4
    },
    {
      "file": "drivers/iio/adc/ad7091r8.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/iio/humidity/Kconfig",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "drivers/iio/humidity/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/iio/humidity/hdc3020.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/iio/imu/bno055/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/iio/industrialio-core.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "drivers/iio/light/hid-sensor-als.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/iio/magnetometer/rm3100-core.c",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "drivers/iio/pressure/bmp280-spi.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/staging/iio/impedance-analyzer/ad5933.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/iio/adc/ad_sigma_delta.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/linux/iio/common/st_sensors.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/iio/imu/adis.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "include/uapi/linux/iio/types.h",
      "insertions": 2,
      "deletions": 2
    }
  ],
  "total_insertions": 58,
  "total_deletions": 16,
  "total_changes": 74,
  "parents": [
    "51c161008e0429eb40f78eff703bc5b8bfd572db",
    "78367c32bebfe833cd30c855755d863a4ff3fdee"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}