Commit Hash: e8fd3eeb5e8711af39b00642da06474e52f4780c
Subject: drm/amd/display: phase3 mst hdcp for multiple displays


Security Keywords:
- authentication

Full commit message:
drm/amd/display: phase3 mst hdcp for multiple displays

[Why]
multiple display hdcp are enabled within event_property_validate,
event_property_update by looping all displays on mst hub. when
one of display on mst hub in unplugged or disabled, hdcp are
disabled for all displays on mst hub within hdcp_reset_display
by looping all displays of mst link. for displays still active,
their encryption status are off. kernel driver will not run hdcp
authentication again. therefore, hdcp are not enabled automatically.

[How]
within is_content_protection_different, check drm_crtc_state changes
of all displays on mst hub, if need, triger hdcp_update_display to
re-run hdcp authentication.

Acked-by: Aurabindo Pillai <aurabindo.pillai@amd.com>
Signed-off-by: hersen wu <hersenxs.wu@amd.com>
Reviewed-by: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>

Metadata:
Author: hersen wu <hersenxs.wu@amd.com>
Author Date: Tue Nov 15 14:20:56 2022 -0500
Committer: Alex Deucher <alexander.deucher@amd.com>
Commit Date: Tue Jan 3 16:50:39 2023 -0500

Files Changed: 1
Lines Added: 141
Lines Removed: 42
Total Changes: 183
