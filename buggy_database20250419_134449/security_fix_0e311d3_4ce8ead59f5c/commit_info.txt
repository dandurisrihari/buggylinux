Commit Hash: 0e311d33bfbef86da130674e8528cc23e6acfe16
Subject: KVM: SVM: Introduce hybrid-AVIC mode


Security Keywords:
- injection

Full commit message:
KVM: SVM: Introduce hybrid-AVIC mode

Currently, AVIC is inhibited when booting a VM w/ x2APIC support.
because AVIC cannot virtualize x2APIC MSR register accesses.
However, the AVIC doorbell can be used to accelerate interrupt
injection into a running vCPU, while all guest accesses to x2APIC MSRs
will be intercepted and emulated by KVM.

With hybrid-AVIC support, the APICV_INHIBIT_REASON_X2APIC is
no longer enforced.

Suggested-by: Maxim Levitsky <mlevitsk@redhat.com>
Reviewed-by: Maxim Levitsky <mlevitsk@redhat.com>
Signed-off-by: Suravee Suthikulpanit <suravee.suthikulpanit@amd.com>
Message-Id: <20220519102709.24125-14-suravee.suthikulpanit@amd.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Suravee Suthikulpanit <suravee.suthikulpanit@amd.com>
Author Date: Thu May 19 05:27:05 2022 -0500
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Fri Jun 24 12:51:00 2022 -0400

Files Changed: 3
Lines Added: 11
Lines Removed: 16
Total Changes: 27
