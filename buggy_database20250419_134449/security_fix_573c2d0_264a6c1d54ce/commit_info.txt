Commit Hash: 573c2d066eb950dd9bd6e8735d3a859bbc21b3cc
Subject: scsi: scsi_debug: Add param to control sdev's allow_restart


Security Keywords:
- injection

Full commit message:
scsi: scsi_debug: Add param to control sdev's allow_restart

Add new module param "allow_restart" to control scsi_device's allow_restart
flag. This flag determines if EH is triggered after a command completes
with sense_key 0x6, ASC 0x4 and ASCQ 0x2. EH would be triggered if
allow_restart=1 in this condition.

The new param can be used with the error injection capability to test how
commands completing with sense_key 0x6, ASC 0x4 and ASCQ 0x2 are handled.

Signed-off-by: Wenchao Hao <haowenchao2@huawei.com>
Link: https://lore.kernel.org/r/20231010092051.608007-11-haowenchao2@huawei.com
Tested-by: Douglas Gilbert <dgilbert@interlog.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

Metadata:
Author: Wenchao Hao <haowenchao2@huawei.com>
Author Date: Tue Oct 10 17:20:51 2023 +0800
Committer: Martin K. Petersen <martin.petersen@oracle.com>
Commit Date: Mon Oct 16 20:50:12 2023 -0400

Files Changed: 1
Lines Added: 6
Lines Removed: 0
Total Changes: 6
