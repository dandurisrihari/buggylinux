{
  "hash": "e48d008bd13eaa9068ff59c65275d17516179f7b",
  "hash_short": "e48d008b",
  "subject": "x86/mce/inject: Check if a bank is populated before injecting",
  "body": "The MCA_IPID register uniquely identifies a bank's type on Scalable MCA\n(SMCA) systems. When an MCA bank is not populated, the MCA_IPID register\nwill read as zero and writes to it will be ignored.\n\nOn a hw-type error injection (injection which writes the actual MCA\nregisters in an attempt to cause a real MCE) check the value of this\nregister before trying to inject the error.\n\nDo not impose any limitations on a sw injection and allow the user to\ntest out all the decoding paths without relying on the available hardware,\nas its purpose is to just test the code.\n\n [ bp: Heavily massage. ]\n\nLink: https://lkml.kernel.org/r/20211019233641.140275-2-Smita.KoralahalliChannabasappa@amd.com\nSigned-off-by: Smita Koralahalli <Smita.KoralahalliChannabasappa@amd.com>\nSigned-off-by: Borislav Petkov <bp@suse.de>\nLink: https://lore.kernel.org/r/20211104215846.254012-2-Smita.KoralahalliChannabasappa@amd.com",
  "full_message": "x86/mce/inject: Check if a bank is populated before injecting\n\nThe MCA_IPID register uniquely identifies a bank's type on Scalable MCA\n(SMCA) systems. When an MCA bank is not populated, the MCA_IPID register\nwill read as zero and writes to it will be ignored.\n\nOn a hw-type error injection (injection which writes the actual MCA\nregisters in an attempt to cause a real MCE) check the value of this\nregister before trying to inject the error.\n\nDo not impose any limitations on a sw injection and allow the user to\ntest out all the decoding paths without relying on the available hardware,\nas its purpose is to just test the code.\n\n [ bp: Heavily massage. ]\n\nLink: https://lkml.kernel.org/r/20211019233641.140275-2-Smita.KoralahalliChannabasappa@amd.com\nSigned-off-by: Smita Koralahalli <Smita.KoralahalliChannabasappa@amd.com>\nSigned-off-by: Borislav Petkov <bp@suse.de>\nLink: https://lore.kernel.org/r/20211104215846.254012-2-Smita.KoralahalliChannabasappa@amd.com",
  "author_name": "Smita Koralahalli",
  "author_email": "Smita.KoralahalliChannabasappa@amd.com",
  "author_date": "Thu Nov 4 16:58:41 2021 -0500",
  "author_date_iso": "2021-11-04T16:58:41-05:00",
  "committer_name": "Borislav Petkov",
  "committer_email": "bp@suse.de",
  "committer_date": "Wed Dec 8 12:00:56 2021 +0100",
  "committer_date_iso": "2021-12-08T12:00:56+01:00",
  "files_changed": [
    "arch/x86/kernel/cpu/mce/inject.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kernel/cpu/mce/inject.c",
      "insertions": 41,
      "deletions": 1
    }
  ],
  "total_insertions": 41,
  "total_deletions": 1,
  "total_changes": 42,
  "parents": [
    "2322b532ad9043336f36ba2634ab3620d5d5b4f5"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kernel/cpu/mce/inject.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}