{
  "hash": "f78743fbdae1bb31bc9c9233c3590a5048782381",
  "hash_short": "f78743fb",
  "subject": "btrfs: do not warn if we can't find the reloc root when looking up backref",
  "body": "The backref code is looking for a reloc_root that corresponds to the\ngiven fs root.  However any number of things could have gone wrong while\ninitializing that reloc_root, like ENOMEM while trying to allocate the\nroot itself, or EIO while trying to write the root item.  This would\nresult in no corresponding reloc_root being in the reloc root cache, and\nthus would return NULL when we do the find_reloc_root() call.\n\nBecause of this we do not want to WARN_ON().  This presumably was meant\nto catch developer errors, cases where we messed up adding the reloc\nroot.  However we can easily hit this case with error injection, and\nthus should not do a WARN_ON().\n\nCC: stable@vger.kernel.org # 5.10+\nReported-by: Zygo Blaxell <ce3g8jdj@umail.furryterror.org>\nSigned-off-by: Josef Bacik <josef@toxicpanda.com>\nReviewed-by: David Sterba <dsterba@suse.com>\nSigned-off-by: David Sterba <dsterba@suse.com>",
  "full_message": "btrfs: do not warn if we can't find the reloc root when looking up backref\n\nThe backref code is looking for a reloc_root that corresponds to the\ngiven fs root.  However any number of things could have gone wrong while\ninitializing that reloc_root, like ENOMEM while trying to allocate the\nroot itself, or EIO while trying to write the root item.  This would\nresult in no corresponding reloc_root being in the reloc root cache, and\nthus would return NULL when we do the find_reloc_root() call.\n\nBecause of this we do not want to WARN_ON().  This presumably was meant\nto catch developer errors, cases where we messed up adding the reloc\nroot.  However we can easily hit this case with error injection, and\nthus should not do a WARN_ON().\n\nCC: stable@vger.kernel.org # 5.10+\nReported-by: Zygo Blaxell <ce3g8jdj@umail.furryterror.org>\nSigned-off-by: Josef Bacik <josef@toxicpanda.com>\nReviewed-by: David Sterba <dsterba@suse.com>\nSigned-off-by: David Sterba <dsterba@suse.com>",
  "author_name": "Josef Bacik",
  "author_email": "josef@toxicpanda.com",
  "author_date": "Thu Jan 14 14:02:44 2021 -0500",
  "author_date_iso": "2021-01-14T14:02:44-05:00",
  "committer_name": "David Sterba",
  "committer_email": "dsterba@suse.com",
  "committer_date": "Mon Feb 8 22:58:56 2021 +0100",
  "committer_date_iso": "2021-02-08T22:58:56+01:00",
  "files_changed": [
    "fs/btrfs/backref.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/btrfs/backref.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "938fcbfb0cbcf532a1869efab58e6009446b1ced"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/btrfs/backref.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}