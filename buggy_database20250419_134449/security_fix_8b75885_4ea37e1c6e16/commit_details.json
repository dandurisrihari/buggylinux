{
  "hash": "8b758859dfbe9598ba41e8b9b01e44edcc0c2fc1",
  "hash_short": "8b758859",
  "subject": "ksmbd: reorder and document on-disk and netlink structures in headers",
  "body": "Reorder and document on-disk and netlink structures in headers.\n\nThis is a userspace ABI to communicate data between ksmbd and user IPC\ndaemon using netlink. This is added to track and cache user account DB\nand share configuration info from userspace.\n\n - KSMBD_EVENT_HEARTBEAT_REQUEST(ksmbd_heartbeat)\n   This event is to check whether user IPC daemon is alive. If user IPC\n   daemon is dead, ksmbd keep existing connection till disconnecting and\n   new connection will be denied.\n\n - KSMBD_EVENT_STARTING_UP(ksmbd_startup_request)\n   This event is to receive the information that initializes the ksmbd\n   server from the user IPC daemon and to start the server. The global\n   section parameters are given from smb.conf as initialization\n   information.\n\n - KSMBD_EVENT_SHUTTING_DOWN(ksmbd_shutdown_request)\n   This event is to shutdown ksmbd server.\n\n - KSMBD_EVENT_LOGIN_REQUEST/RESPONSE(ksmbd_login_request/response)\n   This event is to get user account info to user IPC daemon.\n\n - KSMBD_EVENT_SHARE_CONFIG_REQUEST/RESPONSE\n   (ksmbd_share_config_request/response)\n   This event is to get net share configuration info.\n\n - KSMBD_EVENT_TREE_CONNECT_REQUEST/RESPONSE\n   (ksmbd_tree_connect_request/response)\n   This event is to get session and tree connect info.\n\n - KSMBD_EVENT_TREE_DISCONNECT_REQUEST(ksmbd_tree_disconnect_request)\n   This event is to send tree disconnect info to user IPC daemon.\n\n - KSMBD_EVENT_LOGOUT_REQUEST(ksmbd_logout_request)\n   This event is to send logout request to user IPC daemon.\n\n - KSMBD_EVENT_RPC_REQUEST/RESPONSE(ksmbd_rpc_command)\n   This event is to make DCE/RPC request like srvsvc, wkssvc, lsarpc,\n   samr to be processed in userspace.\n\n - KSMBD_EVENT_SPNEGO_AUTHEN_REQUEST/RESPONSE\n   (ksmbd_spnego_authen_request/response)\n   This event is to make kerberos authentication to be processed in\n   userspace.\n\nReviewed-by: Christoph Hellwig <hch@lst.de>\nSigned-off-by: Namjae Jeon <namjae.jeon@samsung.com>\nSigned-off-by: Steve French <stfrench@microsoft.com>",
  "full_message": "ksmbd: reorder and document on-disk and netlink structures in headers\n\nReorder and document on-disk and netlink structures in headers.\n\nThis is a userspace ABI to communicate data between ksmbd and user IPC\ndaemon using netlink. This is added to track and cache user account DB\nand share configuration info from userspace.\n\n - KSMBD_EVENT_HEARTBEAT_REQUEST(ksmbd_heartbeat)\n   This event is to check whether user IPC daemon is alive. If user IPC\n   daemon is dead, ksmbd keep existing connection till disconnecting and\n   new connection will be denied.\n\n - KSMBD_EVENT_STARTING_UP(ksmbd_startup_request)\n   This event is to receive the information that initializes the ksmbd\n   server from the user IPC daemon and to start the server. The global\n   section parameters are given from smb.conf as initialization\n   information.\n\n - KSMBD_EVENT_SHUTTING_DOWN(ksmbd_shutdown_request)\n   This event is to shutdown ksmbd server.\n\n - KSMBD_EVENT_LOGIN_REQUEST/RESPONSE(ksmbd_login_request/response)\n   This event is to get user account info to user IPC daemon.\n\n - KSMBD_EVENT_SHARE_CONFIG_REQUEST/RESPONSE\n   (ksmbd_share_config_request/response)\n   This event is to get net share configuration info.\n\n - KSMBD_EVENT_TREE_CONNECT_REQUEST/RESPONSE\n   (ksmbd_tree_connect_request/response)\n   This event is to get session and tree connect info.\n\n - KSMBD_EVENT_TREE_DISCONNECT_REQUEST(ksmbd_tree_disconnect_request)\n   This event is to send tree disconnect info to user IPC daemon.\n\n - KSMBD_EVENT_LOGOUT_REQUEST(ksmbd_logout_request)\n   This event is to send logout request to user IPC daemon.\n\n - KSMBD_EVENT_RPC_REQUEST/RESPONSE(ksmbd_rpc_command)\n   This event is to make DCE/RPC request like srvsvc, wkssvc, lsarpc,\n   samr to be processed in userspace.\n\n - KSMBD_EVENT_SPNEGO_AUTHEN_REQUEST/RESPONSE\n   (ksmbd_spnego_authen_request/response)\n   This event is to make kerberos authentication to be processed in\n   userspace.\n\nReviewed-by: Christoph Hellwig <hch@lst.de>\nSigned-off-by: Namjae Jeon <namjae.jeon@samsung.com>\nSigned-off-by: Steve French <stfrench@microsoft.com>",
  "author_name": "Namjae Jeon",
  "author_email": "namjae.jeon@samsung.com",
  "author_date": "Tue Jun 29 14:52:00 2021 +0900",
  "author_date_iso": "2021-06-29T14:52:00+09:00",
  "committer_name": "Namjae Jeon",
  "committer_email": "namjae.jeon@samsung.com",
  "committer_date": "Wed Jun 30 14:47:24 2021 +0900",
  "committer_date_iso": "2021-06-30T14:47:24+09:00",
  "files_changed": [
    "fs/ksmbd/ksmbd_netlink.h",
    "fs/ksmbd/ksmbd_work.c",
    "fs/ksmbd/mgmt/tree_connect.h",
    "fs/ksmbd/smb2ops.c",
    "fs/ksmbd/smbacl.c",
    "fs/ksmbd/vfs.h",
    "fs/ksmbd/xattr.h"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "fs/ksmbd/{ksmbd_server.h => ksmbd_netlink.h}",
      "insertions": 145,
      "deletions": 32
    },
    {
      "file": "fs/ksmbd/ksmbd_work.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "fs/ksmbd/mgmt/tree_connect.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/ksmbd/smb2ops.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "fs/ksmbd/smbacl.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "fs/ksmbd/vfs.h",
      "insertions": 1,
      "deletions": 86
    },
    {
      "file": "fs/ksmbd/xattr.h",
      "insertions": 122,
      "deletions": 0
    }
  ],
  "total_insertions": 269,
  "total_deletions": 122,
  "total_changes": 391,
  "parents": [
    "c63ee4a521e766da6ec5ee1d2058d1ec06216214"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/ksmbd/ksmbd_netlink.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ksmbd/smb2ops.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ksmbd/smbacl.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ksmbd/mgmt/tree_connect.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ksmbd/vfs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ksmbd/ksmbd_work.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ksmbd/xattr.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}