{
  "hash": "4bf97069239bcfca9840936313c7ac35a6e04488",
  "hash_short": "4bf97069",
  "subject": "riscv: Add ghostwrite vulnerability",
  "body": "Follow the patterns of the other architectures that use\nGENERIC_CPU_VULNERABILITIES for riscv to introduce the ghostwrite\nvulnerability and mitigation. The mitigation is to disable all vector\nwhich is accomplished by clearing the bit from the cpufeature field.\n\nGhostwrite only affects thead c9xx CPUs that impelment xtheadvector, so\nthe vulerability will only be mitigated on these CPUs.\n\nSigned-off-by: Charlie Jenkins <charlie@rivosinc.com>\nTested-by: Yangyu Chen <cyy@cyyself.name>\nLink: https://lore.kernel.org/r/20241113-xtheadvector-v11-14-236c22791ef9@rivosinc.com\nSigned-off-by: Palmer Dabbelt <palmer@rivosinc.com>",
  "full_message": "riscv: Add ghostwrite vulnerability\n\nFollow the patterns of the other architectures that use\nGENERIC_CPU_VULNERABILITIES for riscv to introduce the ghostwrite\nvulnerability and mitigation. The mitigation is to disable all vector\nwhich is accomplished by clearing the bit from the cpufeature field.\n\nGhostwrite only affects thead c9xx CPUs that impelment xtheadvector, so\nthe vulerability will only be mitigated on these CPUs.\n\nSigned-off-by: Charlie Jenkins <charlie@rivosinc.com>\nTested-by: Yangyu Chen <cyy@cyyself.name>\nLink: https://lore.kernel.org/r/20241113-xtheadvector-v11-14-236c22791ef9@rivosinc.com\nSigned-off-by: Palmer Dabbelt <palmer@rivosinc.com>",
  "author_name": "Charlie Jenkins",
  "author_email": "charlie@rivosinc.com",
  "author_date": "Wed Nov 13 18:21:20 2024 -0800",
  "author_date_iso": "2024-11-13T18:21:20-08:00",
  "committer_name": "Palmer Dabbelt",
  "committer_email": "palmer@rivosinc.com",
  "committer_date": "Sat Jan 18 12:33:39 2025 -0800",
  "committer_date_iso": "2025-01-18T12:33:39-08:00",
  "files_changed": [
    "arch/riscv/Kconfig.errata",
    "arch/riscv/errata/thead/errata.c",
    "arch/riscv/include/asm/bugs.h",
    "arch/riscv/include/asm/errata_list.h",
    "arch/riscv/kernel/Makefile",
    "arch/riscv/kernel/bugs.c",
    "arch/riscv/kernel/cpufeature.c",
    "drivers/base/cpu.c",
    "include/linux/cpu.h"
  ],
  "files_changed_count": 9,
  "stats": [
    {
      "file": "arch/riscv/Kconfig.errata",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/riscv/errata/thead/errata.c",
      "insertions": 28,
      "deletions": 0
    },
    {
      "file": "arch/riscv/include/asm/bugs.h",
      "insertions": 22,
      "deletions": 0
    },
    {
      "file": "arch/riscv/include/asm/errata_list.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/riscv/kernel/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kernel/bugs.c",
      "insertions": 60,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kernel/cpufeature.c",
      "insertions": 9,
      "deletions": 1
    },
    {
      "file": "drivers/base/cpu.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/linux/cpu.h",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 138,
  "total_deletions": 2,
  "total_changes": 140,
  "parents": [
    "c384c5d4a2aed5b6a10de1fcc2f5b46ad4aeeea8"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/riscv/include/asm/bugs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/riscv/errata/thead/errata.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/riscv/kernel/cpufeature.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/riscv/include/asm/errata_list.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/riscv/kernel/bugs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/riscv/kernel/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/riscv/Kconfig.errata",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/base/cpu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/cpu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}