Commit Hash: 8646384d80f3d3b4a66b3284dbbd8232d1b8799e
Subject: net: dsa: mv88e6xxx: replace ATU violation prints with trace points


Security Keywords:
- authentication

Full commit message:
net: dsa: mv88e6xxx: replace ATU violation prints with trace points

In applications where the switch ports must perform 802.1X based
authentication and are therefore locked, ATU violation interrupts are
quite to be expected as part of normal operation. The problem is that
they currently spam the kernel log, even if rate limited.

Create a series of trace points, all derived from the same event class,
which log these violations to the kernel's trace buffer, which is both
much faster and much easier to ignore than printing to a serial console.

New usage model:

$ trace-cmd list | grep mv88e6xxx
mv88e6xxx
mv88e6xxx:mv88e6xxx_atu_full_violation
mv88e6xxx:mv88e6xxx_atu_miss_violation
mv88e6xxx:mv88e6xxx_atu_member_violation
$ trace-cmd record -e mv88e6xxx sleep 10

Signed-off-by: Vladimir Oltean <vladimir.oltean@nxp.com>
Reviewed-by: Saeed Mahameed <saeed@kernel.org>
Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
Signed-off-by: Jakub Kicinski <kuba@kernel.org>

Metadata:
Author: Vladimir Oltean <vladimir.oltean@nxp.com>
Author Date: Fri Dec 9 19:28:16 2022 +0200
Committer: Jakub Kicinski <kuba@kernel.org>
Commit Date: Mon Dec 12 15:01:18 2022 -0800

Files Changed: 4
Lines Added: 86
Lines Removed: 9
Total Changes: 95
