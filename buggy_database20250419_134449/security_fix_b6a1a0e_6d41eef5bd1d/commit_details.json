{
  "hash": "b6a1a0e76084c541382050606830580740ef9e84",
  "hash_short": "b6a1a0e7",
  "subject": "drm/amd/display: determine is mst hdcp based on stream instead of sink signal",
  "body": "[why]\nIt is possible even if sink signal is MST but driver enables SST stream.\nWe should not determine if we should do MST authentication based on\nsink's capability.\nInstead we should determine whether to do MST authentication based on\nwhat we have enabled in stream.\n\nSigned-off-by: Wenjing Liu <Wenjing.Liu@amd.com>\nReviewed-by: Ashley Thomas <Ashley.Thomas2@amd.com>\nAcked-by: Rodrigo Siqueira <Rodrigo.Siqueira@amd.com>\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>",
  "full_message": "drm/amd/display: determine is mst hdcp based on stream instead of sink signal\n\n[why]\nIt is possible even if sink signal is MST but driver enables SST stream.\nWe should not determine if we should do MST authentication based on\nsink's capability.\nInstead we should determine whether to do MST authentication based on\nwhat we have enabled in stream.\n\nSigned-off-by: Wenjing Liu <Wenjing.Liu@amd.com>\nReviewed-by: Ashley Thomas <Ashley.Thomas2@amd.com>\nAcked-by: Rodrigo Siqueira <Rodrigo.Siqueira@amd.com>\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>",
  "author_name": "Wenjing Liu",
  "author_email": "Wenjing.Liu@amd.com",
  "author_date": "Mon Feb 24 17:22:36 2020 -0500",
  "author_date_iso": "2020-02-24T17:22:36-05:00",
  "committer_name": "Alex Deucher",
  "committer_email": "alexander.deucher@amd.com",
  "committer_date": "Mon Mar 9 13:49:06 2020 -0400",
  "committer_date_iso": "2020-03-09T13:49:06-04:00",
  "files_changed": [
    "drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_hdcp.c",
    "drivers/gpu/drm/amd/display/dc/core/dc_link.c",
    "drivers/gpu/drm/amd/display/dc/dm_cp_psp.h",
    "drivers/gpu/drm/amd/display/modules/hdcp/hdcp.c",
    "drivers/gpu/drm/amd/display/modules/hdcp/hdcp.h",
    "drivers/gpu/drm/amd/display/modules/inc/mod_hdcp.h"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_hdcp.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/amd/display/dc/core/dc_link.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/amd/display/dc/dm_cp_psp.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/amd/display/modules/hdcp/hdcp.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/amd/display/modules/hdcp/hdcp.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/amd/display/modules/inc/mod_hdcp.h",
      "insertions": 2,
      "deletions": 2
    }
  ],
  "total_insertions": 10,
  "total_deletions": 8,
  "total_changes": 18,
  "parents": [
    "caa08c58cc10a778bc5c94b7d76905d87f18be9f"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/amd/display/modules/hdcp/hdcp.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/amd/display/dc/dm_cp_psp.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_hdcp.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/amd/display/modules/hdcp/hdcp.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/amd/display/dc/core/dc_link.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/amd/display/modules/inc/mod_hdcp.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}