{
  "hash": "27fd80851dc1e47b2facaa11b5b52c7dbc6b0718",
  "hash_short": "27fd8085",
  "subject": "Merge tag 'x86-urgent-2024-04-14' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip",
  "body": "Pull misc x86 fixes from Ingo Molnar:\n\n - Follow up fixes for the BHI mitigations code\n\n - Fix !SPECULATION_MITIGATIONS bug not turning off mitigations as\n   expected\n\n - Work around an APIC emulation bug when the kernel is built with Clang\n   and run as a SEV guest\n\n - Follow up x86 topology fixes\n\n* tag 'x86-urgent-2024-04-14' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:\n  x86/cpu/amd: Move TOPOEXT enablement into the topology parser\n  x86/cpu/amd: Make the NODEID_MSR union actually work\n  x86/cpu/amd: Make the CPUID 0x80000008 parser correct\n  x86/bugs: Replace CONFIG_SPECTRE_BHI_{ON,OFF} with CONFIG_MITIGATION_SPECTRE_BHI\n  x86/bugs: Remove CONFIG_BHI_MITIGATION_AUTO and spectre_bhi=auto\n  x86/bugs: Clarify that syscall hardening isn't a BHI mitigation\n  x86/bugs: Fix BHI handling of RRSBA\n  x86/bugs: Rename various 'ia32_cap' variables to 'x86_arch_cap_msr'\n  x86/bugs: Cache the value of MSR_IA32_ARCH_CAPABILITIES\n  x86/bugs: Fix BHI documentation\n  x86/cpu: Actually turn off mitigations by default for SPECULATION_MITIGATIONS=n\n  x86/topology: Don't update cpu_possible_map in topo_set_cpuids()\n  x86/bugs: Fix return type of spectre_bhi_state()\n  x86/apic: Force native_apic_mem_read() to use the MOV instruction",
  "full_message": "Merge tag 'x86-urgent-2024-04-14' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip\n\nPull misc x86 fixes from Ingo Molnar:\n\n - Follow up fixes for the BHI mitigations code\n\n - Fix !SPECULATION_MITIGATIONS bug not turning off mitigations as\n   expected\n\n - Work around an APIC emulation bug when the kernel is built with Clang\n   and run as a SEV guest\n\n - Follow up x86 topology fixes\n\n* tag 'x86-urgent-2024-04-14' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:\n  x86/cpu/amd: Move TOPOEXT enablement into the topology parser\n  x86/cpu/amd: Make the NODEID_MSR union actually work\n  x86/cpu/amd: Make the CPUID 0x80000008 parser correct\n  x86/bugs: Replace CONFIG_SPECTRE_BHI_{ON,OFF} with CONFIG_MITIGATION_SPECTRE_BHI\n  x86/bugs: Remove CONFIG_BHI_MITIGATION_AUTO and spectre_bhi=auto\n  x86/bugs: Clarify that syscall hardening isn't a BHI mitigation\n  x86/bugs: Fix BHI handling of RRSBA\n  x86/bugs: Rename various 'ia32_cap' variables to 'x86_arch_cap_msr'\n  x86/bugs: Cache the value of MSR_IA32_ARCH_CAPABILITIES\n  x86/bugs: Fix BHI documentation\n  x86/cpu: Actually turn off mitigations by default for SPECULATION_MITIGATIONS=n\n  x86/topology: Don't update cpu_possible_map in topo_set_cpuids()\n  x86/bugs: Fix return type of spectre_bhi_state()\n  x86/apic: Force native_apic_mem_read() to use the MOV instruction",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sun Apr 14 10:48:51 2024 -0700",
  "author_date_iso": "2024-04-14T10:48:51-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sun Apr 14 10:48:51 2024 -0700",
  "committer_date_iso": "2024-04-14T10:48:51-07:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "Documentation/admin-guide/hw-vuln/spectre.rst",
      "insertions": 9,
      "deletions": 13
    },
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "insertions": 5,
      "deletions": 7
    },
    {
      "file": "arch/x86/Kconfig",
      "insertions": 3,
      "deletions": 19
    },
    {
      "file": "arch/x86/include/asm/apic.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/kernel/apic/apic.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/x86/kernel/cpu/amd.c",
      "insertions": 0,
      "deletions": 15
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "insertions": 36,
      "deletions": 46
    },
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "insertions": 24,
      "deletions": 24
    },
    {
      "file": "arch/x86/kernel/cpu/topology.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "arch/x86/kernel/cpu/topology_amd.c",
      "insertions": 42,
      "deletions": 9
    },
    {
      "file": "kernel/cpu.c",
      "insertions": 2,
      "deletions": 1
    }
  ],
  "total_insertions": 131,
  "total_deletions": 140,
  "total_changes": 271,
  "parents": [
    "c748fc3b1f5605c12c8061ffb0c27707597b27b2",
    "7211274fe0ee352332255e41ab5e628b86e83994"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": []
}