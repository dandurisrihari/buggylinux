Commit Hash: 670564559ca35b439c8d8861fc399451ddf95137
Subject: KVM: x86: Protect ioapic_write_indirect() from Spectre-v1/L1TF attacks


Security Keywords:
- vulnerability

Full commit message:
KVM: x86: Protect ioapic_write_indirect() from Spectre-v1/L1TF attacks

This fixes a Spectre-v1/L1TF vulnerability in ioapic_write_indirect().
This function contains index computations based on the
(attacker-controlled) IOREGSEL register.

This patch depends on patch
"KVM: x86: Protect ioapic_read_indirect() from Spectre-v1/L1TF attacks".

Fixes: 70f93dae32ac ("KVM: Use temporary variable to shorten lines.")

Signed-off-by: Nick Finco <nifi@google.com>
Signed-off-by: Marios Pomonis <pomonis@google.com>
Reviewed-by: Andrew Honig <ahonig@google.com>
Cc: stable@vger.kernel.org
Reviewed-by: Jim Mattson <jmattson@google.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Marios Pomonis <pomonis@google.com>
Author Date: Wed Dec 11 12:47:45 2019 -0800
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Mon Jan 27 19:59:38 2020 +0100

Files Changed: 1
Lines Added: 1
Lines Removed: 0
Total Changes: 1
