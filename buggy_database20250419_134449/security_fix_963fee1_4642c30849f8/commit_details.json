{
  "hash": "963fee1656603ce2e91ebb988cd5a92f2af41369",
  "hash_short": "963fee16",
  "subject": "KVM: nVMX: Fix virtual interrupt delivery injection",
  "body": "This patch fix bug reported in https://bugzilla.kernel.org/show_bug.cgi?id=73331,\nafter the patch http://www.spinics.net/lists/kvm/msg105230.html applied, there is\nsome progress and the L2 can boot up, however, slowly. The original idea of this\nfix vid injection patch is from \"Zhang, Yang Z\" <yang.z.zhang@intel.com>.\n\nInterrupt which delivered by vid should be injected to L1 by L0 if current is in\nL1, or should be injected to L2 by L0 through the old injection way if L1 doesn't\nhave set External-interrupt exiting bit. The current logic doen't consider these\ncases. This patch fix it by vid intr to L1 if current is L1 or L2 through old\ninjection way if L1 doen't have External-interrupt exiting bit set.\n\nSigned-off-by: Wanpeng Li <wanpeng.li@linux.intel.com>\nSigned-off-by: \"Zhang, Yang Z\" <yang.z.zhang@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "full_message": "KVM: nVMX: Fix virtual interrupt delivery injection\n\nThis patch fix bug reported in https://bugzilla.kernel.org/show_bug.cgi?id=73331,\nafter the patch http://www.spinics.net/lists/kvm/msg105230.html applied, there is\nsome progress and the L2 can boot up, however, slowly. The original idea of this\nfix vid injection patch is from \"Zhang, Yang Z\" <yang.z.zhang@intel.com>.\n\nInterrupt which delivered by vid should be injected to L1 by L0 if current is in\nL1, or should be injected to L2 by L0 through the old injection way if L1 doesn't\nhave set External-interrupt exiting bit. The current logic doen't consider these\ncases. This patch fix it by vid intr to L1 if current is L1 or L2 through old\ninjection way if L1 doen't have External-interrupt exiting bit set.\n\nSigned-off-by: Wanpeng Li <wanpeng.li@linux.intel.com>\nSigned-off-by: \"Zhang, Yang Z\" <yang.z.zhang@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "author_name": "Wanpeng Li",
  "author_email": "wanpeng.li@linux.intel.com",
  "author_date": "Thu Jul 17 19:03:00 2014 +0800",
  "author_date_iso": "2014-07-17T19:03:00+08:00",
  "committer_name": "Paolo Bonzini",
  "committer_email": "pbonzini@redhat.com",
  "committer_date": "Thu Jul 17 14:45:26 2014 +0200",
  "committer_date_iso": "2014-07-17T14:45:26+02:00",
  "files_changed": [
    "arch/x86/kvm/vmx.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kvm/vmx.c",
      "insertions": 20,
      "deletions": 1
    }
  ],
  "total_insertions": 20,
  "total_deletions": 1,
  "total_changes": 21,
  "parents": [
    "68efa764f3429f2bd71f431e91c04b0bcb7d34f1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.17",
    "v3.17-rc1",
    "v3.17-rc2",
    "v3.17-rc3",
    "v3.17-rc4",
    "v3.17-rc5",
    "v3.17-rc6",
    "v3.17-rc7",
    "v3.18",
    "v3.18-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kvm/vmx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}