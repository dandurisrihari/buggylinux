commit 0338cd9c22d1bce7dc4a6641d4215a50f476f429
Merge: 5591fd5e0348 e200565d434b
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Nov 18 17:45:41 2024 -0800

    Merge tag 's390-6.13-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux
    
    Pull s390 updates from Heiko Carstens:
    
     - Add firmware sysfs interface which allows user space to retrieve the
       dump area size of the machine
    
     - Add 'measurement_chars_full' CHPID sysfs attribute to make the
       complete associated Channel-Measurements Characteristics Block
       available
    
     - Add virtio-mem support
    
     - Move gmap aka KVM page fault handling from the main fault handler to
       KVM code. This is the first step to make s390 KVM page fault handling
       similar to other architectures. With this first step the main fault
       handler does not have any special handling anymore, and therefore
       convert it to support LOCK_MM_AND_FIND_VMA
    
     - With gcc 14 s390 support for flag output operand support for inline
       assemblies was added. This allows for several optimizations:
    
         - Provide a cmpxchg inline assembly which makes use of this, and
           provide all variants of arch_try_cmpxchg() so that the compiler
           can generate slightly better code
    
         - Convert a few cmpxchg() loops to try_cmpxchg() loops
    
         - Similar to x86 add a CC_OUT() helper macro (and other macros),
           and convert all inline assemblies to make use of them, so that
           depending on compiler version better code can be generated
    
     - List installed host-key hashes in sysfs if the machine supports the
       Query Ultravisor Keys UVC
    
     - Add 'Retrieve Secret' ioctl which allows user space in protected
       execution guests to retrieve previously stored secrets from the
       Ultravisor
    
     - Add pkey-uv module which supports the conversion of Ultravisor
       retrievable secrets to protected keys
    
     - Extend the existing paes cipher to exploit the full AES-XTS hardware
       acceleration introduced with message-security assist extension 10
    
     - Convert hopefully all sysfs show functions to use sysfs_emit() so
       that the constant flow of such patches stop
    
     - For PCI devices make use of the newly added Topology ID attribute to
       enable whole card multi-function support despite the change to PCHID
       per port. Additionally improve the overall robustness and usability
       of the multifunction support
    
     - Various other small improvements, fixes, and cleanups
    
    * tag 's390-6.13-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux: (133 commits)
      s390/cio/ioasm: Convert to use flag output macros
      s390/cio/qdio: Convert to use flag output macros
      s390/sclp: Convert to use flag output macros
      s390/dasd: Convert to use flag output macros
      s390/boot/physmem: Convert to use flag output macros
      s390/pci: Convert to use flag output macros
      s390/kvm: Convert to use flag output macros
      s390/extmem: Convert to use flag output macros
      s390/string: Convert to use flag output macros
      s390/diag: Convert to use flag output macros
      s390/irq: Convert to use flag output macros
      s390/smp: Convert to use flag output macros
      s390/uv: Convert to use flag output macros
      s390/pai: Convert to use flag output macros
      s390/mm: Convert to use flag output macros
      s390/cpu_mf: Convert to use flag output macros
      s390/cpcmd: Convert to use flag output macros
      s390/topology: Convert to use flag output macros
      s390/time: Convert to use flag output macros
      s390/pageattr: Convert to use flag output macros
      ...