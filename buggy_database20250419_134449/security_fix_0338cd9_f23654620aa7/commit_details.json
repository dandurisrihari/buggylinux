{
  "hash": "0338cd9c22d1bce7dc4a6641d4215a50f476f429",
  "hash_short": "0338cd9c",
  "subject": "Merge tag 's390-6.13-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux",
  "body": "Pull s390 updates from Heiko Carstens:\n\n - Add firmware sysfs interface which allows user space to retrieve the\n   dump area size of the machine\n\n - Add 'measurement_chars_full' CHPID sysfs attribute to make the\n   complete associated Channel-Measurements Characteristics Block\n   available\n\n - Add virtio-mem support\n\n - Move gmap aka KVM page fault handling from the main fault handler to\n   KVM code. This is the first step to make s390 KVM page fault handling\n   similar to other architectures. With this first step the main fault\n   handler does not have any special handling anymore, and therefore\n   convert it to support LOCK_MM_AND_FIND_VMA\n\n - With gcc 14 s390 support for flag output operand support for inline\n   assemblies was added. This allows for several optimizations:\n\n     - Provide a cmpxchg inline assembly which makes use of this, and\n       provide all variants of arch_try_cmpxchg() so that the compiler\n       can generate slightly better code\n\n     - Convert a few cmpxchg() loops to try_cmpxchg() loops\n\n     - Similar to x86 add a CC_OUT() helper macro (and other macros),\n       and convert all inline assemblies to make use of them, so that\n       depending on compiler version better code can be generated\n\n - List installed host-key hashes in sysfs if the machine supports the\n   Query Ultravisor Keys UVC\n\n - Add 'Retrieve Secret' ioctl which allows user space in protected\n   execution guests to retrieve previously stored secrets from the\n   Ultravisor\n\n - Add pkey-uv module which supports the conversion of Ultravisor\n   retrievable secrets to protected keys\n\n - Extend the existing paes cipher to exploit the full AES-XTS hardware\n   acceleration introduced with message-security assist extension 10\n\n - Convert hopefully all sysfs show functions to use sysfs_emit() so\n   that the constant flow of such patches stop\n\n - For PCI devices make use of the newly added Topology ID attribute to\n   enable whole card multi-function support despite the change to PCHID\n   per port. Additionally improve the overall robustness and usability\n   of the multifunction support\n\n - Various other small improvements, fixes, and cleanups\n\n* tag 's390-6.13-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux: (133 commits)\n  s390/cio/ioasm: Convert to use flag output macros\n  s390/cio/qdio: Convert to use flag output macros\n  s390/sclp: Convert to use flag output macros\n  s390/dasd: Convert to use flag output macros\n  s390/boot/physmem: Convert to use flag output macros\n  s390/pci: Convert to use flag output macros\n  s390/kvm: Convert to use flag output macros\n  s390/extmem: Convert to use flag output macros\n  s390/string: Convert to use flag output macros\n  s390/diag: Convert to use flag output macros\n  s390/irq: Convert to use flag output macros\n  s390/smp: Convert to use flag output macros\n  s390/uv: Convert to use flag output macros\n  s390/pai: Convert to use flag output macros\n  s390/mm: Convert to use flag output macros\n  s390/cpu_mf: Convert to use flag output macros\n  s390/cpcmd: Convert to use flag output macros\n  s390/topology: Convert to use flag output macros\n  s390/time: Convert to use flag output macros\n  s390/pageattr: Convert to use flag output macros\n  ...",
  "full_message": "Merge tag 's390-6.13-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux\n\nPull s390 updates from Heiko Carstens:\n\n - Add firmware sysfs interface which allows user space to retrieve the\n   dump area size of the machine\n\n - Add 'measurement_chars_full' CHPID sysfs attribute to make the\n   complete associated Channel-Measurements Characteristics Block\n   available\n\n - Add virtio-mem support\n\n - Move gmap aka KVM page fault handling from the main fault handler to\n   KVM code. This is the first step to make s390 KVM page fault handling\n   similar to other architectures. With this first step the main fault\n   handler does not have any special handling anymore, and therefore\n   convert it to support LOCK_MM_AND_FIND_VMA\n\n - With gcc 14 s390 support for flag output operand support for inline\n   assemblies was added. This allows for several optimizations:\n\n     - Provide a cmpxchg inline assembly which makes use of this, and\n       provide all variants of arch_try_cmpxchg() so that the compiler\n       can generate slightly better code\n\n     - Convert a few cmpxchg() loops to try_cmpxchg() loops\n\n     - Similar to x86 add a CC_OUT() helper macro (and other macros),\n       and convert all inline assemblies to make use of them, so that\n       depending on compiler version better code can be generated\n\n - List installed host-key hashes in sysfs if the machine supports the\n   Query Ultravisor Keys UVC\n\n - Add 'Retrieve Secret' ioctl which allows user space in protected\n   execution guests to retrieve previously stored secrets from the\n   Ultravisor\n\n - Add pkey-uv module which supports the conversion of Ultravisor\n   retrievable secrets to protected keys\n\n - Extend the existing paes cipher to exploit the full AES-XTS hardware\n   acceleration introduced with message-security assist extension 10\n\n - Convert hopefully all sysfs show functions to use sysfs_emit() so\n   that the constant flow of such patches stop\n\n - For PCI devices make use of the newly added Topology ID attribute to\n   enable whole card multi-function support despite the change to PCHID\n   per port. Additionally improve the overall robustness and usability\n   of the multifunction support\n\n - Various other small improvements, fixes, and cleanups\n\n* tag 's390-6.13-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux: (133 commits)\n  s390/cio/ioasm: Convert to use flag output macros\n  s390/cio/qdio: Convert to use flag output macros\n  s390/sclp: Convert to use flag output macros\n  s390/dasd: Convert to use flag output macros\n  s390/boot/physmem: Convert to use flag output macros\n  s390/pci: Convert to use flag output macros\n  s390/kvm: Convert to use flag output macros\n  s390/extmem: Convert to use flag output macros\n  s390/string: Convert to use flag output macros\n  s390/diag: Convert to use flag output macros\n  s390/irq: Convert to use flag output macros\n  s390/smp: Convert to use flag output macros\n  s390/uv: Convert to use flag output macros\n  s390/pai: Convert to use flag output macros\n  s390/mm: Convert to use flag output macros\n  s390/cpu_mf: Convert to use flag output macros\n  s390/cpcmd: Convert to use flag output macros\n  s390/topology: Convert to use flag output macros\n  s390/time: Convert to use flag output macros\n  s390/pageattr: Convert to use flag output macros\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Mon Nov 18 17:45:41 2024 -0800",
  "author_date_iso": "2024-11-18T17:45:41-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Nov 18 17:45:41 2024 -0800",
  "committer_date_iso": "2024-11-18T17:45:41-08:00",
  "files_changed": [
    "MAINTAINERS",
    "arch/s390/Kconfig",
    "arch/s390/configs/debug_defconfig",
    "arch/s390/configs/defconfig",
    "arch/s390/pci/pci_event.c",
    "drivers/s390/crypto/pkey_pckmo.c",
    "lib/Kconfig.debug"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "Documentation/virt/kvm/s390/s390-diag.rst",
      "insertions": 28,
      "deletions": 7
    },
    {
      "file": "MAINTAINERS",
      "insertions": 25,
      "deletions": 1
    },
    {
      "file": "arch/s390/Kconfig",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/s390/boot/physmem_info.c",
      "insertions": 67,
      "deletions": 16
    },
    {
      "file": "arch/s390/boot/startup.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "arch/s390/boot/uv.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "arch/s390/configs/debug_defconfig",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/configs/defconfig",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/crypto/paes_s390.c",
      "insertions": 290,
      "deletions": 123
    },
    {
      "file": "arch/s390/crypto/prng.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "arch/s390/include/asm/asm.h",
      "insertions": 51,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/atomic.h",
      "insertions": 24,
      "deletions": 4
    },
    {
      "file": "arch/s390/include/asm/atomic_ops.h",
      "insertions": 0,
      "deletions": 75
    },
    {
      "file": "arch/s390/include/asm/cmpxchg.h",
      "insertions": 220,
      "deletions": 154
    },
    {
      "file": "arch/s390/include/asm/cpacf.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/cpu_mf.h",
      "insertions": 30,
      "deletions": 27
    },
    {
      "file": "arch/s390/include/asm/facility.h",
      "insertions": 9,
      "deletions": 9
    },
    {
      "file": "arch/s390/include/asm/gmap.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/s390/include/asm/kexec.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/s390/include/asm/lowcore.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "arch/s390/include/asm/page.h",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "arch/s390/include/asm/pai.h",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/s390/include/asm/pci.h",
      "insertions": 11,
      "deletions": 4
    },
    {
      "file": "arch/s390/include/asm/pci_clp.h",
      "insertions": 8,
      "deletions": 5
    },
    {
      "file": "arch/s390/include/asm/pci_io.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "arch/s390/include/asm/physmem_info.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/preempt.h",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "arch/s390/include/asm/processor.h",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "arch/s390/include/asm/ptrace.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/set_memory.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/sigp.h",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "arch/s390/include/asm/sparsemem.h",
      "insertions": 17,
      "deletions": 1
    },
    {
      "file": "arch/s390/include/asm/spinlock.h",
      "insertions": 8,
      "deletions": 5
    },
    {
      "file": "arch/s390/include/asm/timex.h",
      "insertions": 17,
      "deletions": 15
    },
    {
      "file": "arch/s390/include/asm/uv.h",
      "insertions": 164,
      "deletions": 12
    },
    {
      "file": "arch/s390/include/uapi/asm/dasd.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/include/uapi/asm/pkey.h",
      "insertions": 27,
      "deletions": 11
    },
    {
      "file": "arch/s390/include/uapi/asm/uvdevice.h",
      "insertions": 18,
      "deletions": 14
    },
    {
      "file": "arch/s390/kernel/asm-offsets.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/s390/kernel/cpcmd.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/s390/kernel/crash_dump.c",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/s390/kernel/debug.c",
      "insertions": 9,
      "deletions": 9
    },
    {
      "file": "arch/s390/kernel/diag.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "arch/s390/kernel/entry.S",
      "insertions": 12,
      "deletions": 32
    },
    {
      "file": "arch/s390/kernel/ipl.c",
      "insertions": 51,
      "deletions": 33
    },
    {
      "file": "arch/s390/kernel/irq.c",
      "insertions": 8,
      "deletions": 3
    },
    {
      "file": "arch/s390/kernel/nospec-sysfs.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/s390/kernel/os_info.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/kernel/perf_cpum_cf.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "arch/s390/kernel/perf_cpum_sf.c",
      "insertions": 38,
      "deletions": 46
    },
    {
      "file": "arch/s390/kernel/perf_event.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/kernel/smp.c",
      "insertions": 10,
      "deletions": 10
    },
    {
      "file": "arch/s390/kernel/sthyi.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/s390/kernel/syscalls/Makefile",
      "insertions": 15,
      "deletions": 12
    },
    {
      "file": "arch/s390/kernel/time.c",
      "insertions": 15,
      "deletions": 15
    },
    {
      "file": "arch/s390/kernel/topology.c",
      "insertions": 15,
      "deletions": 14
    },
    {
      "file": "arch/s390/kernel/traps.c",
      "insertions": 19,
      "deletions": 5
    },
    {
      "file": "arch/s390/kernel/uv.c",
      "insertions": 244,
      "deletions": 12
    },
    {
      "file": "arch/s390/kvm/intercept.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 109,
      "deletions": 49
    },
    {
      "file": "arch/s390/kvm/kvm-s390.h",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/pci.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/vsie.c",
      "insertions": 9,
      "deletions": 10
    },
    {
      "file": "arch/s390/lib/spinlock.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "arch/s390/lib/string.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "arch/s390/mm/extmem.c",
      "insertions": 8,
      "deletions": 6
    },
    {
      "file": "arch/s390/mm/fault.c",
      "insertions": 30,
      "deletions": 177
    },
    {
      "file": "arch/s390/mm/gmap.c",
      "insertions": 100,
      "deletions": 51
    },
    {
      "file": "arch/s390/mm/pageattr.c",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "arch/s390/mm/pgtable.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/pci/pci.c",
      "insertions": 61,
      "deletions": 8
    },
    {
      "file": "arch/s390/pci/pci_bus.c",
      "insertions": 29,
      "deletions": 19
    },
    {
      "file": "arch/s390/pci/pci_bus.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/s390/pci/pci_clp.c",
      "insertions": 28,
      "deletions": 18
    },
    {
      "file": "arch/s390/pci/pci_event.c",
      "insertions": 9,
      "deletions": 4
    },
    {
      "file": "arch/s390/pci/pci_insn.c",
      "insertions": 58,
      "deletions": 48
    },
    {
      "file": "arch/s390/pci/pci_iov.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/pci/pci_mmio.c",
      "insertions": 50,
      "deletions": 40
    },
    {
      "file": "arch/s390/pci/pci_sysfs.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "arch/s390/purgatory/head.S",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/crypto/Kconfig",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "drivers/s390/block/dasd_diag.c",
      "insertions": 9,
      "deletions": 6
    },
    {
      "file": "drivers/s390/block/dcssblk.c",
      "insertions": 6,
      "deletions": 12
    },
    {
      "file": "drivers/s390/char/con3270.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/s390/char/sclp.h",
      "insertions": 11,
      "deletions": 7
    },
    {
      "file": "drivers/s390/char/sclp_cpi_sys.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/s390/char/sclp_ocf.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/s390/char/sclp_pci.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/s390/char/tape_core.c",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "drivers/s390/char/uvdevice.c",
      "insertions": 124,
      "deletions": 29
    },
    {
      "file": "drivers/s390/char/vmlogrdr.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/s390/char/vmur.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/s390/cio/ccwgroup.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/s390/cio/chp.c",
      "insertions": 22,
      "deletions": 9
    },
    {
      "file": "drivers/s390/cio/chp.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/s390/cio/chsc.c",
      "insertions": 10,
      "deletions": 21
    },
    {
      "file": "drivers/s390/cio/chsc.h",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "drivers/s390/cio/cio.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/s390/cio/cio.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/s390/cio/cmf.c",
      "insertions": 7,
      "deletions": 8
    },
    {
      "file": "drivers/s390/cio/css.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/s390/cio/device.c",
      "insertions": 27,
      "deletions": 13
    },
    {
      "file": "drivers/s390/cio/ioasm.c",
      "insertions": 54,
      "deletions": 53
    },
    {
      "file": "drivers/s390/cio/qdio_main.c",
      "insertions": 13,
      "deletions": 15
    },
    {
      "file": "drivers/s390/cio/scm.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/s390/crypto/Makefile",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/pkey_base.c",
      "insertions": 13,
      "deletions": 1
    },
    {
      "file": "drivers/s390/crypto/pkey_base.h",
      "insertions": 36,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/pkey_cca.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/s390/crypto/pkey_ep11.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/s390/crypto/pkey_pckmo.c",
      "insertions": 76,
      "deletions": 163
    },
    {
      "file": "drivers/s390/crypto/pkey_sysfs.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/s390/crypto/pkey_uv.c",
      "insertions": 284,
      "deletions": 0
    },
    {
      "file": "drivers/s390/crypto/vfio_ap_ops.c",
      "insertions": 12,
      "deletions": 33
    },
    {
      "file": "drivers/s390/crypto/zcrypt_ccamisc.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/s390/net/netiucv.c",
      "insertions": 12,
      "deletions": 12
    },
    {
      "file": "drivers/s390/scsi/zfcp_sysfs.c",
      "insertions": 40,
      "deletions": 42
    },
    {
      "file": "drivers/s390/virtio/virtio_ccw.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/virtio/Kconfig",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "lib/Kconfig.debug",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 2948,
  "total_deletions": 1665,
  "total_changes": 4613,
  "parents": [
    "5591fd5e034819a89ac93c0ccc6be2a930042f71",
    "e200565d434b66e5b2bfc3b143b66b8ca29666ad"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/configs/debug_defconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/configs/defconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Kconfig.debug",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/crypto/pkey_pckmo.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/pci/pci_event.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "MAINTAINERS",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}