{
  "hash": "c27a3e4d667fdcad3db7b104f75659478e0c68d8",
  "hash_short": "c27a3e4d",
  "subject": "libceph: do not hard code max auth ticket len",
  "body": "We hard code cephx auth ticket buffer size to 256 bytes.  This isn't\nenough for any moderate setups and, in case tickets themselves are not\nencrypted, leads to buffer overflows (ceph_x_decrypt() errors out, but\nceph_decode_copy() doesn't - it's just a memcpy() wrapper).  Since the\nbuffer is allocated dynamically anyway, allocated it a bit later, at\nthe point where we know how much is going to be needed.\n\nFixes: http://tracker.ceph.com/issues/8979\n\nCc: stable@vger.kernel.org\nSigned-off-by: Ilya Dryomov <ilya.dryomov@inktank.com>\nReviewed-by: Sage Weil <sage@redhat.com>",
  "full_message": "libceph: do not hard code max auth ticket len\n\nWe hard code cephx auth ticket buffer size to 256 bytes.  This isn't\nenough for any moderate setups and, in case tickets themselves are not\nencrypted, leads to buffer overflows (ceph_x_decrypt() errors out, but\nceph_decode_copy() doesn't - it's just a memcpy() wrapper).  Since the\nbuffer is allocated dynamically anyway, allocated it a bit later, at\nthe point where we know how much is going to be needed.\n\nFixes: http://tracker.ceph.com/issues/8979\n\nCc: stable@vger.kernel.org\nSigned-off-by: Ilya Dryomov <ilya.dryomov@inktank.com>\nReviewed-by: Sage Weil <sage@redhat.com>",
  "author_name": "Ilya Dryomov",
  "author_email": "ilya.dryomov@inktank.com",
  "author_date": "Tue Sep 9 19:39:15 2014 +0400",
  "author_date_iso": "2014-09-09T19:39:15+04:00",
  "committer_name": "Ilya Dryomov",
  "committer_email": "ilya.dryomov@inktank.com",
  "committer_date": "Wed Sep 10 20:08:36 2014 +0400",
  "committer_date_iso": "2014-09-10T20:08:36+04:00",
  "files_changed": [
    "net/ceph/auth_x.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/ceph/auth_x.c",
      "insertions": 29,
      "deletions": 35
    }
  ],
  "total_insertions": 29,
  "total_deletions": 35,
  "total_changes": 64,
  "parents": [
    "597cda357716a3cf8d994cb11927af917c8d71fa"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.17",
    "v3.17-rc5",
    "v3.17-rc6",
    "v3.17-rc7",
    "v3.18",
    "v3.18-rc1",
    "v3.18-rc2",
    "v3.18-rc3",
    "v3.18-rc4",
    "v3.18-rc5"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/ceph/auth_x.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}