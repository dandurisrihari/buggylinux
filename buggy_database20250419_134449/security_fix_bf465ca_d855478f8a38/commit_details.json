{
  "hash": "bf465ca8090a1aa4f88d87e003302158c772c3de",
  "hash_short": "bf465ca8",
  "subject": "tools headers UAPI: Sync linux/kvm.h with the kernel sources",
  "body": "To pick the changes in:\n\n  8a061562e2f2b32b (\"RISC-V: KVM: Add extensible CSR emulation framework\")\n  f5ecfee944934757 (\"KVM: s390: resetting the Topology-Change-Report\")\n  450a563924ae9437 (\"KVM: stats: Fix value for KVM_STATS_UNIT_MAX for boolean stats\")\n  1b870fa5573e260b (\"kvm: stats: tell userspace which values are boolean\")\n  db1c875e0539518e (\"KVM: s390: add KVM_S390_ZPCI_OP to manage guest zPCI devices\")\n  94dfc73e7cf4a31d (\"treewide: uapi: Replace zero-length arrays with flexible-array members\")\n  084cc29f8bbb034c (\"KVM: x86/MMU: Allow NX huge pages to be disabled on a per-vm basis\")\n  2f4073e08f4cc5a4 (\"KVM: VMX: Enable Notify VM exit\")\n  ed2351174e38ad4f (\"KVM: x86: Extend KVM_{G,S}ET_VCPU_EVENTS to support pending triple fault\")\n  e9bf3acb23f0a6e1 (\"KVM: s390: Add KVM_CAP_S390_PROTECTED_DUMP\")\n  8aba09588d2af37c (\"KVM: s390: Add CPU dump functionality\")\n  0460eb35b443f73f (\"KVM: s390: Add configuration dump functionality\")\n  fe9a93e07ba4f29d (\"KVM: s390: pv: Add query dump information\")\n  35d02493dba1ae63 (\"KVM: s390: pv: Add query interface\")\n  c24a950ec7d60c4d (\"KVM, SEV: Add KVM_EXIT_SHUTDOWN metadata for SEV-ES\")\n  ffbb61d09fc56c85 (\"KVM: x86: Accept KVM_[GS]ET_TSC_KHZ as a VM ioctl.\")\n  661a20fab7d156cf (\"KVM: x86/xen: Advertise and document KVM_XEN_HVM_CONFIG_EVTCHN_SEND\")\n  fde0451be8fb3208 (\"KVM: x86/xen: Support per-vCPU event channel upcall via local APIC\")\n  28d1629f751c4a5f (\"KVM: x86/xen: Kernel acceleration for XENVER_version\")\n  536395260582be74 (\"KVM: x86/xen: handle PV timers oneshot mode\")\n  942c2490c23f2800 (\"KVM: x86/xen: Add KVM_XEN_VCPU_ATTR_TYPE_VCPU_ID\")\n  2fd6df2f2b47d430 (\"KVM: x86/xen: intercept EVTCHNOP_send from guests\")\n  35025735a79eaa89 (\"KVM: x86/xen: Support direct injection of event channel events\")\n\nThat just rebuilds perf, as these patches add just an ioctl that is S390\nspecific and may clash with other arches, so are so far being excluded\nin the harvester script:\n\n  $ tools/perf/trace/beauty/kvm_ioctl.sh > before\n  $ cp include/uapi/linux/kvm.h tools/include/uapi/linux/kvm.h\n  $ tools/perf/trace/beauty/kvm_ioctl.sh > after\n  $ diff -u before after\n  $ grep 390 tools/perf/trace/beauty/kvm_ioctl.sh\n  \tegrep -v \" ((ARM|PPC|S390)_|[GS]ET_(DEBUGREGS|PIT2|XSAVE|TSC_KHZ)|CREATE_SPAPR_TCE_64)\" | \\\n  $\n\nThis is also by now used by tools/testing/selftests/kvm/, a simple test\nbuild succeeded.\n\nThis silences this perf build warning:\n\n  Warning: Kernel ABI header at 'tools/include/uapi/linux/kvm.h' differs from latest version at 'include/uapi/linux/kvm.h'\n  diff -u tools/include/uapi/linux/kvm.h include/uapi/linux/kvm.h\n\nCc: Anup Patel <anup@brainfault.org>\nCc: Ben Gardon <bgardon@google.com>\nCc: Chenyi Qiang <chenyi.qiang@intel.com>\nCc: Christian Borntraeger <borntraeger@linux.ibm.com>\nCc: David Woodhouse <dwmw@amazon.co.uk>\nCc: Gustavo A. R. Silva <gustavoars@kernel.org>\nCc: Janosch Frank <frankja@linux.ibm.com>\nCc: Jo\u00e3o Martins <joao.m.martins@oracle.com>\nCc: Matthew Rosato <mjrosato@linux.ibm.com>\nCc: Oliver Upton <oupton@google.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Peter Gonda <pgonda@google.com>\nCc: Pierre Morel <pmorel@linux.ibm.com>\nCc: Tao Xu <tao3.xu@intel.com>\nLink: https://lore.kernel.org/lkml/YvzuryClcn%2FvA0Gn@kernel.org/\nSigned-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>",
  "full_message": "tools headers UAPI: Sync linux/kvm.h with the kernel sources\n\nTo pick the changes in:\n\n  8a061562e2f2b32b (\"RISC-V: KVM: Add extensible CSR emulation framework\")\n  f5ecfee944934757 (\"KVM: s390: resetting the Topology-Change-Report\")\n  450a563924ae9437 (\"KVM: stats: Fix value for KVM_STATS_UNIT_MAX for boolean stats\")\n  1b870fa5573e260b (\"kvm: stats: tell userspace which values are boolean\")\n  db1c875e0539518e (\"KVM: s390: add KVM_S390_ZPCI_OP to manage guest zPCI devices\")\n  94dfc73e7cf4a31d (\"treewide: uapi: Replace zero-length arrays with flexible-array members\")\n  084cc29f8bbb034c (\"KVM: x86/MMU: Allow NX huge pages to be disabled on a per-vm basis\")\n  2f4073e08f4cc5a4 (\"KVM: VMX: Enable Notify VM exit\")\n  ed2351174e38ad4f (\"KVM: x86: Extend KVM_{G,S}ET_VCPU_EVENTS to support pending triple fault\")\n  e9bf3acb23f0a6e1 (\"KVM: s390: Add KVM_CAP_S390_PROTECTED_DUMP\")\n  8aba09588d2af37c (\"KVM: s390: Add CPU dump functionality\")\n  0460eb35b443f73f (\"KVM: s390: Add configuration dump functionality\")\n  fe9a93e07ba4f29d (\"KVM: s390: pv: Add query dump information\")\n  35d02493dba1ae63 (\"KVM: s390: pv: Add query interface\")\n  c24a950ec7d60c4d (\"KVM, SEV: Add KVM_EXIT_SHUTDOWN metadata for SEV-ES\")\n  ffbb61d09fc56c85 (\"KVM: x86: Accept KVM_[GS]ET_TSC_KHZ as a VM ioctl.\")\n  661a20fab7d156cf (\"KVM: x86/xen: Advertise and document KVM_XEN_HVM_CONFIG_EVTCHN_SEND\")\n  fde0451be8fb3208 (\"KVM: x86/xen: Support per-vCPU event channel upcall via local APIC\")\n  28d1629f751c4a5f (\"KVM: x86/xen: Kernel acceleration for XENVER_version\")\n  536395260582be74 (\"KVM: x86/xen: handle PV timers oneshot mode\")\n  942c2490c23f2800 (\"KVM: x86/xen: Add KVM_XEN_VCPU_ATTR_TYPE_VCPU_ID\")\n  2fd6df2f2b47d430 (\"KVM: x86/xen: intercept EVTCHNOP_send from guests\")\n  35025735a79eaa89 (\"KVM: x86/xen: Support direct injection of event channel events\")\n\nThat just rebuilds perf, as these patches add just an ioctl that is S390\nspecific and may clash with other arches, so are so far being excluded\nin the harvester script:\n\n  $ tools/perf/trace/beauty/kvm_ioctl.sh > before\n  $ cp include/uapi/linux/kvm.h tools/include/uapi/linux/kvm.h\n  $ tools/perf/trace/beauty/kvm_ioctl.sh > after\n  $ diff -u before after\n  $ grep 390 tools/perf/trace/beauty/kvm_ioctl.sh\n  \tegrep -v \" ((ARM|PPC|S390)_|[GS]ET_(DEBUGREGS|PIT2|XSAVE|TSC_KHZ)|CREATE_SPAPR_TCE_64)\" | \\\n  $\n\nThis is also by now used by tools/testing/selftests/kvm/, a simple test\nbuild succeeded.\n\nThis silences this perf build warning:\n\n  Warning: Kernel ABI header at 'tools/include/uapi/linux/kvm.h' differs from latest version at 'include/uapi/linux/kvm.h'\n  diff -u tools/include/uapi/linux/kvm.h include/uapi/linux/kvm.h\n\nCc: Anup Patel <anup@brainfault.org>\nCc: Ben Gardon <bgardon@google.com>\nCc: Chenyi Qiang <chenyi.qiang@intel.com>\nCc: Christian Borntraeger <borntraeger@linux.ibm.com>\nCc: David Woodhouse <dwmw@amazon.co.uk>\nCc: Gustavo A. R. Silva <gustavoars@kernel.org>\nCc: Janosch Frank <frankja@linux.ibm.com>\nCc: Jo\u00e3o Martins <joao.m.martins@oracle.com>\nCc: Matthew Rosato <mjrosato@linux.ibm.com>\nCc: Oliver Upton <oupton@google.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Peter Gonda <pgonda@google.com>\nCc: Pierre Morel <pmorel@linux.ibm.com>\nCc: Tao Xu <tao3.xu@intel.com>\nLink: https://lore.kernel.org/lkml/YvzuryClcn%2FvA0Gn@kernel.org/\nSigned-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>",
  "author_name": "Arnaldo Carvalho de Melo",
  "author_email": "acme@redhat.com",
  "author_date": "Sun May 9 09:39:02 2021 -0300",
  "author_date_iso": "2021-05-09T09:39:02-03:00",
  "committer_name": "Arnaldo Carvalho de Melo",
  "committer_email": "acme@redhat.com",
  "committer_date": "Fri Aug 19 15:30:34 2022 -0300",
  "committer_date_iso": "2022-08-19T15:30:34-03:00",
  "files_changed": [
    "tools/include/uapi/linux/kvm.h"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "tools/include/uapi/linux/kvm.h",
      "insertions": 108,
      "deletions": 0
    }
  ],
  "total_insertions": 108,
  "total_deletions": 0,
  "total_changes": 108,
  "parents": [
    "54cd4cde7c1edb869603073167cabab0b760fff6"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "tools/include/uapi/linux/kvm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}