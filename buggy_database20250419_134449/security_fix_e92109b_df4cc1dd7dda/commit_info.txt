Commit Hash: e92109be7a6a04808c3ed586475ba1e5ea56ecbd
Subject: iwlegacy: fix BSSID setting


Security Keywords:
- auth

Full commit message:
iwlegacy: fix BSSID setting

Current commit 0775f9f90cdaf40fbf69b3192b3dddb2b3436f45
"mac80211: remove spurious BSSID change flag" exposed bug on iwlegacy,
that we do not set BSSID address correctly and then device was not able
to receive frames after successful associate.

On the way fix scan canceling comment. Apparently ->post_associate()
do cancel scan itself, but scan cancel on BSS_CHANGED_BSSID is needed.
I'm not sure why, but when I removed it, I had frequent auth failures:

 wlan4: send auth to 54:e6:fc:98:63:fe (try 1/3)
 wlan4: send auth to 54:e6:fc:98:63:fe (try 2/3)
 wlan4: send auth to 54:e6:fc:98:63:fe (try 3/3)
 wlan4: authentication with 54:e6:fc:98:63:fe timed out

Signed-off-by: Stanislaw Gruszka <sgruszka@redhat.com>
Signed-off-by: John W. Linville <linville@tuxdriver.com>

Metadata:
Author: Stanislaw Gruszka <sgruszka@redhat.com>
Author Date: Thu Mar 15 11:42:49 2012 +0100
Committer: John W. Linville <linville@tuxdriver.com>
Commit Date: Mon Mar 26 15:07:24 2012 -0400

Files Changed: 1
Lines Added: 6
Lines Removed: 10
Total Changes: 16
