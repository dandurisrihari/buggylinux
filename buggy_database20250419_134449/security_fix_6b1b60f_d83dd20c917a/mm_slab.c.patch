commit 6b1b60f41eef3ba7b188fd72f1d6de478aafd93c
Author: Don Mullis <dwm@meer.net>
Date:   Fri Dec 8 02:39:53 2006 -0800

    [PATCH] fault-injection: defaults likely to please a new user
    
    Assign defaults most likely to please a new user:
     1) generate some logging output
        (verbose=2)
     2) avoid injecting failures likely to lock up UI
        (ignore_gfp_wait=1, ignore_gfp_highmem=1)
    
    Signed-off-by: Don Mullis <dwm@meer.net>
    Cc: Akinobu Mita <akinobu.mita@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

diff --git a/mm/slab.c b/mm/slab.c
index 47011e2ef3c9..56af694c9e6a 100644
--- a/mm/slab.c
+++ b/mm/slab.c
@@ -3102,6 +3102,7 @@ static struct failslab_attr {
 
 } failslab = {
 	.attr = FAULT_ATTR_INITIALIZER,
+	.ignore_gfp_wait = 1,
 };
 
 static int __init setup_failslab(char *str)