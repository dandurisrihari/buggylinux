{
  "hash": "127178d24c7eb2df53b1ba2b6f6f743e88178a1b",
  "hash_short": "127178d2",
  "subject": "Bluetooth: Automate remote name requests",
  "body": "In Bluetooth there are no automatic updates of remote device names when\nthey get changed on the remote side. Instead, it is a good idea to do a\nmanual name request when a new connection gets created (for whatever\nreason) since at this point it is very cheap (no costly baseband\nconnection creation needed just for the sake of the name request).\n\nSo far userspace has been responsible for this extra name request but\ntighter control is needed in order not to flood Bluetooth controllers\nwith two many commands during connection creation. It has been shown\nthat some controllers simply fail to function correctly if they get too\nmany (almost) simultaneous commands during connection creation. The\nsimplest way to acheive better control of these commands is to move\ntheir sending completely to the kernel side.\n\nThis patch inserts name requests into the sequence of events that the\nkernel performs during connection creation. It does this after the\nremote features have been successfully requested and before any pending\nauthentication requests are performed. The code will work sub-optimally\nwith userspace versions that still do the name requesting themselves (it\nshouldn't break anything though) so it is recommended to combine this\nwith a userspace software version that doesn't have automated name\nrequests.\n\nSigned-off-by: Johan Hedberg <johan.hedberg@nokia.com>\nSigned-off-by: Gustavo F. Padovan <padovan@profusion.mobi>",
  "full_message": "Bluetooth: Automate remote name requests\n\nIn Bluetooth there are no automatic updates of remote device names when\nthey get changed on the remote side. Instead, it is a good idea to do a\nmanual name request when a new connection gets created (for whatever\nreason) since at this point it is very cheap (no costly baseband\nconnection creation needed just for the sake of the name request).\n\nSo far userspace has been responsible for this extra name request but\ntighter control is needed in order not to flood Bluetooth controllers\nwith two many commands during connection creation. It has been shown\nthat some controllers simply fail to function correctly if they get too\nmany (almost) simultaneous commands during connection creation. The\nsimplest way to acheive better control of these commands is to move\ntheir sending completely to the kernel side.\n\nThis patch inserts name requests into the sequence of events that the\nkernel performs during connection creation. It does this after the\nremote features have been successfully requested and before any pending\nauthentication requests are performed. The code will work sub-optimally\nwith userspace versions that still do the name requesting themselves (it\nshouldn't break anything though) so it is recommended to combine this\nwith a userspace software version that doesn't have automated name\nrequests.\n\nSigned-off-by: Johan Hedberg <johan.hedberg@nokia.com>\nSigned-off-by: Gustavo F. Padovan <padovan@profusion.mobi>",
  "author_name": "Johan Hedberg",
  "author_email": "johan.hedberg@nokia.com",
  "author_date": "Thu Nov 18 22:22:29 2010 +0200",
  "author_date_iso": "2010-11-18T22:22:29+02:00",
  "committer_name": "Gustavo F. Padovan",
  "committer_email": "padovan@profusion.mobi",
  "committer_date": "Wed Dec 1 21:04:35 2010 -0200",
  "committer_date_iso": "2010-12-01T21:04:35-02:00",
  "files_changed": [
    "net/bluetooth/hci_event.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/bluetooth/hci_event.c",
      "insertions": 54,
      "deletions": 18
    }
  ],
  "total_insertions": 54,
  "total_deletions": 18,
  "total_changes": 72,
  "parents": [
    "392599b95d76f4f3102d8614bdc1957795cd1a3a"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.38",
    "v2.6.38-rc1",
    "v2.6.38-rc2",
    "v2.6.38-rc3",
    "v2.6.38-rc4",
    "v2.6.38-rc5",
    "v2.6.38-rc6",
    "v2.6.38-rc7",
    "v2.6.38-rc8",
    "v2.6.39"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/bluetooth/hci_event.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}