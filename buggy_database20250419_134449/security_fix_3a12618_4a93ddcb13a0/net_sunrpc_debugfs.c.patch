commit 3a1261805940d0ff1dbbb9c705dddbc018c0423f
Author: Chuck Lever <chuck.lever@oracle.com>
Date:   Tue Aug 3 15:55:58 2021 -0400

    SUNRPC: Server-side disconnect injection
    
    Disconnect injection stress-tests the ability for both client and
    server implementations to behave resiliently in the face of network
    instability.
    
    A file called /sys/kernel/debug/fail_sunrpc/ignore-server-disconnect
    enables administrators to turn off server-side disconnect injection
    while allowing other types of sunrpc errors to be injected. The
    default setting is that server-side disconnect injection is enabled
    (ignore=false).
    
    Signed-off-by: Chuck Lever <chuck.lever@oracle.com>

diff --git a/net/sunrpc/debugfs.c b/net/sunrpc/debugfs.c
index 04e453ad3508..827bf3a28178 100644
--- a/net/sunrpc/debugfs.c
+++ b/net/sunrpc/debugfs.c
@@ -259,6 +259,9 @@ static void fail_sunrpc_init(void)
 
 	debugfs_create_bool("ignore-client-disconnect", S_IFREG | 0600, dir,
 			    &fail_sunrpc.ignore_client_disconnect);
+
+	debugfs_create_bool("ignore-server-disconnect", S_IFREG | 0600, dir,
+			    &fail_sunrpc.ignore_server_disconnect);
 }
 #else
 static void fail_sunrpc_init(void)