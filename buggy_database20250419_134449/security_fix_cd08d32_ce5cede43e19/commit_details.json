{
  "hash": "cd08d3216fc4e684f05fe4cf696a275a975f6499",
  "hash_short": "cd08d321",
  "subject": "KVM: arm64: Unify UNDEF injection helpers",
  "body": "We currently have two helpers (undef_access() and trap_undef()) that\ndo exactly the same thing: inject an UNDEF and return 'false' (as an\nindication that PC should not be incremented).\n\nWe definitely could do with one less. Given that undef_access() is\nused 80ish times, while trap_undef() is only used 30 times, the\nlatter loses the battle and is immediately sacrificed.\n\nWe also have a large number of instances where undef_access() is\nopen-coded. Let's also convert those.\n\nReviewed-by: Oliver Upton <oliver.upton@linux.dev>\nLink: https://lore.kernel.org/r/20240827152517.3909653-11-maz@kernel.org\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "full_message": "KVM: arm64: Unify UNDEF injection helpers\n\nWe currently have two helpers (undef_access() and trap_undef()) that\ndo exactly the same thing: inject an UNDEF and return 'false' (as an\nindication that PC should not be incremented).\n\nWe definitely could do with one less. Given that undef_access() is\nused 80ish times, while trap_undef() is only used 30 times, the\nlatter loses the battle and is immediately sacrificed.\n\nWe also have a large number of instances where undef_access() is\nopen-coded. Let's also convert those.\n\nReviewed-by: Oliver Upton <oliver.upton@linux.dev>\nLink: https://lore.kernel.org/r/20240827152517.3909653-11-maz@kernel.org\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "author_name": "Marc Zyngier",
  "author_email": "maz@kernel.org",
  "author_date": "Tue Aug 27 16:25:16 2024 +0100",
  "author_date_iso": "2024-08-27T16:25:16+01:00",
  "committer_name": "Marc Zyngier",
  "committer_email": "maz@kernel.org",
  "committer_date": "Tue Aug 27 18:32:56 2024 +0100",
  "committer_date_iso": "2024-08-27T18:32:56+01:00",
  "files_changed": [
    "arch/arm64/kvm/sys_regs.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "insertions": 51,
      "deletions": 81
    }
  ],
  "total_insertions": 51,
  "total_deletions": 81,
  "total_changes": 132,
  "parents": [
    "4a999a1d7ae52592723a9a219aaa7a3406d66dd6"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}