{
  "hash": "71afaba4a2e98bb7bdeba5078370ab43d46e67a1",
  "hash_short": "71afaba4",
  "subject": "KVM: ARM: vgic: plug irq injection race",
  "body": "As it stands, nothing prevents userspace from injecting an interrupt\nbefore the guest's GIC is actually initialized.\n\nThis goes unnoticed so far (as everything is pretty much statically\nallocated), but ends up exploding in a spectacular way once we switch\nto a more dynamic allocation (the GIC data structure isn't there yet).\n\nThe fix is to test for the \"ready\" flag in the VGIC distributor before\ntrying to inject the interrupt. Note that in order to avoid breaking\nuserspace, we have to ignore what is essentially an error.\n\nSigned-off-by: Marc Zyngier <marc.zyngier@arm.com>\nAcked-by: Christoffer Dall <christoffer.dall@linaro.org>",
  "full_message": "KVM: ARM: vgic: plug irq injection race\n\nAs it stands, nothing prevents userspace from injecting an interrupt\nbefore the guest's GIC is actually initialized.\n\nThis goes unnoticed so far (as everything is pretty much statically\nallocated), but ends up exploding in a spectacular way once we switch\nto a more dynamic allocation (the GIC data structure isn't there yet).\n\nThe fix is to test for the \"ready\" flag in the VGIC distributor before\ntrying to inject the interrupt. Note that in order to avoid breaking\nuserspace, we have to ignore what is essentially an error.\n\nSigned-off-by: Marc Zyngier <marc.zyngier@arm.com>\nAcked-by: Christoffer Dall <christoffer.dall@linaro.org>",
  "author_name": "Marc Zyngier",
  "author_email": "marc.zyngier@arm.com",
  "author_date": "Tue Jul 8 12:09:00 2014 +0100",
  "author_date_iso": "2014-07-08T12:09:00+01:00",
  "committer_name": "Christoffer Dall",
  "committer_email": "christoffer.dall@linaro.org",
  "committer_date": "Thu Sep 18 18:45:06 2014 -0700",
  "committer_date_iso": "2014-09-18T18:45:06-07:00",
  "files_changed": [
    "virt/kvm/arm/vgic.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "virt/kvm/arm/vgic.c",
      "insertions": 2,
      "deletions": 1
    }
  ],
  "total_insertions": 2,
  "total_deletions": 1,
  "total_changes": 3,
  "parents": [
    "7e362919a59e6fc60e08ad1cf0b047291d1ca2e9"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.18",
    "v3.18-rc1",
    "v3.18-rc2",
    "v3.18-rc3",
    "v3.18-rc4",
    "v3.18-rc5",
    "v3.18-rc6",
    "v3.18-rc7",
    "v3.19",
    "v3.19-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "virt/kvm/arm/vgic.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}