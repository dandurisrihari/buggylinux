diff --cc mm/filemap.c
index e3b8987153e6,45e564a20f8e..1a6beaf69f49
--- a/mm/filemap.c
+++ b/mm/filemap.c
@@@ -827,10 -827,10 +827,10 @@@ int replace_page_cache_page(struct pag
  }
  EXPORT_SYMBOL_GPL(replace_page_cache_page);
  
 -static int __add_to_page_cache_locked(struct page *page,
 -				      struct address_space *mapping,
 -				      pgoff_t offset, gfp_t gfp,
 -				      void **shadowp)
 +noinline int __add_to_page_cache_locked(struct page *page,
 +					struct address_space *mapping,
- 					pgoff_t offset, gfp_t gfp_mask,
++					pgoff_t offset, gfp_t gfp,
 +					void **shadowp)
  {
  	XA_STATE(xas, &mapping->i_pages, offset);
  	int huge = PageHuge(page);