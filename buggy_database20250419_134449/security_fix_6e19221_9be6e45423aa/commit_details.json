{
  "hash": "6e192214c6c82c2f52238d5e1865f11594e58a6f",
  "hash_short": "6e192214",
  "subject": "iommu/arm-smmu-v3: Document SVA interaction with new pagetable features",
  "body": "Process pagetables may now be using new permission-indirection-based\nfeatures which an SMMU may not understand when given such a table for\nSVA. Although SMMUv3.4 does add its own S1PIE feature, realistically\nwe're still going to have to cope with feature mismatches between CPUs\nand SMMUs, so let's start simple and essentially just document the\nexpectations for what falls out as-is. Although it seems unlikely for\nSVA applications to also depend on memory-hardening features, or\nvice-versa, the relative lifecycles make it tricky to enforce mutual\nexclusivity. Thankfully our PIE index allocation makes it relatively\nbenign for an SMMU to keep interpreting them as direct permissions, the\nonly real implication is that an SVA application cannot harden itself\nagainst its own devices with these features. Thus, inform the user about\nthat just in case they have other expectations.\n\nAlso we don't (yet) support LPA2, so deny SVA entirely if we're going to\nmisunderstand the pagetable format altogether.\n\nSigned-off-by: Robin Murphy <robin.murphy@arm.com>\nLink: https://lore.kernel.org/r/68a37b00a720f0827cac0e4f40e4d3a688924054.1733406275.git.robin.murphy@arm.com\nSigned-off-by: Will Deacon <will@kernel.org>",
  "full_message": "iommu/arm-smmu-v3: Document SVA interaction with new pagetable features\n\nProcess pagetables may now be using new permission-indirection-based\nfeatures which an SMMU may not understand when given such a table for\nSVA. Although SMMUv3.4 does add its own S1PIE feature, realistically\nwe're still going to have to cope with feature mismatches between CPUs\nand SMMUs, so let's start simple and essentially just document the\nexpectations for what falls out as-is. Although it seems unlikely for\nSVA applications to also depend on memory-hardening features, or\nvice-versa, the relative lifecycles make it tricky to enforce mutual\nexclusivity. Thankfully our PIE index allocation makes it relatively\nbenign for an SMMU to keep interpreting them as direct permissions, the\nonly real implication is that an SVA application cannot harden itself\nagainst its own devices with these features. Thus, inform the user about\nthat just in case they have other expectations.\n\nAlso we don't (yet) support LPA2, so deny SVA entirely if we're going to\nmisunderstand the pagetable format altogether.\n\nSigned-off-by: Robin Murphy <robin.murphy@arm.com>\nLink: https://lore.kernel.org/r/68a37b00a720f0827cac0e4f40e4d3a688924054.1733406275.git.robin.murphy@arm.com\nSigned-off-by: Will Deacon <will@kernel.org>",
  "author_name": "Robin Murphy",
  "author_email": "robin.murphy@arm.com",
  "author_date": "Thu Dec 5 13:48:09 2024 +0000",
  "author_date_iso": "2024-12-05T13:48:09+00:00",
  "committer_name": "Will Deacon",
  "committer_email": "will@kernel.org",
  "committer_date": "Mon Dec 9 22:49:19 2024 +0000",
  "committer_date_iso": "2024-12-09T22:49:19+00:00",
  "files_changed": [
    "drivers/iommu/arm/arm-smmu-v3/arm-smmu-v3-sva.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/iommu/arm/arm-smmu-v3/arm-smmu-v3-sva.c",
      "insertions": 14,
      "deletions": 1
    }
  ],
  "total_insertions": 14,
  "total_deletions": 1,
  "total_changes": 15,
  "parents": [
    "46b3df8eb9bd035620bc48bd7a1f028490626621"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/iommu/arm/arm-smmu-v3/arm-smmu-v3-sva.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}