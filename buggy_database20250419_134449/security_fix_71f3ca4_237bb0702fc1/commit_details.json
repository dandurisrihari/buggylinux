{
  "hash": "71f3ca408fd43b586c02480768a503af075b247e",
  "hash_short": "71f3ca40",
  "subject": "rxrpc: Improve skb tracing",
  "body": "Improve sk_buff tracing within AF_RXRPC by the following means:\n\n (1) Use an enum to note the event type rather than plain integers and use\n     an array of event names rather than a big multi ?: list.\n\n (2) Distinguish Rx from Tx packets and account them separately.  This\n     requires the call phase to be tracked so that we know what we might\n     find in rxtx_buffer[].\n\n (3) Add a parameter to rxrpc_{new,see,get,free}_skb() to indicate the\n     event type.\n\n (4) A pair of 'rotate' events are added to indicate packets that are about\n     to be rotated out of the Rx and Tx windows.\n\n (5) A pair of 'lost' events are added, along with rxrpc_lose_skb() for\n     packet loss injection recording.\n\nSigned-off-by: David Howells <dhowells@redhat.com>",
  "full_message": "rxrpc: Improve skb tracing\n\nImprove sk_buff tracing within AF_RXRPC by the following means:\n\n (1) Use an enum to note the event type rather than plain integers and use\n     an array of event names rather than a big multi ?: list.\n\n (2) Distinguish Rx from Tx packets and account them separately.  This\n     requires the call phase to be tracked so that we know what we might\n     find in rxtx_buffer[].\n\n (3) Add a parameter to rxrpc_{new,see,get,free}_skb() to indicate the\n     event type.\n\n (4) A pair of 'rotate' events are added to indicate packets that are about\n     to be rotated out of the Rx and Tx windows.\n\n (5) A pair of 'lost' events are added, along with rxrpc_lose_skb() for\n     packet loss injection recording.\n\nSigned-off-by: David Howells <dhowells@redhat.com>",
  "author_name": "David Howells",
  "author_email": "dhowells@redhat.com",
  "author_date": "Sat Sep 17 10:49:14 2016 +0100",
  "author_date_iso": "2016-09-17T10:49:14+01:00",
  "committer_name": "David Howells",
  "committer_email": "dhowells@redhat.com",
  "committer_date": "Sat Sep 17 11:24:04 2016 +0100",
  "committer_date_iso": "2016-09-17T11:24:04+01:00",
  "files_changed": [
    "include/trace/events/rxrpc.h",
    "net/rxrpc/af_rxrpc.c",
    "net/rxrpc/ar-internal.h",
    "net/rxrpc/call_event.c",
    "net/rxrpc/call_object.c",
    "net/rxrpc/conn_event.c",
    "net/rxrpc/input.c",
    "net/rxrpc/local_event.c",
    "net/rxrpc/misc.c",
    "net/rxrpc/output.c",
    "net/rxrpc/peer_event.c",
    "net/rxrpc/recvmsg.c",
    "net/rxrpc/sendmsg.c",
    "net/rxrpc/skbuff.c"
  ],
  "files_changed_count": 14,
  "stats": [
    {
      "file": "include/trace/events/rxrpc.h",
      "insertions": 4,
      "deletions": 8
    },
    {
      "file": "net/rxrpc/af_rxrpc.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "net/rxrpc/ar-internal.h",
      "insertions": 28,
      "deletions": 5
    },
    {
      "file": "net/rxrpc/call_event.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "net/rxrpc/call_object.c",
      "insertions": 8,
      "deletions": 3
    },
    {
      "file": "net/rxrpc/conn_event.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "net/rxrpc/input.c",
      "insertions": 7,
      "deletions": 6
    },
    {
      "file": "net/rxrpc/local_event.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/rxrpc/misc.c",
      "insertions": 18,
      "deletions": 0
    },
    {
      "file": "net/rxrpc/output.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/rxrpc/peer_event.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "net/rxrpc/recvmsg.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "net/rxrpc/sendmsg.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "net/rxrpc/skbuff.c",
      "insertions": 38,
      "deletions": 15
    }
  ],
  "total_insertions": 131,
  "total_deletions": 63,
  "total_changes": 194,
  "parents": [
    "ba39f3a0ed756ccd882adf4a77916ec863db3ce4"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/rxrpc/call_event.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/ar-internal.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/trace/events/rxrpc.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/call_object.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/local_event.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/af_rxrpc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/conn_event.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/input.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/skbuff.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/misc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/output.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/recvmsg.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/sendmsg.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/rxrpc/peer_event.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}