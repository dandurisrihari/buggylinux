diff --cc arch/arm/boot/dts/am33xx.dtsi
index 20a3f29a6bfe,a4615b44f25e..c2f14e875eb6
--- a/arch/arm/boot/dts/am33xx.dtsi
+++ b/arch/arm/boot/dts/am33xx.dtsi
@@@ -222,121 -210,53 +222,168 @@@
  			interrupts = <91>;
  		};
  
 +		dcan0: d_can@481cc000 {
 +			compatible = "bosch,d_can";
 +			ti,hwmods = "d_can0";
 +			reg = <0x481cc000 0x2000>;
 +			interrupts = <52>;
 +			status = "disabled";
 +		};
 +
 +		dcan1: d_can@481d0000 {
 +			compatible = "bosch,d_can";
 +			ti,hwmods = "d_can1";
 +			reg = <0x481d0000 0x2000>;
 +			interrupts = <55>;
 +			status = "disabled";
 +		};
 +
 +		timer1: timer@44e31000 {
 +			compatible = "ti,omap2-timer";
 +			reg = <0x44e31000 0x400>;
 +			interrupts = <67>;
 +			ti,hwmods = "timer1";
 +			ti,timer-alwon;
 +		};
 +
 +		timer2: timer@48040000 {
 +			compatible = "ti,omap2-timer";
 +			reg = <0x48040000 0x400>;
 +			interrupts = <68>;
 +			ti,hwmods = "timer2";
 +		};
 +
 +		timer3: timer@48042000 {
 +			compatible = "ti,omap2-timer";
 +			reg = <0x48042000 0x400>;
 +			interrupts = <69>;
 +			ti,hwmods = "timer3";
 +		};
 +
 +		timer4: timer@48044000 {
 +			compatible = "ti,omap2-timer";
 +			reg = <0x48044000 0x400>;
 +			interrupts = <92>;
 +			ti,hwmods = "timer4";
 +			ti,timer-pwm;
 +		};
 +
 +		timer5: timer@48046000 {
 +			compatible = "ti,omap2-timer";
 +			reg = <0x48046000 0x400>;
 +			interrupts = <93>;
 +			ti,hwmods = "timer5";
 +			ti,timer-pwm;
 +		};
 +
 +		timer6: timer@48048000 {
 +			compatible = "ti,omap2-timer";
 +			reg = <0x48048000 0x400>;
 +			interrupts = <94>;
 +			ti,hwmods = "timer6";
 +			ti,timer-pwm;
 +		};
 +
 +		timer7: timer@4804a000 {
 +			compatible = "ti,omap2-timer";
 +			reg = <0x4804a000 0x400>;
 +			interrupts = <95>;
 +			ti,hwmods = "timer7";
 +			ti,timer-pwm;
 +		};
 +
 +		rtc@44e3e000 {
 +			compatible = "ti,da830-rtc";
 +			reg = <0x44e3e000 0x1000>;
 +			interrupts = <75
 +				      76>;
 +			ti,hwmods = "rtc";
 +		};
 +
 +		spi0: spi@48030000 {
 +			compatible = "ti,omap4-mcspi";
 +			#address-cells = <1>;
 +			#size-cells = <0>;
 +			reg = <0x48030000 0x400>;
 +			interrupt = <65>;
 +			ti,spi-num-cs = <2>;
 +			ti,hwmods = "spi0";
 +			status = "disabled";
 +		};
 +
 +		spi1: spi@481a0000 {
 +			compatible = "ti,omap4-mcspi";
 +			#address-cells = <1>;
 +			#size-cells = <0>;
 +			reg = <0x481a0000 0x400>;
 +			interrupt = <125>;
 +			ti,spi-num-cs = <2>;
 +			ti,hwmods = "spi1";
 +			status = "disabled";
 +		};
 +
 +		usb@47400000 {
 +			compatible = "ti,musb-am33xx";
 +			reg = <0x47400000 0x1000	/* usbss */
 +			       0x47401000 0x800		/* musb instance 0 */
 +			       0x47401800 0x800>;	/* musb instance 1 */
 +			interrupts = <17		/* usbss */
 +				      18		/* musb instance 0 */
 +				      19>;		/* musb instance 1 */
 +			multipoint = <1>;
 +			num-eps = <16>;
 +			ram-bits = <12>;
 +			port0-mode = <3>;
 +			port1-mode = <3>;
 +			power = <250>;
 +			ti,hwmods = "usb_otg_hs";
 +		};
++
+ 		mac: ethernet@4a100000 {
+ 			compatible = "ti,cpsw";
+ 			ti,hwmods = "cpgmac0";
+ 			cpdma_channels = <8>;
+ 			ale_entries = <1024>;
+ 			bd_ram_size = <0x2000>;
+ 			no_bd_ram = <0>;
+ 			rx_descs = <64>;
+ 			mac_control = <0x20>;
+ 			slaves = <2>;
+ 			cpts_active_slave = <0>;
+ 			cpts_clock_mult = <0x80000000>;
+ 			cpts_clock_shift = <29>;
+ 			reg = <0x4a100000 0x800
+ 			       0x4a101200 0x100>;
+ 			#address-cells = <1>;
+ 			#size-cells = <1>;
+ 			interrupt-parent = <&intc>;
+ 			/*
+ 			 * c0_rx_thresh_pend
+ 			 * c0_rx_pend
+ 			 * c0_tx_pend
+ 			 * c0_misc_pend
+ 			 */
+ 			interrupts = <40 41 42 43>;
+ 			ranges;
+ 
+ 			davinci_mdio: mdio@4a101000 {
+ 				compatible = "ti,davinci_mdio";
+ 				#address-cells = <1>;
+ 				#size-cells = <0>;
+ 				ti,hwmods = "davinci_mdio";
+ 				bus_freq = <1000000>;
+ 				reg = <0x4a101000 0x100>;
+ 			};
+ 
+ 			cpsw_emac0: slave@4a100200 {
+ 				/* Filled in by U-Boot */
+ 				mac-address = [ 00 00 00 00 00 00 ];
+ 			};
+ 
+ 			cpsw_emac1: slave@4a100300 {
+ 				/* Filled in by U-Boot */
+ 				mac-address = [ 00 00 00 00 00 00 ];
+ 			};
 -
+ 		};
  	};
  };
diff --cc net/core/dev.c
index e5942bf45a6d,47838509f5fd..d0cbc93fcf32
--- a/net/core/dev.c
+++ b/net/core/dev.c
@@@ -3446,13 -3544,11 +3544,13 @@@ static void flush_backlog(void *arg
  
  static int napi_gro_complete(struct sk_buff *skb)
  {
- 	struct packet_type *ptype;
+ 	struct packet_offload *ptype;
  	__be16 type = skb->protocol;
- 	struct list_head *head = &ptype_base[ntohs(type) & PTYPE_HASH_MASK];
+ 	struct list_head *head = &offload_base;
  	int err = -ENOENT;
  
 +	BUILD_BUG_ON(sizeof(struct napi_gro_cb) > sizeof(skb->cb));
 +
  	if (NAPI_GRO_CB(skb)->count == 1) {
  		skb_shinfo(skb)->gso_size = 0;
  		goto out;
diff --cc net/sched/cls_cgroup.c
index 31f06b633574,709b0fb38a18..6db7855b9029
--- a/net/sched/cls_cgroup.c
+++ b/net/sched/cls_cgroup.c
@@@ -79,9 -98,9 +102,10 @@@ static struct cftype ss_files[] = 
  
  struct cgroup_subsys net_cls_subsys = {
  	.name		= "net_cls",
 -	.create		= cgrp_create,
 -	.destroy	= cgrp_destroy,
 +	.css_alloc	= cgrp_css_alloc,
 +	.css_online	= cgrp_css_online,
 +	.css_free	= cgrp_css_free,
+ 	.attach		= cgrp_attach,
  	.subsys_id	= net_cls_subsys_id,
  	.base_cftypes	= ss_files,
  	.module		= THIS_MODULE,