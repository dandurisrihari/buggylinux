Files changed: 16
Insertions: 50401
Deletions: 14781
Total changes: 65182

File-specific changes:
Documentation/accel/amdxdna/amdnpu.rst: +281 -0
Documentation/accel/amdxdna/index.rst: +11 -0
Documentation/accel/index.rst: +1 -0
Documentation/admin-guide/cgroup-v2.rst: +51 -7
Documentation/core-api/cgroup.rst: +9 -0
Documentation/core-api/index.rst: +1 -0
Documentation/devicetree/bindings/display/brcm,bcm2711-hdmi.yaml: +2 -0
Documentation/devicetree/bindings/display/brcm,bcm2835-hvs.yaml: +4 -1
Documentation/devicetree/bindings/display/brcm,bcm2835-pixelvalve0.yaml: +3 -0
Documentation/devicetree/bindings/display/brcm,bcm2835-txp.yaml: +4 -1
Documentation/devicetree/bindings/display/brcm,bcm2835-vc4.yaml: +1 -0
Documentation/devicetree/bindings/display/bridge/renesas,dsi-csi2-tx.yaml: +1 -0
Documentation/devicetree/bindings/display/bridge/ti,sn65dsi83.yaml: +32 -2
Documentation/devicetree/bindings/display/msm/dp-controller.yaml: +1 -0
Documentation/devicetree/bindings/display/msm/dsi-controller-main.yaml: +2 -0
Documentation/devicetree/bindings/display/msm/dsi-phy-14nm.yaml: +1 -0
Documentation/devicetree/bindings/display/msm/qcom,sa8775p-mdss.yaml: +2 -1
Documentation/devicetree/bindings/display/msm/qcom,sm6150-dpu.yaml: +108 -0
Documentation/devicetree/bindings/display/msm/qcom,sm6150-mdss.yaml: +245 -0
Documentation/devicetree/bindings/display/panel/panel-lvds.yaml: +2 -0
Documentation/devicetree/bindings/display/panel/panel-simple.yaml: +8 -0
Documentation/devicetree/bindings/display/panel/samsung,atna33xc20.yaml: +2 -0
Documentation/devicetree/bindings/display/renesas,du.yaml: +62 -5
Documentation/devicetree/bindings/display/rockchip/rockchip,rk3588-mipi-dsi2.yaml: +120 -0
Documentation/devicetree/bindings/display/xlnx/xlnx,zynqmp-dpsub.yaml: +8 -2
Documentation/devicetree/bindings/vendor-prefixes.yaml: +2 -0
Documentation/gpu/drm-compute.rst: +54 -0
Documentation/gpu/drm-kms-helpers.rst: +3 -0
Documentation/gpu/drm-usage-stats.rst: +27 -27
Documentation/gpu/index.rst: +1 -0
Documentation/gpu/xe/index.rst: +1 -0
Documentation/gpu/xe/xe_devcoredump.rst: +14 -0
MAINTAINERS: +15 -2
arch/arm64/boot/dts/xilinx/zynqmp.dtsi: +5 -2
drivers/accel/Kconfig: +1 -0
drivers/accel/Makefile: +1 -0
drivers/accel/amdxdna/Kconfig: +18 -0
drivers/accel/amdxdna/Makefile: +23 -0
drivers/accel/amdxdna/TODO: +3 -0
drivers/accel/amdxdna/aie2_ctx.c: +910 -0
drivers/accel/amdxdna/aie2_error.c: +360 -0
drivers/accel/amdxdna/aie2_message.c: +776 -0
drivers/accel/amdxdna/aie2_msg_priv.h: +370 -0
drivers/accel/amdxdna/aie2_pci.c: +928 -0
drivers/accel/amdxdna/aie2_pci.h: +297 -0
drivers/accel/amdxdna/aie2_pm.c: +108 -0
drivers/accel/amdxdna/aie2_psp.c: +146 -0
drivers/accel/amdxdna/aie2_smu.c: +134 -0
drivers/accel/amdxdna/aie2_solver.c: +380 -0
drivers/accel/amdxdna/aie2_solver.h: +155 -0
drivers/accel/amdxdna/amdxdna_ctx.c: +550 -0
drivers/accel/amdxdna/amdxdna_ctx.h: +162 -0
drivers/accel/amdxdna/amdxdna_gem.c: +622 -0
drivers/accel/amdxdna/amdxdna_gem.h: +65 -0
drivers/accel/amdxdna/amdxdna_mailbox.c: +561 -0
drivers/accel/amdxdna/amdxdna_mailbox.h: +124 -0
drivers/accel/amdxdna/amdxdna_mailbox_helper.c: +61 -0
drivers/accel/amdxdna/amdxdna_mailbox_helper.h: +42 -0
drivers/accel/amdxdna/amdxdna_pci_drv.c: +429 -0
drivers/accel/amdxdna/amdxdna_pci_drv.h: +147 -0
drivers/accel/amdxdna/amdxdna_sysfs.c: +67 -0
drivers/accel/amdxdna/npu1_regs.c: +114 -0
drivers/accel/amdxdna/npu2_regs.c: +113 -0
drivers/accel/amdxdna/npu4_regs.c: +134 -0
drivers/accel/amdxdna/npu5_regs.c: +113 -0
drivers/accel/amdxdna/npu6_regs.c: +114 -0
drivers/accel/habanalabs/common/habanalabs_drv.c: +0 -1
drivers/accel/ivpu/ivpu_drv.c: +0 -8
drivers/accel/ivpu/ivpu_pm.c: +1 -1
drivers/accel/qaic/qaic_drv.c: +0 -1
drivers/accel/qaic/sahara.c: +1 -2
drivers/gpu/drm/Kconfig: +10 -71
drivers/gpu/drm/Makefile: +3 -8
drivers/gpu/drm/amd/amdgpu/Kconfig: +1 -0
drivers/gpu/drm/amd/amdgpu/Makefile: +5 -3
drivers/gpu/drm/amd/amdgpu/aldebaran.c: +2 -0
drivers/gpu/drm/amd/amdgpu/amdgpu.h: +1 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_aca.h: +5 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_acp.c: +10 -10
drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd.c: +5 -3
drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd.h: +10 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gfx_v9.c: +6 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gpuvm.c: +7 -7
drivers/gpu/drm/amd/amdgpu/amdgpu_bios.c: +14 -12
drivers/gpu/drm/amd/amdgpu/amdgpu_cgs.c: +3 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_cs.c: +2 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_debugfs.c: +1 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_device.c: +89 -33
drivers/gpu/drm/amd/amdgpu/amdgpu_discovery.c: +16 -3
drivers/gpu/drm/amd/amdgpu/amdgpu_display.c: +80 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_display.h: +5 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_dma_buf.c: +4 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_drv.c: +1 -4
drivers/gpu/drm/amd/amdgpu/amdgpu_drv.h: +0 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_fdinfo.c: +6 -11
drivers/gpu/drm/amd/amdgpu/amdgpu_fru_eeprom.c: +1 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_fru_eeprom.h: +1 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_gem.c: +6 -6
drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c: +82 -8
drivers/gpu/drm/amd/amdgpu/amdgpu_ib.c: +2 -4
drivers/gpu/drm/amd/amdgpu/amdgpu_ih.c: +6 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_ih.h: +1 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_isp.c: +4 -3
drivers/gpu/drm/amd/amdgpu/amdgpu_job.c: +8 -9
drivers/gpu/drm/amd/amdgpu/amdgpu_jpeg.h: +2 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_mes.c: +3 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_object.c: +141 -71
drivers/gpu/drm/amd/amdgpu/amdgpu_object.h: +7 -5
drivers/gpu/drm/amd/amdgpu/amdgpu_psp.c: +45 -15
drivers/gpu/drm/amd/amdgpu/amdgpu_psp.h: +6 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_ras.c: +308 -37
drivers/gpu/drm/amd/amdgpu/amdgpu_ras.h: +11 -4
drivers/gpu/drm/amd/amdgpu/amdgpu_ras_eeprom.c: +61 -16
drivers/gpu/drm/amd/amdgpu/amdgpu_ras_eeprom.h: +21 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_reset.c: +2 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_ring.h: +1 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_sa.c: +1 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_sdma.c: +6 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_ttm.c: +3 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_ttm.h: +2 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_ucode.c: +15 -6
drivers/gpu/drm/amd/amdgpu/amdgpu_ucode.h: +8 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_umc.c: +78 -3
drivers/gpu/drm/amd/amdgpu/amdgpu_umc.h: +31 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_umsch_mm.c: +2 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_uvd.c: +1 -1
drivers/gpu/drm/amd/amdgpu/amdgpu_vce.c: +2 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_vcn.c: +95 -18
drivers/gpu/drm/amd/amdgpu/amdgpu_vcn.h: +16 -5
drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c: +1 -3
drivers/gpu/drm/amd/amdgpu/amdgpu_vkms.c: +2 -2
drivers/gpu/drm/amd/amdgpu/amdgpu_vm.c: +161 -48
drivers/gpu/drm/amd/amdgpu/amdgpu_vm.h: +17 -9
drivers/gpu/drm/amd/amdgpu/amdgpu_vm_pt.c: +1 -0
drivers/gpu/drm/amd/amdgpu/amdgpu_vpe.c: +6 -5
drivers/gpu/drm/amd/amdgpu/cik.c: +2 -2
drivers/gpu/drm/amd/amdgpu/cik_ih.c: +2 -2
drivers/gpu/drm/amd/amdgpu/cik_sdma.c: +6 -4
drivers/gpu/drm/amd/amdgpu/cz_ih.c: +2 -2
drivers/gpu/drm/amd/amdgpu/dce_v10_0.c: +29 -2
drivers/gpu/drm/amd/amdgpu/dce_v11_0.c: +29 -2
drivers/gpu/drm/amd/amdgpu/dce_v6_0.c: +29 -2
drivers/gpu/drm/amd/amdgpu/dce_v8_0.c: +28 -2
drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c: +33 -14
drivers/gpu/drm/amd/amdgpu/gfx_v10_0_cleaner_shader.h: +56 -0
drivers/gpu/drm/amd/amdgpu/gfx_v10_3_0_cleaner_shader.asm: +124 -0
drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c: +19 -28
drivers/gpu/drm/amd/amdgpu/gfx_v12_0.c: +30 -24
drivers/gpu/drm/amd/amdgpu/gfx_v12_0.h: +2 -0
drivers/gpu/drm/amd/amdgpu/gfx_v6_0.c: +9 -5
drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c: +11 -5
drivers/gpu/drm/amd/amdgpu/gfx_v8_0.c: +28 -18
drivers/gpu/drm/amd/amdgpu/gfx_v9_0.c: +20 -22
drivers/gpu/drm/amd/amdgpu/gfx_v9_4_2.c: +7 -7
drivers/gpu/drm/amd/amdgpu/gfx_v9_4_3.c: +32 -25
drivers/gpu/drm/amd/amdgpu/gfxhub_v1_2.c: +3 -1
drivers/gpu/drm/amd/amdgpu/gmc_v10_0.c: +3 -3
drivers/gpu/drm/amd/amdgpu/gmc_v11_0.c: +3 -3
drivers/gpu/drm/amd/amdgpu/gmc_v12_0.c: +20 -4
drivers/gpu/drm/amd/amdgpu/gmc_v6_0.c: +4 -3
drivers/gpu/drm/amd/amdgpu/gmc_v7_0.c: +5 -4
drivers/gpu/drm/amd/amdgpu/gmc_v8_0.c: +5 -4
drivers/gpu/drm/amd/amdgpu/gmc_v9_0.c: +37 -22
drivers/gpu/drm/amd/amdgpu/iceland_ih.c: +2 -2
drivers/gpu/drm/amd/amdgpu/ih_v6_0.c: +4 -4
drivers/gpu/drm/amd/amdgpu/ih_v6_1.c: +4 -4
drivers/gpu/drm/amd/amdgpu/ih_v7_0.c: +4 -4
drivers/gpu/drm/amd/amdgpu/imu_v11_0.c: +2 -1
drivers/gpu/drm/amd/amdgpu/imu_v12_0.c: +2 -1
drivers/gpu/drm/amd/amdgpu/jpeg_v2_0.c: +7 -7
drivers/gpu/drm/amd/amdgpu/jpeg_v2_5.c: +7 -7
drivers/gpu/drm/amd/amdgpu/jpeg_v3_0.c: +7 -7
drivers/gpu/drm/amd/amdgpu/jpeg_v4_0.c: +7 -7
drivers/gpu/drm/amd/amdgpu/jpeg_v4_0_3.c: +95 -9
drivers/gpu/drm/amd/amdgpu/jpeg_v4_0_5.c: +7 -7
drivers/gpu/drm/amd/amdgpu/jpeg_v5_0_0.c: +10 -10
drivers/gpu/drm/amd/amdgpu/jpeg_v5_0_1.c: +708 -0
drivers/gpu/drm/amd/amdgpu/jpeg_v5_0_1.h: +29 -0
drivers/gpu/drm/amd/amdgpu/mes_v11_0.c: +1 -3
drivers/gpu/drm/amd/amdgpu/mes_v12_0.c: +133 -3
drivers/gpu/drm/amd/amdgpu/mmhub_v1_0.c: +1 -1
drivers/gpu/drm/amd/amdgpu/mmhub_v1_8.c: +0 -1
drivers/gpu/drm/amd/amdgpu/navi10_ih.c: +5 -6
drivers/gpu/drm/amd/amdgpu/nbif_v6_3_1.c: +81 -0
drivers/gpu/drm/amd/amdgpu/nbif_v6_3_1.h: +1 -0
drivers/gpu/drm/amd/amdgpu/nv.c: +3 -3
drivers/gpu/drm/amd/amdgpu/psp_v13_0.c: +12 -0
drivers/gpu/drm/amd/amdgpu/sdma_v2_4.c: +5 -3
drivers/gpu/drm/amd/amdgpu/sdma_v3_0.c: +6 -4
drivers/gpu/drm/amd/amdgpu/sdma_v4_0.c: +7 -7
drivers/gpu/drm/amd/amdgpu/sdma_v4_4_2.c: +87 -29
drivers/gpu/drm/amd/amdgpu/sdma_v5_0.c: +4 -4
drivers/gpu/drm/amd/amdgpu/sdma_v5_2.c: +4 -4
drivers/gpu/drm/amd/amdgpu/sdma_v6_0.c: +3 -3
drivers/gpu/drm/amd/amdgpu/sdma_v7_0.c: +178 -121
drivers/gpu/drm/amd/amdgpu/si.c: +2 -2
drivers/gpu/drm/amd/amdgpu/si_dma.c: +5 -5
drivers/gpu/drm/amd/amdgpu/si_ih.c: +2 -2
drivers/gpu/drm/amd/amdgpu/soc15.c: +31 -3
drivers/gpu/drm/amd/amdgpu/soc21.c: +4 -4
drivers/gpu/drm/amd/amdgpu/soc24.c: +21 -6
drivers/gpu/drm/amd/amdgpu/ta_ras_if.h: +3 -0
drivers/gpu/drm/amd/amdgpu/ta_secureDisplay_if.h: +22 -2
drivers/gpu/drm/amd/amdgpu/tonga_ih.c: +2 -2
drivers/gpu/drm/amd/amdgpu/umc_v12_0.c: +122 -145
drivers/gpu/drm/amd/amdgpu/umc_v12_0.h: +12 -5
drivers/gpu/drm/amd/amdgpu/umc_v8_14.c: +160 -0
drivers/gpu/drm/amd/amdgpu/umc_v8_14.h: +51 -0
drivers/gpu/drm/amd/amdgpu/uvd_v3_1.c: +2 -2
drivers/gpu/drm/amd/amdgpu/uvd_v4_2.c: +4 -4
drivers/gpu/drm/amd/amdgpu/uvd_v5_0.c: +6 -11
drivers/gpu/drm/amd/amdgpu/uvd_v6_0.c: +6 -11
drivers/gpu/drm/amd/amdgpu/uvd_v7_0.c: +1 -1
drivers/gpu/drm/amd/amdgpu/vce_v2_0.c: +4 -4
drivers/gpu/drm/amd/amdgpu/vce_v3_0.c: +6 -6
drivers/gpu/drm/amd/amdgpu/vce_v4_0.c: +3 -3
drivers/gpu/drm/amd/amdgpu/vcn_v1_0.c: +13 -12
drivers/gpu/drm/amd/amdgpu/vcn_v2_0.c: +12 -12
drivers/gpu/drm/amd/amdgpu/vcn_v2_5.c: +19 -14
drivers/gpu/drm/amd/amdgpu/vcn_v3_0.c: +19 -15
drivers/gpu/drm/amd/amdgpu/vcn_v4_0.c: +23 -17
drivers/gpu/drm/amd/amdgpu/vcn_v4_0_3.c: +106 -15
drivers/gpu/drm/amd/amdgpu/vcn_v4_0_5.c: +20 -14
drivers/gpu/drm/amd/amdgpu/vcn_v5_0_0.c: +46 -33
drivers/gpu/drm/amd/amdgpu/vcn_v5_0_0.h: +5 -0
drivers/gpu/drm/amd/amdgpu/vcn_v5_0_1.c: +1118 -0
drivers/gpu/drm/amd/amdgpu/vcn_v5_0_1.h: +29 -0
drivers/gpu/drm/amd/amdgpu/vega10_ih.c: +5 -6
drivers/gpu/drm/amd/amdgpu/vega20_ih.c: +6 -6
drivers/gpu/drm/amd/amdgpu/vi.c: +3 -3
drivers/gpu/drm/amd/amdkfd/cwsr_trap_handler.h: +491 -0
drivers/gpu/drm/amd/amdkfd/cwsr_trap_handler_gfx10.asm: +1 -201
drivers/gpu/drm/amd/amdkfd/cwsr_trap_handler_gfx12.asm: +1126 -0
drivers/gpu/drm/amd/amdkfd/cwsr_trap_handler_gfx9.asm: +46 -12
drivers/gpu/drm/amd/amdkfd/kfd_crat.c: +1 -0
drivers/gpu/drm/amd/amdkfd/kfd_debug.h: +1 -0
drivers/gpu/drm/amd/amdkfd/kfd_device.c: +101 -34
drivers/gpu/drm/amd/amdkfd/kfd_device_queue_manager.c: +3 -0
drivers/gpu/drm/amd/amdkfd/kfd_device_queue_manager_v9.c: +2 -1
drivers/gpu/drm/amd/amdkfd/kfd_events.c: +11 -0
drivers/gpu/drm/amd/amdkfd/kfd_int_process_v9.c: +2 -0
drivers/gpu/drm/amd/amdkfd/kfd_interrupt.c: +25 -39
drivers/gpu/drm/amd/amdkfd/kfd_mqd_manager_v9.c: +9 -4
drivers/gpu/drm/amd/amdkfd/kfd_packet_manager.c: +27 -14
drivers/gpu/drm/amd/amdkfd/kfd_priv.h: +10 -4
drivers/gpu/drm/amd/amdkfd/kfd_process.c: +3 -2
drivers/gpu/drm/amd/amdkfd/kfd_process_queue_manager.c: +8 -5
drivers/gpu/drm/amd/amdkfd/kfd_queue.c: +6 -4
drivers/gpu/drm/amd/amdkfd/kfd_svm.c: +16 -6
drivers/gpu/drm/amd/amdkfd/kfd_topology.c: +3 -2
drivers/gpu/drm/amd/display/Kconfig: +2 -0
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c: +118 -27
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.h: +10 -4
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_crc.c: +462 -77
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_crc.h: +50 -5
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_debugfs.c: +111 -23
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_helpers.c: +6 -0
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_irq_params.h: +3 -1
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_mst_types.c: +6 -5
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_plane.c: +47 -22
drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_plane.h: +2 -3
drivers/gpu/drm/amd/display/dc/bios/bios_parser2.c: +5 -4
drivers/gpu/drm/amd/display/dc/clk_mgr/Makefile: +1 -1
drivers/gpu/drm/amd/display/dc/clk_mgr/clk_mgr.c: +4 -1
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn201/dcn201_clk_mgr.c: +2 -2
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn35/dcn351_clk_mgr.c: +140 -0
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn35/dcn35_clk_mgr.c: +202 -41
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn35/dcn35_clk_mgr.h: +4 -0
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn35/dcn35_smu.h: +29 -12
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn401/dalsmc.h: +3 -1
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn401/dcn401_clk_mgr.c: +88 -223
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn401/dcn401_clk_mgr.h: +1 -0
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn401/dcn401_clk_mgr_smu_msg.c: +37 -0
drivers/gpu/drm/amd/display/dc/clk_mgr/dcn401/dcn401_clk_mgr_smu_msg.h: +4 -0
drivers/gpu/drm/amd/display/dc/core/dc.c: +110 -11
drivers/gpu/drm/amd/display/dc/core/dc_hw_sequencer.c: +38 -0
drivers/gpu/drm/amd/display/dc/core/dc_link_exports.c: +8 -0
drivers/gpu/drm/amd/display/dc/core/dc_resource.c: +10 -6
drivers/gpu/drm/amd/display/dc/core/dc_stream.c: +2 -11
drivers/gpu/drm/amd/display/dc/core/dc_surface.c: +46 -7
drivers/gpu/drm/amd/display/dc/dc.h: +39 -5
drivers/gpu/drm/amd/display/dc/dc_dmub_srv.c: +23 -14
drivers/gpu/drm/amd/display/dc/dc_dp_types.h: +16 -0
drivers/gpu/drm/amd/display/dc/dc_dsc.h: +5 -0
drivers/gpu/drm/amd/display/dc/dc_hw_types.h: +97 -82
drivers/gpu/drm/amd/display/dc/dc_plane.h: +3 -0
drivers/gpu/drm/amd/display/dc/dc_spl_translate.c: +13 -4
drivers/gpu/drm/amd/display/dc/dc_stream.h: +10 -5
drivers/gpu/drm/amd/display/dc/dc_types.h: +28 -6
drivers/gpu/drm/amd/display/dc/dce/dce_clock_source.c: +3 -0
drivers/gpu/drm/amd/display/dc/dce/dce_mem_input.c: +34 -10
drivers/gpu/drm/amd/display/dc/dce/dmub_psr.c: +1 -2
drivers/gpu/drm/amd/display/dc/dce110/dce110_mem_input_v.c: +4 -4
drivers/gpu/drm/amd/display/dc/dce110/dce110_timing_generator.c: +139 -62
drivers/gpu/drm/amd/display/dc/dce110/dce110_timing_generator.h: +1 -1
drivers/gpu/drm/amd/display/dc/dce120/dce120_timing_generator.c: +87 -37
drivers/gpu/drm/amd/display/dc/dcn31/dcn31_panel_cntl.c: +18 -16
drivers/gpu/drm/amd/display/dc/dio/dcn31/dcn31_dio_link_encoder.c: +3 -2
drivers/gpu/drm/amd/display/dc/dio/dcn35/dcn35_dio_link_encoder.c: +80 -0
drivers/gpu/drm/amd/display/dc/dio/dcn35/dcn35_dio_link_encoder.h: +18 -0
drivers/gpu/drm/amd/display/dc/dm_helpers.h: +5 -0
drivers/gpu/drm/amd/display/dc/dml/calcs/dcn_calcs.c: +0 -132
drivers/gpu/drm/amd/display/dc/dml/dcn30/display_rq_dlg_calc_30.c: +1 -0
drivers/gpu/drm/amd/display/dc/dml/dcn32/display_mode_vba_util_32.c: +4 -0
drivers/gpu/drm/amd/display/dc/dml2/Makefile: +10 -9
drivers/gpu/drm/amd/display/dc/dml2/display_mode_core.c: +22 -19
drivers/gpu/drm/amd/display/dc/dml2/display_mode_core_structs.h: +83 -26
drivers/gpu/drm/amd/display/dc/dml2/display_mode_util.c: +3 -3
drivers/gpu/drm/amd/display/dc/dml2/dml21/dml21_translation_helper.c: +29 -89
drivers/gpu/drm/amd/display/dc/dml2/dml21/dml21_translation_helper.h: +0 -2
drivers/gpu/drm/amd/display/dc/dml2/dml21/dml21_utils.c: +67 -142
drivers/gpu/drm/amd/display/dc/dml2/dml21/dml21_utils.h: +4 -4
drivers/gpu/drm/amd/display/dc/dml2/dml21/dml21_wrapper.c: +0 -8
drivers/gpu/drm/amd/display/dc/dml2/dml21/inc/bounding_boxes/dcn3_soc_bb.h: +0 -401
drivers/gpu/drm/amd/display/dc/dml2/dml21/inc/bounding_boxes/dcn4_soc_bb.h: +2 -1
drivers/gpu/drm/amd/display/dc/dml2/dml21/inc/dml_top_display_cfg_types.h: +26 -26
drivers/gpu/drm/amd/display/dc/dml2/dml21/inc/dml_top_soc_parameter_types.h: +2 -0
drivers/gpu/drm/amd/display/dc/dml2/dml21/inc/dml_top_types.h: +40 -37
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_core/dml2_core_dcn4.c: +13 -29
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_core/dml2_core_dcn4_calcs.c: +926 -482
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_core/dml2_core_dcn4_calcs.h: +1 -1
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_core/dml2_core_shared_types.h: +105 -30
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_core/dml2_core_utils.c: +189 -36
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_core/dml2_core_utils.h: +5 -1
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_dpmm/dml2_dpmm_dcn4.c: +51 -8
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_pmo/dml2_pmo_dcn3.c: +8 -4
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_pmo/dml2_pmo_dcn4_fams2.c: +266 -162
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_pmo/dml2_pmo_dcn4_fams2.h: +7 -0
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_pmo/dml2_pmo_factory.c: +0 -1
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/dml2_top_interfaces.c: +50 -0
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/dml2_top_legacy.c: +10 -0
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/dml2_top_legacy.h: +9 -0
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/dml2_top_optimization.c: +0 -307
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/dml2_top_optimization.h: +0 -33
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/dml2_top_soc15.c: +1178 -0
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/{dml_top_mcache.h => dml2_top_soc15.h}: +5 -14
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/dml2_top/dml_top_mcache.c: +0 -549
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/inc/dml2_debug.c: +5 -0
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/inc/dml2_debug.h: +45 -1
drivers/gpu/drm/amd/display/dc/dml2/dml21/src/inc/dml2_internal_shared_types.h: +21 -37
drivers/gpu/drm/amd/display/dc/dml2/dml2_translation_helper.c: +47 -7
drivers/gpu/drm/amd/display/dc/dml2/dml2_wrapper.c: +30 -19
drivers/gpu/drm/amd/display/dc/dml2/dml_display_rq_dlg_calc.c: +0 -12
drivers/gpu/drm/amd/display/dc/dsc/dc_dsc.c: +45 -0
drivers/gpu/drm/amd/display/dc/dwb/dcn30/dcn30_dwb.c: +0 -13
drivers/gpu/drm/amd/display/dc/dwb/dcn30/dcn30_dwb.h: +0 -1
drivers/gpu/drm/amd/display/dc/hubp/dcn10/dcn10_hubp.c: +17 -2
drivers/gpu/drm/amd/display/dc/hubp/dcn10/dcn10_hubp.h: +4 -2
drivers/gpu/drm/amd/display/dc/hubp/dcn20/dcn20_hubp.c: +17 -2
drivers/gpu/drm/amd/display/dc/hubp/dcn20/dcn20_hubp.h: +3 -1
drivers/gpu/drm/amd/display/dc/hubp/dcn201/dcn201_hubp.c: +2 -1
drivers/gpu/drm/amd/display/dc/hubp/dcn21/dcn21_hubp.c: +1 -0
drivers/gpu/drm/amd/display/dc/hubp/dcn30/dcn30_hubp.c: +19 -2
drivers/gpu/drm/amd/display/dc/hubp/dcn30/dcn30_hubp.h: +4 -2
drivers/gpu/drm/amd/display/dc/hubp/dcn31/dcn31_hubp.c: +1 -0
drivers/gpu/drm/amd/display/dc/hubp/dcn32/dcn32_hubp.c: +2 -1
drivers/gpu/drm/amd/display/dc/hubp/dcn35/dcn35_hubp.c: +2 -1
drivers/gpu/drm/amd/display/dc/hubp/dcn35/dcn35_hubp.h: +1 -1
drivers/gpu/drm/amd/display/dc/hubp/dcn401/dcn401_hubp.c: +78 -53
drivers/gpu/drm/amd/display/dc/hubp/dcn401/dcn401_hubp.h: +44 -20
drivers/gpu/drm/amd/display/dc/hwss/dcn20/dcn20_hwseq.c: +145 -112
drivers/gpu/drm/amd/display/dc/hwss/dcn20/dcn20_hwseq.h: +16 -1
drivers/gpu/drm/amd/display/dc/hwss/dcn30/dcn30_init.c: +0 -1
drivers/gpu/drm/amd/display/dc/hwss/dcn301/dcn301_init.c: +0 -1
drivers/gpu/drm/amd/display/dc/hwss/dcn31/dcn31_init.c: +1 -2
drivers/gpu/drm/amd/display/dc/hwss/dcn314/dcn314_hwseq.c: +12 -0
drivers/gpu/drm/amd/display/dc/hwss/dcn314/dcn314_init.c: +1 -2
drivers/gpu/drm/amd/display/dc/hwss/dcn32/dcn32_hwseq.c: +1 -0
drivers/gpu/drm/amd/display/dc/hwss/dcn32/dcn32_init.c: +0 -1
drivers/gpu/drm/amd/display/dc/hwss/dcn35/dcn35_hwseq.c: +52 -1
drivers/gpu/drm/amd/display/dc/hwss/dcn35/dcn35_hwseq.h: +2 -0
drivers/gpu/drm/amd/display/dc/hwss/dcn35/dcn35_init.c: +5 -1
drivers/gpu/drm/amd/display/dc/hwss/dcn351/dcn351_init.c: +0 -1
drivers/gpu/drm/amd/display/dc/hwss/dcn401/dcn401_hwseq.c: +740 -96
drivers/gpu/drm/amd/display/dc/hwss/dcn401/dcn401_hwseq.h: +8 -3
drivers/gpu/drm/amd/display/dc/hwss/dcn401/dcn401_init.c: +7 -4
drivers/gpu/drm/amd/display/dc/hwss/hw_sequencer.h: +15 -7
drivers/gpu/drm/amd/display/dc/inc/core_types.h: +4 -4
drivers/gpu/drm/amd/display/dc/inc/dcn_calcs.h: +0 -4
drivers/gpu/drm/amd/display/dc/inc/hw/clk_mgr.h: +3 -0
drivers/gpu/drm/amd/display/dc/inc/hw/clk_mgr_internal.h: +59 -0
drivers/gpu/drm/amd/display/dc/inc/hw/hubp.h: +14 -2
drivers/gpu/drm/amd/display/dc/inc/hw/link_encoder.h: +8 -0
drivers/gpu/drm/amd/display/dc/inc/hw/mem_input.h: +4 -2
drivers/gpu/drm/amd/display/dc/inc/hw/optc.h: +1 -1
drivers/gpu/drm/amd/display/dc/inc/hw/timing_generator.h: +4 -1
drivers/gpu/drm/amd/display/dc/inc/link.h: +4 -0
drivers/gpu/drm/amd/display/dc/irq/dcn201/irq_service_dcn201.c: +2 -2
drivers/gpu/drm/amd/display/dc/link/accessories/link_dp_cts.c: +2 -2
drivers/gpu/drm/amd/display/dc/link/hwss/link_hwss_dio.c: +3 -1
drivers/gpu/drm/amd/display/dc/link/hwss/link_hwss_dio_fixed_vs_pe_retimer.c: +1 -1
drivers/gpu/drm/amd/display/dc/link/hwss/link_hwss_dpia.c: +59 -2
drivers/gpu/drm/amd/display/dc/link/hwss/link_hwss_dpia.h: +3 -0
drivers/gpu/drm/amd/display/dc/link/link_detection.c: +2 -1
drivers/gpu/drm/amd/display/dc/link/link_dpms.c: +39 -8
drivers/gpu/drm/amd/display/dc/link/link_factory.c: +2 -1
drivers/gpu/drm/amd/display/dc/link/link_validation.c: +179 -0
drivers/gpu/drm/amd/display/dc/link/link_validation.h: +5 -0
drivers/gpu/drm/amd/display/dc/link/protocols/link_ddc.c: +1 -1
drivers/gpu/drm/amd/display/dc/link/protocols/link_dp_capability.c: +24 -12
drivers/gpu/drm/amd/display/dc/link/protocols/link_dp_irq_handler.c: +7 -1
drivers/gpu/drm/amd/display/dc/link/protocols/link_dp_phy.c: +1 -1
drivers/gpu/drm/amd/display/dc/link/protocols/link_dp_training.c: +2 -2
drivers/gpu/drm/amd/display/dc/mpc/dcn30/dcn30_mpc.c: +18 -0
drivers/gpu/drm/amd/display/dc/mpc/dcn30/dcn30_mpc.h: +7 -0
drivers/gpu/drm/amd/display/dc/optc/dcn10/dcn10_optc.c: +85 -35
drivers/gpu/drm/amd/display/dc/optc/dcn10/dcn10_optc.h: +19 -0
drivers/gpu/drm/amd/display/dc/optc/dcn35/dcn35_optc.c: +77 -24
drivers/gpu/drm/amd/display/dc/optc/dcn401/dcn401_optc.c: +2 -2
drivers/gpu/drm/amd/display/dc/resource/dcn10/dcn10_resource.c: +7 -1
drivers/gpu/drm/amd/display/dc/resource/dcn10/dcn10_resource.h: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn20/dcn20_resource.c: +5 -55
drivers/gpu/drm/amd/display/dc/resource/dcn201/dcn201_resource.c: +4 -3
drivers/gpu/drm/amd/display/dc/resource/dcn21/dcn21_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn30/dcn30_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn301/dcn301_resource.c: +6 -5
drivers/gpu/drm/amd/display/dc/resource/dcn302/dcn302_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn303/dcn303_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn31/dcn31_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn314/dcn314_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn315/dcn315_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn316/dcn316_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn32/dcn32_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn321/dcn321_resource.c: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn35/dcn35_resource.c: +9 -1
drivers/gpu/drm/amd/display/dc/resource/dcn35/dcn35_resource.h: +1 -0
drivers/gpu/drm/amd/display/dc/resource/dcn351/dcn351_resource.c: +2 -1
drivers/gpu/drm/amd/display/dc/resource/dcn401/dcn401_resource.c: +40 -21
drivers/gpu/drm/amd/display/dc/spl/dc_spl.c: +95 -82
drivers/gpu/drm/amd/display/dc/spl/dc_spl_types.h: +11 -5
drivers/gpu/drm/amd/display/dmub/dmub_srv.h: +3 -0
drivers/gpu/drm/amd/display/dmub/inc/dmub_cmd.h: +167 -52
drivers/gpu/drm/amd/display/dmub/src/dmub_srv.c: +0 -4
drivers/gpu/drm/amd/display/modules/power/power_helpers.c: +7 -2
drivers/gpu/drm/amd/display/modules/power/power_helpers.h: +2 -1
drivers/gpu/drm/amd/include/amd_shared.h: +7 -2
drivers/gpu/drm/amd/include/asic_reg/dcn/{dcn_2_0_3_offset.h => dcn_2_0_1_offset.h}: +2 -2
drivers/gpu/drm/amd/include/asic_reg/dcn/{dcn_2_0_3_sh_mask.h => dcn_2_0_1_sh_mask.h}: +2 -2
drivers/gpu/drm/amd/include/asic_reg/umc/umc_8_14_0_offset.h: +29 -0
drivers/gpu/drm/amd/include/asic_reg/umc/umc_8_14_0_sh_mask.h: +37 -0
drivers/gpu/drm/amd/include/atomfirmware.h: +11 -6
drivers/gpu/drm/amd/include/ivsrcid/vcn/irqsrcs_vcn_5_0.h: +47 -0
drivers/gpu/drm/amd/include/kgd_pp_interface.h: +3 -1
drivers/gpu/drm/amd/pm/amdgpu_dpm.c: +77 -31
drivers/gpu/drm/amd/pm/inc/amdgpu_dpm.h: +3 -1
drivers/gpu/drm/amd/pm/legacy-dpm/kv_dpm.c: +5 -3
drivers/gpu/drm/amd/pm/legacy-dpm/si_dpm.c: +4 -3
drivers/gpu/drm/amd/pm/powerplay/amd_powerplay.c: +5 -3
drivers/gpu/drm/amd/pm/powerplay/hwmgr/ppatomctrl.c: +2 -0
drivers/gpu/drm/amd/pm/powerplay/hwmgr/vega10_powertune.c: +3 -2
drivers/gpu/drm/amd/pm/swsmu/amdgpu_smu.c: +58 -28
drivers/gpu/drm/amd/pm/swsmu/inc/amdgpu_smu.h: +7 -1
drivers/gpu/drm/amd/pm/swsmu/inc/pmfw_if/smu_v13_0_6_pmfw.h: +11 -3
drivers/gpu/drm/amd/pm/swsmu/inc/pmfw_if/smu_v13_0_6_ppsmc.h: +3 -1
drivers/gpu/drm/amd/pm/swsmu/inc/smu_types.h: +3 -1
drivers/gpu/drm/amd/pm/swsmu/smu11/sienna_cichlid_ppt.c: +8 -12
drivers/gpu/drm/amd/pm/swsmu/smu11/smu_v11_0.c: +2 -1
drivers/gpu/drm/amd/pm/swsmu/smu13/smu_v13_0.c: +8 -11
drivers/gpu/drm/amd/pm/swsmu/smu13/smu_v13_0_6_ppt.c: +63 -1
drivers/gpu/drm/amd/pm/swsmu/smu14/smu_v14_0.c: +17 -21
drivers/gpu/drm/arm/display/komeda/komeda_drv.c: +1 -1
drivers/gpu/drm/arm/display/komeda/komeda_kms.c: +0 -1
drivers/gpu/drm/arm/hdlcd_drv.c: +1 -2
drivers/gpu/drm/arm/malidp_drv.c: +1 -2
drivers/gpu/drm/armada/armada_drv.c: +1 -2
drivers/gpu/drm/aspeed/aspeed_gfx_drv.c: +1 -2
drivers/gpu/drm/ast/ast_drv.c: +1 -2
drivers/gpu/drm/ast/ast_drv.h: +0 -1
drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_dc.c: +1 -2
drivers/gpu/drm/bridge/adv7511/adv7511_audio.c: +2 -1
drivers/gpu/drm/bridge/analogix/analogix-anx6345.c: +1 -1
drivers/gpu/drm/bridge/analogix/anx7625.c: +34 -46
drivers/gpu/drm/bridge/cadence/cdns-mhdp8546-hdcp.c: +0 -28
drivers/gpu/drm/bridge/cadence/cdns-mhdp8546-hdcp.h: +0 -3
drivers/gpu/drm/bridge/chipone-icn6211.c: +1 -1
drivers/gpu/drm/bridge/chrontel-ch7033.c: +1 -1
drivers/gpu/drm/bridge/ite-it6263.c: +23 -14
drivers/gpu/drm/bridge/ite-it6505.c: +279 -58
drivers/gpu/drm/bridge/ite-it66121.c: +4 -2
drivers/gpu/drm/bridge/lontium-lt8912b.c: +2 -2
drivers/gpu/drm/bridge/lontium-lt9211.c: +1 -1
drivers/gpu/drm/bridge/lontium-lt9611.c: +71 -116
drivers/gpu/drm/bridge/lontium-lt9611uxc.c: +4 -3
drivers/gpu/drm/bridge/megachips-stdpxxxx-ge-b850v3-fw.c: +4 -4
drivers/gpu/drm/bridge/nxp-ptn3460.c: +2 -2
drivers/gpu/drm/bridge/sii902x.c: +6 -5
drivers/gpu/drm/bridge/sii9234.c: +2 -2
drivers/gpu/drm/bridge/sil-sii8620.c: +2 -2
drivers/gpu/drm/bridge/synopsys/Kconfig: +6 -0
drivers/gpu/drm/bridge/synopsys/Makefile: +1 -0
drivers/gpu/drm/bridge/synopsys/dw-hdmi-i2s-audio.c: +2 -1
drivers/gpu/drm/bridge/synopsys/dw-hdmi-qp.c: +5 -24
drivers/gpu/drm/bridge/synopsys/dw-hdmi-qp.h: +1 -1
drivers/gpu/drm/bridge/synopsys/dw-mipi-dsi2.c: +1030 -0
drivers/gpu/drm/bridge/tc358767.c: +1 -1
drivers/gpu/drm/bridge/tc358768.c: +2 -2
drivers/gpu/drm/bridge/ti-dlpc3433.c: +1 -1
drivers/gpu/drm/bridge/ti-sn65dsi83.c: +144 -5
drivers/gpu/drm/bridge/ti-sn65dsi86.c: +3 -3
drivers/gpu/drm/bridge/ti-tfp410.c: +1 -1
drivers/gpu/drm/clients/Kconfig: +123 -0
drivers/gpu/drm/clients/Makefile: +8 -0
include/drm/drm_fbdev_client.h => drivers/gpu/drm/clients/drm_client_internal.h: +8 -2
drivers/gpu/drm/{ => clients}/drm_client_setup.c: +28 -6
drivers/gpu/drm/{ => clients}/drm_fbdev_client.c: +2 -2
drivers/gpu/drm/clients/drm_log.c: +420 -0
drivers/gpu/drm/display/Kconfig: +8 -0
drivers/gpu/drm/display/Makefile: +2 -0
drivers/gpu/drm/display/drm_bridge_connector.c: +159 -3
drivers/gpu/drm/display/drm_dp_helper.c: +124 -1
drivers/gpu/drm/display/drm_dp_mst_topology.c: +8 -92
drivers/gpu/drm/display/drm_hdmi_audio_helper.c: +190 -0
drivers/gpu/drm/display/drm_hdmi_state_helper.c: +91 -0
drivers/gpu/drm/drm_connector.c: +147 -27
drivers/gpu/drm/drm_draw.c: +233 -0
drivers/gpu/drm/drm_draw_internal.h: +56 -0
drivers/gpu/drm/drm_drv.c: +32 -0
drivers/gpu/drm/drm_edid.c: +6 -0
drivers/gpu/drm/drm_file.c: +17 -6
drivers/gpu/drm/drm_mode_config.c: +9 -0
drivers/gpu/drm/drm_modes.c: +1 -2
drivers/gpu/drm/drm_of.c: +3 -1
drivers/gpu/drm/drm_panel.c: +2 -1
drivers/gpu/drm/drm_panel_backlight_quirks.c: +94 -0
drivers/gpu/drm/drm_panic.c: +29 -240
drivers/gpu/drm/drm_print.c: +23 -0
drivers/gpu/drm/etnaviv/etnaviv_cmdbuf.c: +1 -2
drivers/gpu/drm/etnaviv/etnaviv_drv.c: +11 -2
drivers/gpu/drm/etnaviv/etnaviv_gem.c: +26 -2
drivers/gpu/drm/etnaviv/etnaviv_gem.h: +0 -2
drivers/gpu/drm/etnaviv/etnaviv_gpu.c: +41 -0
drivers/gpu/drm/etnaviv/etnaviv_gpu.h: +2 -0
drivers/gpu/drm/etnaviv/etnaviv_mmu.c: +11 -15
drivers/gpu/drm/exynos/exynos_drm_drv.c: +1 -3
drivers/gpu/drm/exynos/exynos_hdmi.c: +3 -1
drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_drv.c: +1 -2
drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_rgb.c: +1 -0
drivers/gpu/drm/gma500/psb_drv.c: +1 -2
drivers/gpu/drm/gma500/psb_drv.h: +0 -1
drivers/gpu/drm/gud/gud_drv.c: +1 -2
drivers/gpu/drm/hisilicon/hibmc/Kconfig: +1 -1
drivers/gpu/drm/hisilicon/hibmc/Makefile: +2 -1
drivers/gpu/drm/hisilicon/hibmc/dp/dp_aux.c: +164 -0
drivers/gpu/drm/hisilicon/hibmc/dp/dp_comm.h: +63 -0
drivers/gpu/drm/hisilicon/hibmc/dp/dp_config.h: +19 -0
drivers/gpu/drm/hisilicon/hibmc/dp/dp_hw.c: +220 -0
drivers/gpu/drm/hisilicon/hibmc/dp/dp_hw.h: +28 -0
drivers/gpu/drm/hisilicon/hibmc/dp/dp_link.c: +332 -0
drivers/gpu/drm/hisilicon/hibmc/dp/dp_reg.h: +76 -0
drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_dp.c: +118 -0
drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_drv.c: +15 -2
drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_drv.h: +12 -7
drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_i2c.c: +20 -21
drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_vdac.c: +10 -10
drivers/gpu/drm/hisilicon/kirin/kirin_drm_ade.c: +0 -1
drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c: +1 -1
drivers/gpu/drm/hyperv/hyperv_drm_drv.c: +1 -3
drivers/gpu/drm/i2c/ch7006_drv.c: +1 -1
drivers/gpu/drm/i2c/sil164_drv.c: +1 -1
drivers/gpu/drm/i2c/tda9950.c: +2 -2
drivers/gpu/drm/i2c/tda998x_drv.c: +2 -2
drivers/gpu/drm/i915/Makefile: +4 -1
drivers/gpu/drm/i915/display/dvo_ns2501.c: +0 -1
drivers/gpu/drm/i915/display/g4x_dp.c: +23 -3
drivers/gpu/drm/i915/display/g4x_dp.h: +0 -6
drivers/gpu/drm/i915/display/g4x_hdmi.c: +24 -12
drivers/gpu/drm/i915/display/g4x_hdmi.h: +3 -2
drivers/gpu/drm/i915/display/hsw_ips.c: +18 -2
drivers/gpu/drm/i915/display/hsw_ips.h: +3 -3
drivers/gpu/drm/i915/display/i9xx_display_sr.c: +97 -0
drivers/gpu/drm/i915/display/i9xx_display_sr.h: +14 -0
drivers/gpu/drm/i915/display/i9xx_plane.c: +1 -0
drivers/gpu/drm/i915/display/i9xx_wm.c: +1 -0
drivers/gpu/drm/i915/display/i9xx_wm_regs.h: +257 -0
drivers/gpu/drm/i915/display/icl_dsi.c: +4 -1
drivers/gpu/drm/i915/display/intel_acpi.c: +2 -1
drivers/gpu/drm/i915/display/intel_atomic_plane.c: +7 -21
drivers/gpu/drm/i915/display/intel_audio.c: +53 -4
drivers/gpu/drm/i915/display/intel_audio.h: +1 -0
drivers/gpu/drm/i915/display/intel_backlight.c: +1 -0
drivers/gpu/drm/i915/display/intel_bios.c: +12 -3
drivers/gpu/drm/i915/display/intel_bios.h: +0 -8
drivers/gpu/drm/i915/display/intel_bw.c: +3 -2
drivers/gpu/drm/i915/display/intel_cdclk.c: +38 -139
drivers/gpu/drm/i915/display/intel_color.c: +1 -0
drivers/gpu/drm/i915/display/intel_combo_phy.c: +1 -0
drivers/gpu/drm/i915/display/intel_crt.c: +80 -83
drivers/gpu/drm/i915/display/intel_crt_regs.h: +50 -0
drivers/gpu/drm/i915/display/intel_crtc.c: +1 -0
drivers/gpu/drm/i915/display/intel_crtc_state_dump.c: +2 -12
drivers/gpu/drm/i915/display/intel_cursor.c: +3 -3
drivers/gpu/drm/i915/display/intel_cx0_phy.c: +38 -5
drivers/gpu/drm/i915/display/intel_cx0_phy_regs.h: +16 -0
drivers/gpu/drm/i915/display/intel_ddi.c: +424 -242
drivers/gpu/drm/i915/display/intel_ddi.h: +8 -4
drivers/gpu/drm/i915/display/intel_ddi_buf_trans.c: +16 -7
drivers/gpu/drm/i915/display/intel_de.h: +15 -3
drivers/gpu/drm/i915/display/intel_display.c: +54 -63
drivers/gpu/drm/i915/display/intel_display.h: +0 -3
drivers/gpu/drm/i915/display/intel_display_conversion.c: +14 -0
drivers/gpu/drm/i915/display/intel_display_conversion.h: +8 -2
drivers/gpu/drm/i915/display/intel_display_core.h: +16 -1
drivers/gpu/drm/i915/display/intel_display_debugfs.c: +8 -3
drivers/gpu/drm/i915/display/intel_display_debugfs_params.c: +2 -1
drivers/gpu/drm/i915/display/intel_display_device.c: +158 -116
drivers/gpu/drm/i915/display/intel_display_device.h: +81 -74
drivers/gpu/drm/i915/display/intel_display_driver.c: +158 -143
drivers/gpu/drm/i915/display/intel_display_driver.h: +19 -19
drivers/gpu/drm/i915/display/intel_display_irq.c: +26 -26
drivers/gpu/drm/i915/display/intel_display_params.c: +9 -4
drivers/gpu/drm/i915/display/intel_display_params.h: +1 -1
drivers/gpu/drm/i915/display/intel_display_power.c: +490 -462
drivers/gpu/drm/i915/display/intel_display_power.h: +16 -15
drivers/gpu/drm/i915/display/intel_display_power_map.c: +30 -32
drivers/gpu/drm/i915/display/intel_display_power_well.c: +280 -287
drivers/gpu/drm/i915/display/intel_display_power_well.h: +17 -18
drivers/gpu/drm/i915/display/intel_display_reset.c: +2 -2
drivers/gpu/drm/i915/display/intel_display_snapshot.c: +3 -1
drivers/gpu/drm/i915/display/intel_display_trace.h: +1 -1
drivers/gpu/drm/i915/display/intel_display_types.h: +42 -9
drivers/gpu/drm/i915/display/intel_dmc.c: +0 -4
drivers/gpu/drm/i915/display/intel_dmc_wl.c: +258 -59
drivers/gpu/drm/i915/display/intel_dmc_wl.h: +12 -2
drivers/gpu/drm/i915/display/intel_dp.c: +665 -598
drivers/gpu/drm/i915/display/intel_dp.h: +21 -18
drivers/gpu/drm/i915/display/intel_dp_aux.c: +1 -2
drivers/gpu/drm/i915/display/intel_dp_aux_backlight.c: +2 -1
drivers/gpu/drm/i915/display/intel_dp_link_training.c: +19 -21
drivers/gpu/drm/i915/display/intel_dp_mst.c: +461 -467
drivers/gpu/drm/i915/display/intel_dp_mst.h: +7 -0
drivers/gpu/drm/i915/display/intel_dp_test.c: +0 -1
drivers/gpu/drm/i915/display/intel_dp_tunnel.c: +1 -2
drivers/gpu/drm/i915/display/intel_dpio_phy.c: +5 -3
drivers/gpu/drm/i915/display/intel_dpll.c: +1 -0
drivers/gpu/drm/i915/display/intel_dpll_mgr.c: +1 -0
drivers/gpu/drm/i915/display/intel_dpt.c: +2 -2
drivers/gpu/drm/i915/display/intel_dpt_common.c: +1 -0
drivers/gpu/drm/i915/display/intel_drrs.c: +3 -1
drivers/gpu/drm/i915/display/intel_dsb.c: +14 -44
drivers/gpu/drm/i915/display/intel_dsi_vbt.c: +18 -2
drivers/gpu/drm/i915/display/intel_dvo.c: +5 -4
drivers/gpu/drm/i915/display/intel_fdi.c: +1 -0
drivers/gpu/drm/i915/display/intel_global_state.c: +21 -21
drivers/gpu/drm/i915/display/intel_global_state.h: +3 -3
drivers/gpu/drm/i915/display/intel_gmbus.c: +1 -2
drivers/gpu/drm/i915/display/intel_hdcp.c: +22 -14
drivers/gpu/drm/i915/display/intel_hdmi.c: +9 -10
drivers/gpu/drm/i915/display/intel_hdmi.h: +1 -1
drivers/gpu/drm/i915/display/intel_hotplug.c: +3 -1
drivers/gpu/drm/i915/display/intel_hotplug_irq.c: +5 -1
drivers/gpu/drm/i915/display/intel_hti.c: +2 -1
drivers/gpu/drm/i915/display/intel_link_bw.c: +1 -2
drivers/gpu/drm/i915/display/intel_load_detect.c: +1 -1
drivers/gpu/drm/i915/display/intel_lspcon.c: +2 -1
drivers/gpu/drm/i915/display/intel_lvds.c: +25 -24
drivers/gpu/drm/i915/display/intel_modeset_setup.c: +11 -8
drivers/gpu/drm/i915/display/intel_overlay.c: +96 -88
drivers/gpu/drm/i915/display/intel_overlay.h: +12 -7
drivers/gpu/drm/i915/display/intel_panel.c: +3 -4
drivers/gpu/drm/i915/display/intel_pch_display.c: +2 -0
drivers/gpu/drm/i915/display/intel_pch_refclk.c: +14 -13
drivers/gpu/drm/i915/display/intel_pfit.c: +1 -1
drivers/gpu/drm/i915/display/intel_pipe_crc.c: +1 -0
drivers/gpu/drm/i915/display/intel_plane_initial.c: +30 -26
drivers/gpu/drm/i915/display/intel_plane_initial.h: +2 -2
drivers/gpu/drm/i915/display/intel_pmdemand.c: +114 -81
drivers/gpu/drm/i915/display/intel_pmdemand.h: +12 -39
drivers/gpu/drm/i915/display/intel_pps.c: +93 -81
drivers/gpu/drm/i915/display/intel_psr.c: +42 -46
drivers/gpu/drm/i915/display/intel_quirks.c: +1 -1
drivers/gpu/drm/i915/display/intel_sdvo.c: +7 -5
drivers/gpu/drm/i915/display/intel_snps_phy.c: +1 -0
drivers/gpu/drm/i915/display/intel_tc.c: +36 -5
drivers/gpu/drm/i915/display/intel_tv.c: +2 -3
drivers/gpu/drm/i915/display/intel_vbt_defs.h: +8 -0
drivers/gpu/drm/i915/display/intel_vdsc.c: +69 -11
drivers/gpu/drm/i915/display/intel_vdsc.h: +1 -0
drivers/gpu/drm/i915/display/intel_vdsc_regs.h: +10 -2
drivers/gpu/drm/i915/display/intel_vrr.c: +1 -2
drivers/gpu/drm/i915/display/skl_scaler.c: +147 -140
drivers/gpu/drm/i915/display/skl_scaler.h: +3 -8
drivers/gpu/drm/i915/display/skl_universal_plane.c: +40 -11
drivers/gpu/drm/i915/display/skl_universal_plane_regs.h: +15 -0
drivers/gpu/drm/i915/display/skl_watermark.c: +504 -359
drivers/gpu/drm/i915/display/skl_watermark.h: +5 -0
drivers/gpu/drm/i915/display/vlv_dsi.c: +26 -2
drivers/gpu/drm/i915/display/vlv_dsi.h: +3 -4
drivers/gpu/drm/i915/gem/i915_gem_lmem.c: +0 -23
drivers/gpu/drm/i915/gem/i915_gem_lmem.h: +0 -2
drivers/gpu/drm/i915/gem/i915_gem_object.h: +1 -3
drivers/gpu/drm/i915/gt/intel_engine.h: +0 -3
drivers/gpu/drm/i915/gt/intel_execlists_submission.c: +0 -9
drivers/gpu/drm/i915/gt/intel_ggtt.c: +14 -5
drivers/gpu/drm/i915/gt/intel_gtt.h: +2 -2
drivers/gpu/drm/i915/gt/intel_reset.c: +7 -2
drivers/gpu/drm/i915/gt/intel_ring.c: +0 -24
drivers/gpu/drm/i915/gt/intel_ring.h: +0 -1
drivers/gpu/drm/i915/gt/intel_ring_submission.c: +18 -12
drivers/gpu/drm/i915/gt/selftest_migrate.c: +1 -1
drivers/gpu/drm/i915/gt/selftest_rc6.c: +14 -3
drivers/gpu/drm/i915/gt/selftest_rps.c: +1 -0
drivers/gpu/drm/i915/gt/uc/intel_guc_log.c: +1 -1
drivers/gpu/drm/i915/gt/uc/intel_guc_submission.c: +10 -2
drivers/gpu/drm/i915/gt/uc/intel_huc.c: +0 -13
drivers/gpu/drm/i915/gt/uc/intel_huc.h: +0 -1
drivers/gpu/drm/i915/gvt/cmd_parser.c: +10 -7
drivers/gpu/drm/i915/gvt/display.c: +44 -37
drivers/gpu/drm/i915/gvt/fb_decoder.c: +12 -9
drivers/gpu/drm/i915/gvt/handlers.c: +25 -20
drivers/gpu/drm/i915/i915_active.c: +0 -18
drivers/gpu/drm/i915/i915_active.h: +0 -1
drivers/gpu/drm/i915/i915_driver.c: +82 -51
drivers/gpu/drm/i915/i915_driver.h: +0 -1
drivers/gpu/drm/i915/i915_drm_client.c: +1 -0
drivers/gpu/drm/i915/i915_drv.h: +11 -10
drivers/gpu/drm/i915/i915_gem_gtt.c: +1 -1
drivers/gpu/drm/i915/i915_getparam.c: +3 -2
drivers/gpu/drm/i915/i915_gpu_error.c: +0 -1
drivers/gpu/drm/i915/i915_irq.c: +4 -8
drivers/gpu/drm/i915/i915_mm.c: +2 -2
drivers/gpu/drm/i915/i915_pmu.c: +20 -30
drivers/gpu/drm/i915/i915_pmu.h: +2 -2
drivers/gpu/drm/i915/i915_reg.h: +43 -335
drivers/gpu/drm/i915/i915_suspend.c: +0 -141
drivers/gpu/drm/i915/i915_suspend.h: +0 -14
drivers/gpu/drm/i915/i915_trace.h: +0 -28
drivers/gpu/drm/i915/intel_cpu_info.c: +44 -0
drivers/gpu/drm/i915/intel_cpu_info.h: +13 -0
drivers/gpu/drm/i915/intel_device_info.c: +9 -0
drivers/gpu/drm/i915/intel_device_info.h: +4 -1
drivers/gpu/drm/i915/intel_gvt_mmio_table.c: +2 -0
drivers/gpu/drm/i915/intel_sbi.c: +21 -1
drivers/gpu/drm/i915/intel_sbi.h: +4 -0
drivers/gpu/drm/i915/intel_uncore.c: +6 -1
drivers/gpu/drm/i915/intel_uncore.h: +2 -0
drivers/gpu/drm/i915/intel_uncore_trace.c: +7 -0
drivers/gpu/drm/i915/intel_uncore_trace.h: +49 -0
drivers/gpu/drm/i915/selftests/igt_flush_test.c: +11 -1
drivers/gpu/drm/i915/selftests/mock_gem_device.c: +1 -1
drivers/gpu/drm/i915/vlv_sideband.c: +23 -5
drivers/gpu/drm/i915/vlv_sideband.h: +3 -0
drivers/gpu/drm/i915/vlv_suspend.c: +1 -0
drivers/gpu/drm/imagination/pvr_drv.c: +0 -1
drivers/gpu/drm/imagination/pvr_drv.h: +0 -1
drivers/gpu/drm/imx/dcss/dcss-kms.c: +1 -2
drivers/gpu/drm/imx/ipuv3/imx-drm-core.c: +1 -2
drivers/gpu/drm/imx/lcdc/imx-lcdc.c: +1 -2
drivers/gpu/drm/ingenic/ingenic-drm-drv.c: +1 -2
drivers/gpu/drm/kmb/kmb_drv.c: +1 -2
drivers/gpu/drm/kmb/kmb_drv.h: +0 -1
drivers/gpu/drm/lima/lima_drv.c: +0 -1
drivers/gpu/drm/logicvc/logicvc_drm.c: +1 -2
drivers/gpu/drm/loongson/lsdc_drv.c: +4 -6
drivers/gpu/drm/mcde/mcde_drv.c: +1 -2
drivers/gpu/drm/mediatek/mtk_dp.c: +29 -6
drivers/gpu/drm/mediatek/mtk_dp_reg.h: +1 -0
drivers/gpu/drm/mediatek/mtk_drm_drv.c: +1 -3
drivers/gpu/drm/mediatek/mtk_hdmi.c: +1 -1
drivers/gpu/drm/meson/meson_drv.c: +1 -2
drivers/gpu/drm/mgag200/mgag200_drv.c: +1 -2
drivers/gpu/drm/mgag200/mgag200_drv.h: +0 -1
drivers/gpu/drm/msm/Makefile: +1 -0
drivers/gpu/drm/msm/adreno/a4xx_gpu.c: +4 -2
drivers/gpu/drm/msm/adreno/a5xx_gpu.c: +6 -9
drivers/gpu/drm/msm/adreno/a6xx_catalog.c: +22 -0
drivers/gpu/drm/msm/adreno/a6xx_gmu.c: +198 -5
drivers/gpu/drm/msm/adreno/a6xx_gmu.h: +21 -5
drivers/gpu/drm/msm/adreno/a6xx_gpu.c: +7 -5
drivers/gpu/drm/msm/adreno/a6xx_gpu.h: +1 -0
drivers/gpu/drm/msm/adreno/a6xx_hfi.c: +50 -4
drivers/gpu/drm/msm/adreno/a6xx_hfi.h: +5 -0
drivers/gpu/drm/msm/adreno/adreno_gpu.c: +14 -10
drivers/gpu/drm/msm/adreno/adreno_gpu.h: +7 -0
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_10_0_sm8650.h: +27 -4
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_4_1_sdm670.h: +52 -2
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_5_0_sm8150.h: +2 -0
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_5_1_sc8180x.h: +2 -0
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_5_3_sm6150.h: +254 -0
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_6_0_sm8250.h: +2 -0
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_7_0_sm8350.h: +2 -0
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_8_1_sm8450.h: +2 -2
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_8_4_sa8775p.h: +2 -2
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_9_0_sm8550.h: +4 -2
drivers/gpu/drm/msm/disp/dpu1/catalog/dpu_9_2_x1e80100.h: +6 -4
drivers/gpu/drm/msm/disp/dpu1/dpu_crtc.c: +63 -0
drivers/gpu/drm/msm/disp/dpu1/dpu_encoder.c: +1 -1
drivers/gpu/drm/msm/disp/dpu1/dpu_hw_catalog.c: +1 -0
drivers/gpu/drm/msm/disp/dpu1/dpu_hw_catalog.h: +14 -0
drivers/gpu/drm/msm/disp/dpu1/dpu_hw_cwb.c: +75 -0
drivers/gpu/drm/msm/disp/dpu1/dpu_hw_cwb.h: +70 -0
drivers/gpu/drm/msm/disp/dpu1/dpu_hw_mdss.h: +8 -5
drivers/gpu/drm/msm/disp/dpu1/dpu_hw_wb.c: +3 -1
drivers/gpu/drm/msm/disp/dpu1/dpu_kms.c: +39 -11
drivers/gpu/drm/msm/disp/dpu1/dpu_kms.h: +4 -0
drivers/gpu/drm/msm/disp/dpu1/dpu_plane.c: +320 -76
drivers/gpu/drm/msm/disp/dpu1/dpu_plane.h: +13 -0
drivers/gpu/drm/msm/disp/dpu1/dpu_rm.c: +126 -49
drivers/gpu/drm/msm/disp/dpu1/dpu_rm.h: +17 -1
drivers/gpu/drm/msm/disp/dpu1/dpu_writeback.c: +0 -3
drivers/gpu/drm/msm/disp/mdp4/mdp4_lcdc_encoder.c: +1 -1
drivers/gpu/drm/msm/dp/dp_audio.c: +45 -232
drivers/gpu/drm/msm/dp/dp_audio.h: +0 -3
drivers/gpu/drm/msm/dp/dp_catalog.c: +58 -101
drivers/gpu/drm/msm/dp/dp_catalog.h: +10 -25
drivers/gpu/drm/msm/dp/dp_ctrl.c: +1 -1
drivers/gpu/drm/msm/dp/dp_display.c: +2 -9
drivers/gpu/drm/msm/dp/dp_panel.c: +8 -18
drivers/gpu/drm/msm/dp/dp_panel.h: +2 -9
drivers/gpu/drm/msm/dp/dp_utils.c: +1 -9
drivers/gpu/drm/msm/dp/dp_utils.h: +1 -1
drivers/gpu/drm/msm/dsi/dsi_cfg.c: +2 -0
drivers/gpu/drm/msm/dsi/dsi_cfg.h: +1 -0
drivers/gpu/drm/msm/dsi/dsi_host.c: +1 -1
drivers/gpu/drm/msm/dsi/phy/dsi_phy.c: +2 -0
drivers/gpu/drm/msm/dsi/phy/dsi_phy.h: +1 -0
drivers/gpu/drm/msm/dsi/phy/dsi_phy_14nm.c: +21 -0
drivers/gpu/drm/msm/hdmi/hdmi_phy_8998.c: +1 -1
drivers/gpu/drm/msm/msm_drv.c: +2 -3
drivers/gpu/drm/msm/msm_drv.h: +7 -0
drivers/gpu/drm/msm/msm_gem_submit.c: +28 -39
drivers/gpu/drm/msm/msm_kms.c: +0 -1
drivers/gpu/drm/msm/msm_mdss.c: +51 -28
drivers/gpu/drm/msm/msm_mdss.h: +2 -2
drivers/gpu/drm/msm/msm_submitqueue.c: +1 -1
drivers/gpu/drm/msm/registers/adreno/a6xx_gmu.xml: +5 -0
drivers/gpu/drm/msm/registers/display/mdss.xml: +10 -1
drivers/gpu/drm/mxsfb/lcdif_drv.c: +1 -2
drivers/gpu/drm/mxsfb/mxsfb_drv.c: +1 -2
drivers/gpu/drm/nouveau/dispnv50/disp.c: +3 -4
drivers/gpu/drm/nouveau/include/nvif/log.h: +51 -0
drivers/gpu/drm/nouveau/include/nvkm/subdev/gsp.h: +21 -0
drivers/gpu/drm/nouveau/nouveau_debugfs.c: +16 -0
drivers/gpu/drm/nouveau/nouveau_debugfs.h: +16 -0
drivers/gpu/drm/nouveau/nouveau_drm.c: +36 -9
drivers/gpu/drm/nouveau/nouveau_drv.h: +0 -1
drivers/gpu/drm/nouveau/nvkm/subdev/gsp/r535.c: +482 -26
drivers/gpu/drm/omapdrm/omap_drv.c: +0 -2
drivers/gpu/drm/omapdrm/omap_fbdev.c: +1 -1
drivers/gpu/drm/panel/panel-edp.c: +8 -0
drivers/gpu/drm/panel/panel-orisetech-otm8009a.c: +1 -0
drivers/gpu/drm/panel/panel-raspberrypi-touchscreen.c: +1 -1
drivers/gpu/drm/panel/panel-samsung-s6e63j0x03.c: +1 -0
drivers/gpu/drm/panel/panel-samsung-s6e63m0.c: +1 -0
drivers/gpu/drm/panel/panel-simple.c: +136 -0
drivers/gpu/drm/panel/panel-visionox-rm69299.c: +2 -7
drivers/gpu/drm/panfrost/panfrost_drv.c: +0 -1
drivers/gpu/drm/panfrost/panfrost_gpu.c: +4 -0
drivers/gpu/drm/panthor/panthor_devfreq.c: +6 -6
drivers/gpu/drm/panthor/panthor_devfreq.h: +2 -2
drivers/gpu/drm/panthor/panthor_device.c: +49 -41
drivers/gpu/drm/panthor/panthor_device.h: +37 -0
drivers/gpu/drm/panthor/panthor_drv.c: +3 -3
drivers/gpu/drm/panthor/panthor_fw.c: +59 -83
drivers/gpu/drm/panthor/panthor_gpu.c: +17 -6
drivers/gpu/drm/panthor/panthor_mmu.c: +17 -9
drivers/gpu/drm/panthor/panthor_sched.c: +20 -2
drivers/gpu/drm/pl111/pl111_drv.c: +1 -2
drivers/gpu/drm/qxl/Kconfig: +1 -0
drivers/gpu/drm/qxl/qxl_drv.c: +1 -2
drivers/gpu/drm/qxl/qxl_drv.h: +4 -4
drivers/gpu/drm/qxl/qxl_release.c: +35 -33
drivers/gpu/drm/radeon/Kconfig: +1 -0
drivers/gpu/drm/radeon/radeon.h: +4 -3
drivers/gpu/drm/radeon/radeon_audio.c: +2 -0
drivers/gpu/drm/radeon/radeon_cs.c: +23 -22
drivers/gpu/drm/radeon/radeon_drv.c: +1 -2
drivers/gpu/drm/radeon/radeon_drv.h: +0 -1
drivers/gpu/drm/radeon/radeon_gem.c: +22 -17
drivers/gpu/drm/radeon/radeon_object.c: +11 -14
drivers/gpu/drm/radeon/radeon_object.h: +1 -1
drivers/gpu/drm/radeon/radeon_vm.c: +4 -6
drivers/gpu/drm/renesas/rcar-du/rcar_du_drv.c: +19 -2
drivers/gpu/drm/renesas/rcar-du/rcar_du_group.c: +18 -6
drivers/gpu/drm/renesas/rcar-du/rcar_mipi_dsi.c: +3 -1
drivers/gpu/drm/renesas/rcar-du/rcar_mipi_dsi_regs.h: +0 -1
drivers/gpu/drm/renesas/rz-du/rzg2l_du_crtc.c: +1 -7
drivers/gpu/drm/renesas/rz-du/rzg2l_du_drv.c: +1 -2
drivers/gpu/drm/renesas/rz-du/rzg2l_du_encoder.c: +18 -0
drivers/gpu/drm/renesas/rz-du/rzg2l_du_kms.c: +3 -3
drivers/gpu/drm/renesas/shmobile/shmob_drm_drv.c: +1 -2
drivers/gpu/drm/rockchip/Kconfig: +10 -0
drivers/gpu/drm/rockchip/Makefile: +1 -0
drivers/gpu/drm/rockchip/analogix_dp-rockchip.c: +2 -2
drivers/gpu/drm/rockchip/cdn-dp-core.c: +3 -10
drivers/gpu/drm/rockchip/cdn-dp-core.h: +1 -1
drivers/gpu/drm/rockchip/cdn-dp-reg.c: +1 -1
drivers/gpu/drm/rockchip/cdn-dp-reg.h: +1 -1
drivers/gpu/drm/rockchip/dw-mipi-dsi-rockchip.c: +1 -1
drivers/gpu/drm/rockchip/dw-mipi-dsi2-rockchip.c: +487 -0
drivers/gpu/drm/rockchip/dw_hdmi-rockchip.c: +1 -1
drivers/gpu/drm/rockchip/dw_hdmi_qp-rockchip.c: +110 -37
drivers/gpu/drm/rockchip/inno_hdmi.c: +1 -1
drivers/gpu/drm/rockchip/inno_hdmi.h: +1 -1
drivers/gpu/drm/rockchip/rk3066_hdmi.c: +1 -1
drivers/gpu/drm/rockchip/rk3066_hdmi.h: +1 -1
drivers/gpu/drm/rockchip/rockchip_drm_drv.c: +5 -6
drivers/gpu/drm/rockchip/rockchip_drm_drv.h: +2 -1
drivers/gpu/drm/rockchip/rockchip_drm_fb.c: +1 -1
drivers/gpu/drm/rockchip/rockchip_drm_fb.h: +1 -1
drivers/gpu/drm/rockchip/rockchip_drm_gem.c: +1 -1
drivers/gpu/drm/rockchip/rockchip_drm_gem.h: +1 -1
drivers/gpu/drm/rockchip/rockchip_drm_vop.c: +1 -1
drivers/gpu/drm/rockchip/rockchip_drm_vop.h: +1 -1
drivers/gpu/drm/rockchip/rockchip_drm_vop2.c: +565 -33
drivers/gpu/drm/rockchip/rockchip_drm_vop2.h: +27 -1
drivers/gpu/drm/rockchip/rockchip_lvds.c: +1 -1
drivers/gpu/drm/rockchip/rockchip_lvds.h: +1 -1
drivers/gpu/drm/rockchip/rockchip_rgb.c: +1 -1
drivers/gpu/drm/rockchip/rockchip_rgb.h: +1 -1
drivers/gpu/drm/rockchip/rockchip_vop2_reg.c: +217 -2
drivers/gpu/drm/rockchip/rockchip_vop_reg.c: +1 -1
drivers/gpu/drm/rockchip/rockchip_vop_reg.h: +1 -1
drivers/gpu/drm/solomon/ssd130x.c: +1 -3
drivers/gpu/drm/sprd/sprd_drm.c: +0 -2
drivers/gpu/drm/sti/sti_drv.c: +1 -3
drivers/gpu/drm/sti/sti_hdmi.c: +3 -1
drivers/gpu/drm/stm/drv.c: +1 -2
drivers/gpu/drm/sun4i/sun4i_drv.c: +1 -2
drivers/gpu/drm/sun4i/sun4i_hdmi_enc.c: +2 -30
drivers/gpu/drm/tegra/drm.c: +1 -3
drivers/gpu/drm/tests/drm_connector_test.c: +463 -0
drivers/gpu/drm/tests/drm_dp_mst_helper_test.c: +1 -16
drivers/gpu/drm/tests/drm_hdmi_state_helper_test.c: +341 -120
drivers/gpu/drm/tests/drm_kunit_edid.h: +102 -0
drivers/gpu/drm/tidss/tidss_dispc.c: +16 -12
drivers/gpu/drm/tidss/tidss_drv.c: +2 -3
drivers/gpu/drm/tidss/tidss_drv.h: +3 -2
drivers/gpu/drm/tidss/tidss_irq.c: +23 -11
drivers/gpu/drm/tidss/tidss_irq.h: +1 -3
drivers/gpu/drm/tidss/tidss_plane.c: +8 -0
drivers/gpu/drm/tidss/tidss_plane.h: +2 -0
drivers/gpu/drm/tilcdc/tilcdc_drv.c: +1 -2
drivers/gpu/drm/tiny/Makefile: +1 -1
drivers/gpu/drm/tiny/arcpgu.c: +3 -3
drivers/gpu/drm/tiny/bochs.c: +1 -2
drivers/gpu/drm/tiny/{cirrus.c => cirrus-qemu.c}: +4 -6
drivers/gpu/drm/tiny/gm12u320.c: +1 -3
drivers/gpu/drm/tiny/hx8357d.c: +1 -2
drivers/gpu/drm/tiny/ili9163.c: +1 -2
drivers/gpu/drm/tiny/ili9225.c: +1 -2
drivers/gpu/drm/tiny/ili9341.c: +1 -2
drivers/gpu/drm/tiny/ili9486.c: +1 -2
drivers/gpu/drm/tiny/mi0283qt.c: +1 -2
drivers/gpu/drm/tiny/ofdrm.c: +1 -3
drivers/gpu/drm/tiny/panel-mipi-dbi.c: +2 -2
drivers/gpu/drm/tiny/repaper.c: +1 -2
drivers/gpu/drm/tiny/sharp-memory.c: +1 -2
drivers/gpu/drm/tiny/simpledrm.c: +1 -3
drivers/gpu/drm/tiny/st7586.c: +1 -2
drivers/gpu/drm/tiny/st7735r.c: +1 -2
drivers/gpu/drm/ttm/tests/ttm_bo_test.c: +9 -9
drivers/gpu/drm/ttm/tests/ttm_bo_validate_test.c: +2 -2
drivers/gpu/drm/ttm/tests/ttm_resource_test.c: +1 -1
drivers/gpu/drm/ttm/ttm_bo.c: +45 -7
drivers/gpu/drm/ttm/ttm_bo_vm.c: +39 -15
drivers/gpu/drm/ttm/ttm_resource.c: +21 -2
drivers/gpu/drm/tve200/tve200_drv.c: +1 -2
drivers/gpu/drm/udl/udl_drv.c: +1 -2
drivers/gpu/drm/udl/udl_drv.h: +0 -1
drivers/gpu/drm/v3d/v3d_bo.c: +0 -4
drivers/gpu/drm/v3d/v3d_debugfs.c: +2 -2
drivers/gpu/drm/v3d/v3d_drv.c: +1 -2
drivers/gpu/drm/v3d/v3d_drv.h: +8 -0
drivers/gpu/drm/v3d/v3d_mmu.c: +4 -4
drivers/gpu/drm/v3d/v3d_perfmon.c: +50 -7
drivers/gpu/drm/v3d/v3d_performance_counters.h: +5 -7
drivers/gpu/drm/v3d/v3d_regs.h: +17 -12
drivers/gpu/drm/v3d/v3d_sched.c: +17 -9
drivers/gpu/drm/v3d/v3d_submit.c: +15 -4
drivers/gpu/drm/vboxvideo/vbox_drv.c: +1 -2
drivers/gpu/drm/vboxvideo/vbox_drv.h: +0 -1
drivers/gpu/drm/vc4/Kconfig: +1 -0
drivers/gpu/drm/vc4/tests/vc4_mock.c: +4 -4
drivers/gpu/drm/vc4/tests/vc4_test_pv_muxing.c: +53 -53
drivers/gpu/drm/vc4/vc4_crtc.c: +84 -12
drivers/gpu/drm/vc4/vc4_drv.c: +13 -11
drivers/gpu/drm/vc4/vc4_drv.h: +52 -2
drivers/gpu/drm/vc4/vc4_hdmi.c: +123 -93
drivers/gpu/drm/vc4/vc4_hdmi.h: +4 -2
drivers/gpu/drm/vc4/vc4_hdmi_phy.c: +640 -0
drivers/gpu/drm/vc4/vc4_hdmi_regs.h: +217 -0
drivers/gpu/drm/vc4/vc4_hvs.c: +691 -46
drivers/gpu/drm/vc4/vc4_kms.c: +91 -14
drivers/gpu/drm/vc4/vc4_plane.c: +836 -35
drivers/gpu/drm/vc4/vc4_regs.h: +297 -0
drivers/gpu/drm/vc4/vc4_txp.c: +78 -13
drivers/gpu/drm/vgem/vgem_drv.c: +0 -2
drivers/gpu/drm/virtio/virtgpu_drv.c: +1 -3
drivers/gpu/drm/virtio/virtgpu_drv.h: +17 -4
drivers/gpu/drm/virtio/virtgpu_gem.c: +5 -18
drivers/gpu/drm/virtio/virtgpu_ioctl.c: +3 -3
drivers/gpu/drm/virtio/virtgpu_object.c: +24 -0
drivers/gpu/drm/virtio/virtgpu_plane.c: +106 -19
drivers/gpu/drm/virtio/virtgpu_prime.c: +177 -1
drivers/gpu/drm/virtio/virtgpu_vq.c: +35 -0
drivers/gpu/drm/vkms/vkms_composer.c: +247 -65
drivers/gpu/drm/vkms/vkms_crtc.c: +2 -4
drivers/gpu/drm/vkms/vkms_drv.c: +3 -6
drivers/gpu/drm/vkms/vkms_drv.h: +48 -15
drivers/gpu/drm/vkms/vkms_formats.c: +287 -122
drivers/gpu/drm/vkms/vkms_formats.h: +2 -2
drivers/gpu/drm/vkms/vkms_output.c: +16 -33
drivers/gpu/drm/vkms/vkms_plane.c: +5 -16
drivers/gpu/drm/vkms/vkms_writeback.c: +0 -5
drivers/gpu/drm/vmwgfx/vmwgfx_drv.c: +1 -2
drivers/gpu/drm/vmwgfx/vmwgfx_drv.h: +0 -1
drivers/gpu/drm/vmwgfx/vmwgfx_ldu.c: +0 -1
drivers/gpu/drm/vmwgfx/vmwgfx_scrn.c: +0 -1
drivers/gpu/drm/vmwgfx/vmwgfx_stdu.c: +0 -1
drivers/gpu/drm/xe/Kconfig.debug: +2 -2
drivers/gpu/drm/xe/Makefile: +5 -1
drivers/gpu/drm/xe/abi/guc_actions_abi.h: +20 -0
drivers/gpu/drm/xe/abi/guc_actions_sriov_abi.h: +38 -0
drivers/gpu/drm/xe/abi/guc_capture_abi.h: +1 -1
drivers/gpu/drm/xe/abi/guc_klvs_abi.h: +17 -3
drivers/gpu/drm/xe/compat-i915-headers/intel_uncore.h: +15 -1
drivers/gpu/drm/xe/compat-i915-headers/{i915_trace.h => intel_uncore_trace.h}: +0 -0
drivers/gpu/drm/xe/display/ext/i915_irq.c: +1 -12
drivers/gpu/drm/xe/display/intel_bo.c: +1 -24
drivers/gpu/drm/xe/display/xe_display.c: +72 -44
drivers/gpu/drm/xe/display/xe_display.h: +2 -0
drivers/gpu/drm/xe/display/xe_fb_pin.c: +7 -5
drivers/gpu/drm/xe/display/xe_plane_initial.c: +4 -4
drivers/gpu/drm/xe/regs/xe_engine_regs.h: +3 -0
drivers/gpu/drm/xe/regs/xe_gt_regs.h: +2 -0
drivers/gpu/drm/xe/regs/xe_lrc_layout.h: +3 -0
drivers/gpu/drm/xe/regs/xe_oa_regs.h: +1 -8
drivers/gpu/drm/xe/regs/xe_pmt.h: +19 -0
drivers/gpu/drm/xe/regs/xe_reg_defs.h: +1 -1
drivers/gpu/drm/xe/regs/xe_regs.h: +4 -0
drivers/gpu/drm/xe/tests/xe_bo.c: +21 -2
drivers/gpu/drm/xe/tests/xe_live_test_mod.c: +2 -0
drivers/gpu/drm/xe/tests/xe_migrate.c: +9 -4
drivers/gpu/drm/xe/tests/xe_mocs.c: +1 -1
drivers/gpu/drm/xe/xe_assert.h: +4 -4
drivers/gpu/drm/xe/xe_bb.c: +1 -1
drivers/gpu/drm/xe/xe_bo.c: +158 -32
drivers/gpu/drm/xe/xe_bo.h: +28 -5
drivers/gpu/drm/xe/xe_bo_doc.h: +1 -1
drivers/gpu/drm/xe/xe_bo_evict.c: +10 -4
drivers/gpu/drm/xe/xe_bo_types.h: +3 -3
drivers/gpu/drm/xe/xe_devcoredump.c: +86 -33
drivers/gpu/drm/xe/xe_devcoredump.h: +5 -2
drivers/gpu/drm/xe/xe_devcoredump_types.h: +7 -3
drivers/gpu/drm/xe/xe_device.c: +13 -4
drivers/gpu/drm/xe/xe_device.h: +1 -2
drivers/gpu/drm/xe/xe_device_types.h: +44 -21
drivers/gpu/drm/xe/xe_drm_client.c: +58 -25
drivers/gpu/drm/xe/xe_drv.h: +0 -1
drivers/gpu/drm/xe/xe_exec.c: +1 -1
drivers/gpu/drm/xe/xe_exec_queue.c: +14 -10
drivers/gpu/drm/xe/xe_exec_queue_types.h: +3 -1
drivers/gpu/drm/xe/xe_execlist.c: +7 -3
drivers/gpu/drm/xe/xe_ggtt.c: +20 -17
drivers/gpu/drm/xe/xe_gpu_scheduler.h: +8 -2
drivers/gpu/drm/xe/xe_gsc_proxy.c: +36 -11
drivers/gpu/drm/xe/xe_gt.c: +1 -3
drivers/gpu/drm/xe/xe_gt.h: +1 -1
drivers/gpu/drm/xe/xe_gt_freq.c: +15 -0
drivers/gpu/drm/xe/xe_gt_mcr.c: +1 -1
drivers/gpu/drm/xe/xe_gt_pagefault.c: +0 -1
drivers/gpu/drm/xe/xe_gt_printk.h: +31 -0
drivers/gpu/drm/xe/xe_gt_sriov_pf_config.c: +77 -3
drivers/gpu/drm/xe/xe_gt_sriov_pf_config.h: +3 -0
drivers/gpu/drm/xe/xe_gt_sriov_pf_config_types.h: +2 -0
drivers/gpu/drm/xe/xe_gt_sriov_pf_debugfs.c: +5 -0
drivers/gpu/drm/xe/xe_gt_sriov_pf_helpers.h: +1 -1
drivers/gpu/drm/xe/xe_gt_sriov_pf_policy.c: +22 -3
drivers/gpu/drm/xe/xe_gt_sriov_vf.c: +63 -0
drivers/gpu/drm/xe/xe_gt_sriov_vf.h: +2 -0
drivers/gpu/drm/xe/xe_gt_stats.c: +2 -2
drivers/gpu/drm/xe/xe_gt_stats.h: +2 -6
drivers/gpu/drm/xe/xe_gt_stats_types.h: +15 -0
drivers/gpu/drm/xe/xe_gt_throttle.c: +2 -0
drivers/gpu/drm/xe/xe_gt_tlb_invalidation.c: +17 -8
drivers/gpu/drm/xe/xe_gt_types.h: +2 -2
drivers/gpu/drm/xe/xe_guc.c: +347 -3
drivers/gpu/drm/xe/xe_guc_ads.c: +2 -9
drivers/gpu/drm/xe/xe_guc_capture.c: +15 -20
drivers/gpu/drm/xe/xe_guc_capture.h: +3 -3
drivers/gpu/drm/xe/xe_guc_capture_types.h: +2 -2
drivers/gpu/drm/xe/xe_guc_ct.c: +30 -6
drivers/gpu/drm/xe/xe_guc_fwif.h: +1 -0
drivers/gpu/drm/xe/xe_guc_klv_helpers.c: +2 -0
drivers/gpu/drm/xe/xe_guc_pc.c: +58 -21
drivers/gpu/drm/xe/xe_guc_pc.h: +1 -0
drivers/gpu/drm/xe/xe_guc_pc_types.h: +2 -0
drivers/gpu/drm/xe/xe_guc_submit.c: +79 -74
drivers/gpu/drm/xe/xe_guc_types.h: +10 -0
drivers/gpu/drm/xe/xe_heci_gsc.c: +4 -4
drivers/gpu/drm/xe/xe_hmm.c: +1 -1
drivers/gpu/drm/xe/xe_hw_engine.c: +10 -10
drivers/gpu/drm/xe/xe_hw_engine.h: +2 -2
drivers/gpu/drm/xe/xe_hw_engine_types.h: +1 -3
drivers/gpu/drm/xe/xe_hw_fence_types.h: +1 -1
drivers/gpu/drm/xe/xe_irq.c: +291 -59
drivers/gpu/drm/xe/xe_irq.h: +8 -0
drivers/gpu/drm/xe/xe_lrc.c: +49 -4
drivers/gpu/drm/xe/xe_lrc.h: +5 -1
drivers/gpu/drm/xe/xe_macros.h: +8 -4
drivers/gpu/drm/xe/xe_memirq.c: +10 -16
drivers/gpu/drm/xe/xe_migrate.c: +1 -1
drivers/gpu/drm/xe/xe_module.c: +1 -1
drivers/gpu/drm/xe/xe_oa.c: +69 -104
drivers/gpu/drm/xe/xe_oa_types.h: +4 -4
drivers/gpu/drm/xe/xe_pci.c: +2 -2
drivers/gpu/drm/xe/xe_pcode.c: +1 -1
drivers/gpu/drm/xe/xe_pm.c: +6 -7
drivers/gpu/drm/xe/xe_pt.c: +4 -1
drivers/gpu/drm/xe/xe_query.c: +4 -1
drivers/gpu/drm/xe/xe_reg_sr.c: +0 -53
drivers/gpu/drm/xe/xe_reg_whitelist.c: +37 -0
drivers/gpu/drm/xe/xe_rtp.c: +5 -0
drivers/gpu/drm/xe/xe_rtp.h: +13 -2
drivers/gpu/drm/xe/xe_sriov.c: +4 -0
drivers/gpu/drm/xe/xe_sriov_pf_helpers.h: +1 -1
drivers/gpu/drm/xe/xe_sriov_types.h: +17 -0
drivers/gpu/drm/xe/xe_sriov_vf.c: +263 -0
drivers/gpu/drm/xe/xe_sriov_vf.h: +14 -0
drivers/gpu/drm/xe/xe_trace.h: +8 -3
drivers/gpu/drm/xe/xe_trace_bo.h: +11 -6
drivers/gpu/drm/xe/xe_trace_lrc.c: +9 -0
drivers/gpu/drm/xe/xe_trace_lrc.h: +52 -0
drivers/gpu/drm/xe/xe_ttm_vram_mgr.c: +21 -40
drivers/gpu/drm/xe/xe_uc_fw_types.h: +1 -1
drivers/gpu/drm/xe/xe_vm.c: +18 -19
drivers/gpu/drm/xe/xe_vm.h: +0 -1
drivers/gpu/drm/xe/xe_vm_doc.h: +11 -11
drivers/gpu/drm/xe/xe_vsec.c: +233 -0
drivers/gpu/drm/xe/xe_vsec.h: +11 -0
drivers/gpu/drm/xe/xe_wa.c: +6 -0
drivers/gpu/drm/xe/xe_wa_oob.rules: +2 -1
drivers/gpu/drm/xen/xen_drm_front.c: +0 -6
drivers/gpu/drm/xlnx/Kconfig: +9 -0
drivers/gpu/drm/xlnx/Makefile: +1 -0
drivers/gpu/drm/xlnx/zynqmp_disp.c: +0 -48
drivers/gpu/drm/xlnx/zynqmp_disp_regs.h: +1 -6
drivers/gpu/drm/xlnx/zynqmp_dp.c: +40 -16
drivers/gpu/drm/xlnx/zynqmp_dp.h: +7 -0
drivers/gpu/drm/xlnx/zynqmp_dp_audio.c: +447 -0
drivers/gpu/drm/xlnx/zynqmp_dpsub.c: +9 -30
drivers/gpu/drm/xlnx/zynqmp_dpsub.h: +13 -2
drivers/gpu/drm/xlnx/zynqmp_kms.c: +1 -2
drivers/opp/core.c: +65 -17
include/drm/bridge/dw_mipi_dsi2.h: +95 -0
include/drm/{ => clients}/drm_client_setup.h: +0 -0
include/drm/display/drm_dp_helper.h: +5 -0
include/drm/display/drm_dp_mst_helper.h: +1 -2
include/drm/display/drm_hdmi_audio_helper.h: +22 -0
include/drm/display/drm_hdmi_state_helper.h: +10 -0
include/drm/drm_bridge.h: +74 -0
include/drm/drm_connector.h: +142 -1
include/drm/drm_drv.h: +5 -2
include/drm/drm_file.h: +1 -0
include/drm/drm_gem.h: +8 -6
include/drm/drm_print.h: +2 -0
include/drm/drm_utils.h: +4 -0
include/drm/intel/pciids.h: +44 -14
include/drm/ttm/ttm_bo.h: +2 -0
include/drm/ttm/ttm_resource.h: +11 -1
include/linux/cgroup_dmem.h: +66 -0
include/linux/cgroup_subsys.h: +4 -0
include/linux/page_counter.h: +1 -1
include/linux/pm_opp.h: +7 -0
include/sound/hdmi-codec.h: +3 -4
include/trace/events/amdxdna.h: +101 -0
include/uapi/drm/amdxdna_accel.h: +501 -0
include/uapi/drm/msm_drm.h: +1 -0
include/uapi/drm/panthor_drm.h: +9 -0
include/uapi/drm/qaic_accel.h: +1 -1
include/uapi/drm/v3d_drm.h: +18 -0
include/uapi/drm/xe_drm.h: +16 -0
init/Kconfig: +11 -0
kernel/cgroup/Makefile: +1 -0
kernel/cgroup/dmem.c: +857 -0
lib/fonts/Kconfig: +1 -1
mm/page_counter.c: +2 -2
sound/soc/codecs/hdmi-codec.c: +2 -2
