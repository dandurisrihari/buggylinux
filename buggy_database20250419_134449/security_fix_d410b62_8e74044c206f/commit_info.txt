Commit Hash: d410b62e45ed9702593fb3ddc45cde3d3f277c9b
Subject: Merge tag 'x86_urgent_for_v6.5_rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip


Security Keywords:
- injection

Full commit message:
Merge tag 'x86_urgent_for_v6.5_rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip

Pull x86 fixes from Borislav Petkov:

 - AMD's automatic IBRS doesn't enable cross-thread branch target
   injection protection (STIBP) for user processes. Enable STIBP on such
   systems.

 - Do not delete (but put the ref instead) of AMD MCE error thresholding
   sysfs kobjects when destroying them in order not to delete the kernfs
   pointer prematurely

 - Restore annotation in ret_from_fork_asm() in order to fix kthread
   stack unwinding from being marked as unreliable and thus breaking
   livepatching

* tag 'x86_urgent_for_v6.5_rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:
  x86/cpu: Enable STIBP on AMD if Automatic IBRS is enabled
  x86/MCE/AMD: Decrement threshold_bank refcount when removing threshold blocks
  x86: Fix kthread unwind

Metadata:
Author: Linus Torvalds <torvalds@linux-foundation.org>
Author Date: Sun Jul 30 11:05:35 2023 -0700
Committer: Linus Torvalds <torvalds@linux-foundation.org>
Commit Date: Sun Jul 30 11:05:35 2023 -0700

Files Changed: 0
Lines Added: 33
Lines Removed: 13
Total Changes: 46
