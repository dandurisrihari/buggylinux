Commit Hash: 6ae15df16ef3dc3f5f043e94bb2cd4aa6c7f2aa8
Subject: [PATCH] softmac: Fix handling of authentication failure


Security Keywords:
- authentication

Full commit message:
[PATCH] softmac: Fix handling of authentication failure

My router blew up earlier, but exhibited some interesting behaviour during
its dying moments. It was broadcasting beacons but wouldn't respond to
any authentication requests.

I noticed that softmac wasn't playing nice with this, as I couldn't make it try
to connect to other networks after it had timed out authenticating to my ill
router.

To resolve this, I modified the softmac event/notify API to pass the event
code to the callback, so that callbacks being notified from
IEEE80211SOFTMAC_EVENT_ANY masks can make some judgement. In this case, the
ieee80211softmac_assoc callback needs to make a decision based upon whether
the association passed or failed.

Signed-off-by: Daniel Drake <dsd@gentoo.org>
Acked-by: Johannes Berg <johannes@sipsolutions.net>
Signed-off-by: John W. Linville <linville@tuxdriver.com>

Metadata:
Author: Daniel Drake <dsd@gentoo.org>
Author Date: Thu Jun 1 15:37:22 2006 +0100
Committer: John W. Linville <linville@tuxdriver.com>
Commit Date: Mon Jun 5 15:51:30 2006 -0400

Files Changed: 3
Lines Added: 24
Lines Removed: 5
Total Changes: 29
