Commit Hash: f8fa70f392fab8697b6358bb7e4f8c3e8429ec7b
Subject: arm64: localise Image objcopy flags


Security Keywords:
- hardening

Full commit message:
arm64: localise Image objcopy flags

We currently define OBJCOPYFLAGS in the top-level arm64 Makefile, and
thus these flags will be passed to all uses of objcopy, kernel-wide, for
which they are not explicitly overridden. The flags we set are intended
for converting vmlinux (and ELF) into Image (a raw binary), and thus the
flags chosen are problematic for some other uses which do not expect a
raw binary result, e.g. the upcoming lkdtm rodata test:

  http://www.openwall.com/lists/kernel-hardening/2016/06/08/2

This patch localises the objcopy flags such that they are only used for
the vmlinux -> Image conversion.

Signed-off-by: Mark Rutland <mark.rutland@arm.com>
Cc: Will Deacon <will.deacon@arm.com>
Acked-by: Kees Cook <keescook@chromium.org>
Tested-by: Laura Abbott <labbott@redhat.com>
Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>

Metadata:
Author: Mark Rutland <mark.rutland@arm.com>
Author Date: Tue Jul 12 16:28:01 2016 +0100
Committer: Catalin Marinas <catalin.marinas@arm.com>
Commit Date: Tue Jul 19 15:30:23 2016 +0100

Files Changed: 2
Lines Added: 2
Lines Removed: 1
Total Changes: 3
