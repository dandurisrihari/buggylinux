{
  "hash": "23918b03060f6e572168fdde1798a905679d2e06",
  "hash_short": "23918b03",
  "subject": "SUNRPC: Fix a performance regression in the RPC authentication code",
  "body": "Fix a regression reported by Max Kellermann whereby kernel profiling\nshowed that his clients were spending 45% of their time in\nrpcauth_lookup_credcache.\n\nIt turns out that although his processes had identical uid/gid/groups,\ngeneric_match() was failing to detect this, because the task->group_info\npointers were not shared. This again lead to the creation of a huge number\nof identical credentials at the RPC layer.\n\nThe regression is fixed by comparing the contents of task->group_info\nif the actual pointers are not identical.\n\nSigned-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "SUNRPC: Fix a performance regression in the RPC authentication code\n\nFix a regression reported by Max Kellermann whereby kernel profiling\nshowed that his clients were spending 45% of their time in\nrpcauth_lookup_credcache.\n\nIt turns out that although his processes had identical uid/gid/groups,\ngeneric_match() was failing to detect this, because the task->group_info\npointers were not shared. This again lead to the creation of a huge number\nof identical credentials at the RPC layer.\n\nThe regression is fixed by comparing the contents of task->group_info\nif the actual pointers are not identical.\n\nSigned-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Trond Myklebust",
  "author_email": "Trond.Myklebust@netapp.com",
  "author_date": "Thu Nov 20 16:06:21 2008 -0500",
  "author_date_iso": "2008-11-20T16:06:21-05:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Nov 20 13:17:40 2008 -0800",
  "committer_date_iso": "2008-11-20T13:17:40-08:00",
  "files_changed": [
    "net/sunrpc/auth_generic.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/sunrpc/auth_generic.c",
      "insertions": 18,
      "deletions": 2
    }
  ],
  "total_insertions": 18,
  "total_deletions": 2,
  "total_changes": 20,
  "parents": [
    "0cb39aa0ac3a9dc64171b43a85d17e539d82f2d6"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.28",
    "v2.6.28-rc6",
    "v2.6.28-rc7",
    "v2.6.28-rc8",
    "v2.6.28-rc9",
    "v2.6.29",
    "v2.6.29-rc1",
    "v2.6.29-rc2",
    "v2.6.29-rc3",
    "v2.6.29-rc4"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/sunrpc/auth_generic.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}