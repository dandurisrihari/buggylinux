Commit Hash: 23918b03060f6e572168fdde1798a905679d2e06
Subject: SUNRPC: Fix a performance regression in the RPC authentication code


Security Keywords:
- authentication

Full commit message:
SUNRPC: Fix a performance regression in the RPC authentication code

Fix a regression reported by Max Kellermann whereby kernel profiling
showed that his clients were spending 45% of their time in
rpcauth_lookup_credcache.

It turns out that although his processes had identical uid/gid/groups,
generic_match() was failing to detect this, because the task->group_info
pointers were not shared. This again lead to the creation of a huge number
of identical credentials at the RPC layer.

The regression is fixed by comparing the contents of task->group_info
if the actual pointers are not identical.

Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Metadata:
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Author Date: Thu Nov 20 16:06:21 2008 -0500
Committer: Linus Torvalds <torvalds@linux-foundation.org>
Commit Date: Thu Nov 20 13:17:40 2008 -0800

Files Changed: 1
Lines Added: 18
Lines Removed: 2
Total Changes: 20
