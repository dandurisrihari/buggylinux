{
  "hash": "45cf86f26148e549c5ba4a8ab32a390e4bde216e",
  "hash_short": "45cf86f2",
  "subject": "kvm: x86: Advertise FLUSH_L1D to user space",
  "body": "FLUSH_L1D was already added in 11e34e64e4103, but the feature is not\nvisible to userspace yet.\n\nThe bit definition:\nCPUID.(EAX=7,ECX=0):EDX[bit 28]\n\nIf the feature is supported by the host, kvm should support it too so\nthat userspace can choose whether to expose it to the guest or not.\nOne disadvantage of not exposing it is that the guest will report\na non existing vulnerability in\n/sys/devices/system/cpu/vulnerabilities/mmio_stale_data\nbecause the mitigation is present only if the guest supports\n(FLUSH_L1D and MD_CLEAR) or FB_CLEAR.\n\nSigned-off-by: Emanuele Giuseppe Esposito <eesposit@redhat.com>\nMessage-Id: <20230201132905.549148-4-eesposit@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "full_message": "kvm: x86: Advertise FLUSH_L1D to user space\n\nFLUSH_L1D was already added in 11e34e64e4103, but the feature is not\nvisible to userspace yet.\n\nThe bit definition:\nCPUID.(EAX=7,ECX=0):EDX[bit 28]\n\nIf the feature is supported by the host, kvm should support it too so\nthat userspace can choose whether to expose it to the guest or not.\nOne disadvantage of not exposing it is that the guest will report\na non existing vulnerability in\n/sys/devices/system/cpu/vulnerabilities/mmio_stale_data\nbecause the mitigation is present only if the guest supports\n(FLUSH_L1D and MD_CLEAR) or FB_CLEAR.\n\nSigned-off-by: Emanuele Giuseppe Esposito <eesposit@redhat.com>\nMessage-Id: <20230201132905.549148-4-eesposit@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "author_name": "Emanuele Giuseppe Esposito",
  "author_email": "eesposit@redhat.com",
  "author_date": "Wed Feb 1 08:29:05 2023 -0500",
  "author_date_iso": "2023-02-01T08:29:05-05:00",
  "committer_name": "Paolo Bonzini",
  "committer_email": "pbonzini@redhat.com",
  "committer_date": "Thu Mar 16 10:18:05 2023 -0400",
  "committer_date_iso": "2023-03-16T10:18:05-04:00",
  "files_changed": [
    "arch/x86/kvm/cpuid.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kvm/cpuid.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "723d5fb0ffe4c02bd4edf47ea02c02e454719f28"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kvm/cpuid.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}