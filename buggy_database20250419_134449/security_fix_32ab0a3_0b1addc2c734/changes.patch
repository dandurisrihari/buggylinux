diff --cc net/wireless/nl80211.c
index 0d3ab4bfeacf,bb30fa1969f9..24ab199ef2fc
--- a/net/wireless/nl80211.c
+++ b/net/wireless/nl80211.c
@@@ -12583,23 -12692,16 +12676,31 @@@ static const struct genl_ops nl80211_op
  		.internal_flags = NL80211_FLAG_NEED_NETDEV_UP |
  				  NL80211_FLAG_NEED_RTNL,
  	},
+ 	{
+ 		.cmd = NL80211_CMD_SET_MULTICAST_TO_UNICAST,
+ 		.doit = nl80211_set_multicast_to_unicast,
+ 		.policy = nl80211_policy,
+ 		.flags = GENL_UNS_ADMIN_PERM,
+ 		.internal_flags = NL80211_FLAG_NEED_NETDEV |
+ 				  NL80211_FLAG_NEED_RTNL,
+ 	},
  };
  
 +static struct genl_family nl80211_fam __ro_after_init = {
 +	.name = NL80211_GENL_NAME,	/* have users key off the name instead */
 +	.hdrsize = 0,			/* no private header */
 +	.version = 1,			/* no particular meaning now */
 +	.maxattr = NL80211_ATTR_MAX,
 +	.netnsok = true,
 +	.pre_doit = nl80211_pre_doit,
 +	.post_doit = nl80211_post_doit,
 +	.module = THIS_MODULE,
 +	.ops = nl80211_ops,
 +	.n_ops = ARRAY_SIZE(nl80211_ops),
 +	.mcgrps = nl80211_mcgrps,
 +	.n_mcgrps = ARRAY_SIZE(nl80211_mcgrps),
 +};
 +
  /* notification functions */
  
  void nl80211_notify_wiphy(struct cfg80211_registered_device *rdev,