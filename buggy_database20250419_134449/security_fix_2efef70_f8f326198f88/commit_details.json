{
  "hash": "2efef7080f471d312a9c4feb3dc5ee038039c7ed",
  "hash_short": "2efef708",
  "subject": "rpc: add service field to new upcall",
  "body": "This patch extends the new upcall with a \"service\" field that currently\ncan have 2 values: \"*\" or \"nfs\". These values specify matching rules for\nprincipals in the keytab file. The \"*\" means that gssd is allowed to use\n\"root\", \"nfs\", or \"host\" keytab entries while the other option requires\n\"nfs\".\n\nRestricting gssd to use the \"nfs\" principal is needed for when the\nserver performs a callback to the client.  The server in this case has\nto authenticate itself as an \"nfs\" principal.\n\nWe also need \"service\" field to distiguish between two client-side cases\nboth currently using a uid of 0: the case of regular file access by the\nroot user, and the case of state-management calls (such as setclientid)\nwhich should use a keytab for authentication.  (And the upcall should\nfail if an appropriate principal can't be found.)\n\nSigned-off: Olga Kornievskaia <aglo@citi.umich.edu>\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>\nSigned-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>",
  "full_message": "rpc: add service field to new upcall\n\nThis patch extends the new upcall with a \"service\" field that currently\ncan have 2 values: \"*\" or \"nfs\". These values specify matching rules for\nprincipals in the keytab file. The \"*\" means that gssd is allowed to use\n\"root\", \"nfs\", or \"host\" keytab entries while the other option requires\n\"nfs\".\n\nRestricting gssd to use the \"nfs\" principal is needed for when the\nserver performs a callback to the client.  The server in this case has\nto authenticate itself as an \"nfs\" principal.\n\nWe also need \"service\" field to distiguish between two client-side cases\nboth currently using a uid of 0: the case of regular file access by the\nroot user, and the case of state-management calls (such as setclientid)\nwhich should use a keytab for authentication.  (And the upcall should\nfail if an appropriate principal can't be found.)\n\nSigned-off: Olga Kornievskaia <aglo@citi.umich.edu>\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>\nSigned-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>",
  "author_name": "Olga Kornievskaia",
  "author_email": "aglo@citi.umich.edu",
  "author_date": "Tue Dec 23 16:19:56 2008 -0500",
  "author_date_iso": "2008-12-23T16:19:56-05:00",
  "committer_name": "Trond Myklebust",
  "committer_email": "Trond.Myklebust@netapp.com",
  "committer_date": "Tue Dec 23 16:19:56 2008 -0500",
  "committer_date_iso": "2008-12-23T16:19:56-05:00",
  "files_changed": [
    "net/sunrpc/auth_gss/auth_gss.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/sunrpc/auth_gss/auth_gss.c",
      "insertions": 16,
      "deletions": 10
    }
  ],
  "total_insertions": 16,
  "total_deletions": 10,
  "total_changes": 26,
  "parents": [
    "8b1c7bf5b624c9bc91b41ae577b9fc5c21641705"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.29",
    "v2.6.29-rc1",
    "v2.6.29-rc2",
    "v2.6.29-rc3",
    "v2.6.29-rc4",
    "v2.6.29-rc5",
    "v2.6.29-rc6",
    "v2.6.29-rc7",
    "v2.6.29-rc8",
    "v2.6.30"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/sunrpc/auth_gss/auth_gss.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}