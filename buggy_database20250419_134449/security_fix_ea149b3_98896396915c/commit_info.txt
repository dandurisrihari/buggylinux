Commit Hash: ea149b36c7f511d17dd89fee734cb09778a91fa0
Subject: x86, mce: add basic error injection infrastructure


Security Keywords:
- injection

Full commit message:
x86, mce: add basic error injection infrastructure

Allow user programs to write mce records into /dev/mcelog. When they do
that a fake machine check is triggered to test the machine check code.

This uses the MCE MSR wrappers added earlier.

The implementation is straight forward. There is a struct mce record
per CPU and the MCE MSR accesses get data from there if there is valid
data injected there. This allows to test the machine check code
relatively realistically because only the lowest layer of hardware
access is intercepted.

The test suite and injector are available at
git://git.kernel.org/pub/scm/utils/cpu/mce/mce-test.git
git://git.kernel.org/pub/scm/utils/cpu/mce/mce-inject.git

Signed-off-by: Andi Kleen <ak@linux.intel.com>
Signed-off-by: H. Peter Anvin <hpa@zytor.com>
Signed-off-by: Hidetoshi Seto <seto.hidetoshi@jp.fujitsu.com>
Signed-off-by: H. Peter Anvin <hpa@zytor.com>

Metadata:
Author: Andi Kleen <ak@linux.intel.com>
Author Date: Wed Apr 29 19:31:00 2009 +0200
Committer: H. Peter Anvin <hpa@zytor.com>
Commit Date: Thu May 28 09:24:14 2009 -0700

Files Changed: 5
Lines Added: 176
Lines Removed: 1
Total Changes: 177
