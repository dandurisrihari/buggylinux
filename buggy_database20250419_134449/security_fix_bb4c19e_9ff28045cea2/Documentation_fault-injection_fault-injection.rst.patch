commit bb4c19e030f45c5416f1eb4daa94fbaf7165e9ea
Author: Akinobu Mita <akinobu.mita@gmail.com>
Date:   Mon Mar 27 23:37:33 2023 +0900

    block: null_blk: make fault-injection dynamically configurable per device
    
    The null_blk driver has multiple driver-specific fault injection
    mechanisms.  Each fault injection configuration can only be specified by a
    module parameter and cannot be reconfigured without reloading the driver.
    Also, each configuration is common to all devices and is initialized every
    time a new device is added.
    
    This change adds the following subdirectories for each null_blk device.
    
    /sys/kernel/config/nullb/<disk>/timeout_inject
    /sys/kernel/config/nullb/<disk>/requeue_inject
    /sys/kernel/config/nullb/<disk>/init_hctx_fault_inject
    
    Each fault injection attribute can be dynamically set per device by a
    corresponding file in these directories.
    
    Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
    Link: https://lore.kernel.org/r/20230327143733.14599-3-akinobu.mita@gmail.com
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

diff --git a/Documentation/fault-injection/fault-injection.rst b/Documentation/fault-injection/fault-injection.rst
index 08e420e10973..b64809514b0f 100644
--- a/Documentation/fault-injection/fault-injection.rst
+++ b/Documentation/fault-injection/fault-injection.rst
@@ -52,6 +52,14 @@ Available fault injection capabilities
   status code is NVME_SC_INVALID_OPCODE with no retry. The status code and
   retry flag can be set via the debugfs.
 
+- Null test block driver fault injection
+
+  inject IO timeouts by setting config items under
+  /sys/kernel/config/nullb/<disk>/timeout_inject,
+  inject requeue requests by setting config items under
+  /sys/kernel/config/nullb/<disk>/requeue_inject, and
+  inject init_hctx() errors by setting config items under
+  /sys/kernel/config/nullb/<disk>/init_hctx_fault_inject.
 
 Configure fault-injection capabilities behavior
 -----------------------------------------------