{
  "hash": "d9207cf7760f5f5599e9ff7eb0fedf56821a1d59",
  "hash_short": "d9207cf7",
  "subject": "EDAC/{skx_common,i10nm}: Fix some missing error reports on Emerald Rapids",
  "body": "When doing error injection to some memory DIMMs on certain Intel Emerald\nRapids servers, the i10nm_edac missed error reports for some memory DIMMs.\n\nCertain BIOS configurations may hide some memory controllers, and the\ni10nm_edac doesn't enumerate these hidden memory controllers. However, the\nADXL decodes memory errors using memory controller physical indices even\nif there are hidden memory controllers. Therefore, the memory controller\nphysical indices reported by the ADXL may mismatch the logical indices\nenumerated by the i10nm_edac, resulting in missed error reports for some\nmemory DIMMs.\n\nFix this issue by creating a mapping table from memory controller physical\nindices (used by the ADXL) to logical indices (used by the i10nm_edac) and\nusing it to convert the physical indices to the logical indices during the\nerror handling process.\n\nFixes: c545f5e41225 (\"EDAC/i10nm: Skip the absent memory controllers\")\nReported-by: Kevin Chang <kevin1.chang@intel.com>\nTested-by: Kevin Chang <kevin1.chang@intel.com>\nReported-by: Thomas Chen <Thomas.Chen@intel.com>\nTested-by: Thomas Chen <Thomas.Chen@intel.com>\nSigned-off-by: Qiuxu Zhuo <qiuxu.zhuo@intel.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>\nLink: https://lore.kernel.org/r/20250214002728.6287-1-qiuxu.zhuo@intel.com",
  "full_message": "EDAC/{skx_common,i10nm}: Fix some missing error reports on Emerald Rapids\n\nWhen doing error injection to some memory DIMMs on certain Intel Emerald\nRapids servers, the i10nm_edac missed error reports for some memory DIMMs.\n\nCertain BIOS configurations may hide some memory controllers, and the\ni10nm_edac doesn't enumerate these hidden memory controllers. However, the\nADXL decodes memory errors using memory controller physical indices even\nif there are hidden memory controllers. Therefore, the memory controller\nphysical indices reported by the ADXL may mismatch the logical indices\nenumerated by the i10nm_edac, resulting in missed error reports for some\nmemory DIMMs.\n\nFix this issue by creating a mapping table from memory controller physical\nindices (used by the ADXL) to logical indices (used by the i10nm_edac) and\nusing it to convert the physical indices to the logical indices during the\nerror handling process.\n\nFixes: c545f5e41225 (\"EDAC/i10nm: Skip the absent memory controllers\")\nReported-by: Kevin Chang <kevin1.chang@intel.com>\nTested-by: Kevin Chang <kevin1.chang@intel.com>\nReported-by: Thomas Chen <Thomas.Chen@intel.com>\nTested-by: Thomas Chen <Thomas.Chen@intel.com>\nSigned-off-by: Qiuxu Zhuo <qiuxu.zhuo@intel.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>\nLink: https://lore.kernel.org/r/20250214002728.6287-1-qiuxu.zhuo@intel.com",
  "author_name": "Qiuxu Zhuo",
  "author_email": "qiuxu.zhuo@intel.com",
  "author_date": "Fri Feb 14 08:27:28 2025 +0800",
  "author_date_iso": "2025-02-14T08:27:28+08:00",
  "committer_name": "Tony Luck",
  "committer_email": "tony.luck@intel.com",
  "committer_date": "Thu Feb 20 17:02:33 2025 -0800",
  "committer_date_iso": "2025-02-20T17:02:33-08:00",
  "files_changed": [
    "drivers/edac/i10nm_base.c",
    "drivers/edac/skx_common.c",
    "drivers/edac/skx_common.h"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "drivers/edac/i10nm_base.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/edac/skx_common.c",
      "insertions": 33,
      "deletions": 0
    },
    {
      "file": "drivers/edac/skx_common.h",
      "insertions": 11,
      "deletions": 0
    }
  ],
  "total_insertions": 46,
  "total_deletions": 0,
  "total_changes": 46,
  "parents": [
    "267e5b1d267539d9a927dc04aab6f15aca57da92"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/edac/i10nm_base.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/edac/skx_common.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/edac/skx_common.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}