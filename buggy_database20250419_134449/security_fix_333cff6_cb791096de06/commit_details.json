{
  "hash": "333cff6c963fbc8b9820ca2b6a8b2e22a572cd43",
  "hash_short": "333cff6c",
  "subject": "powercap/drivers/idle_inject: Specify idle state max latency",
  "body": "Currently the idle injection framework uses the play_idle() function\nwhich puts the current CPU in an idle state. The idle state is the\ndeepest one, as specified by the latency constraint when calling the\nsubsequent play_idle_precise() function with the INT_MAX.\n\nThe idle_injection is used by the cpuidle_cooling device which\ncomputes the idle / run duration to mitigate the temperature by\ninjecting idle cycles. The cooling device has no control on the depth\nof the idle state.\n\nAllow finer control of the idle injection mechanism by allowing to\nspecify the latency for the idle state. Thus the cooling device has\nthe ability to have a guarantee on the exit latency of the idle states\nit is injecting.\n\nAcked-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\nSigned-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>\nReviewed-by: Amit Kucheria <amit.kucheria@linaro.org>\nLink: https://lore.kernel.org/r/20200429103644.5492-1-daniel.lezcano@linaro.org",
  "full_message": "powercap/drivers/idle_inject: Specify idle state max latency\n\nCurrently the idle injection framework uses the play_idle() function\nwhich puts the current CPU in an idle state. The idle state is the\ndeepest one, as specified by the latency constraint when calling the\nsubsequent play_idle_precise() function with the INT_MAX.\n\nThe idle_injection is used by the cpuidle_cooling device which\ncomputes the idle / run duration to mitigate the temperature by\ninjecting idle cycles. The cooling device has no control on the depth\nof the idle state.\n\nAllow finer control of the idle injection mechanism by allowing to\nspecify the latency for the idle state. Thus the cooling device has\nthe ability to have a guarantee on the exit latency of the idle states\nit is injecting.\n\nAcked-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>\nSigned-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>\nReviewed-by: Amit Kucheria <amit.kucheria@linaro.org>\nLink: https://lore.kernel.org/r/20200429103644.5492-1-daniel.lezcano@linaro.org",
  "author_name": "Daniel Lezcano",
  "author_email": "daniel.lezcano@linaro.org",
  "author_date": "Wed Apr 29 12:36:39 2020 +0200",
  "author_date_iso": "2020-04-29T12:36:39+02:00",
  "committer_name": "Daniel Lezcano",
  "committer_email": "daniel.lezcano@linaro.org",
  "committer_date": "Tue May 19 12:54:05 2020 +0200",
  "committer_date_iso": "2020-05-19T12:54:05+02:00",
  "files_changed": [
    "drivers/powercap/idle_inject.c",
    "include/linux/idle_inject.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/powercap/idle_inject.c",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "include/linux/idle_inject.h",
      "insertions": 4,
      "deletions": 0
    }
  ],
  "total_insertions": 19,
  "total_deletions": 1,
  "total_changes": 20,
  "parents": [
    "7440f518dad9d861d76c64956641eeddd3586f75"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/powercap/idle_inject.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/idle_inject.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}