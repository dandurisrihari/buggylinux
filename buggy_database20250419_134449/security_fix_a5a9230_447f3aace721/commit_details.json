{
  "hash": "a5a923038d70d2d4a86cb4e3f32625a5ee6e7e24",
  "hash_short": "a5a92303",
  "subject": "fbdev: fbcon: Properly revert changes when vc_resize() failed",
  "body": "fbcon_do_set_font() calls vc_resize() when font size is changed.\nHowever, if if vc_resize() failed, current implementation doesn't\nrevert changes for font size, and this causes inconsistent state.\n\nsyzbot reported unable to handle page fault due to this issue [1].\nsyzbot's repro uses fault injection which cause failure for memory\nallocation, so vc_resize() failed.\n\nThis patch fixes this issue by properly revert changes for font\nrelated date when vc_resize() failed.\n\nLink: https://syzkaller.appspot.com/bug?id=3443d3a1fa6d964dd7310a0cb1696d165a3e07c4 [1]\nReported-by: syzbot+a168dbeaaa7778273c1b@syzkaller.appspotmail.com\nSigned-off-by: Shigeru Yoshida <syoshida@redhat.com>\nSigned-off-by: Helge Deller <deller@gmx.de>\nCC: stable@vger.kernel.org # 5.15+",
  "full_message": "fbdev: fbcon: Properly revert changes when vc_resize() failed\n\nfbcon_do_set_font() calls vc_resize() when font size is changed.\nHowever, if if vc_resize() failed, current implementation doesn't\nrevert changes for font size, and this causes inconsistent state.\n\nsyzbot reported unable to handle page fault due to this issue [1].\nsyzbot's repro uses fault injection which cause failure for memory\nallocation, so vc_resize() failed.\n\nThis patch fixes this issue by properly revert changes for font\nrelated date when vc_resize() failed.\n\nLink: https://syzkaller.appspot.com/bug?id=3443d3a1fa6d964dd7310a0cb1696d165a3e07c4 [1]\nReported-by: syzbot+a168dbeaaa7778273c1b@syzkaller.appspotmail.com\nSigned-off-by: Shigeru Yoshida <syoshida@redhat.com>\nSigned-off-by: Helge Deller <deller@gmx.de>\nCC: stable@vger.kernel.org # 5.15+",
  "author_name": "Shigeru Yoshida",
  "author_email": "syoshida@redhat.com",
  "author_date": "Fri Aug 19 03:13:36 2022 +0900",
  "author_date_iso": "2022-08-19T03:13:36+09:00",
  "committer_name": "Helge Deller",
  "committer_email": "deller@gmx.de",
  "committer_date": "Fri Aug 26 19:56:18 2022 +0200",
  "committer_date_iso": "2022-08-26T19:56:18+02:00",
  "files_changed": [
    "drivers/video/fbdev/core/fbcon.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/video/fbdev/core/fbcon.c",
      "insertions": 25,
      "deletions": 2
    }
  ],
  "total_insertions": 25,
  "total_deletions": 2,
  "total_changes": 27,
  "parents": [
    "8d0268585b9c07dd01b77b63913a4f31ad99239b"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/video/fbdev/core/fbcon.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}