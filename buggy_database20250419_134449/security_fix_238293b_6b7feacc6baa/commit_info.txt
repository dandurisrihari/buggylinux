Commit Hash: 238293b14d9b1f5689e2aa68710000b0f25aa612
Subject: KVM: s390: correctly handle injection of pgm irqs and per events


Security Keywords:
- injection

Full commit message:
KVM: s390: correctly handle injection of pgm irqs and per events

PER events can always co-exist with other program interrupts.

For now, we always overwrite all program interrupt parameters when
injecting any type of program interrupt.

Let's handle that correctly by only overwriting the relevant portion of
the program interrupt parameters. Therefore we can now inject PER events
and ordinary program interrupts concurrently, resulting in no loss of
program interrupts. This will especially by helpful when manually detecting
PER events later - as both types might be triggered during one SIE exit.

Reviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>
Signed-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>
Signed-off-by: Christian Borntraeger <borntraeger@de.ibm.com>

Metadata:
Author: David Hildenbrand <dahi@linux.vnet.ibm.com>
Author Date: Mon May 4 12:38:48 2015 +0200
Committer: Christian Borntraeger <borntraeger@de.ibm.com>
Commit Date: Tue Oct 13 15:50:34 2015 +0200

Files Changed: 1
Lines Added: 20
Lines Removed: 1
Total Changes: 21
