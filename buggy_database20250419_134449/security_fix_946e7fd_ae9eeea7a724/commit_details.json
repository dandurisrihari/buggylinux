{
  "hash": "946e7fd5053a218d3907268cd85c9a519561d5d8",
  "hash_short": "946e7fd5",
  "subject": "net: sparx5: add port module support",
  "body": "This add configuration of the Sparx5 port module instances.\n\nSparx5 has in total 65 logical ports (denoted D0 to D64) and 33\nphysical SerDes connections (S0 to S32).  The 65th port (D64) is fixed\nallocated to SerDes0 (S0). The remaining 64 ports can in various\nmultiplexing scenarios be connected to the remaining 32 SerDes using\nQSGMII, or USGMII or USXGMII extenders. 32 of the ports can have a 1:1\nmapping to the 32 SerDes.\n\nSome additional ports (D65 to D69) are internal to the device and do not\nconnect to port modules or SerDes macros. For example, internal ports are\nused for frame injection and extraction to the CPU queues.\n\nThe 65 logical ports are split up into the following blocks.\n\n- 13 x 5G ports (D0-D11, D64)\n- 32 x 2G5 ports (D16-D47)\n- 12 x 10G ports (D12-D15, D48-D55)\n- 8 x 25G ports (D56-D63)\n\nEach logical port supports different line speeds, and depending on the\nspeeds supported, different port modules (MAC+PCS) are needed. A port\nsupporting 5 Gbps, 10 Gbps, or 25 Gbps as maximum line speed, will have a\nDEV5G, DEV10G, or DEV25G module to support the 5 Gbps, 10 Gbps (incl 5\nGbps), or 25 Gbps (including 10 Gbps and 5 Gbps) speeds. As well as, it\nwill have a shadow DEV2G5 port module to support the lower speeds\n(10/100/1000/2500Mbps). When a port needs to operate at lower speed and the\nshadow DEV2G5 needs to be connected to its corresponding SerDes\n\nNot all interface modes are supported in this series, but will be added at\na later stage.\n\nSigned-off-by: Steen Hegelund <steen.hegelund@microchip.com>\nSigned-off-by: Bjarni Jonasson <bjarni.jonasson@microchip.com>\nSigned-off-by: Lars Povlsen <lars.povlsen@microchip.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "net: sparx5: add port module support\n\nThis add configuration of the Sparx5 port module instances.\n\nSparx5 has in total 65 logical ports (denoted D0 to D64) and 33\nphysical SerDes connections (S0 to S32).  The 65th port (D64) is fixed\nallocated to SerDes0 (S0). The remaining 64 ports can in various\nmultiplexing scenarios be connected to the remaining 32 SerDes using\nQSGMII, or USGMII or USXGMII extenders. 32 of the ports can have a 1:1\nmapping to the 32 SerDes.\n\nSome additional ports (D65 to D69) are internal to the device and do not\nconnect to port modules or SerDes macros. For example, internal ports are\nused for frame injection and extraction to the CPU queues.\n\nThe 65 logical ports are split up into the following blocks.\n\n- 13 x 5G ports (D0-D11, D64)\n- 32 x 2G5 ports (D16-D47)\n- 12 x 10G ports (D12-D15, D48-D55)\n- 8 x 25G ports (D56-D63)\n\nEach logical port supports different line speeds, and depending on the\nspeeds supported, different port modules (MAC+PCS) are needed. A port\nsupporting 5 Gbps, 10 Gbps, or 25 Gbps as maximum line speed, will have a\nDEV5G, DEV10G, or DEV25G module to support the 5 Gbps, 10 Gbps (incl 5\nGbps), or 25 Gbps (including 10 Gbps and 5 Gbps) speeds. As well as, it\nwill have a shadow DEV2G5 port module to support the lower speeds\n(10/100/1000/2500Mbps). When a port needs to operate at lower speed and the\nshadow DEV2G5 needs to be connected to its corresponding SerDes\n\nNot all interface modes are supported in this series, but will be added at\na later stage.\n\nSigned-off-by: Steen Hegelund <steen.hegelund@microchip.com>\nSigned-off-by: Bjarni Jonasson <bjarni.jonasson@microchip.com>\nSigned-off-by: Lars Povlsen <lars.povlsen@microchip.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "Steen Hegelund",
  "author_email": "steen.hegelund@microchip.com",
  "author_date": "Thu Jun 24 09:07:52 2021 +0200",
  "author_date_iso": "2021-06-24T09:07:52+02:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Thu Jun 24 11:28:12 2021 -0700",
  "committer_date_iso": "2021-06-24T11:28:12-07:00",
  "files_changed": [
    "drivers/net/ethernet/microchip/sparx5/Makefile",
    "drivers/net/ethernet/microchip/sparx5/sparx5_main.c",
    "drivers/net/ethernet/microchip/sparx5/sparx5_netdev.c",
    "drivers/net/ethernet/microchip/sparx5/sparx5_phylink.c",
    "drivers/net/ethernet/microchip/sparx5/sparx5_port.c",
    "drivers/net/ethernet/microchip/sparx5/sparx5_port.h"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "drivers/net/ethernet/microchip/sparx5/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_main.c",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_netdev.c",
      "insertions": 12,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_phylink.c",
      "insertions": 19,
      "deletions": 8
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_port.c",
      "insertions": 1146,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_port.h",
      "insertions": 93,
      "deletions": 0
    }
  ],
  "total_insertions": 1279,
  "total_deletions": 12,
  "total_changes": 1291,
  "parents": [
    "f3cad2611a77f0229dc16aa7bd2ef63e35ea9fb6"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_main.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_port.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/Makefile",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_phylink.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_netdev.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/net/ethernet/microchip/sparx5/sparx5_port.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}