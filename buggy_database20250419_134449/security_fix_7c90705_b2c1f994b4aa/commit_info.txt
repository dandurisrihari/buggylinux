Commit Hash: 7c90705bf2a373aa238661bdb6446f27299ef489
Subject: KVM: Inject asynchronous page fault into a PV guest if page is swapped out.


Security Keywords:
- Inject

Full commit message:
KVM: Inject asynchronous page fault into a PV guest if page is swapped out.

Send async page fault to a PV guest if it accesses swapped out memory.
Guest will choose another task to run upon receiving the fault.

Allow async page fault injection only when guest is in user mode since
otherwise guest may be in non-sleepable context and will not be able
to reschedule.

Vcpu will be halted if guest will fault on the same page again or if
vcpu executes kernel code.

Acked-by: Rik van Riel <riel@redhat.com>
Signed-off-by: Gleb Natapov <gleb@redhat.com>
Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com>

Metadata:
Author: Gleb Natapov <gleb@redhat.com>
Author Date: Thu Oct 14 11:22:53 2010 +0200
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Wed Jan 12 11:23:17 2011 +0200

Files Changed: 5
Lines Added: 55
Lines Removed: 12
Total Changes: 67
