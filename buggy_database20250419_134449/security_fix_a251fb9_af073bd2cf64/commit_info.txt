Commit Hash: a251fb90ab8a3e6efb2b4e14923ddb4421317f65
Subject: KVM: x86: Fix apic dangling pointer in vcpu


Security Keywords:
- security issue

Full commit message:
KVM: x86: Fix apic dangling pointer in vcpu

The function kvm_create_lapic() attempts to allocate the apic structure
and sets a pointer to it in the virtual processor structure. However, if
get_zeroed_page() failed, the function frees the apic chunk, but forgets
to set the pointer in the vcpu to NULL. It's not a security issue since
there isn't a use of that pointer if kvm_create_lapic() returns error,
but it's more accurate that way.

Signed-off-by: Saar Amar <saaramar@microsoft.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Saar Amar <saaramar@microsoft.com>
Author Date: Mon May 6 11:29:16 2019 +0300
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Thu Jun 20 14:23:17 2019 +0200

Files Changed: 1
Lines Added: 1
Lines Removed: 0
Total Changes: 1
