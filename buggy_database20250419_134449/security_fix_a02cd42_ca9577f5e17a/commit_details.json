{
  "hash": "a02cd4229e298aadbe8f5cf286edee8058d87116",
  "hash_short": "a02cd422",
  "subject": "Merge tag 'f2fs-for-4.15-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs",
  "body": "Pull f2fs updates from Jaegeuk Kim:\n \"In this round, we introduce sysfile-based quota support which is\n  required for Android by default. In addition, we allow that users are\n  able to reserve some blocks in runtime to mitigate performance drops\n  in low free space.\n\n  Enhancements:\n   - assign proper data segments according to write_hints given by user\n   - issue cache_flush on dirty devices only among multiple devices\n   - exploit cp_error flag and add more faults to enhance fault\n     injection test\n   - conduct more readaheads during f2fs_readdir\n   - add a range for discard commands\n\n  Bug fixes:\n   - fix zero stat->st_blocks when inline_data is set\n   - drop crypto key and free stale memory pointer while evict_inode is\n     failing\n   - fix some corner cases in free space and segment management\n   - fix wrong last_disk_size\n\n  This series includes lots of clean-ups and code enhancement in terms\n  of xattr operations, discard/flush command control. In addition, it\n  adds versatile debugfs entries to monitor f2fs status\"\n\n* tag 'f2fs-for-4.15-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs: (75 commits)\n  f2fs: deny accessing encryption policy if encryption is off\n  f2fs: inject fault in inc_valid_node_count\n  f2fs: fix to clear FI_NO_PREALLOC\n  f2fs: expose quota information in debugfs\n  f2fs: separate nat entry mem alloc from nat_tree_lock\n  f2fs: validate before set/clear free nat bitmap\n  f2fs: avoid opened loop codes in __add_ino_entry\n  f2fs: apply write hints to select the type of segments for buffered write\n  f2fs: introduce scan_curseg_cache for cleanup\n  f2fs: optimize the way of traversing free_nid_bitmap\n  f2fs: keep scanning until enough free nids are acquired\n  f2fs: trace checkpoint reason in fsync()\n  f2fs: keep isize once block is reserved cross EOF\n  f2fs: avoid race in between GC and block exchange\n  f2fs: save a multiplication for last_nid calculation\n  f2fs: fix summary info corruption\n  f2fs: remove dead code in update_meta_page\n  f2fs: remove unneeded semicolon\n  f2fs: don't bother with inode->i_version\n  f2fs: check curseg space before foreground GC\n  ...",
  "full_message": "Merge tag 'f2fs-for-4.15-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs\n\nPull f2fs updates from Jaegeuk Kim:\n \"In this round, we introduce sysfile-based quota support which is\n  required for Android by default. In addition, we allow that users are\n  able to reserve some blocks in runtime to mitigate performance drops\n  in low free space.\n\n  Enhancements:\n   - assign proper data segments according to write_hints given by user\n   - issue cache_flush on dirty devices only among multiple devices\n   - exploit cp_error flag and add more faults to enhance fault\n     injection test\n   - conduct more readaheads during f2fs_readdir\n   - add a range for discard commands\n\n  Bug fixes:\n   - fix zero stat->st_blocks when inline_data is set\n   - drop crypto key and free stale memory pointer while evict_inode is\n     failing\n   - fix some corner cases in free space and segment management\n   - fix wrong last_disk_size\n\n  This series includes lots of clean-ups and code enhancement in terms\n  of xattr operations, discard/flush command control. In addition, it\n  adds versatile debugfs entries to monitor f2fs status\"\n\n* tag 'f2fs-for-4.15-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs: (75 commits)\n  f2fs: deny accessing encryption policy if encryption is off\n  f2fs: inject fault in inc_valid_node_count\n  f2fs: fix to clear FI_NO_PREALLOC\n  f2fs: expose quota information in debugfs\n  f2fs: separate nat entry mem alloc from nat_tree_lock\n  f2fs: validate before set/clear free nat bitmap\n  f2fs: avoid opened loop codes in __add_ino_entry\n  f2fs: apply write hints to select the type of segments for buffered write\n  f2fs: introduce scan_curseg_cache for cleanup\n  f2fs: optimize the way of traversing free_nid_bitmap\n  f2fs: keep scanning until enough free nids are acquired\n  f2fs: trace checkpoint reason in fsync()\n  f2fs: keep isize once block is reserved cross EOF\n  f2fs: avoid race in between GC and block exchange\n  f2fs: save a multiplication for last_nid calculation\n  f2fs: fix summary info corruption\n  f2fs: remove dead code in update_meta_page\n  f2fs: remove unneeded semicolon\n  f2fs: don't bother with inode->i_version\n  f2fs: check curseg space before foreground GC\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Nov 16 12:10:21 2017 -0800",
  "author_date_iso": "2017-11-16T12:10:21-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Nov 16 12:10:21 2017 -0800",
  "committer_date_iso": "2017-11-16T12:10:21-08:00",
  "files_changed": [
    "fs/f2fs/checkpoint.c",
    "fs/f2fs/data.c",
    "fs/f2fs/f2fs.h",
    "fs/f2fs/file.c",
    "fs/f2fs/inode.c",
    "fs/f2fs/node.c",
    "fs/f2fs/super.c",
    "include/trace/events/f2fs.h"
  ],
  "files_changed_count": 8,
  "stats": [
    {
      "file": "Documentation/ABI/testing/sysfs-fs-f2fs",
      "insertions": 36,
      "deletions": 1
    },
    {
      "file": "fs/f2fs/acl.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "fs/f2fs/checkpoint.c",
      "insertions": 49,
      "deletions": 15
    },
    {
      "file": "fs/f2fs/data.c",
      "insertions": 26,
      "deletions": 11
    },
    {
      "file": "fs/f2fs/debug.c",
      "insertions": 23,
      "deletions": 8
    },
    {
      "file": "fs/f2fs/dir.c",
      "insertions": 22,
      "deletions": 10
    },
    {
      "file": "fs/f2fs/f2fs.h",
      "insertions": 175,
      "deletions": 47
    },
    {
      "file": "fs/f2fs/file.c",
      "insertions": 94,
      "deletions": 29
    },
    {
      "file": "fs/f2fs/gc.c",
      "insertions": 18,
      "deletions": 19
    },
    {
      "file": "fs/f2fs/inline.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/f2fs/inode.c",
      "insertions": 25,
      "deletions": 1
    },
    {
      "file": "fs/f2fs/namei.c",
      "insertions": 84,
      "deletions": 17
    },
    {
      "file": "fs/f2fs/node.c",
      "insertions": 225,
      "deletions": 185
    },
    {
      "file": "fs/f2fs/node.h",
      "insertions": 4,
      "deletions": 12
    },
    {
      "file": "fs/f2fs/recovery.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "fs/f2fs/segment.c",
      "insertions": 380,
      "deletions": 129
    },
    {
      "file": "fs/f2fs/segment.h",
      "insertions": 35,
      "deletions": 4
    },
    {
      "file": "fs/f2fs/shrinker.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/f2fs/super.c",
      "insertions": 195,
      "deletions": 24
    },
    {
      "file": "fs/f2fs/sysfs.c",
      "insertions": 37,
      "deletions": 16
    },
    {
      "file": "fs/f2fs/xattr.c",
      "insertions": 92,
      "deletions": 82
    },
    {
      "file": "include/linux/f2fs_fs.h",
      "insertions": 7,
      "deletions": 3
    },
    {
      "file": "include/trace/events/f2fs.h",
      "insertions": 110,
      "deletions": 6
    }
  ],
  "total_insertions": 1648,
  "total_deletions": 622,
  "total_changes": 2270,
  "parents": [
    "487e2c9f44c4b5ea23bfe87bb34679f7297a0bce",
    "ead710b7d82dc9e8184e10871c155a3ed8b3f673"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.15",
    "v4.15-rc1",
    "v4.15-rc2",
    "v4.15-rc3",
    "v4.15-rc4",
    "v4.15-rc5",
    "v4.15-rc6",
    "v4.15-rc7",
    "v4.15-rc8",
    "v4.15-rc9"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "exploit",
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/f2fs/f2fs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/inode.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/data.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/file.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/node.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/super.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/trace/events/f2fs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/checkpoint.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}