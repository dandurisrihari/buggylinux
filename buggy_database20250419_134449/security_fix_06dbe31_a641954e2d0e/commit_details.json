{
  "hash": "06dbe31e8950b1effb2e0ff98d1162416c406e95",
  "hash_short": "06dbe31e",
  "subject": "scsi: lpfc: Add handling for LS_RJT reason explanation authentication required",
  "body": "When a LS_RJT is received with reason explanation authentication required,\ncurrent driver logic is to retry the PLOGI up to 48 times.  In the worse\ncase scenario, 48 retries can take longer than dev_loss_tmo and if there is\nan RSCN received indicating an authentication requirement change, the\ndriver may miss processing it.  Fix by adding logic to specifically handle\nreason explanation authentication required and set the max retry count to 8\ntimes.\n\nSigned-off-by: Justin Tee <justin.tee@broadcom.com>\nLink: https://lore.kernel.org/r/20241212233309.71356-6-justintee8345@gmail.com\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "scsi: lpfc: Add handling for LS_RJT reason explanation authentication required\n\nWhen a LS_RJT is received with reason explanation authentication required,\ncurrent driver logic is to retry the PLOGI up to 48 times.  In the worse\ncase scenario, 48 retries can take longer than dev_loss_tmo and if there is\nan RSCN received indicating an authentication requirement change, the\ndriver may miss processing it.  Fix by adding logic to specifically handle\nreason explanation authentication required and set the max retry count to 8\ntimes.\n\nSigned-off-by: Justin Tee <justin.tee@broadcom.com>\nLink: https://lore.kernel.org/r/20241212233309.71356-6-justintee8345@gmail.com\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "Justin Tee",
  "author_email": "justin.tee@broadcom.com",
  "author_date": "Thu Dec 12 15:33:04 2024 -0800",
  "author_date_iso": "2024-12-12T15:33:04-08:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Thu Jan 2 15:01:22 2025 -0500",
  "committer_date_iso": "2025-01-02T15:01:22-05:00",
  "files_changed": [
    "drivers/scsi/lpfc/lpfc_els.c",
    "drivers/scsi/lpfc/lpfc_hw.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/scsi/lpfc/lpfc_els.c",
      "insertions": 26,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_hw.h",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 27,
  "total_deletions": 0,
  "total_changes": 27,
  "parents": [
    "ee80d8c2d4ccebed1015f6c9ba6a07c85e149785"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/lpfc/lpfc_els.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/lpfc/lpfc_hw.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}