{
  "hash": "3462ac57033e79a87dbae2497773f22b9c536fbc",
  "hash_short": "3462ac57",
  "subject": "Merge tag 'fscrypt_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/fscrypt",
  "body": "Pull fscrypt updates from Ted Ts'o:\n \"Refactor support for encrypted symlinks to move common code to fscrypt\"\n\nTed also points out about the merge:\n \"This makes the f2fs symlink code use the fscrypt_encrypt_symlink()\n  from the fscrypt tree. This will end up dropping the kzalloc() ->\n  f2fs_kzalloc() change, which means the fscrypt-specific allocation\n  won't get tested by f2fs's kmalloc error injection system; which is\n  fine\"\n\n* tag 'fscrypt_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/fscrypt: (26 commits)\n  fscrypt: fix build with pre-4.6 gcc versions\n  fscrypt: remove 'ci' parameter from fscrypt_put_encryption_info()\n  fscrypt: document symlink length restriction\n  fscrypt: fix up fscrypt_fname_encrypted_size() for internal use\n  fscrypt: define fscrypt_fname_alloc_buffer() to be for presented names\n  fscrypt: calculate NUL-padding length in one place only\n  fscrypt: move fscrypt_symlink_data to fscrypt_private.h\n  fscrypt: remove fscrypt_fname_usr_to_disk()\n  ubifs: switch to fscrypt_get_symlink()\n  ubifs: switch to fscrypt ->symlink() helper functions\n  ubifs: free the encrypted symlink target\n  f2fs: switch to fscrypt_get_symlink()\n  f2fs: switch to fscrypt ->symlink() helper functions\n  ext4: switch to fscrypt_get_symlink()\n  ext4: switch to fscrypt ->symlink() helper functions\n  fscrypt: new helper function - fscrypt_get_symlink()\n  fscrypt: new helper functions for ->symlink()\n  fscrypt: trim down fscrypt.h includes\n  fscrypt: move fscrypt_is_dot_dotdot() to fs/crypto/fname.c\n  fscrypt: move fscrypt_valid_enc_modes() to fscrypt_private.h\n  ...",
  "full_message": "Merge tag 'fscrypt_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/fscrypt\n\nPull fscrypt updates from Ted Ts'o:\n \"Refactor support for encrypted symlinks to move common code to fscrypt\"\n\nTed also points out about the merge:\n \"This makes the f2fs symlink code use the fscrypt_encrypt_symlink()\n  from the fscrypt tree. This will end up dropping the kzalloc() ->\n  f2fs_kzalloc() change, which means the fscrypt-specific allocation\n  won't get tested by f2fs's kmalloc error injection system; which is\n  fine\"\n\n* tag 'fscrypt_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/fscrypt: (26 commits)\n  fscrypt: fix build with pre-4.6 gcc versions\n  fscrypt: remove 'ci' parameter from fscrypt_put_encryption_info()\n  fscrypt: document symlink length restriction\n  fscrypt: fix up fscrypt_fname_encrypted_size() for internal use\n  fscrypt: define fscrypt_fname_alloc_buffer() to be for presented names\n  fscrypt: calculate NUL-padding length in one place only\n  fscrypt: move fscrypt_symlink_data to fscrypt_private.h\n  fscrypt: remove fscrypt_fname_usr_to_disk()\n  ubifs: switch to fscrypt_get_symlink()\n  ubifs: switch to fscrypt ->symlink() helper functions\n  ubifs: free the encrypted symlink target\n  f2fs: switch to fscrypt_get_symlink()\n  f2fs: switch to fscrypt ->symlink() helper functions\n  ext4: switch to fscrypt_get_symlink()\n  ext4: switch to fscrypt ->symlink() helper functions\n  fscrypt: new helper function - fscrypt_get_symlink()\n  fscrypt: new helper functions for ->symlink()\n  fscrypt: trim down fscrypt.h includes\n  fscrypt: move fscrypt_is_dot_dotdot() to fs/crypto/fname.c\n  fscrypt: move fscrypt_valid_enc_modes() to fscrypt_private.h\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sun Feb 4 10:43:12 2018 -0800",
  "author_date_iso": "2018-02-04T10:43:12-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sun Feb 4 10:43:12 2018 -0800",
  "committer_date_iso": "2018-02-04T10:43:12-08:00",
  "files_changed": [
    "fs/ext4/namei.c",
    "fs/ext4/super.c",
    "fs/f2fs/inode.c",
    "fs/f2fs/namei.c",
    "fs/ubifs/dir.c",
    "fs/ubifs/file.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/filesystems/fscrypt.rst",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "fs/crypto/crypto.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/crypto/fname.c",
      "insertions": 61,
      "deletions": 79
    },
    {
      "file": "fs/crypto/fscrypt_private.h",
      "insertions": 31,
      "deletions": 0
    },
    {
      "file": "fs/crypto/hooks.c",
      "insertions": 158,
      "deletions": 0
    },
    {
      "file": "fs/crypto/keyinfo.c",
      "insertions": 4,
      "deletions": 13
    },
    {
      "file": "fs/ext4/namei.c",
      "insertions": 15,
      "deletions": 43
    },
    {
      "file": "fs/ext4/super.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "fs/ext4/symlink.c",
      "insertions": 6,
      "deletions": 37
    },
    {
      "file": "fs/f2fs/inode.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/f2fs/namei.c",
      "insertions": 25,
      "deletions": 107
    },
    {
      "file": "fs/ubifs/dir.c",
      "insertions": 15,
      "deletions": 48
    },
    {
      "file": "fs/ubifs/file.c",
      "insertions": 2,
      "deletions": 34
    },
    {
      "file": "fs/ubifs/super.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "include/linux/fscrypt.h",
      "insertions": 67,
      "deletions": 107
    },
    {
      "file": "include/linux/fscrypt_notsupp.h",
      "insertions": 41,
      "deletions": 18
    },
    {
      "file": "include/linux/fscrypt_supp.h",
      "insertions": 63,
      "deletions": 5
    }
  ],
  "total_insertions": 500,
  "total_deletions": 500,
  "total_changes": 1000,
  "parents": [
    "617aebe6a97efa539cc4b8a52adccd89596e6be0",
    "0b1dfa4cc6c60052b2c30ead316fa84c46d3c43c"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.16",
    "v4.16-rc1",
    "v4.16-rc2",
    "v4.16-rc3",
    "v4.16-rc4",
    "v4.16-rc5",
    "v4.16-rc6",
    "v4.16-rc7",
    "v4.17",
    "v4.17-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/f2fs/inode.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ubifs/file.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ext4/namei.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/f2fs/namei.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ubifs/dir.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ext4/super.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}