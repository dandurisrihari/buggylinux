Commit Hash: 4e3393a969a0bdaae83263918b6824b2d08c3996
Subject: KVM: arm64: nVHE: Switch to hyp context for EL2


Security Keywords:
- authentication

Full commit message:
KVM: arm64: nVHE: Switch to hyp context for EL2

Save and restore the host context when switching to and from hyp. This
gives hyp its own context that the host will not see as a step towards a
full trust boundary between the two.

SP_EL0 and pointer authentication keys are currently shared between the
host and hyp so don't need to be switched yet.

Signed-off-by: Andrew Scull <ascull@google.com>
Signed-off-by: Marc Zyngier <maz@kernel.org>
Link: https://lore.kernel.org/r/20200915104643.2543892-13-ascull@google.com

Metadata:
Author: Andrew Scull <ascull@google.com>
Author Date: Tue Sep 15 11:46:36 2020 +0100
Committer: Marc Zyngier <maz@kernel.org>
Commit Date: Tue Sep 15 18:39:03 2020 +0100

Files Changed: 4
Lines Added: 89
Lines Removed: 19
Total Changes: 108
