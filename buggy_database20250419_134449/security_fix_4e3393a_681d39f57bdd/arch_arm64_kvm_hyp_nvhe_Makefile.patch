commit 4e3393a969a0bdaae83263918b6824b2d08c3996
Author: Andrew Scull <ascull@google.com>
Date:   Tue Sep 15 11:46:36 2020 +0100

    KVM: arm64: nVHE: Switch to hyp context for EL2
    
    Save and restore the host context when switching to and from hyp. This
    gives hyp its own context that the host will not see as a step towards a
    full trust boundary between the two.
    
    SP_EL0 and pointer authentication keys are currently shared between the
    host and hyp so don't need to be switched yet.
    
    Signed-off-by: Andrew Scull <ascull@google.com>
    Signed-off-by: Marc Zyngier <maz@kernel.org>
    Link: https://lore.kernel.org/r/20200915104643.2543892-13-ascull@google.com

diff --git a/arch/arm64/kvm/hyp/nvhe/Makefile b/arch/arm64/kvm/hyp/nvhe/Makefile
index ddf98eb07b9d..46c89e8c30bc 100644
--- a/arch/arm64/kvm/hyp/nvhe/Makefile
+++ b/arch/arm64/kvm/hyp/nvhe/Makefile
@@ -6,7 +6,7 @@
 asflags-y := -D__KVM_NVHE_HYPERVISOR__
 ccflags-y := -D__KVM_NVHE_HYPERVISOR__
 
-obj-y := timer-sr.o sysreg-sr.o debug-sr.o switch.o tlb.o hyp-init.o host.o
+obj-y := timer-sr.o sysreg-sr.o debug-sr.o switch.o tlb.o hyp-init.o host.o hyp-main.o
 obj-y += ../vgic-v3-sr.o ../aarch32.o ../vgic-v2-cpuif-proxy.o ../entry.o \
 	 ../fpsimd.o ../hyp-entry.o