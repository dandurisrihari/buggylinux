Commit Hash: f5c68a4e84f9feca3be578199ec648b676db2030
Subject: hardening: Disable GCC randstruct for COMPILE_TEST


Security Keywords:
- hardening

Full commit message:
hardening: Disable GCC randstruct for COMPILE_TEST

There is a GCC crash bug in the randstruct for latest GCC versions that
is being tickled by landlock[1]. Temporarily disable GCC randstruct for
COMPILE_TEST builds to unbreak CI systems for the coming -rc2. This can
be restored once the bug is fixed.

Suggested-by: Mark Brown <broonie@kernel.org>
Link: https://lore.kernel.org/all/20250407-kbuild-disable-gcc-plugins-v1-1-5d46ae583f5e@kernel.org/ [1]
Acked-by: Mark Brown <broonie@kernel.org>
Acked-by: Arnd Bergmann <arnd@arndb.de>
Link: https://lore.kernel.org/r/20250409151154.work.872-kees@kernel.org
Signed-off-by: Kees Cook <kees@kernel.org>

Metadata:
Author: Kees Cook <kees@kernel.org>
Author Date: Wed Apr 9 08:11:58 2025 -0700
Committer: Kees Cook <kees@kernel.org>
Commit Date: Tue Apr 15 13:50:17 2025 -0700

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
