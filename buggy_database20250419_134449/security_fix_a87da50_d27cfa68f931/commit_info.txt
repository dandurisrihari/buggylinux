Commit Hash: a87da50f39d467f2ea4c1f98decb72ef6d87a31e
Subject: nvme-rdma: fix crash due to incorrect cqe


Security Keywords:
- injection

Full commit message:
nvme-rdma: fix crash due to incorrect cqe

A crash happened due to injecting error test.
When a CQE has incorrect command id due do an error injection, the host
may find a request which is already freed.  Dereferencing req->mr->rkey
causes a crash in nvme_rdma_process_nvme_rsp because the mr is already
freed.

Add a check for the mr to fix it.

Signed-off-by: Chao Leng <lengchao@huawei.com>
Reviewed-by: Sagi Grimberg <sagi@grimberg.me>
Signed-off-by: Christoph Hellwig <hch@lst.de>

Metadata:
Author: Chao Leng <lengchao@huawei.com>
Author Date: Mon Oct 12 16:55:37 2020 +0800
Committer: Christoph Hellwig <hch@lst.de>
Commit Date: Thu Oct 22 15:27:14 2020 +0200

Files Changed: 1
Lines Added: 3
Lines Removed: 2
Total Changes: 5
