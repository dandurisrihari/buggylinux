Commit Hash: 78c4e172412de5d0456dc00d2b34050aa0b683b5
Subject: Revert "ecryptfs: forbid opening files without mmap handler"


Security Keywords:
- exploit

Full commit message:
Revert "ecryptfs: forbid opening files without mmap handler"

This reverts commit 2f36db71009304b3f0b95afacd8eba1f9f046b87.

It fixed a local root exploit but also introduced a dependency on
the lower file system implementing an mmap operation just to open a file,
which is a bit of a heavy hammer.  The right fix is to have mmap depend
on the existence of the mmap handler instead.

Signed-off-by: Jeff Mahoney <jeffm@suse.com>
Cc: stable@vger.kernel.org
Signed-off-by: Tyler Hicks <tyhicks@canonical.com>

Metadata:
Author: Jeff Mahoney <jeffm@suse.com>
Author Date: Tue Jul 5 17:32:29 2016 -0400
Committer: Tyler Hicks <tyhicks@canonical.com>
Commit Date: Thu Jul 7 18:47:57 2016 -0500

Files Changed: 1
Lines Added: 2
Lines Removed: 11
Total Changes: 13
