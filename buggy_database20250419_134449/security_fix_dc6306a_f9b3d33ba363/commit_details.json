{
  "hash": "dc6306ad5b0dda040baf1fde3cfd458e6abfc4da",
  "hash_short": "dc6306ad",
  "subject": "x86/srso: Fix vulnerability reporting for missing microcode",
  "body": "The SRSO default safe-ret mitigation is reported as \"mitigated\" even if\nmicrocode hasn't been updated.  That's wrong because userspace may still\nbe vulnerable to SRSO attacks due to IBPB not flushing branch type\npredictions.\n\nReport the safe-ret + !microcode case as vulnerable.\n\nAlso report the microcode-only case as vulnerable as it leaves the\nkernel open to attacks.\n\nFixes: fb3bd914b3ec (\"x86/srso: Add a Speculative RAS Overflow mitigation\")\nSigned-off-by: Josh Poimboeuf <jpoimboe@kernel.org>\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\nSigned-off-by: Borislav Petkov (AMD) <bp@alien8.de>\nAcked-by: Borislav Petkov (AMD) <bp@alien8.de>\nLink: https://lore.kernel.org/r/a8a14f97d1b0e03ec255c81637afdf4cf0ae9c99.1693889988.git.jpoimboe@kernel.org",
  "full_message": "x86/srso: Fix vulnerability reporting for missing microcode\n\nThe SRSO default safe-ret mitigation is reported as \"mitigated\" even if\nmicrocode hasn't been updated.  That's wrong because userspace may still\nbe vulnerable to SRSO attacks due to IBPB not flushing branch type\npredictions.\n\nReport the safe-ret + !microcode case as vulnerable.\n\nAlso report the microcode-only case as vulnerable as it leaves the\nkernel open to attacks.\n\nFixes: fb3bd914b3ec (\"x86/srso: Add a Speculative RAS Overflow mitigation\")\nSigned-off-by: Josh Poimboeuf <jpoimboe@kernel.org>\nSigned-off-by: Ingo Molnar <mingo@kernel.org>\nSigned-off-by: Borislav Petkov (AMD) <bp@alien8.de>\nAcked-by: Borislav Petkov (AMD) <bp@alien8.de>\nLink: https://lore.kernel.org/r/a8a14f97d1b0e03ec255c81637afdf4cf0ae9c99.1693889988.git.jpoimboe@kernel.org",
  "author_name": "Josh Poimboeuf",
  "author_email": "jpoimboe@kernel.org",
  "author_date": "Mon Sep 4 22:04:52 2023 -0700",
  "author_date_iso": "2023-09-04T22:04:52-07:00",
  "committer_name": "Borislav Petkov (AMD)",
  "committer_email": "bp@alien8.de",
  "committer_date": "Fri Oct 20 11:46:09 2023 +0200",
  "committer_date_iso": "2023-10-20T11:46:09+02:00",
  "files_changed": [
    "Documentation/admin-guide/hw-vuln/srso.rst",
    "arch/x86/kernel/cpu/bugs.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "Documentation/admin-guide/hw-vuln/srso.rst",
      "insertions": 17,
      "deletions": 7
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "insertions": 22,
      "deletions": 14
    }
  ],
  "total_insertions": 39,
  "total_deletions": 21,
  "total_changes": 60,
  "parents": [
    "de9f5f7b06a5b7adbfdd8016f011120a4e928add"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/admin-guide/hw-vuln/srso.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}