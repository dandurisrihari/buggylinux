Commit Hash: e9bc360b105c2042db30c36ed1c5ca48dcc7f84b
Subject: fault-inject: use prandom where cryptographically secure randomness is not needed


Security Keywords:
- inject

Full commit message:
fault-inject: use prandom where cryptographically secure randomness is not needed

Currently get_random*() is used to determine the probability of fault
injection, but cryptographically secure random numbers are not required.

There is no big problem in using prandom instead of get_random*() to
determine the probability of fault injection, and it also avoids acquiring
a spinlock, which is unsafe in some contexts.

[akpm@linux-foundation.org: tweak and reflow comment]
Link: https://lore.kernel.org/lkml/20241129120939.GG35539@noisy.programming.kicks-ass.net
Link: https://lkml.kernel.org/r/20241208142415.205960-1-akinobu.mita@gmail.com
Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
Suggested-by: Peter Zijlstra <peterz@infradead.org>
Cc: Peter Zijlstra <peterz@infradead.org>
Cc: Masami Hiramatsu <mhiramat@kernel.org>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

Metadata:
Author: Akinobu Mita <akinobu.mita@gmail.com>
Author Date: Sun Dec 8 23:24:15 2024 +0900
Committer: Andrew Morton <akpm@linux-foundation.org>
Commit Date: Sun Jan 12 20:21:00 2025 -0800

Files Changed: 1
Lines Added: 26
Lines Removed: 2
Total Changes: 28
