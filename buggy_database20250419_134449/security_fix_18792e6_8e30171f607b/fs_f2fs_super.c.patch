commit 18792e64c86dd7e34ba28e4f61faba472b7bf5fc
Author: Chao Yu <chao@kernel.org>
Date:   Thu Oct 6 23:09:28 2022 +0800

    f2fs: support fault injection for f2fs_is_valid_blkaddr()
    
    This patch supports to inject fault into f2fs_is_valid_blkaddr() to
    simulate accessing inconsistent data/meta block addressses from caller.
    
    Usage:
    a) echo 262144 > /sys/fs/f2fs/<dev>/inject_type or
    b) mount -o fault_type=262144 <dev> <mountpoint>
    
    Signed-off-by: Chao Yu <chao@kernel.org>
    Signed-off-by: Jaegeuk Kim <jaegeuk@kernel.org>

diff --git a/fs/f2fs/super.c b/fs/f2fs/super.c
index 3834ead04620..df26fbe2bf58 100644
--- a/fs/f2fs/super.c
+++ b/fs/f2fs/super.c
@@ -61,6 +61,7 @@ const char *f2fs_fault_name[FAULT_MAX] = {
 	[FAULT_SLAB_ALLOC]	= "slab alloc",
 	[FAULT_DQUOT_INIT]	= "dquot initialize",
 	[FAULT_LOCK_OP]		= "lock_op",
+	[FAULT_BLKADDR]		= "invalid blkaddr",
 };
 
 void f2fs_build_fault_attr(struct f2fs_sb_info *sbi, unsigned int rate,