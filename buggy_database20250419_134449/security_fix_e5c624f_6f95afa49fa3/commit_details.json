{
  "hash": "e5c624f027ac74f97e97c8f36c69228ac9f1102d",
  "hash_short": "e5c624f0",
  "subject": "tracing: Have event inject files inc the trace array ref count",
  "body": "The event inject files add events for a specific trace array. For an\ninstance, if the file is opened and the instance is deleted, reading or\nwriting to the file will cause a use after free.\n\nUp the ref count of the trace_array when a event inject file is opened.\n\nLink: https://lkml.kernel.org/r/20230907024804.292337868@goodmis.org\nLink: https://lore.kernel.org/all/1cb3aee2-19af-c472-e265-05176fe9bd84@huawei.com/\n\nCc: stable@vger.kernel.org\nCc: Masami Hiramatsu <mhiramat@kernel.org>\nCc: Mark Rutland <mark.rutland@arm.com>\nCc: Andrew Morton <akpm@linux-foundation.org>\nCc: Zheng Yejian <zhengyejian1@huawei.com>\nFixes: 6c3edaf9fd6a (\"tracing: Introduce trace event injection\")\nTested-by: Linux Kernel Functional Testing <lkft@linaro.org>\nTested-by: Naresh Kamboju <naresh.kamboju@linaro.org>\nSigned-off-by: Steven Rostedt (Google) <rostedt@goodmis.org>",
  "full_message": "tracing: Have event inject files inc the trace array ref count\n\nThe event inject files add events for a specific trace array. For an\ninstance, if the file is opened and the instance is deleted, reading or\nwriting to the file will cause a use after free.\n\nUp the ref count of the trace_array when a event inject file is opened.\n\nLink: https://lkml.kernel.org/r/20230907024804.292337868@goodmis.org\nLink: https://lore.kernel.org/all/1cb3aee2-19af-c472-e265-05176fe9bd84@huawei.com/\n\nCc: stable@vger.kernel.org\nCc: Masami Hiramatsu <mhiramat@kernel.org>\nCc: Mark Rutland <mark.rutland@arm.com>\nCc: Andrew Morton <akpm@linux-foundation.org>\nCc: Zheng Yejian <zhengyejian1@huawei.com>\nFixes: 6c3edaf9fd6a (\"tracing: Introduce trace event injection\")\nTested-by: Linux Kernel Functional Testing <lkft@linaro.org>\nTested-by: Naresh Kamboju <naresh.kamboju@linaro.org>\nSigned-off-by: Steven Rostedt (Google) <rostedt@goodmis.org>",
  "author_name": "Steven Rostedt (Google)",
  "author_email": "rostedt@goodmis.org",
  "author_date": "Wed Sep 6 22:47:16 2023 -0400",
  "author_date_iso": "2023-09-06T22:47:16-04:00",
  "committer_name": "Steven Rostedt (Google)",
  "committer_email": "rostedt@goodmis.org",
  "committer_date": "Thu Sep 7 16:38:54 2023 -0400",
  "committer_date_iso": "2023-09-07T16:38:54-04:00",
  "files_changed": [
    "kernel/trace/trace_events_inject.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "kernel/trace/trace_events_inject.c",
      "insertions": 2,
      "deletions": 1
    }
  ],
  "total_insertions": 2,
  "total_deletions": 1,
  "total_changes": 3,
  "parents": [
    "7e2cfbd2d3c86afcd5c26b5c4b1dd251f63c5838"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "kernel/trace/trace_events_inject.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}