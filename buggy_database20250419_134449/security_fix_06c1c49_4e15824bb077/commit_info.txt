Commit Hash: 06c1c49d0cd1d6cec5b78963109ba728e49e0063
Subject: fortify: Adjust KUnit test for modular build


Security Keywords:
- hardening

Full commit message:
fortify: Adjust KUnit test for modular build

A much better "unknown size" string pointer is available directly from
struct test, so use that instead of a global that isn't shared with
modules.

Reported-by: Nathan Chancellor <nathan@kernel.org>
Link: https://lore.kernel.org/lkml/YyCOHOchVuE/E7vS@dev-arch.thelio-3990X
Fixes: 875bfd5276f3 ("fortify: Add KUnit test for FORTIFY_SOURCE internals")
Cc: linux-hardening@vger.kernel.org
Build-tested-by: Nathan Chancellor <nathan@kernel.org>
Reviewed-by: David Gow <davidgow@google.com>
Signed-off-by: Kees Cook <keescook@chromium.org>

Metadata:
Author: Kees Cook <keescook@chromium.org>
Author Date: Tue Sep 13 10:28:56 2022 -0700
Committer: Kees Cook <keescook@chromium.org>
Commit Date: Wed Sep 14 07:04:15 2022 -0700

Files Changed: 1
Lines Added: 1
Lines Removed: 2
Total Changes: 3
