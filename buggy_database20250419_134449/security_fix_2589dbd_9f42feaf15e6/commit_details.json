{
  "hash": "2589dbd72797a4163dd998b05c4663ff98bd0771",
  "hash_short": "2589dbd7",
  "subject": "KVM: arm64: Consolidate allowed and restricted VM feature checks",
  "body": "The definitions for features allowed and allowed with\nrestrictions for protected guests, which are based on feature\nregisters, were defined and checked for separately, even though\nthey are handled in the same way. This could result in missing\nchecks for certain features, e.g., pointer authentication,\ncausing traps for allowed features.\n\nConsolidate the definitions into one. Use that new definition to\nconstruct the guest view of the feature registers for\nconsistency.\n\nSigned-off-by: Fuad Tabba <tabba@google.com>\nLink: https://lore.kernel.org/r/20241216105057.579031-2-tabba@google.com\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "full_message": "KVM: arm64: Consolidate allowed and restricted VM feature checks\n\nThe definitions for features allowed and allowed with\nrestrictions for protected guests, which are based on feature\nregisters, were defined and checked for separately, even though\nthey are handled in the same way. This could result in missing\nchecks for certain features, e.g., pointer authentication,\ncausing traps for allowed features.\n\nConsolidate the definitions into one. Use that new definition to\nconstruct the guest view of the feature registers for\nconsistency.\n\nSigned-off-by: Fuad Tabba <tabba@google.com>\nLink: https://lore.kernel.org/r/20241216105057.579031-2-tabba@google.com\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "author_name": "Marc Zyngier",
  "author_email": "maz@kernel.org",
  "author_date": "Fri Dec 20 11:33:05 2024 +0000",
  "author_date_iso": "2024-12-20T11:33:05+00:00",
  "committer_name": "Marc Zyngier",
  "committer_email": "maz@kernel.org",
  "committer_date": "Fri Dec 20 13:39:10 2024 +0000",
  "committer_date_iso": "2024-12-20T13:39:10+00:00",
  "files_changed": [
    "arch/arm64/kvm/hyp/include/nvhe/fixed_config.h",
    "arch/arm64/kvm/hyp/nvhe/pkvm.c",
    "arch/arm64/kvm/hyp/nvhe/sys_regs.c"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/fixed_config.h",
      "insertions": 19,
      "deletions": 36
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/pkvm.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/sys_regs.c",
      "insertions": 3,
      "deletions": 3
    }
  ],
  "total_insertions": 26,
  "total_deletions": 43,
  "total_changes": 69,
  "parents": [
    "78d4f34e2115b517bcbfe7ec0d018bbbb6f9b0b8"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/kvm/hyp/include/nvhe/fixed_config.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/pkvm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/hyp/nvhe/sys_regs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}