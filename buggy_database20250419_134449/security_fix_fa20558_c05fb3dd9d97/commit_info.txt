Commit Hash: fa205589d5e9fc2d1b2f8d31f665152da04160bc
Subject: staging: r8188eu: stop beacon processing if kmalloc fails


Security Keywords:
- authentication

Full commit message:
staging: r8188eu: stop beacon processing if kmalloc fails

If we cannot allocate a struct wlan_bssid_ex in the OnBeacon function, we
should stop processing the incoming beacon message and return.

For kmalloc failures, the current code just skips the update of network
and beacon info and tries to continue with the authentication. The update
would set the encryption algorithm that should be used for the
authentication.

Tested-by: Philipp Hortmann <philipp.g.hortmann@gmail.com> # Edimax N150
Signed-off-by: Martin Kaiser <martin@kaiser.cx>
Link: https://lore.kernel.org/r/20221126160129.178697-9-martin@kaiser.cx
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

Metadata:
Author: Martin Kaiser <martin@kaiser.cx>
Author Date: Sat Nov 26 17:01:27 2022 +0100
Committer: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Commit Date: Mon Dec 5 13:28:59 2022 +0100

Files Changed: 1
Lines Added: 7
Lines Removed: 6
Total Changes: 13
