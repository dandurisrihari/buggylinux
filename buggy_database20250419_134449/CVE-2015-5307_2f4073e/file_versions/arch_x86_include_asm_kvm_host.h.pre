commit 938c8745bcf2f732ee928a0b9bd592198a88cfa4
Author: Sean Christopherson <seanjc@google.com>
Date:   Tue May 24 21:56:23 2022 +0800

    KVM: x86: Introduce "struct kvm_caps" to track misc caps/settings
    
    Add kvm_caps to hold a variety of capabilites and defaults that aren't
    handled by kvm_cpu_caps because they aren't CPUID bits in order to reduce
    the amount of boilerplate code required to add a new feature.  The vast
    majority (all?) of the caps interact with vendor code and are written
    only during initialization, i.e. should be tagged __read_mostly, declared
    extern in x86.h, and exported.
    
    No functional change intended.
    
    Signed-off-by: Sean Christopherson <seanjc@google.com>
    Message-Id: <20220524135624.22988-4-chenyi.qiang@intel.com>
    Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

diff --git a/arch/x86/include/asm/kvm_host.h b/arch/x86/include/asm/kvm_host.h
index d6c62276e131..4e00bca08cfa 100644
--- a/arch/x86/include/asm/kvm_host.h
+++ b/arch/x86/include/asm/kvm_host.h
@@ -1664,21 +1664,6 @@ extern bool tdp_enabled;
 
 u64 vcpu_tsc_khz(struct kvm_vcpu *vcpu);
 
-/* control of guest tsc rate supported? */
-extern bool kvm_has_tsc_control;
-/* maximum supported tsc_khz for guests */
-extern u32  kvm_max_guest_tsc_khz;
-/* number of bits of the fractional part of the TSC scaling ratio */
-extern u8   kvm_tsc_scaling_ratio_frac_bits;
-/* maximum allowed value of TSC scaling ratio */
-extern u64  kvm_max_tsc_scaling_ratio;
-/* 1ull << kvm_tsc_scaling_ratio_frac_bits */
-extern u64  kvm_default_tsc_scaling_ratio;
-/* bus lock detection supported? */
-extern bool kvm_has_bus_lock_exit;
-
-extern u64 kvm_mce_cap_supported;
-
 /*
  * EMULTYPE_NO_DECODE - Set when re-emulating an instruction (after completing
  *			userspace I/O) to indicate that the emulation context