diff --cc arch/arm64/kvm/hyp/nvhe/tlb.c
index 2fc68da4036d,c6e0a49eb860..ca3c09df8d7c
--- a/arch/arm64/kvm/hyp/nvhe/tlb.c
+++ b/arch/arm64/kvm/hyp/nvhe/tlb.c
@@@ -152,10 -219,9 +219,10 @@@ void __kvm_tlb_flush_vmid_range(struct 
  	start = round_down(start, stride);
  
  	/* Switch to requested VMID */
- 	__tlb_switch_to_guest(mmu, &cxt, false);
+ 	enter_vmid_context(mmu, &cxt, false);
  
 -	__flush_s2_tlb_range_op(ipas2e1is, start, pages, stride, 0);
 +	__flush_s2_tlb_range_op(ipas2e1is, start, pages, stride,
 +				TLBI_TTL_UNKNOWN);
  
  	dsb(ish);
  	__tlbi(vmalle1is);
diff --cc arch/arm64/kvm/hyp/vhe/tlb.c
index 1a60b95381e8,4a653c4a277d..5fa0359f3a87
--- a/arch/arm64/kvm/hyp/vhe/tlb.c
+++ b/arch/arm64/kvm/hyp/vhe/tlb.c
@@@ -169,10 -169,9 +169,10 @@@ void __kvm_tlb_flush_vmid_range(struct 
  	dsb(ishst);
  
  	/* Switch to requested VMID */
- 	__tlb_switch_to_guest(mmu, &cxt);
+ 	enter_vmid_context(mmu, &cxt);
  
 -	__flush_s2_tlb_range_op(ipas2e1is, start, pages, stride, 0);
 +	__flush_s2_tlb_range_op(ipas2e1is, start, pages, stride,
 +				TLBI_TTL_UNKNOWN);
  
  	dsb(ish);
  	__tlbi(vmalle1is);