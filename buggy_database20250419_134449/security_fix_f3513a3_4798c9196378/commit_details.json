{
  "hash": "f3513a335e71296a1851167b4e3b0e2bf09fc5f1",
  "hash_short": "f3513a33",
  "subject": "KVM: selftests: Assert that STI blocking isn't set after event injection",
  "body": "Add an L1 (guest) assert to the nested exceptions test to verify that KVM\ndoesn't put VMRUN in an STI shadow (AMD CPUs bleed the shadow into the\nguest's int_state if a #VMEXIT occurs before VMRUN fully completes).\n\nAdd a similar assert to the VMX side as well, because why not.\n\nReviewed-by: Jim Mattson <jmattson@google.com>\nLink: https://lore.kernel.org/r/20250224165442.2338294-3-seanjc@google.com\nSigned-off-by: Sean Christopherson <seanjc@google.com>",
  "full_message": "KVM: selftests: Assert that STI blocking isn't set after event injection\n\nAdd an L1 (guest) assert to the nested exceptions test to verify that KVM\ndoesn't put VMRUN in an STI shadow (AMD CPUs bleed the shadow into the\nguest's int_state if a #VMEXIT occurs before VMRUN fully completes).\n\nAdd a similar assert to the VMX side as well, because why not.\n\nReviewed-by: Jim Mattson <jmattson@google.com>\nLink: https://lore.kernel.org/r/20250224165442.2338294-3-seanjc@google.com\nSigned-off-by: Sean Christopherson <seanjc@google.com>",
  "author_name": "Sean Christopherson",
  "author_email": "seanjc@google.com",
  "author_date": "Mon Feb 24 08:54:42 2025 -0800",
  "author_date_iso": "2025-02-24T08:54:42-08:00",
  "committer_name": "Sean Christopherson",
  "committer_email": "seanjc@google.com",
  "committer_date": "Fri Feb 28 09:15:23 2025 -0800",
  "committer_date_iso": "2025-02-28T09:15:23-08:00",
  "files_changed": [
    "tools/testing/selftests/kvm/x86/nested_exceptions_test.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "tools/testing/selftests/kvm/x86/nested_exceptions_test.c",
      "insertions": 2,
      "deletions": 0
    }
  ],
  "total_insertions": 2,
  "total_deletions": 0,
  "total_changes": 2,
  "parents": [
    "be45bc4eff33d9a7dae84a2150f242a91a617402"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "tools/testing/selftests/kvm/x86/nested_exceptions_test.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}