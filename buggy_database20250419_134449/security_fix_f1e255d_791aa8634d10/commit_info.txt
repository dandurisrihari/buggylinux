Commit Hash: f1e255d60ae66a9f672ff9a207ee6cd8e33d2679
Subject: USB: yurex: fix out-of-bounds uaccess in read handler


Security Keywords:
- privilege escalation

Full commit message:
USB: yurex: fix out-of-bounds uaccess in read handler

In general, accessing userspace memory beyond the length of the supplied
buffer in VFS read/write handlers can lead to both kernel memory corruption
(via kernel_read()/kernel_write(), which can e.g. be triggered via
sys_splice()) and privilege escalation inside userspace.

Fix it by using simple_read_from_buffer() instead of custom logic.

Fixes: 6bc235a2e24a ("USB: add driver for Meywa-Denki & Kayac YUREX")
Signed-off-by: Jann Horn <jannh@google.com>
Cc: stable <stable@vger.kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

Metadata:
Author: Jann Horn <jannh@google.com>
Author Date: Fri Jul 6 17:12:56 2018 +0200
Committer: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Commit Date: Fri Jul 6 17:21:34 2018 +0200

Files Changed: 1
Lines Added: 6
Lines Removed: 17
Total Changes: 23
