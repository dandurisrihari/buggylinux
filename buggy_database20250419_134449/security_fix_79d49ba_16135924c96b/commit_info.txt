Commit Hash: 79d49ba048ecace59a9850e8a04b618d7848b8e7
Subject: bpf, testing: Add various tail call test cases


Security Keywords:
- hardening

Full commit message:
bpf, testing: Add various tail call test cases

Add several BPF kselftest cases for tail calls which test the various
patch directions, and that multiple locations are patched in same and
different programs.

  # ./test_progs -n 45
   #45/1 tailcall_1:OK
   #45/2 tailcall_2:OK
   #45/3 tailcall_3:OK
   #45/4 tailcall_4:OK
   #45/5 tailcall_5:OK
   #45 tailcalls:OK
  Summary: 1/5 PASSED, 0 SKIPPED, 0 FAILED

I've also verified the JITed dump after each of the rewrite cases that
it matches expectations.

Also regular test_verifier suite passes fine which contains further tail
call tests:

  # ./test_verifier
  [...]
  Summary: 1563 PASSED, 0 SKIPPED, 0 FAILED

Checked under JIT, interpreter and JIT + hardening.

Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Signed-off-by: Alexei Starovoitov <ast@kernel.org>
Acked-by: Andrii Nakryiko <andriin@fb.com>
Link: https://lore.kernel.org/bpf/3d6cbecbeb171117dccfe153306e479798fb608d.1574452833.git.daniel@iogearbox.net

Metadata:
Author: Daniel Borkmann <daniel@iogearbox.net>
Author Date: Fri Nov 22 21:08:01 2019 +0100
Committer: Alexei Starovoitov <ast@kernel.org>
Commit Date: Sun Nov 24 17:04:12 2019 -0800

Files Changed: 6
Lines Added: 698
Lines Removed: 0
Total Changes: 698
