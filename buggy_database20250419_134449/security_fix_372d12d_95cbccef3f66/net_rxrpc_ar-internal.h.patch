commit 372d12d191cb80720319e224d401fd82c602e9e4
Author: David Howells <dhowells@redhat.com>
Date:   Wed Dec 4 07:47:03 2024 +0000

    rxrpc: Add a reason indicator to the tx_data tracepoint
    
    Add an indicator to the rxrpc_tx_data tracepoint to indicate what triggered
    the transmission of a particular packet.  At this point, it's only normal
    transmission and retransmission, plus the tracepoint is also used to record
    loss injection, but in a future patch, TLP-induced (re-)transmission will
    also be a thing.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    cc: Marc Dionne <marc.dionne@auristor.com>
    cc: linux-afs@lists.infradead.org
    Signed-off-by: Jakub Kicinski <kuba@kernel.org>

diff --git a/net/rxrpc/ar-internal.h b/net/rxrpc/ar-internal.h
index aa240b4b4bec..139575032ae2 100644
--- a/net/rxrpc/ar-internal.h
+++ b/net/rxrpc/ar-internal.h
@@ -883,6 +883,7 @@ struct rxrpc_send_data_req {
 	rxrpc_seq_t		seq;		/* Sequence of first data */
 	int			n;		/* Number of DATA packets to glue into jumbo */
 	bool			did_send;	/* T if did actually send */
+	int /* enum rxrpc_txdata_trace */ trace;
 };
 
 #include <trace/events/rxrpc.h>