commit f6047040217babeb9655b855c83d61cb1c375ac9
Author: Harald Freudenberger <freude@linux.ibm.com>
Date:   Tue Sep 20 15:12:01 2022 +0200

    s390/ap: exploit new B bit from QCI config info
    
    This patch introduces an update to the ap_config_info
    struct which is filled with the QCI subfunction. There
    is a new bit apsb (short 'B') showing if the AP secure
    bind facility is available. The patch also includes a
    simple function ap_sb_available() wrapping this bit test.
    
    Signed-off-by: Harald Freudenberger <freude@linux.ibm.com>
    Reviewed-by: Tony Krowiak <akrowiak@linux.ibm.com>
    Reviewed-by: Holger Dengler <dengler@linux.ibm.com>
    Signed-off-by: Heiko Carstens <hca@linux.ibm.com>

diff --git a/drivers/s390/crypto/ap_bus.h b/drivers/s390/crypto/ap_bus.h
index b5d7ccbc0784..5ce020879a38 100644
--- a/drivers/s390/crypto/ap_bus.h
+++ b/drivers/s390/crypto/ap_bus.h
@@ -296,6 +296,7 @@ void ap_cancel_message(struct ap_queue *aq, struct ap_message *ap_msg);
 void ap_flush_queue(struct ap_queue *aq);
 
 void *ap_airq_ptr(void);
+int ap_sb_available(void);
 void ap_wait(enum ap_sm_wait wait);
 void ap_request_timeout(struct timer_list *t);
 void ap_bus_force_rescan(void);