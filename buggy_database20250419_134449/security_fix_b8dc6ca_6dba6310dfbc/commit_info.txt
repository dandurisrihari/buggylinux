Commit Hash: b8dc6ca028d9a39196a3a066b9ef2d4a5eca475d
Subject: drm/amd/display: Force enable 3DLUT DMA check for dcn401 in DML


Security Keywords:
- vulnerability

Full commit message:
drm/amd/display: Force enable 3DLUT DMA check for dcn401 in DML

[WHY]
Currently TR0 (trip 0) is not properly budgeting for urgent latency in
DML2.1. This results in overly aggressive prefetch schedules that are
vulnerable to request return jitter, resulting in severe underflow at
the start of the frame.

[HOW]
Forcing 3DLUT DMA check to enable causes urgent latency to be budgeted
properly into the prefetch schedule, avoiding the vulnerability.

Reviewed-by: Alvin Lee <alvin.lee2@amd.com>
Signed-off-by: Dillon Varone <dillon.varone@amd.com>
Signed-off-by: Wayne Lin <wayne.lin@amd.com>
Tested-by: Daniel Wheeler <daniel.wheeler@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>

Metadata:
Author: Dillon Varone <dillon.varone@amd.com>
Author Date: Tue Jul 23 15:54:23 2024 -0400
Committer: Alex Deucher <alexander.deucher@amd.com>
Commit Date: Tue Aug 6 11:11:02 2024 -0400

Files Changed: 3
Lines Added: 6
Lines Removed: 2
Total Changes: 8
