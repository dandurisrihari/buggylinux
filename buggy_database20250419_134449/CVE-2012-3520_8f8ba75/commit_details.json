{
  "hash": "8f8ba75ee2065738644382667f833a4eb6f6db1d",
  "hash_short": "8f8ba75e",
  "subject": "Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net",
  "body": "Pull networking update from David Miller:\n \"A couple weeks of bug fixing in there.  The largest chunk is all the\n  broken crap Amerigo Wang found in the netpoll layer.\"\n\n 1) netpoll and it's users has several serious bugs:\n    a) uses GFP_KERNEL with locks held\n    b) interfaces requiring interrupts disabled are called with them\n       enabled\n    c) and vice versa\n    d) VLAN tag demuxing, as per all other RX packet input paths, is not\n       applied\n\n    All from Amerigo Wang.\n\n 2) Hopefully cure the ipv4 mapped ipv6 address TCP early demux bugs for\n    good, from Neal Cardwell.\n\n 3) Unlike AF_UNIX, AF_PACKET sockets don't set a default credentials\n    when the user doesn't specify one explicitly during sendmsg().\n    Instead we attach an empty (zero) SCM credential block which is\n    definitely not what we want.  Fix from Eric Dumazet.\n\n 4) IPv6 illegally invokes netdevice notifiers with RCU lock held, fix\n    from Ben Hutchings.\n\n 5) inet_csk_route_child_sock() checks wrong inet options pointer, fix\n    from Christoph Paasch.\n\n 6) When AF_PACKET is used for transmit, packet loopback doesn't behave\n    properly when a socket fanout is enabled, from Eric Leblond.\n\n 7) On bluetooth l2cap channel create failure, we leak the socket, from\n    Jaganath Kanakkassery.\n\n 8) Fix all the netprio file handling bugs found by Al Viro, from John\n    Fastabend.\n\n 9) Several error return and NULL deref bug fixes in networking drivers\n    from Julia Lawall.\n\n10) A large smattering of struct padding et al.  kernel memory leaks to\n    userspace found of Mathias Krause.\n\n11) Conntrack expections in netfilter can access an uninitialized timer,\n    fix from Pablo Neira Ayuso.\n\n12) Several netfilter SIP tracker bug fixes from Patrick McHardy.\n\n13) IPSEC ipv6 routes are not initialized correctly all the time,\n    resulting in an OOPS in inet_putpeer().  Also from Patrick McHardy.\n\n14) Bridging does rcu_dereference() outside of RCU protected area, from\n    Stephen Hemminger.\n\n15) Fix routing cache removal performance regression when looking up\n    output routes that have a local destination.  From Zheng Yan.\n\n* git://git.kernel.org/pub/scm/linux/kernel/git/davem/net: (87 commits)\n  af_netlink: force credentials passing [CVE-2012-3520]\n  ipv4: fix ip header ident selection in __ip_make_skb()\n  ipv4: Use newinet->inet_opt in inet_csk_route_child_sock()\n  tcp: fix possible socket refcount problem\n  net: tcp: move sk_rx_dst_set call after tcp_create_openreq_child()\n  net/core/dev.c: fix kernel-doc warning\n  netconsole: remove a redundant netconsole_target_put()\n  net: ipv6: fix oops in inet_putpeer()\n  net/stmmac: fix issue of clk_get for Loongson1B.\n  caif: Do not dereference NULL in chnl_recv_cb()\n  af_packet: don't emit packet on orig fanout group\n  drivers/net/irda: fix error return code\n  drivers/net/wan/dscc4.c: fix error return code\n  drivers/net/wimax/i2400m/fw.c: fix error return code\n  smsc75xx: add missing entry to MAINTAINERS\n  net: qmi_wwan: new devices: UML290 and K5006-Z\n  net: sh_eth: Add eth support for R8A7779 device\n  netdev/phy: skip disabled mdio-mux nodes\n  dt: introduce for_each_available_child_of_node, of_get_next_available_child\n  net: netprio: fix cgrp create and write priomap race\n  ...",
  "full_message": "Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net\n\nPull networking update from David Miller:\n \"A couple weeks of bug fixing in there.  The largest chunk is all the\n  broken crap Amerigo Wang found in the netpoll layer.\"\n\n 1) netpoll and it's users has several serious bugs:\n    a) uses GFP_KERNEL with locks held\n    b) interfaces requiring interrupts disabled are called with them\n       enabled\n    c) and vice versa\n    d) VLAN tag demuxing, as per all other RX packet input paths, is not\n       applied\n\n    All from Amerigo Wang.\n\n 2) Hopefully cure the ipv4 mapped ipv6 address TCP early demux bugs for\n    good, from Neal Cardwell.\n\n 3) Unlike AF_UNIX, AF_PACKET sockets don't set a default credentials\n    when the user doesn't specify one explicitly during sendmsg().\n    Instead we attach an empty (zero) SCM credential block which is\n    definitely not what we want.  Fix from Eric Dumazet.\n\n 4) IPv6 illegally invokes netdevice notifiers with RCU lock held, fix\n    from Ben Hutchings.\n\n 5) inet_csk_route_child_sock() checks wrong inet options pointer, fix\n    from Christoph Paasch.\n\n 6) When AF_PACKET is used for transmit, packet loopback doesn't behave\n    properly when a socket fanout is enabled, from Eric Leblond.\n\n 7) On bluetooth l2cap channel create failure, we leak the socket, from\n    Jaganath Kanakkassery.\n\n 8) Fix all the netprio file handling bugs found by Al Viro, from John\n    Fastabend.\n\n 9) Several error return and NULL deref bug fixes in networking drivers\n    from Julia Lawall.\n\n10) A large smattering of struct padding et al.  kernel memory leaks to\n    userspace found of Mathias Krause.\n\n11) Conntrack expections in netfilter can access an uninitialized timer,\n    fix from Pablo Neira Ayuso.\n\n12) Several netfilter SIP tracker bug fixes from Patrick McHardy.\n\n13) IPSEC ipv6 routes are not initialized correctly all the time,\n    resulting in an OOPS in inet_putpeer().  Also from Patrick McHardy.\n\n14) Bridging does rcu_dereference() outside of RCU protected area, from\n    Stephen Hemminger.\n\n15) Fix routing cache removal performance regression when looking up\n    output routes that have a local destination.  From Zheng Yan.\n\n* git://git.kernel.org/pub/scm/linux/kernel/git/davem/net: (87 commits)\n  af_netlink: force credentials passing [CVE-2012-3520]\n  ipv4: fix ip header ident selection in __ip_make_skb()\n  ipv4: Use newinet->inet_opt in inet_csk_route_child_sock()\n  tcp: fix possible socket refcount problem\n  net: tcp: move sk_rx_dst_set call after tcp_create_openreq_child()\n  net/core/dev.c: fix kernel-doc warning\n  netconsole: remove a redundant netconsole_target_put()\n  net: ipv6: fix oops in inet_putpeer()\n  net/stmmac: fix issue of clk_get for Loongson1B.\n  caif: Do not dereference NULL in chnl_recv_cb()\n  af_packet: don't emit packet on orig fanout group\n  drivers/net/irda: fix error return code\n  drivers/net/wan/dscc4.c: fix error return code\n  drivers/net/wimax/i2400m/fw.c: fix error return code\n  smsc75xx: add missing entry to MAINTAINERS\n  net: qmi_wwan: new devices: UML290 and K5006-Z\n  net: sh_eth: Add eth support for R8A7779 device\n  netdev/phy: skip disabled mdio-mux nodes\n  dt: introduce for_each_available_child_of_node, of_get_next_available_child\n  net: netprio: fix cgrp create and write priomap race\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue Aug 21 16:46:08 2012 -0700",
  "author_date_iso": "2012-08-21T16:46:08-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Aug 21 16:46:08 2012 -0700",
  "committer_date_iso": "2012-08-21T16:46:08-07:00",
  "files_changed": [
    "MAINTAINERS"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "Documentation/networking/netconsole.txt",
      "insertions": 17,
      "deletions": 2
    },
    {
      "file": "MAINTAINERS",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/bluetooth/ath3k.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/bluetooth/btusb.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/bonding/bond_main.c",
      "insertions": 5,
      "deletions": 7
    },
    {
      "file": "drivers/net/ethernet/freescale/fs_enet/mii-bitbang.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/freescale/fs_enet/mii-fec.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx4/mcg.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/renesas/Kconfig",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/renesas/sh_eth.c",
      "insertions": 8,
      "deletions": 3
    },
    {
      "file": "drivers/net/ethernet/stmicro/stmmac/stmmac_main.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/ti/davinci_cpdma.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/net/irda/ks959-sir.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/irda/ksdazzle-sir.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/netconsole.c",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "drivers/net/phy/mdio-mux.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/team/team.c",
      "insertions": 9,
      "deletions": 7
    },
    {
      "file": "drivers/net/usb/qmi_wwan.c",
      "insertions": 44,
      "deletions": 207
    },
    {
      "file": "drivers/net/usb/sierra_net.c",
      "insertions": 12,
      "deletions": 40
    },
    {
      "file": "drivers/net/vmxnet3/vmxnet3_drv.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wan/dscc4.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/net/wimax/i2400m/fw.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/at76c50x-usb.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/ath/ath5k/base.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/net/wireless/ath/ath5k/mac80211-ops.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/net/wireless/ath/ath9k/mac.c",
      "insertions": 12,
      "deletions": 6
    },
    {
      "file": "drivers/net/wireless/ath/ath9k/mac.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/ath/ath9k/main.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/ath/ath9k/pci.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/ath/ath9k/recv.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/rndis_wlan.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/of/base.c",
      "insertions": 27,
      "deletions": 0
    },
    {
      "file": "include/linux/if_team.h",
      "insertions": 15,
      "deletions": 15
    },
    {
      "file": "include/linux/netdevice.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "include/linux/netfilter/nf_conntrack_sip.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/netpoll.h",
      "insertions": 24,
      "deletions": 18
    },
    {
      "file": "include/linux/of.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "include/net/llc.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/net/scm.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/net/xfrm.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/8021q/vlan_dev.c",
      "insertions": 31,
      "deletions": 21
    },
    {
      "file": "net/atm/common.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/atm/pvc.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/bluetooth/hci_event.c",
      "insertions": 22,
      "deletions": 6
    },
    {
      "file": "net/bluetooth/hci_sock.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/bluetooth/l2cap_core.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/bluetooth/l2cap_sock.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "net/bluetooth/rfcomm/sock.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/bluetooth/rfcomm/tty.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/bluetooth/sco.c",
      "insertions": 9,
      "deletions": 10
    },
    {
      "file": "net/bluetooth/smp.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "net/bridge/br_device.c",
      "insertions": 13,
      "deletions": 17
    },
    {
      "file": "net/bridge/br_forward.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/bridge/br_if.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "net/bridge/br_private.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/caif/chnl_net.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "net/core/dev.c",
      "insertions": 15,
      "deletions": 2
    },
    {
      "file": "net/core/netpoll.c",
      "insertions": 78,
      "deletions": 31
    },
    {
      "file": "net/core/netprio_cgroup.c",
      "insertions": 7,
      "deletions": 23
    },
    {
      "file": "net/core/scm.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "net/dccp/ccid.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/dccp/ccids/ccid3.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/ipv4/inet_connection_sock.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "net/ipv4/ip_output.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/ipv4/netfilter/nf_nat_sip.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "net/ipv4/route.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "net/ipv4/tcp_ipv4.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "net/ipv4/tcp_minisocks.c",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "net/ipv4/tcp_output.c",
      "insertions": 9,
      "deletions": 5
    },
    {
      "file": "net/ipv4/tcp_timer.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "net/ipv6/addrconf.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "net/ipv6/proc.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/ipv6/tcp_ipv6.c",
      "insertions": 13,
      "deletions": 12
    },
    {
      "file": "net/ipv6/xfrm6_policy.c",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "net/l2tp/l2tp_ip6.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/llc/af_llc.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "net/llc/llc_input.c",
      "insertions": 17,
      "deletions": 4
    },
    {
      "file": "net/llc/llc_station.c",
      "insertions": 4,
      "deletions": 19
    },
    {
      "file": "net/netfilter/ipvs/ip_vs_ctl.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/netfilter/nf_conntrack_expect.c",
      "insertions": 6,
      "deletions": 23
    },
    {
      "file": "net/netfilter/nf_conntrack_netlink.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "net/netfilter/nf_conntrack_sip.c",
      "insertions": 72,
      "deletions": 20
    },
    {
      "file": "net/netlink/af_netlink.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/packet/af_packet.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "net/sched/act_mirred.c",
      "insertions": 5,
      "deletions": 6
    },
    {
      "file": "net/socket.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/unix/af_unix.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/xfrm/xfrm_policy.c",
      "insertions": 2,
      "deletions": 0
    }
  ],
  "total_insertions": 637,
  "total_deletions": 575,
  "total_changes": 1212,
  "parents": [
    "1456c75a80dfd3fd02b9ea44d1223bb51a5683d5",
    "e0e3cea46d31d23dc40df0a49a7a2c04fe8edfea"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [
      "CVE-2012-3520"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}