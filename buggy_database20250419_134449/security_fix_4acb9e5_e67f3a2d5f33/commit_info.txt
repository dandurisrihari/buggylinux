Commit Hash: 4acb9e5139f20c79eb08a95dc5a28186ae7a5088
Subject: fault-injection: skip stacktrace filtering by default


Security Keywords:
- injection

Full commit message:
fault-injection: skip stacktrace filtering by default

If FAULT_INJECTION_STACKTRACE_FILTER is enabled, the depth is default to
32.  This means fail_stacktrace() will iter each entry's stacktrace, even
if filter is not configured.

This patch changes to quick return from fail_stacktrace() if stacktrace
filter is not set.

Link: https://lkml.kernel.org/r/20220817080332.1052710-3-weiyongjun1@huawei.com
Signed-off-by: Wei Yongjun <weiyongjun1@huawei.com>
Cc: Akinobu Mita <akinobu.mita@gmail.com>
Cc: Dan Williams <dan.j.williams@intel.com>
Cc: Isabella Basso <isabbasso@riseup.net>
Cc: Josh Poimboeuf <jpoimboe@kernel.org>
Cc: Kees Cook <keescook@chromium.org>
Cc: Miguel Ojeda <ojeda@kernel.org>
Cc: Nathan Chancellor <nathan@kernel.org>
Cc: Nick Desaulniers <ndesaulniers@google.com>
Cc: Peter Zijlstra <peterz@infradead.org>
Cc: Rasmus Villemoes <linux@rasmusvillemoes.dk>
Cc: Vlastimil Babka <vbabka@suse.cz>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

Metadata:
Author: Wei Yongjun <weiyongjun1@huawei.com>
Author Date: Wed Aug 17 08:03:30 2022 +0000
Committer: Andrew Morton <akpm@linux-foundation.org>
Commit Date: Thu Dec 15 16:40:43 2022 -0800

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
