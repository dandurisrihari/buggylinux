Commit Hash: 37be3f9d6993a721bc019f03c97ea0fe66319997
Subject: scsi: qla2xxx: edif: Reduce N2N thrashing at app_start time


Security Keywords:
- authentication

Full commit message:
scsi: qla2xxx: edif: Reduce N2N thrashing at app_start time

For N2N + remote WWPN is bigger than local adapter, remote adapter will
login to local adapter while authentication application is not running.
When authentication application starts, the current session in FW needs to
to be invalidated.

Make sure the old session is torn down before triggering a relogin.

Link: https://lore.kernel.org/r/20220608115849.16693-9-njavali@marvell.com
Fixes: 4de067e5df12 ("scsi: qla2xxx: edif: Add N2N support for EDIF")
Reviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>
Signed-off-by: Quinn Tran <qutran@marvell.com>
Signed-off-by: Nilesh Javali <njavali@marvell.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

Metadata:
Author: Quinn Tran <qutran@marvell.com>
Author Date: Wed Jun 8 04:58:47 2022 -0700
Committer: Martin K. Petersen <martin.petersen@oracle.com>
Commit Date: Fri Jun 10 13:04:04 2022 -0400

Files Changed: 1
Lines Added: 34
Lines Removed: 13
Total Changes: 47
