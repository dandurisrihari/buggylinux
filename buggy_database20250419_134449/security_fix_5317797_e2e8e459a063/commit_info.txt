Commit Hash: 5317797e9cd07ff48132a36d545c25c1687ee676
Subject: video: hdmi: prefer length specifier in format over string copying


Security Keywords:
- hardening

Full commit message:
video: hdmi: prefer length specifier in format over string copying

strncpy() is deprecated for use on NUL-terminated destination strings
[1] and as such we should prefer more robust and less ambiguous string
interfaces.

It looks like the main use of strncpy() here is to limit the amount of
bytes printed from hdmi_log() by using a tmp buffer and limiting the
number of bytes copied. Really, we should use the %.<len>s format
qualifier to achieve this.

Link: https://www.kernel.org/doc/html/latest/process/deprecated.html#strncpy-on-nul-terminated-strings [1]
Link: https://manpages.debian.org/testing/linux-manual-4.8/strscpy.9.en.html
Link: https://github.com/KSPP/linux/issues/90
Cc: linux-hardening@vger.kernel.org
Signed-off-by: Justin Stitt <justinstitt@google.com>
Reviewed-by: Kees Cook <keescook@chromium.org>
Signed-off-by: Helge Deller <deller@gmx.de>

Metadata:
Author: Justin Stitt <justinstitt@google.com>
Author Date: Wed Mar 20 23:22:02 2024 +0000
Committer: Helge Deller <deller@gmx.de>
Commit Date: Thu Apr 25 11:58:59 2024 +0200

Files Changed: 1
Lines Added: 2
Lines Removed: 8
Total Changes: 10
