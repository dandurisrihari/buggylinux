{
  "hash": "9dc1969c24eff8b7d7a9a565d1047b624921ba06",
  "hash_short": "9dc1969c",
  "subject": "x86/KASLR: Consolidate mem_avoid[] entries",
  "body": "The mem_avoid[] array is used to track positions that should be avoided (like\nthe compressed kernel, decompression code, etc) when selecting a memory\nposition for the randomly relocated kernel. Since ZO is now at the end of\nthe decompression buffer and the decompression code (and its heap and\nstack) are at the front, we can safely consolidate the decompression entry,\nthe heap entry, and the stack entry. The boot_params memory, however, could\nbe elsewhere, so it should be explicitly included.\n\nSigned-off-by: Yinghai Lu <yinghai@kernel.org>\nSigned-off-by: Baoquan He <bhe@redhat.com>\n[ Rwrote changelog, cleaned up code comments. ]\nSigned-off-by: Kees Cook <keescook@chromium.org>\nCc: Andrew Morton <akpm@linux-foundation.org>\nCc: Andy Lutomirski <luto@amacapital.net>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Brian Gerst <brgerst@gmail.com>\nCc: Dave Young <dyoung@redhat.com>\nCc: Denys Vlasenko <dvlasenk@redhat.com>\nCc: H. Peter Anvin <hpa@zytor.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: Vivek Goyal <vgoyal@redhat.com>\nCc: kernel-hardening@lists.openwall.com\nCc: lasse.collin@tukaani.org\nLink: http://lkml.kernel.org/r/1462486436-3707-3-git-send-email-keescook@chromium.org\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "full_message": "x86/KASLR: Consolidate mem_avoid[] entries\n\nThe mem_avoid[] array is used to track positions that should be avoided (like\nthe compressed kernel, decompression code, etc) when selecting a memory\nposition for the randomly relocated kernel. Since ZO is now at the end of\nthe decompression buffer and the decompression code (and its heap and\nstack) are at the front, we can safely consolidate the decompression entry,\nthe heap entry, and the stack entry. The boot_params memory, however, could\nbe elsewhere, so it should be explicitly included.\n\nSigned-off-by: Yinghai Lu <yinghai@kernel.org>\nSigned-off-by: Baoquan He <bhe@redhat.com>\n[ Rwrote changelog, cleaned up code comments. ]\nSigned-off-by: Kees Cook <keescook@chromium.org>\nCc: Andrew Morton <akpm@linux-foundation.org>\nCc: Andy Lutomirski <luto@amacapital.net>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Brian Gerst <brgerst@gmail.com>\nCc: Dave Young <dyoung@redhat.com>\nCc: Denys Vlasenko <dvlasenk@redhat.com>\nCc: H. Peter Anvin <hpa@zytor.com>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: Vivek Goyal <vgoyal@redhat.com>\nCc: kernel-hardening@lists.openwall.com\nCc: lasse.collin@tukaani.org\nLink: http://lkml.kernel.org/r/1462486436-3707-3-git-send-email-keescook@chromium.org\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "author_name": "Yinghai Lu",
  "author_email": "yinghai@kernel.org",
  "author_date": "Thu May 5 15:13:47 2016 -0700",
  "author_date_iso": "2016-05-05T15:13:47-07:00",
  "committer_name": "Ingo Molnar",
  "committer_email": "mingo@kernel.org",
  "committer_date": "Fri May 6 09:00:59 2016 +0200",
  "committer_date_iso": "2016-05-06T09:00:59+02:00",
  "files_changed": [
    "arch/x86/boot/compressed/kaslr.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/boot/compressed/kaslr.c",
      "insertions": 61,
      "deletions": 16
    }
  ],
  "total_insertions": 61,
  "total_deletions": 16,
  "total_changes": 77,
  "parents": [
    "2bc1cd39fa9f659956b25e500422e700a6cd4ec3"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/boot/compressed/kaslr.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}