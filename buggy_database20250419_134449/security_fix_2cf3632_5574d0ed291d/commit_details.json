{
  "hash": "2cf36327ee1e47733aba96092d7bd082a4056ff5",
  "hash_short": "2cf36327",
  "subject": "afs: Fix missing wire-up of afs_retry_request()",
  "body": "afs_retry_request() is supposed to be pointed to by the afs_req_ops netfs\noperations table, but the pointer got lost somewhere.  The function is used\nduring writeback to rotate through the authentication keys that were in\nforce when the file was modified locally.\n\nFix this by adding the pointer to the function.\n\nFixes: 1ecb146f7cd8 (\"netfs, afs: Use writeback retry to deal with alternate keys\")\nReported-by: Dr. David Alan Gilbert <linux@treblig.org>\nSigned-off-by: David Howells <dhowells@redhat.com>\nLink: https://lore.kernel.org/r/1690847.1726346402@warthog.procyon.org.uk\ncc: Marc Dionne <marc.dionne@auristor.com>\ncc: Jeff Layton <jlayton@kernel.org>\ncc: linux-afs@lists.infradead.org\ncc: netfs@lists.linux.dev\ncc: linux-fsdevel@vger.kernel.org\nSigned-off-by: Christian Brauner <brauner@kernel.org>",
  "full_message": "afs: Fix missing wire-up of afs_retry_request()\n\nafs_retry_request() is supposed to be pointed to by the afs_req_ops netfs\noperations table, but the pointer got lost somewhere.  The function is used\nduring writeback to rotate through the authentication keys that were in\nforce when the file was modified locally.\n\nFix this by adding the pointer to the function.\n\nFixes: 1ecb146f7cd8 (\"netfs, afs: Use writeback retry to deal with alternate keys\")\nReported-by: Dr. David Alan Gilbert <linux@treblig.org>\nSigned-off-by: David Howells <dhowells@redhat.com>\nLink: https://lore.kernel.org/r/1690847.1726346402@warthog.procyon.org.uk\ncc: Marc Dionne <marc.dionne@auristor.com>\ncc: Jeff Layton <jlayton@kernel.org>\ncc: linux-afs@lists.infradead.org\ncc: netfs@lists.linux.dev\ncc: linux-fsdevel@vger.kernel.org\nSigned-off-by: Christian Brauner <brauner@kernel.org>",
  "author_name": "David Howells",
  "author_email": "dhowells@redhat.com",
  "author_date": "Sat Sep 14 21:40:02 2024 +0100",
  "author_date_iso": "2024-09-14T21:40:02+01:00",
  "committer_name": "Christian Brauner",
  "committer_email": "brauner@kernel.org",
  "committer_date": "Fri Sep 27 18:29:19 2024 +0200",
  "committer_date_iso": "2024-09-27T18:29:19+02:00",
  "files_changed": [
    "fs/afs/file.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/afs/file.c",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 1,
  "total_deletions": 0,
  "total_changes": 1,
  "parents": [
    "da6ef2dffe6056aad3435e6cf7c6471c2a62187c"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/afs/file.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}