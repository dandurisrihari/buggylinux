Commit Hash: c1e0a18228822258cbeb49a923d93f8f01c74a76
Subject: block, bfq: reduce upper bound for inject limit to max_rq_in_driver+1


Security Keywords:
- inject

Full commit message:
block, bfq: reduce upper bound for inject limit to max_rq_in_driver+1

Upon an increment attempt of the injection limit, the latter is
constrained not to become higher than twice the maximum number
max_rq_in_driver of I/O requests that have happened to be in service
in the drive. This high bound allows the injection limit to grow
beyond max_rq_in_driver, which may then cause max_rq_in_driver itself
to grow.

However, since the limit is incremented by only one unit at a time,
there is no need for such a high bound, and just max_rq_in_driver+1 is
enough.

Tested-by: Oleksandr Natalenko <oleksandr@natalenko.name>
Signed-off-by: Paolo Valente <paolo.valente@linaro.org>
Signed-off-by: Jens Axboe <axboe@kernel.dk>

Metadata:
Author: Paolo Valente <paolo.valente@linaro.org>
Author Date: Thu Aug 22 17:20:35 2019 +0200
Committer: Jens Axboe <axboe@kernel.dk>
Commit Date: Tue Sep 17 20:03:49 2019 -0600

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
