{
  "hash": "47f3a2fc765ae2719e6daf39c0a1c757934b152e",
  "hash_short": "47f3a2fc",
  "subject": "KVM: arm64: nv: Support virtual EL2 exceptions",
  "body": "Support injecting exceptions and performing exception returns to and\nfrom virtual EL2.  This must be done entirely in software except when\ntaking an exception from vEL0 to vEL2 when the virtual HCR_EL2.{E2H,TGE}\n== {1,1}  (a VHE guest hypervisor).\n\n[maz: switch to common exception injection framework, illegal exeption\n return handling]\n\nReviewed-by: Ganapatrao Kulkarni <gankulkarni@os.amperecomputing.com>\nSigned-off-by: Jintack Lim <jintack.lim@linaro.org>\nSigned-off-by: Christoffer Dall <christoffer.dall@arm.com>\nSigned-off-by: Marc Zyngier <maz@kernel.org>\nLink: https://lore.kernel.org/r/20230209175820.1939006-10-maz@kernel.org\nSigned-off-by: Oliver Upton <oliver.upton@linux.dev>",
  "full_message": "KVM: arm64: nv: Support virtual EL2 exceptions\n\nSupport injecting exceptions and performing exception returns to and\nfrom virtual EL2.  This must be done entirely in software except when\ntaking an exception from vEL0 to vEL2 when the virtual HCR_EL2.{E2H,TGE}\n== {1,1}  (a VHE guest hypervisor).\n\n[maz: switch to common exception injection framework, illegal exeption\n return handling]\n\nReviewed-by: Ganapatrao Kulkarni <gankulkarni@os.amperecomputing.com>\nSigned-off-by: Jintack Lim <jintack.lim@linaro.org>\nSigned-off-by: Christoffer Dall <christoffer.dall@arm.com>\nSigned-off-by: Marc Zyngier <maz@kernel.org>\nLink: https://lore.kernel.org/r/20230209175820.1939006-10-maz@kernel.org\nSigned-off-by: Oliver Upton <oliver.upton@linux.dev>",
  "author_name": "Jintack Lim",
  "author_email": "jintack.lim@linaro.org",
  "author_date": "Thu Feb 9 17:58:11 2023 +0000",
  "author_date_iso": "2023-02-09T17:58:11+00:00",
  "committer_name": "Oliver Upton",
  "committer_email": "oliver.upton@linux.dev",
  "committer_date": "Sat Feb 11 09:16:11 2023 +0000",
  "committer_date_iso": "2023-02-11T09:16:11+00:00",
  "files_changed": [
    "arch/arm64/include/asm/kvm_arm.h",
    "arch/arm64/include/asm/kvm_emulate.h",
    "arch/arm64/include/asm/kvm_host.h",
    "arch/arm64/kvm/Makefile",
    "arch/arm64/kvm/emulate-nested.c",
    "arch/arm64/kvm/hyp/exception.c",
    "arch/arm64/kvm/inject_fault.c",
    "arch/arm64/kvm/trace_arm.h"
  ],
  "files_changed_count": 8,
  "stats": [
    {
      "file": "arch/arm64/include/asm/kvm_arm.h",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_emulate.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/emulate-nested.c",
      "insertions": 203,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/exception.c",
      "insertions": 36,
      "deletions": 12
    },
    {
      "file": "arch/arm64/kvm/inject_fault.c",
      "insertions": 55,
      "deletions": 6
    },
    {
      "file": "arch/arm64/kvm/trace_arm.h",
      "insertions": 59,
      "deletions": 0
    }
  ],
  "total_insertions": 382,
  "total_deletions": 20,
  "total_changes": 402,
  "parents": [
    "6ff9dc238a53f4554d97b561fe4e8467d86544d9"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/kvm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/emulate-nested.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/kvm_host.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/hyp/exception.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/trace_arm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/kvm_emulate.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/kvm_arm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/inject_fault.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}