diff --cc arch/arm64/Kconfig
index d81adca1b04d,1c0cb5131c2a..df350f4e1e7a
--- a/arch/arm64/Kconfig
+++ b/arch/arm64/Kconfig
@@@ -148,7 -149,9 +149,8 @@@ config ARM6
  	select HAVE_PERF_REGS
  	select HAVE_PERF_USER_STACK_DUMP
  	select HAVE_REGS_AND_STACK_ACCESS_API
+ 	select HAVE_FUNCTION_ARG_ACCESS_API
  	select HAVE_RCU_TABLE_FREE
 -	select HAVE_RCU_TABLE_INVALIDATE
  	select HAVE_RSEQ
  	select HAVE_STACKPROTECTOR
  	select HAVE_SYSCALL_TRACEPOINTS
diff --cc mm/kasan/Makefile
index 613dfe681e9f,f06ee820d356..08b43de2383b
--- a/mm/kasan/Makefile
+++ b/mm/kasan/Makefile
@@@ -6,10 -5,9 +6,10 @@@ UBSAN_SANITIZE_generic_report.o := 
  UBSAN_SANITIZE_tags.o := n
  KCOV_INSTRUMENT := n
  
- CFLAGS_REMOVE_common.o = -pg
- CFLAGS_REMOVE_generic.o = -pg
- CFLAGS_REMOVE_generic_report.o = -pg
- CFLAGS_REMOVE_tags.o = -pg
+ CFLAGS_REMOVE_common.o = $(CC_FLAGS_FTRACE)
+ CFLAGS_REMOVE_generic.o = $(CC_FLAGS_FTRACE)
++CFLAGS_REMOVE_generic_report.o = $(CC_FLAGS_FTRACE)
+ CFLAGS_REMOVE_tags.o = $(CC_FLAGS_FTRACE)
  
  # Function splitter causes unnecessary splits in __asan_load1/__asan_store1
  # see: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63533