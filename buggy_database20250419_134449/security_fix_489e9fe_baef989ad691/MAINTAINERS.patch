commit 489e9fea66f31086f85d9a18e61e4791d94a56a4
Merge: aab7ce2b099b 255b2d524884
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Dec 15 16:49:59 2020 -0800

    Merge tag 'pci-v5.11-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Enumeration:
       - Decode PCIe 64 GT/s link speed (Gustavo Pimentel)
       - Remove unused HAVE_PCI_SET_MWI (Heiner Kallweit)
       - Reduce pci_set_cacheline_size() message to debug level (Heiner
         Kallweit)
       - Fix pci_slot_release() NULL pointer dereference (Jubin Zhong)
       - Unify ECAM constants in native PCI Express drivers (Krzysztof
         Wilczyński)
       - Return u8 from pci_find_capability() and similar (Puranjay Mohan)
       - Return u16 from pci_find_ext_capability() and similar (Bjorn
         Helgaas)
       - Fix ACPI companion lookup for device 0 on the root bus (Rafael J.
         Wysocki)
    
      Resource management:
       - Keep both device and resource name for config space remaps
         (Alexander Lobakin)
       - Bounds-check command-line resource alignment requests (Bjorn
         Helgaas)
       - Fix overflow in command-line resource alignment requests (Colin Ian
         King)
    
      Driver binding:
       - Avoid duplicate IDs in driver dynamic IDs list (Zhenzhong Duan)
    
      Power management:
       - Save/restore Precision Time Measurement Capability for
         suspend/resume (David E. Box)
       - Disable PTM during suspend to save power (David E. Box)
       - Add sysfs attribute for device power state (Maximilian Luz)
       - Rename pci_wakeup_bus() to pci_resume_bus() (Mika Westerberg)
       - Do not generate wakeup event when runtime resuming device (Mika
         Westerberg)
       - Save/restore ASPM L1SS Capability for suspend/resume (Vidya Sagar)
    
      Virtualization:
       - Mark AMD Raven iGPU ATS as broken in some platforms (Alex Deucher)
       - Add function 1 DMA alias quirk for Marvell 9215 SATA controller
         (Bjorn Helgaas)
    
      MSI:
       - Disable MSI for Pericom PCIe-USB adapter (Andy Shevchenko)
       - Improve warnings for 32-bit-limited MSI support (Vidya Sagar)
    
      Error handling:
       - Cache RCEC EA Capability offset in pci_init_capabilities() (Sean V
         Kelley)
       - Rename reset_link() to reset_subordinates() (Sean V Kelley)
       - Write AER Capability only when we control it (Sean V Kelley)
       - Clear AER status only when we control AER (Sean V Kelley)
       - Bind RCEC devices to the Root Port driver (Qiuxu Zhuo)
       - Recover from RCiEP AER errors (Qiuxu Zhuo)
       - Recover from RCEC AER errors (Sean V Kelley)
       - Add pcie_link_rcec() to associate RCiEPs (Sean V Kelley)
       - Add pcie_walk_rcec() to RCEC AER handling (Sean V Kelley)
       - Add pcie_walk_rcec() to RCEC PME handling (Sean V Kelley)
       - Add RCEC AER error injection support (Qiuxu Zhuo)
    
      Broadcom iProc PCIe controller driver:
       - Fix out-of-bound array accesses (Bharat Gooty)
       - Invalidate correct PAXB inbound windows (Roman Bacik)
       - Enhance PCIe Link information display (Srinath Mannam)
    
      Cadence PCIe controller driver:
       - Make "cdns,max-outbound-regions" property optional (Kishon Vijay
         Abraham I)
    
      Intel VMD host bridge driver:
       - Offset client MSI-X vectors (Jon Derrick)
       - Update type of __iomem pointers (Krzysztof Wilczyński)
    
      NVIDIA Tegra PCIe controller driver:
       - Move "dbi" accesses to post common DWC initialization (Vidya Sagar)
       - Read "dbi" base address to program in application logic (Vidya
         Sagar)
       - Fix ASPM-L1SS advertisement disable code (Vidya Sagar)
       - Set DesignWare IP version (Vidya Sagar)
       - Continue unconfig sequence even if parts fail (Vidya Sagar)
       - Check return value of tegra_pcie_init_controller() (Vidya Sagar)
       - Disable LTSSM during L2 entry (Vidya Sagar)
    
      Qualcomm PCIe controller driver:
       - Document PCIe bindings for SM8250 SoC (Manivannan Sadhasivam)
       - Add SM8250 SoC support (Manivannan Sadhasivam)
       - Add support for configuring BDF to SID mapping for SM8250
         (Manivannan Sadhasivam)
    
      Renesas R-Car PCIe controller driver:
       - rcar: Drop unused members from struct rcar_pcie_host (Lad
         Prabhakar)
       - PCI: rcar-pci-host: Document r8a774e1 bindings (Lad Prabhakar)
       - PCI: rcar-pci-host: Convert bindings to json-schema (Yoshihiro
         Shimoda)
       - PCI: rcar-pci-host: Document r8a77965 bindings (Yoshihiro Shimoda)
    
      Samsung Exynos PCIe controller driver:
       - Rework driver to support Exynos5433 PCIe PHY (Jaehoon Chung)
       - Rework driver to support Exynos5433 variant (Jaehoon Chung)
       - Drop samsung,exynos5440-pcie binding (Marek Szyprowski)
       - Add the samsung,exynos-pcie binding (Marek Szyprowski)
       - Add the samsung,exynos-pcie-phy binding (Marek Szyprowski)
    
      Synopsys DesignWare PCIe controller driver:
       - Support multiple ATU memory regions (Rob Herring)
       - Move intel-gw ATU offset out of driver match data (Rob Herring)
       - Move "dbi", "dbi2", and "addr_space" resource setup into common
         code (Rob Herring)
       - Remove intel-gw unneeded function wrappers (Rob Herring)
       - Ensure all outbound ATU windows are reset (Rob Herring)
       - Use the common MSI irq_chip in dra7xx (Rob Herring)
       - Drop the .set_num_vectors() host op (Rob Herring)
       - Move MSI interrupt setup into DWC common code (Rob Herring)
       - Rework MSI initialization (Rob Herring)
       - Move link handling into common code (Rob Herring)
       - Move dw_pcie_msi_init() into core (Rob Herring)
       - Move dw_pcie_setup_rc() to DWC common code (Rob Herring)
       - Remove unnecessary wrappers around dw_pcie_host_init() (Rob
         Herring)
       - Drop keystone duplicated 'num-viewport'" (Rob Herring)
       - Move inbound and outbound windows to common struct (Rob Herring)
       - Detect number of iATU windows (Rob Herring)
       - Warn if non-prefetchable memory aperture size is > 32-bit (Vidya
         Sagar)
       - Add support to program ATU for >4GB memory (Vidya Sagar)
       - Set 32-bit DMA mask for MSI target address allocation (Vidya Sagar)
    
      TI J721E PCIe driver:
       - Fix "ti,syscon-pcie-ctrl" to take argument (Kishon Vijay Abraham I)
       - Add host mode dt-bindings for TI's J7200 SoC (Kishon Vijay Abraham
         I)
       - Add EP mode dt-bindings for TI's J7200 SoC (Kishon Vijay Abraham I)
       - Get offset within "syscon" from "ti,syscon-pcie-ctrl" phandle arg
         (Kishon Vijay Abraham I)
    
      TI Keystone PCIe controller driver:
       - Enable compile-testing on !ARM (Alex Dewar)"
    
    * tag 'pci-v5.11-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (100 commits)
      PCI: Add function 1 DMA alias quirk for Marvell 9215 SATA controller
      PCI/ACPI: Fix companion lookup for device 0 on the root bus
      PCI: Keep both device and resource name for config space remaps
      PCI: xgene: Removed unused ".bus_shift" initialisers from pci-xgene.c
      PCI: vmd: Update type of the __iomem pointers
      PCI: iproc: Convert to use the new ECAM constants
      PCI: thunder-pem: Add constant for custom ".bus_shift" initialiser
      PCI: Unify ECAM constants in native PCI Express drivers
      PCI: Disable PTM during suspend to save power
      PCI/PTM: Save/restore Precision Time Measurement Capability for suspend/resume
      PCI: Mark AMD Raven iGPU ATS as broken in some platforms
      PCI: j721e: Get offset within "syscon" from "ti,syscon-pcie-ctrl" phandle arg
      dt-bindings: PCI: Add EP mode dt-bindings for TI's J7200 SoC
      dt-bindings: PCI: Add host mode dt-bindings for TI's J7200 SoC
      dt-bindings: pci: ti,j721e: Fix "ti,syscon-pcie-ctrl" to take argument
      PCI: dwc: Set 32-bit DMA mask for MSI target address allocation
      PCI: qcom: Add support for configuring BDF to SID mapping for SM8250
      PCI: Reduce pci_set_cacheline_size() message to debug level
      PCI: Remove unused HAVE_PCI_SET_MWI
      PCI: qcom: Add SM8250 SoC support
      ...