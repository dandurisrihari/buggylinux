Commit Hash: 3400c85f6400dc907d686d319faad25956ac4db1
Subject: soc: hisilicon: kunpeng_hccs: Add the check for base address and size of shared memory


Security Keywords:
- hardening

Full commit message:
soc: hisilicon: kunpeng_hccs: Add the check for base address and size of shared memory

If the shmem_base_addr from PCCT is zero, hccs_register_pcc_channel will
return success. And then driver will access to illegal address when send
PCC command. In addition, the size of shared memory used for communication
between driver and platform is fixed, namely 64 Bytes which is
unchangeable. So add the verification for hardening code.

Signed-off-by: Huisong Li <lihuisong@huawei.com>
Reviewed-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>
Signed-off-by: Wei Xu <xuwei5@hisilicon.com>

Metadata:
Author: Huisong Li <lihuisong@huawei.com>
Author Date: Wed Aug 28 18:49:53 2024 +0800
Committer: Wei Xu <xuwei5@hisilicon.com>
Commit Date: Mon Oct 14 08:54:48 2024 +0000

Files Changed: 1
Lines Added: 15
Lines Removed: 9
Total Changes: 24
