Commit Hash: 9222be18f76b4410b4da0d06e1cc21079e64b3ec
Subject: KVM: SVM: Coalesce userspace/kernel irqchip interrupt injection logic


Security Keywords:
- injection

Full commit message:
KVM: SVM: Coalesce userspace/kernel irqchip interrupt injection logic

Start to use interrupt/exception queues like VMX does.
This also fix the bug that if exit was caused by a guest
internal exception access to IDT the exception was not
reinjected.

Use EVENTINJ to inject interrupts.  Use VINT only for detecting when IRQ
windows is open again.  EVENTINJ ensures
the interrupt is injected immediately and not delayed.

Signed-off-by: Gleb Natapov <gleb@redhat.com>
Signed-off-by: Avi Kivity <avi@redhat.com>

Metadata:
Author: Gleb Natapov <gleb@redhat.com>
Author Date: Thu Apr 23 17:14:37 2009 +0300
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Wed Jun 10 11:48:46 2009 +0300

Files Changed: 1
Lines Added: 85
Lines Removed: 102
Total Changes: 187
