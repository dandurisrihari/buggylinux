Commit Hash: 3ef0fdb2342cf58f617ce2bdcd133978629c2403
Subject: net: davinci_emac: switch to new cpdma layer


Security Keywords:
- security issue

Full commit message:
net: davinci_emac: switch to new cpdma layer

This patch hooks up the emac driver with the newly separated cpdma driver.

Key differences introduced here:

 - The old buffer list scheme is no longer required

 - The original code maintained mac address per rx channel, even if only one
   rx channel was being used.  With this change, mac address is maintained
   device wide.  If support for multiple rx channels is added in future, this
   will need to be reworked a bit.

 - The new CPDMA code handles short packets better than before.  The
   earlier code was adjusting the length up, without ensuring that the tail
   end of the padding was cleared - a possible security issue.  This has been
   fixed to use skb_padto().

Signed-off-by: Cyril Chemparathy <cyril@ti.com>
Tested-by: Michael Williamson <michael.williamson@criticallink.com>
Tested-by: Caglar Akyuz <caglarakyuz@gmail.com>
Signed-off-by: Kevin Hilman <khilman@deeprootsystems.com>

Metadata:
Author: Cyril Chemparathy <cyril@ti.com>
Author Date: Wed Sep 15 10:11:29 2010 -0400
Committer: Kevin Hilman <khilman@deeprootsystems.com>
Commit Date: Fri Sep 24 07:40:31 2010 -0700

Files Changed: 1
Lines Added: 164
Lines Removed: 85
Total Changes: 249
