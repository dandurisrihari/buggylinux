Commit Hash: 94b98194b62e3fe3f27129d8e4b1f3fd7c5e972b
Subject: ALSA: rawmidi: Take open_mutex around parameter changes


Security Keywords:
- hardening

Full commit message:
ALSA: rawmidi: Take open_mutex around parameter changes

The input/output parameter changes are pretty intrusive, possibly
involving with the buffer resizing operation.  Hence those should be
performed exclusively; otherwise some ugly race could happen.

This patch puts the existing open_mutex for snd_rawmidi_input_params()
and *_output_params() for protecting the concurrent calls.  Since
those are exported, it's also meant for hardening from the external
calls, too.

Link: https://lore.kernel.org/r/20220617144051.18985-4-tiwai@suse.de
Signed-off-by: Takashi Iwai <tiwai@suse.de>

Metadata:
Author: Takashi Iwai <tiwai@suse.de>
Author Date: Fri Jun 17 16:40:49 2022 +0200
Committer: Takashi Iwai <tiwai@suse.de>
Commit Date: Mon Jun 20 09:36:02 2022 +0200

Files Changed: 1
Lines Added: 25
Lines Removed: 14
Total Changes: 39
