Commit Hash: 69ebc0182406541f0be0f086cdfff13ac56e7385
Subject: Revert "arm64: mm: add support for WXN memory translation attribute"


Security Keywords:
- hardening

Full commit message:
Revert "arm64: mm: add support for WXN memory translation attribute"

This reverts commit 50e3ed0f93f4f62ed2aa83de5db6cb84ecdd5707.

The SCTLR_EL1.WXN control forces execute-never when a page has write
permissions. While the idea of hardening such write/exec combinations is
good, with permissions indirection enabled (FEAT_PIE) this control
becomes RES0. FEAT_PIE introduces a slightly different form of WXN which
only has an effect when the base permission is RWX and the write is
toggled by the permission overlay (FEAT_POE, not yet supported by the
arm64 kernel). Revert the patch for now.

Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
Link: https://lore.kernel.org/r/ZfGESD3a91lxH367@arm.com

Metadata:
Author: Catalin Marinas <catalin.marinas@arm.com>
Author Date: Tue Mar 12 20:00:20 2024 +0000
Committer: Catalin Marinas <catalin.marinas@arm.com>
Commit Date: Wed Mar 13 10:53:20 2024 +0000

Files Changed: 7
Lines Added: 2
Lines Removed: 116
Total Changes: 118
