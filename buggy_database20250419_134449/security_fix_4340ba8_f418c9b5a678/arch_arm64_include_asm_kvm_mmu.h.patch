commit 4340ba80bd3a310d8eb9011df2e63c6371e28113
Author: Marc Zyngier <maz@kernel.org>
Date:   Wed Mar 14 13:28:50 2018 +0000

    arm64: KVM: Move BP hardening vectors into .hyp.text section
    
    There is no reason why the BP hardening vectors shouldn't be part
    of the HYP text at compile time, rather than being mapped at runtime.
    
    Also introduce a new config symbol that controls the compilation
    of bpi.S.
    
    Acked-by: Catalin Marinas <catalin.marinas@arm.com>
    Reviewed-by: Andrew Jones <drjones@redhat.com>
    Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>

diff --git a/arch/arm64/include/asm/kvm_mmu.h b/arch/arm64/include/asm/kvm_mmu.h
index 8cd37eac6292..65dc225d019c 100644
--- a/arch/arm64/include/asm/kvm_mmu.h
+++ b/arch/arm64/include/asm/kvm_mmu.h
@@ -380,9 +380,7 @@ static inline void *kvm_get_hyp_vector(void)
 
 static inline int kvm_map_vectors(void)
 {
-	return create_hyp_mappings(kvm_ksym_ref(__bp_harden_hyp_vecs_start),
-				   kvm_ksym_ref(__bp_harden_hyp_vecs_end),
-				   PAGE_HYP_EXEC);
+	return 0;
 }
 
 #else