diff --git a/lib/Kconfig.debug b/lib/Kconfig.debug
index c24db7221b55..6eccc643c32e 100644
--- a/lib/Kconfig.debug
+++ b/lib/Kconfig.debug
@@ -417,7 +417,7 @@ config LKDTM
 config FAULT_INJECTION
 	bool "Fault-injection framework"
 	depends on DEBUG_KERNEL
-	select STACKTRACE
+	depends on STACKTRACE
 	select FRAME_POINTER
 	help
 	  Provide fault-injection framework.