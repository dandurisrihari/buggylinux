{
  "hash": "5d438e071f09845f0abd1464b52cddee880c2364",
  "hash_short": "5d438e07",
  "subject": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm",
  "body": "Pull kvm fixes from Paolo Bonzini:\n \"A new testcase for guest debugging (gdbstub) that exposed a bunch of\n  bugs, mostly for AMD processors. And a few other x86 fixes\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm:\n  KVM: x86: Fix off-by-one error in kvm_vcpu_ioctl_x86_setup_mce\n  KVM: x86: Fix pkru save/restore when guest CR4.PKE=0, move it to x86.c\n  KVM: SVM: Disable AVIC before setting V_IRQ\n  KVM: Introduce kvm_make_all_cpus_request_except()\n  KVM: VMX: pass correct DR6 for GD userspace exit\n  KVM: x86, SVM: isolate vcpu->arch.dr6 from vmcb->save.dr6\n  KVM: SVM: keep DR6 synchronized with vcpu->arch.dr6\n  KVM: nSVM: trap #DB and #BP to userspace if guest debugging is on\n  KVM: selftests: Add KVM_SET_GUEST_DEBUG test\n  KVM: X86: Fix single-step with KVM_SET_GUEST_DEBUG\n  KVM: X86: Set RTM for DB_VECTOR too for KVM_EXIT_DEBUG\n  KVM: x86: fix DR6 delivery for various cases of #DB injection\n  KVM: X86: Declare KVM_CAP_SET_GUEST_DEBUG properly",
  "full_message": "Merge tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm\n\nPull kvm fixes from Paolo Bonzini:\n \"A new testcase for guest debugging (gdbstub) that exposed a bunch of\n  bugs, mostly for AMD processors. And a few other x86 fixes\"\n\n* tag 'for-linus' of git://git.kernel.org/pub/scm/virt/kvm/kvm:\n  KVM: x86: Fix off-by-one error in kvm_vcpu_ioctl_x86_setup_mce\n  KVM: x86: Fix pkru save/restore when guest CR4.PKE=0, move it to x86.c\n  KVM: SVM: Disable AVIC before setting V_IRQ\n  KVM: Introduce kvm_make_all_cpus_request_except()\n  KVM: VMX: pass correct DR6 for GD userspace exit\n  KVM: x86, SVM: isolate vcpu->arch.dr6 from vmcb->save.dr6\n  KVM: SVM: keep DR6 synchronized with vcpu->arch.dr6\n  KVM: nSVM: trap #DB and #BP to userspace if guest debugging is on\n  KVM: selftests: Add KVM_SET_GUEST_DEBUG test\n  KVM: X86: Fix single-step with KVM_SET_GUEST_DEBUG\n  KVM: X86: Set RTM for DB_VECTOR too for KVM_EXIT_DEBUG\n  KVM: x86: fix DR6 delivery for various cases of #DB injection\n  KVM: X86: Declare KVM_CAP_SET_GUEST_DEBUG properly",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sat May 16 13:39:22 2020 -0700",
  "author_date_iso": "2020-05-16T13:39:22-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sat May 16 13:39:22 2020 -0700",
  "committer_date_iso": "2020-05-16T13:39:22-07:00",
  "files_changed": [
    "tools/testing/selftests/kvm/Makefile"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/include/asm/kvm_host.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/x86/kvm/hyperv.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/x86/kvm/svm/nested.c",
      "insertions": 31,
      "deletions": 8
    },
    {
      "file": "arch/x86/kvm/svm/svm.c",
      "insertions": 22,
      "deletions": 14
    },
    {
      "file": "arch/x86/kvm/vmx/vmx.c",
      "insertions": 4,
      "deletions": 37
    },
    {
      "file": "arch/x86/kvm/x86.c",
      "insertions": 37,
      "deletions": 23
    },
    {
      "file": "include/linux/kvm_host.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/include/kvm_util.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/lib/kvm_util.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/kvm/x86_64/debug_regs.c",
      "insertions": 202,
      "deletions": 0
    },
    {
      "file": "virt/kvm/kvm_main.c",
      "insertions": 11,
      "deletions": 3
    }
  ],
  "total_insertions": 325,
  "total_deletions": 88,
  "total_changes": 413,
  "parents": [
    "befc42e5dd4977b63dd3b0c0db05e21d56f13c2e",
    "c4e0e4ab4cf3ec2b3f0b628ead108d677644ebd9"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "tools/testing/selftests/kvm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}