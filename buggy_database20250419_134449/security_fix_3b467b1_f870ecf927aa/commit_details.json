{
  "hash": "3b467b16582c077f57fab244cf0801ecea7914b6",
  "hash_short": "3b467b16",
  "subject": "KVM: arm64: Force injection of a data abort on NISV MMIO exit",
  "body": "If a vcpu exits for a data abort with an invalid syndrome, the\nexpectations are that userspace has a chance to save the day if\nit has requested to see such exits.\n\nHowever, this is completely futile in the case of a protected VM,\nas none of the state is available. In this particular case, inject\na data abort directly into the vcpu, consistent with what userspace\ncould do.\n\nThis also helps with pKVM, which discards all syndrome information when\nforwarding data aborts that are not known to be MMIO.\n\nFinally, document this tweak to the API.\n\nSigned-off-by: Fuad Tabba <tabba@google.com>\nAcked-by: Oliver Upton <oliver.upton@linux.dev>\nLink: https://lore.kernel.org/r/20240423150538.2103045-31-tabba@google.com\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "full_message": "KVM: arm64: Force injection of a data abort on NISV MMIO exit\n\nIf a vcpu exits for a data abort with an invalid syndrome, the\nexpectations are that userspace has a chance to save the day if\nit has requested to see such exits.\n\nHowever, this is completely futile in the case of a protected VM,\nas none of the state is available. In this particular case, inject\na data abort directly into the vcpu, consistent with what userspace\ncould do.\n\nThis also helps with pKVM, which discards all syndrome information when\nforwarding data aborts that are not known to be MMIO.\n\nFinally, document this tweak to the API.\n\nSigned-off-by: Fuad Tabba <tabba@google.com>\nAcked-by: Oliver Upton <oliver.upton@linux.dev>\nLink: https://lore.kernel.org/r/20240423150538.2103045-31-tabba@google.com\nSigned-off-by: Marc Zyngier <maz@kernel.org>",
  "author_name": "Marc Zyngier",
  "author_email": "maz@kernel.org",
  "author_date": "Tue Apr 23 16:05:38 2024 +0100",
  "author_date_iso": "2024-04-23T16:05:38+01:00",
  "committer_name": "Marc Zyngier",
  "committer_email": "maz@kernel.org",
  "committer_date": "Wed May 1 16:48:15 2024 +0100",
  "committer_date_iso": "2024-05-01T16:48:15+01:00",
  "files_changed": [
    "Documentation/virt/kvm/api.rst",
    "arch/arm64/kvm/mmio.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "Documentation/virt/kvm/api.rst",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/mmio.c",
      "insertions": 8,
      "deletions": 0
    }
  ],
  "total_insertions": 15,
  "total_deletions": 0,
  "total_changes": 15,
  "parents": [
    "92536992cfd461207c78e46154d16050b236a6fc"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/virt/kvm/api.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/mmio.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}