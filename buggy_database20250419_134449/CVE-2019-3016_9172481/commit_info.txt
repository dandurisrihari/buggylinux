Commit Hash: 917248144db5d7320655dbb41d3af0b8a0f3d589
Subject: x86/kvm: Cache gfn to pfn translation

CVE Identifiers:
- CVE-2019-3016

Full commit message:
x86/kvm: Cache gfn to pfn translation

__kvm_map_gfn()'s call to gfn_to_pfn_memslot() is
* relatively expensive
* in certain cases (such as when done from atomic context) cannot be called

Stashing gfn-to-pfn mapping should help with both cases.

This is part of CVE-2019-3016.

Signed-off-by: Boris Ostrovsky <boris.ostrovsky@oracle.com>
Reviewed-by: Joao Martins <joao.m.martins@oracle.com>
Cc: stable@vger.kernel.org
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Boris Ostrovsky <boris.ostrovsky@oracle.com>
Author Date: Thu Dec 5 01:30:51 2019 +0000
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Thu Jan 30 18:45:55 2020 +0100

Files Changed: 5
Lines Added: 103
Lines Removed: 22
Total Changes: 125
