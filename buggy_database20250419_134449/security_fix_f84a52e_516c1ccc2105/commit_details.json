{
  "hash": "f84a52eef5c35b49947b132ddd9b79d6767469af",
  "hash_short": "f84a52ee",
  "subject": "Merge tag 'x86_bugs_for_6.7_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip",
  "body": "Pull x86 hw mitigation updates from Borislav Petkov:\n\n - A bunch of improvements, cleanups and fixlets to the SRSO mitigation\n   machinery and other, general cleanups to the hw mitigations code, by\n   Josh Poimboeuf\n\n - Improve the return thunk detection by objtool as it is absolutely\n   important that the default return thunk is not used after returns\n   have been patched. Future work to detect and report this better is\n   pending\n\n - Other misc cleanups and fixes\n\n* tag 'x86_bugs_for_6.7_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip: (21 commits)\n  x86/retpoline: Document some thunk handling aspects\n  x86/retpoline: Make sure there are no unconverted return thunks due to KCSAN\n  x86/callthunks: Delete unused \"struct thunk_desc\"\n  x86/vdso: Run objtool on vdso32-setup.o\n  objtool: Fix return thunk patching in retpolines\n  x86/srso: Remove unnecessary semicolon\n  x86/pti: Fix kernel warnings for pti= and nopti cmdline options\n  x86/calldepth: Rename __x86_return_skl() to call_depth_return_thunk()\n  x86/nospec: Refactor UNTRAIN_RET[_*]\n  x86/rethunk: Use SYM_CODE_START[_LOCAL]_NOALIGN macros\n  x86/srso: Disentangle rethunk-dependent options\n  x86/srso: Move retbleed IBPB check into existing 'has_microcode' code block\n  x86/bugs: Remove default case for fully switched enums\n  x86/srso: Remove 'pred_cmd' label\n  x86/srso: Unexport untraining functions\n  x86/srso: Improve i-cache locality for alias mitigation\n  x86/srso: Fix unret validation dependencies\n  x86/srso: Fix vulnerability reporting for missing microcode\n  x86/srso: Print mitigation for retbleed IBPB case\n  x86/srso: Print actual mitigation if requested mitigation isn't possible\n  ...",
  "full_message": "Merge tag 'x86_bugs_for_6.7_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip\n\nPull x86 hw mitigation updates from Borislav Petkov:\n\n - A bunch of improvements, cleanups and fixlets to the SRSO mitigation\n   machinery and other, general cleanups to the hw mitigations code, by\n   Josh Poimboeuf\n\n - Improve the return thunk detection by objtool as it is absolutely\n   important that the default return thunk is not used after returns\n   have been patched. Future work to detect and report this better is\n   pending\n\n - Other misc cleanups and fixes\n\n* tag 'x86_bugs_for_6.7_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip: (21 commits)\n  x86/retpoline: Document some thunk handling aspects\n  x86/retpoline: Make sure there are no unconverted return thunks due to KCSAN\n  x86/callthunks: Delete unused \"struct thunk_desc\"\n  x86/vdso: Run objtool on vdso32-setup.o\n  objtool: Fix return thunk patching in retpolines\n  x86/srso: Remove unnecessary semicolon\n  x86/pti: Fix kernel warnings for pti= and nopti cmdline options\n  x86/calldepth: Rename __x86_return_skl() to call_depth_return_thunk()\n  x86/nospec: Refactor UNTRAIN_RET[_*]\n  x86/rethunk: Use SYM_CODE_START[_LOCAL]_NOALIGN macros\n  x86/srso: Disentangle rethunk-dependent options\n  x86/srso: Move retbleed IBPB check into existing 'has_microcode' code block\n  x86/bugs: Remove default case for fully switched enums\n  x86/srso: Remove 'pred_cmd' label\n  x86/srso: Unexport untraining functions\n  x86/srso: Improve i-cache locality for alias mitigation\n  x86/srso: Fix unret validation dependencies\n  x86/srso: Fix vulnerability reporting for missing microcode\n  x86/srso: Print mitigation for retbleed IBPB case\n  x86/srso: Print actual mitigation if requested mitigation isn't possible\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Mon Oct 30 11:48:49 2023 -1000",
  "author_date_iso": "2023-10-30T11:48:49-10:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Oct 30 11:48:49 2023 -1000",
  "committer_date_iso": "2023-10-30T11:48:49-10:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "Documentation/admin-guide/hw-vuln/srso.rst",
      "insertions": 17,
      "deletions": 7
    },
    {
      "file": "arch/x86/entry/vdso/Makefile",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/x86/include/asm/nospec-branch.h",
      "insertions": 29,
      "deletions": 38
    },
    {
      "file": "arch/x86/kernel/callthunks.c",
      "insertions": 0,
      "deletions": 5
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "insertions": 50,
      "deletions": 45
    },
    {
      "file": "arch/x86/kernel/vmlinux.lds.S",
      "insertions": 2,
      "deletions": 5
    },
    {
      "file": "arch/x86/lib/retpoline.S",
      "insertions": 107,
      "deletions": 79
    },
    {
      "file": "arch/x86/mm/pti.c",
      "insertions": 29,
      "deletions": 29
    },
    {
      "file": "include/linux/objtool.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "init/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "scripts/Makefile.vmlinux",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "scripts/Makefile.vmlinux_o",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "tools/objtool/check.c",
      "insertions": 16,
      "deletions": 0
    }
  ],
  "total_insertions": 258,
  "total_deletions": 211,
  "total_changes": 469,
  "parents": [
    "01ae815c5021532aecf8c5e280cf50cdaa72a9d6",
    "9d9c22cc444af01ce254872b729af26864c43a3a"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": []
}