{
  "hash": "7cd8d1f8475d83c8871917430a2daf362c68e742",
  "hash_short": "7cd8d1f8",
  "subject": "ubi: Add six fault injection type for testing",
  "body": "This commit adds six fault injection type for testing to cover the\nabnormal path of the UBI driver.\n\nInject the following faults when the UBI reads the LEB:\n +----------------------------+-----------------------------------+\n |    Interface name          |       emulate behavior            |\n +----------------------------+-----------------------------------+\n |  emulate_eccerr            | ECC error                         |\n +----------------------------+-----------------------------------+\n |  emulate_read_failure      | read failure                      |\n |----------------------------+-----------------------------------+\n |  emulate_io_ff             | read content as all FF            |\n |----------------------------+-----------------------------------+\n |  emulate_io_ff_bitflips    | content FF with MTD err reported  |\n +----------------------------+-----------------------------------+\n |  emulate_bad_hdr           | bad leb header                    |\n |----------------------------+-----------------------------------+\n |  emulate_bad_hdr_ebadmsg   | bad header with ECC err           |\n +----------------------------+-----------------------------------+\n\nSigned-off-by: ZhaoLong Wang <wangzhaolong1@huawei.com>\nReviewed-by: Zhihao Cheng <chengzhihao1@huawei.com>\nSigned-off-by: Richard Weinberger <richard@nod.at>",
  "full_message": "ubi: Add six fault injection type for testing\n\nThis commit adds six fault injection type for testing to cover the\nabnormal path of the UBI driver.\n\nInject the following faults when the UBI reads the LEB:\n +----------------------------+-----------------------------------+\n |    Interface name          |       emulate behavior            |\n +----------------------------+-----------------------------------+\n |  emulate_eccerr            | ECC error                         |\n +----------------------------+-----------------------------------+\n |  emulate_read_failure      | read failure                      |\n |----------------------------+-----------------------------------+\n |  emulate_io_ff             | read content as all FF            |\n |----------------------------+-----------------------------------+\n |  emulate_io_ff_bitflips    | content FF with MTD err reported  |\n +----------------------------+-----------------------------------+\n |  emulate_bad_hdr           | bad leb header                    |\n |----------------------------+-----------------------------------+\n |  emulate_bad_hdr_ebadmsg   | bad header with ECC err           |\n +----------------------------+-----------------------------------+\n\nSigned-off-by: ZhaoLong Wang <wangzhaolong1@huawei.com>\nReviewed-by: Zhihao Cheng <chengzhihao1@huawei.com>\nSigned-off-by: Richard Weinberger <richard@nod.at>",
  "author_name": "ZhaoLong Wang",
  "author_email": "wangzhaolong1@huawei.com",
  "author_date": "Tue Dec 26 09:01:11 2023 +0800",
  "author_date_iso": "2023-12-26T09:01:11+08:00",
  "committer_name": "Richard Weinberger",
  "committer_email": "richard@nod.at",
  "committer_date": "Sat Jan 6 23:41:40 2024 +0100",
  "committer_date_iso": "2024-01-06T23:41:40+01:00",
  "files_changed": [
    "drivers/mtd/ubi/debug.c",
    "drivers/mtd/ubi/debug.h",
    "drivers/mtd/ubi/io.c",
    "drivers/mtd/ubi/ubi.h"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "drivers/mtd/ubi/debug.c",
      "insertions": 30,
      "deletions": 0
    },
    {
      "file": "drivers/mtd/ubi/debug.h",
      "insertions": 166,
      "deletions": 6
    },
    {
      "file": "drivers/mtd/ubi/io.c",
      "insertions": 73,
      "deletions": 3
    },
    {
      "file": "drivers/mtd/ubi/ubi.h",
      "insertions": 18,
      "deletions": 12
    }
  ],
  "total_insertions": 287,
  "total_deletions": 21,
  "total_changes": 308,
  "parents": [
    "e30948f7c0730d9fb2271ff3eadd43eda4e44740"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/mtd/ubi/debug.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/mtd/ubi/debug.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/mtd/ubi/io.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/mtd/ubi/ubi.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}