{
  "hash": "dd30706e73b70d67e88fdaca688db7a3374fd5de",
  "hash_short": "dd30706e",
  "subject": "scsi: qla2xxx: edif: Add key update",
  "body": "Some FC adapters from Marvell offer the ability to encrypt data in flight\n(EDIF). This feature requires an application to act as an authenticator.\n\nAs part of the authentication process, the authentication application will\ngenerate a SADB entry (Security Association/SA, key, SPI value, etc). This\nSADB is then passed to driver to be programmed into hardware. There will be\na pair of SADB's (Tx and Rx) for each connection.\n\nAfter some period, the application can choose to change the key. At that\ntime, a new set of SADB pair is given to driver. The old set of SADB will\nbe deleted.\n\nAdd a new bsg call (QL_VND_SC_SA_UPDATE) to allow application to allow\nadding or deleting SADB entries.  Driver will not keep the key in\nmemory. It will pass it to HW.\n\nIt is assumed that application will assign a unique SPI value to this SADB\n(SA + key). Driver + hardware will assign a handle to track this unique\nSPI/SADB.\n\nLink: https://lore.kernel.org/r/20210624052606.21613-6-njavali@marvell.com\nReviewed-by: Hannes Reinecke <hare@suse.de>\nReviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>\nCo-developed-by: Larry Wisneski <Larry.Wisneski@marvell.com>\nSigned-off-by: Larry Wisneski <Larry.Wisneski@marvell.com>\nCo-developed-by: Duane Grigsby <duane.grigsby@marvell.com>\nSigned-off-by: Duane Grigsby <duane.grigsby@marvell.com>\nCo-developed-by: Rick Hicksted Jr <rhicksted@marvell.com>\nSigned-off-by: Rick Hicksted Jr <rhicksted@marvell.com>\nSigned-off-by: Quinn Tran <qutran@marvell.com>\nSigned-off-by: Nilesh Javali <njavali@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "scsi: qla2xxx: edif: Add key update\n\nSome FC adapters from Marvell offer the ability to encrypt data in flight\n(EDIF). This feature requires an application to act as an authenticator.\n\nAs part of the authentication process, the authentication application will\ngenerate a SADB entry (Security Association/SA, key, SPI value, etc). This\nSADB is then passed to driver to be programmed into hardware. There will be\na pair of SADB's (Tx and Rx) for each connection.\n\nAfter some period, the application can choose to change the key. At that\ntime, a new set of SADB pair is given to driver. The old set of SADB will\nbe deleted.\n\nAdd a new bsg call (QL_VND_SC_SA_UPDATE) to allow application to allow\nadding or deleting SADB entries.  Driver will not keep the key in\nmemory. It will pass it to HW.\n\nIt is assumed that application will assign a unique SPI value to this SADB\n(SA + key). Driver + hardware will assign a handle to track this unique\nSPI/SADB.\n\nLink: https://lore.kernel.org/r/20210624052606.21613-6-njavali@marvell.com\nReviewed-by: Hannes Reinecke <hare@suse.de>\nReviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>\nCo-developed-by: Larry Wisneski <Larry.Wisneski@marvell.com>\nSigned-off-by: Larry Wisneski <Larry.Wisneski@marvell.com>\nCo-developed-by: Duane Grigsby <duane.grigsby@marvell.com>\nSigned-off-by: Duane Grigsby <duane.grigsby@marvell.com>\nCo-developed-by: Rick Hicksted Jr <rhicksted@marvell.com>\nSigned-off-by: Rick Hicksted Jr <rhicksted@marvell.com>\nSigned-off-by: Quinn Tran <qutran@marvell.com>\nSigned-off-by: Nilesh Javali <njavali@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "Quinn Tran",
  "author_email": "qutran@marvell.com",
  "author_date": "Wed Jun 23 22:26:00 2021 -0700",
  "author_date_iso": "2021-06-23T22:26:00-07:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Tue Jul 27 00:06:43 2021 -0400",
  "committer_date_iso": "2021-07-27T00:06:43-04:00",
  "files_changed": [
    "drivers/scsi/qla2xxx/qla_def.h",
    "drivers/scsi/qla2xxx/qla_edif.c",
    "drivers/scsi/qla2xxx/qla_edif.h",
    "drivers/scsi/qla2xxx/qla_fw.h",
    "drivers/scsi/qla2xxx/qla_gbl.h",
    "drivers/scsi/qla2xxx/qla_init.c",
    "drivers/scsi/qla2xxx/qla_iocb.c",
    "drivers/scsi/qla2xxx/qla_isr.c",
    "drivers/scsi/qla2xxx/qla_os.c",
    "drivers/scsi/qla2xxx/qla_target.h"
  ],
  "files_changed_count": 10,
  "stats": [
    {
      "file": "drivers/scsi/qla2xxx/qla_def.h",
      "insertions": 69,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_edif.c",
      "insertions": 1474,
      "deletions": 6
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_edif.h",
      "insertions": 61,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_fw.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_gbl.h",
      "insertions": 21,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_init.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_iocb.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_isr.c",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_os.c",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_target.h",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1668,
  "total_deletions": 7,
  "total_changes": 1675,
  "parents": [
    "fac2807946c10b9a509b9c348afd442fa823c5f7"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/qla2xxx/qla_gbl.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_isr.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_edif.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_fw.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_edif.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_init.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_iocb.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_def.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_os.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_target.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}