Commit Hash: 1672c0e31917f49d31d30d79067103432bc20cc7
Subject: mac80211: start auth/assoc timeout on frame status


Security Keywords:
- auth

Full commit message:
mac80211: start auth/assoc timeout on frame status

When sending authentication/association frames they
might take a bit of time to go out because we may
have to synchronise with the AP, in particular in
the case where it's really a P2P GO. In this case
the 200ms fixed timeout could potentially be too
short if the beacon interval is relatively large.

For drivers that report TX status we can do better.
Instead of starting the timeout directly, start it
only when the frame status arrives. Since then the
frame was out on the air, we can wait shorter (the
typical response time is supposed to be 30ms, wait
100ms.) Also, if the frame failed to be transmitted
try again right away instead of waiting.

Signed-off-by: Johannes Berg <johannes.berg@intel.com>

Metadata:
Author: Johannes Berg <johannes.berg@intel.com>
Author Date: Tue Jan 29 15:02:27 2013 +0100
Committer: Johannes Berg <johannes.berg@intel.com>
Commit Date: Thu Jan 31 14:28:43 2013 +0100

Files Changed: 7
Lines Added: 103
Lines Removed: 29
Total Changes: 132
