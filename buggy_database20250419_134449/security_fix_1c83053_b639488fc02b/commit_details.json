{
  "hash": "1c830532f6b44d10a1743ccd00e990c6b83396f5",
  "hash_short": "1c830532",
  "subject": "md: fix possible raid1/raid10 deadlock on read error during resync",
  "body": "Thanks to K.Tanaka and the scsi fault injection framework, here is a fix for\nanother possible deadlock in raid1/raid10 error handing.\n\nIf a read request returns an error while a resync is happening and a resync\nrequest is pending, the attempt to fix the error will block until the resync\nprogresses, and the resync will block until the read request completes.  Thus\na deadlock.\n\nThis patch fixes the problem.\n\nCc: \"K.Tanaka\" <k-tanaka@ce.jp.nec.com>\nSigned-off-by: Neil Brown <neilb@suse.de>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "md: fix possible raid1/raid10 deadlock on read error during resync\n\nThanks to K.Tanaka and the scsi fault injection framework, here is a fix for\nanother possible deadlock in raid1/raid10 error handing.\n\nIf a read request returns an error while a resync is happening and a resync\nrequest is pending, the attempt to fix the error will block until the resync\nprogresses, and the resync will block until the read request completes.  Thus\na deadlock.\n\nThis patch fixes the problem.\n\nCc: \"K.Tanaka\" <k-tanaka@ce.jp.nec.com>\nSigned-off-by: Neil Brown <neilb@suse.de>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "NeilBrown",
  "author_email": "neilb@suse.de",
  "author_date": "Tue Mar 4 14:29:35 2008 -0800",
  "author_date_iso": "2008-03-04T14:29:35-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@woody.linux-foundation.org",
  "committer_date": "Tue Mar 4 16:35:18 2008 -0800",
  "committer_date_iso": "2008-03-04T16:35:18-08:00",
  "files_changed": [
    "drivers/md/raid1.c",
    "drivers/md/raid10.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/md/raid1.c",
      "insertions": 9,
      "deletions": 2
    },
    {
      "file": "drivers/md/raid10.c",
      "insertions": 9,
      "deletions": 2
    }
  ],
  "total_insertions": 18,
  "total_deletions": 4,
  "total_changes": 22,
  "parents": [
    "8ed3a19563b6c05b7625649b1769ddb063d53253"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.25",
    "v2.6.25-rc4",
    "v2.6.25-rc5",
    "v2.6.25-rc6",
    "v2.6.25-rc7",
    "v2.6.25-rc8",
    "v2.6.25-rc9",
    "v2.6.26",
    "v2.6.26-rc1",
    "v2.6.26-rc2"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/md/raid1.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/md/raid10.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}