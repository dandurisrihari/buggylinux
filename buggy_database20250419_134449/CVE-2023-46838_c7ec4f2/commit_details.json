{
  "hash": "c7ec4f2d684e17d69bbdd7c4324db0ef5daac26a",
  "hash_short": "c7ec4f2d",
  "subject": "xen-netback: don't produce zero-size SKB frags",
  "body": "While frontends may submit zero-size requests (wasting a precious slot),\ncore networking code as of at least 3ece782693c4b (\"sock: skb_copy_ubufs\nsupport for compound pages\") can't deal with SKBs when they have all\nzero-size fragments. Respond to empty requests right when populating\nfragments; all further processing is fragment based and hence won't\nencounter these empty requests anymore.\n\nIn a way this should have been that way from the beginning: When no data\nis to be transferred for a particular request, there's not even a point\nin validating the respective grant ref. That's no different from e.g.\npassing NULL into memcpy() when at the same time the size is 0.\n\nThis is XSA-448 / CVE-2023-46838.\n\nCc: stable@vger.kernel.org\nSigned-off-by: Jan Beulich <jbeulich@suse.com>\nReviewed-by: Juergen Gross <jgross@suse.com>\nReviewed-by: Paul Durrant <paul@xen.org>",
  "full_message": "xen-netback: don't produce zero-size SKB frags\n\nWhile frontends may submit zero-size requests (wasting a precious slot),\ncore networking code as of at least 3ece782693c4b (\"sock: skb_copy_ubufs\nsupport for compound pages\") can't deal with SKBs when they have all\nzero-size fragments. Respond to empty requests right when populating\nfragments; all further processing is fragment based and hence won't\nencounter these empty requests anymore.\n\nIn a way this should have been that way from the beginning: When no data\nis to be transferred for a particular request, there's not even a point\nin validating the respective grant ref. That's no different from e.g.\npassing NULL into memcpy() when at the same time the size is 0.\n\nThis is XSA-448 / CVE-2023-46838.\n\nCc: stable@vger.kernel.org\nSigned-off-by: Jan Beulich <jbeulich@suse.com>\nReviewed-by: Juergen Gross <jgross@suse.com>\nReviewed-by: Paul Durrant <paul@xen.org>",
  "author_name": "Jan Beulich",
  "author_email": "jbeulich@suse.com",
  "author_date": "Mon Jan 8 07:41:39 2024 +0100",
  "author_date_iso": "2024-01-08T07:41:39+01:00",
  "committer_name": "Juergen Gross",
  "committer_email": "jgross@suse.com",
  "committer_date": "Mon Jan 8 07:41:39 2024 +0100",
  "committer_date_iso": "2024-01-08T07:41:39+01:00",
  "files_changed": [
    "drivers/net/xen-netback/netback.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/net/xen-netback/netback.c",
      "insertions": 38,
      "deletions": 6
    }
  ],
  "total_insertions": 38,
  "total_deletions": 6,
  "total_changes": 44,
  "parents": [
    "0dd3ee31125508cd67f7e7172247f05b7fd1753a"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2023-46838"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "drivers/net/xen-netback/netback.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}