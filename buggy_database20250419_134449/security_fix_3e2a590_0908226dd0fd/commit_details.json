{
  "hash": "3e2a590acbed38a6908a5c4df7754dcb65f6fd37",
  "hash_short": "3e2a590a",
  "subject": "Merge tag 'iommu-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux",
  "body": "Pull iommu fixes from Will Deacon:\n \"This is mainly all Intel VT-D stuff, but there are some fixes for AMD\n  and ARM as well.\n\n  We've also got the revert I promised during the merge window, which\n  removes a temporary hack to accomodate i915 while we transitioned the\n  Intel IOMMU driver over to the common DMA-IOMMU API.\n\n  Finally, there are still a couple of other VT-D fixes floating around,\n  so I expect to send you another batch of fixes next week.\n\n  Summary:\n\n   - Fix VT-D TLB invalidation for subdevices\n\n   - Fix VT-D use-after-free on subdevice detach\n\n   - Fix VT-D locking so that IRQs are disabled during SVA bind/unbind\n\n   - Fix VT-D address alignment when flushing IOTLB\n\n   - Fix memory leak in VT-D IRQ remapping failure path\n\n   - Revert temporary i915 sglist hack now that it is no longer required\n\n   - Fix sporadic boot failure with Arm SMMU on Qualcomm SM8150\n\n   - Fix NULL dereference in AMD IRQ remapping code with remapping disabled\n\n   - Fix accidental enabling of irqs on AMD resume-from-suspend path\n\n   - Fix some typos in comments\"\n\n* tag 'iommu-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux:\n  iommu/vt-d: Fix ineffective devTLB invalidation for subdevices\n  iommu/vt-d: Fix general protection fault in aux_detach_device()\n  iommu/vt-d: Move intel_iommu info from struct intel_svm to struct intel_svm_dev\n  iommu/arm-smmu-qcom: Initialize SCTLR of the bypass context\n  iommu/vt-d: Fix lockdep splat in sva bind()/unbind()\n  Revert \"iommu: Add quirk for Intel graphic devices in map_sg\"\n  iommu/vt-d: Fix misuse of ALIGN in qi_flush_piotlb()\n  iommu/amd: Stop irq_remapping_select() matching when remapping is disabled\n  iommu/amd: Set iommu->int_enabled consistently when interrupts are set up\n  iommu/intel: Fix memleak in intel_irq_remapping_alloc\n  iommu/iova: fix 'domain' typos",
  "full_message": "Merge tag 'iommu-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux\n\nPull iommu fixes from Will Deacon:\n \"This is mainly all Intel VT-D stuff, but there are some fixes for AMD\n  and ARM as well.\n\n  We've also got the revert I promised during the merge window, which\n  removes a temporary hack to accomodate i915 while we transitioned the\n  Intel IOMMU driver over to the common DMA-IOMMU API.\n\n  Finally, there are still a couple of other VT-D fixes floating around,\n  so I expect to send you another batch of fixes next week.\n\n  Summary:\n\n   - Fix VT-D TLB invalidation for subdevices\n\n   - Fix VT-D use-after-free on subdevice detach\n\n   - Fix VT-D locking so that IRQs are disabled during SVA bind/unbind\n\n   - Fix VT-D address alignment when flushing IOTLB\n\n   - Fix memory leak in VT-D IRQ remapping failure path\n\n   - Revert temporary i915 sglist hack now that it is no longer required\n\n   - Fix sporadic boot failure with Arm SMMU on Qualcomm SM8150\n\n   - Fix NULL dereference in AMD IRQ remapping code with remapping disabled\n\n   - Fix accidental enabling of irqs on AMD resume-from-suspend path\n\n   - Fix some typos in comments\"\n\n* tag 'iommu-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux:\n  iommu/vt-d: Fix ineffective devTLB invalidation for subdevices\n  iommu/vt-d: Fix general protection fault in aux_detach_device()\n  iommu/vt-d: Move intel_iommu info from struct intel_svm to struct intel_svm_dev\n  iommu/arm-smmu-qcom: Initialize SCTLR of the bypass context\n  iommu/vt-d: Fix lockdep splat in sva bind()/unbind()\n  Revert \"iommu: Add quirk for Intel graphic devices in map_sg\"\n  iommu/vt-d: Fix misuse of ALIGN in qi_flush_piotlb()\n  iommu/amd: Stop irq_remapping_select() matching when remapping is disabled\n  iommu/amd: Set iommu->int_enabled consistently when interrupts are set up\n  iommu/intel: Fix memleak in intel_irq_remapping_alloc\n  iommu/iova: fix 'domain' typos",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri Jan 8 14:55:41 2021 -0800",
  "author_date_iso": "2021-01-08T14:55:41-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri Jan 8 14:55:41 2021 -0800",
  "committer_date_iso": "2021-01-08T14:55:41-08:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "drivers/iommu/amd/init.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/iommu/amd/iommu.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/iommu/arm/arm-smmu/arm-smmu-qcom.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/iommu/dma-iommu.c",
      "insertions": 0,
      "deletions": 27
    },
    {
      "file": "drivers/iommu/intel/dmar.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/iommu/intel/iommu.c",
      "insertions": 108,
      "deletions": 40
    },
    {
      "file": "drivers/iommu/intel/irq_remapping.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/iommu/intel/svm.c",
      "insertions": 13,
      "deletions": 10
    },
    {
      "file": "drivers/iommu/iova.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "include/linux/intel-iommu.h",
      "insertions": 12,
      "deletions": 6
    }
  ],
  "total_insertions": 147,
  "total_deletions": 91,
  "total_changes": 238,
  "parents": [
    "95f05058b2bbe3b85c8617b961879e52f692caa5",
    "7c29ada5e70083805bc3a68daa23441df421fbee"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "bypass"
    ]
  },
  "fix_type": "security",
  "file_results": []
}