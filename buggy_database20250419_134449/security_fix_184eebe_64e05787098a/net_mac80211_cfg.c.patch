commit 184eebe664f0e11c485f6d309fe56297b3f75e9e
Author: Markus Theil <markus.theil@tu-ilmenau.de>
Date:   Thu Jun 11 16:02:37 2020 +0200

    cfg80211/mac80211: add connected to auth server to meshconf
    
    Besides information about num of peerings and gate connectivity,
    the mesh formation byte also contains a flag for authentication
    server connectivity, that currently cannot be set in the mesh conf.
    This patch adds this capability, which is necessary to implement
    802.1X authentication in mesh mode.
    
    Signed-off-by: Markus Theil <markus.theil@tu-ilmenau.de>
    Link: https://lore.kernel.org/r/20200611140238.427461-1-markus.theil@tu-ilmenau.de
    Signed-off-by: Johannes Berg <johannes.berg@intel.com>

diff --git a/net/mac80211/cfg.c b/net/mac80211/cfg.c
index 9af56b848544..6a6531a50e54 100644
--- a/net/mac80211/cfg.c
+++ b/net/mac80211/cfg.c
@@ -2128,6 +2128,9 @@ static int ieee80211_update_mesh_config(struct wiphy *wiphy,
 			nconf->dot11MeshConnectedToMeshGate;
 	if (_chg_mesh_attr(NL80211_MESHCONF_NOLEARN, mask))
 		conf->dot11MeshNolearn = nconf->dot11MeshNolearn;
+	if (_chg_mesh_attr(NL80211_MESHCONF_CONNECTED_TO_AS, mask))
+		conf->dot11MeshConnectedToAuthServer =
+			nconf->dot11MeshConnectedToAuthServer;
 	ieee80211_mbss_info_change_notify(sdata, BSS_CHANGED_BEACON);
 	return 0;
 }