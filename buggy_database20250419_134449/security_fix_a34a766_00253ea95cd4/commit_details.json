{
  "hash": "a34a766ff96d9e88572e35a45066279e40a85d84",
  "hash_short": "a34a766f",
  "subject": "x86/kconfig: Make it easier to switch to the new ORC unwinder",
  "body": "A couple of Kconfig changes which make it much easier to switch to the\nnew CONFIG_ORC_UNWINDER:\n\n1) Remove x86 dependencies on CONFIG_FRAME_POINTER for lockdep,\n   latencytop, and fault injection.  x86 has a 'guess' unwinder which\n   just scans the stack for kernel text addresses.  It's not 100%\n   accurate but in many cases it's good enough.  This allows those users\n   who don't want the text overhead of the frame pointer or ORC\n   unwinders to still use these features.  More importantly, this also\n   makes it much more straightforward to disable frame pointers.\n\n2) Make CONFIG_ORC_UNWINDER depend on !CONFIG_FRAME_POINTER.  While it\n   would be possible to have both enabled, it doesn't really make sense\n   to do so.  So enforce a sane configuration to prevent the user from\n   making a dumb mistake.\n\nWith these changes, when you disable CONFIG_FRAME_POINTER, \"make\noldconfig\" will ask if you want to enable CONFIG_ORC_UNWINDER.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Brian Gerst <brgerst@gmail.com>\nCc: Denys Vlasenko <dvlasenk@redhat.com>\nCc: H. Peter Anvin <hpa@zytor.com>\nCc: Jiri Slaby <jslaby@suse.cz>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Mike Galbraith <efault@gmx.de>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: live-patching@vger.kernel.org\nLink: http://lkml.kernel.org/r/9985fb91ce5005fe33ea5cc2a20f14bd33c61d03.1500938583.git.jpoimboe@redhat.com\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "full_message": "x86/kconfig: Make it easier to switch to the new ORC unwinder\n\nA couple of Kconfig changes which make it much easier to switch to the\nnew CONFIG_ORC_UNWINDER:\n\n1) Remove x86 dependencies on CONFIG_FRAME_POINTER for lockdep,\n   latencytop, and fault injection.  x86 has a 'guess' unwinder which\n   just scans the stack for kernel text addresses.  It's not 100%\n   accurate but in many cases it's good enough.  This allows those users\n   who don't want the text overhead of the frame pointer or ORC\n   unwinders to still use these features.  More importantly, this also\n   makes it much more straightforward to disable frame pointers.\n\n2) Make CONFIG_ORC_UNWINDER depend on !CONFIG_FRAME_POINTER.  While it\n   would be possible to have both enabled, it doesn't really make sense\n   to do so.  So enforce a sane configuration to prevent the user from\n   making a dumb mistake.\n\nWith these changes, when you disable CONFIG_FRAME_POINTER, \"make\noldconfig\" will ask if you want to enable CONFIG_ORC_UNWINDER.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>\nCc: Andy Lutomirski <luto@kernel.org>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Brian Gerst <brgerst@gmail.com>\nCc: Denys Vlasenko <dvlasenk@redhat.com>\nCc: H. Peter Anvin <hpa@zytor.com>\nCc: Jiri Slaby <jslaby@suse.cz>\nCc: Linus Torvalds <torvalds@linux-foundation.org>\nCc: Mike Galbraith <efault@gmx.de>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: live-patching@vger.kernel.org\nLink: http://lkml.kernel.org/r/9985fb91ce5005fe33ea5cc2a20f14bd33c61d03.1500938583.git.jpoimboe@redhat.com\nSigned-off-by: Ingo Molnar <mingo@kernel.org>",
  "author_name": "Josh Poimboeuf",
  "author_email": "jpoimboe@redhat.com",
  "author_date": "Mon Jul 24 18:36:58 2017 -0500",
  "author_date_iso": "2017-07-24T18:36:58-05:00",
  "committer_name": "Ingo Molnar",
  "committer_email": "mingo@kernel.org",
  "committer_date": "Wed Jul 26 13:18:20 2017 +0200",
  "committer_date_iso": "2017-07-26T13:18:20+02:00",
  "files_changed": [
    "arch/x86/Kconfig.debug",
    "lib/Kconfig.debug"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "arch/x86/Kconfig.debug",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "lib/Kconfig.debug",
      "insertions": 3,
      "deletions": 3
    }
  ],
  "total_insertions": 6,
  "total_deletions": 7,
  "total_changes": 13,
  "parents": [
    "ee9f8fce99640811b2b8e79d0d1dbe8bab69ba67"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.14",
    "v4.14-rc1",
    "v4.14-rc2",
    "v4.14-rc3",
    "v4.14-rc4",
    "v4.14-rc5",
    "v4.14-rc6",
    "v4.14-rc7",
    "v4.14-rc8",
    "v4.15"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/Kconfig.debug",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Kconfig.debug",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}