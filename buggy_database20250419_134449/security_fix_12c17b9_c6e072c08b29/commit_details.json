{
  "hash": "12c17b9d62663c14a5343d6742682b3e67280754",
  "hash_short": "12c17b9d",
  "subject": "drm/amdgpu: fix kernel page fault issue by ras recovery on sGPU",
  "body": "When running ras uncorrectable error injection and triggering GPU\nreset on sGPU, below issue is observed. It's caused by the list\nuninitialized when accessing.\n\n[   80.047227] BUG: unable to handle page fault for address: ffffffffc0f4f750\n[   80.047300] #PF: supervisor write access in kernel mode\n[   80.047351] #PF: error_code(0x0003) - permissions violation\n[   80.047404] PGD 12c20e067 P4D 12c20e067 PUD 12c210067 PMD 41c4ee067 PTE 404316061\n[   80.047477] Oops: 0003 [#1] SMP PTI\n[   80.047516] CPU: 7 PID: 377 Comm: kworker/7:2 Tainted: G           OE     5.4.0-rc7-guchchen #1\n[   80.047594] Hardware name: System manufacturer System Product Name/TUF Z370-PLUS GAMING II, BIOS 0411 09/21/2018\n[   80.047888] Workqueue: events amdgpu_ras_do_recovery [amdgpu]\n\nSigned-off-by: Guchun Chen <guchun.chen@amd.com>\nReviewed-by: John Clements <John.Clements@amd.com>\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>",
  "full_message": "drm/amdgpu: fix kernel page fault issue by ras recovery on sGPU\n\nWhen running ras uncorrectable error injection and triggering GPU\nreset on sGPU, below issue is observed. It's caused by the list\nuninitialized when accessing.\n\n[   80.047227] BUG: unable to handle page fault for address: ffffffffc0f4f750\n[   80.047300] #PF: supervisor write access in kernel mode\n[   80.047351] #PF: error_code(0x0003) - permissions violation\n[   80.047404] PGD 12c20e067 P4D 12c20e067 PUD 12c210067 PMD 41c4ee067 PTE 404316061\n[   80.047477] Oops: 0003 [#1] SMP PTI\n[   80.047516] CPU: 7 PID: 377 Comm: kworker/7:2 Tainted: G           OE     5.4.0-rc7-guchchen #1\n[   80.047594] Hardware name: System manufacturer System Product Name/TUF Z370-PLUS GAMING II, BIOS 0411 09/21/2018\n[   80.047888] Workqueue: events amdgpu_ras_do_recovery [amdgpu]\n\nSigned-off-by: Guchun Chen <guchun.chen@amd.com>\nReviewed-by: John Clements <John.Clements@amd.com>\nSigned-off-by: Alex Deucher <alexander.deucher@amd.com>",
  "author_name": "Guchun Chen",
  "author_email": "guchun.chen@amd.com",
  "author_date": "Thu Apr 16 23:41:07 2020 +0800",
  "author_date_iso": "2020-04-16T23:41:07+08:00",
  "committer_name": "Alex Deucher",
  "committer_email": "alexander.deucher@amd.com",
  "committer_date": "Wed Apr 22 18:11:46 2020 -0400",
  "committer_date_iso": "2020-04-22T18:11:46-04:00",
  "files_changed": [
    "drivers/gpu/drm/amd/amdgpu/amdgpu_ras.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/gpu/drm/amd/amdgpu/amdgpu_ras.c",
      "insertions": 3,
      "deletions": 2
    }
  ],
  "total_insertions": 3,
  "total_deletions": 2,
  "total_changes": 5,
  "parents": [
    "69d0c18dda2dae4cfbf73d4ffaa5aff6dc69894a"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/amd/amdgpu/amdgpu_ras.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}