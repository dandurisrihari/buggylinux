Commit Hash: 8494057ab5e40df590ef6ef7d66324d3ae33356b
Subject: IB/uverbs: Prevent integer overflow in ib_umem_get address arithmetic

CVE Identifiers:
- CVE-2014-8159

Full commit message:
IB/uverbs: Prevent integer overflow in ib_umem_get address arithmetic

Properly verify that the resulting page aligned end address is larger
than both the start address and the length of the memory area requested.

Both the start and length arguments for ib_umem_get are controlled by
the user. A misbehaving user can provide values which will cause an
integer overflow when calculating the page aligned end address.

This overflow can cause also miscalculation of the number of pages
mapped, and additional logic issues.

Addresses: CVE-2014-8159
Cc: <stable@vger.kernel.org>
Signed-off-by: Shachar Raindel <raindel@mellanox.com>
Signed-off-by: Jack Morgenstein <jackm@mellanox.com>
Signed-off-by: Or Gerlitz <ogerlitz@mellanox.com>
Signed-off-by: Roland Dreier <roland@purestorage.com>

Metadata:
Author: Shachar Raindel <raindel@mellanox.com>
Author Date: Wed Mar 18 17:39:08 2015 +0000
Committer: Roland Dreier <roland@purestorage.com>
Commit Date: Thu Apr 2 09:53:59 2015 -0700

Files Changed: 1
Lines Added: 8
Lines Removed: 0
Total Changes: 8
