{
  "hash": "2af81d6718f5ec92b1d787e0fe79b0d3b6f78601",
  "hash_short": "2af81d67",
  "subject": "mac80211: only roll back station states for WDS when suspending",
  "body": "In normal cases (i.e. when we are fully associated), cfg80211 takes\ncare of removing all the stations before calling suspend in mac80211.\n\nBut in the corner case when we suspend during authentication or\nassociation, mac80211 needs to roll back the station states.  But we\nshouldn't roll back the station states in the suspend function,\nbecause this is taken care of in other parts of the code, except for\nWDS interfaces.  For AP types of interfaces, cfg80211 takes care of\ndisconnecting all stations before calling the driver's suspend code.\nFor station interfaces, this is done in the quiesce code.\n\nFor WDS interfaces we still need to do it here, so move the code into\na new switch case for WDS.\n\nCc: stable@kernel.org [3.15+]\nSigned-off-by: Luciano Coelho <luciano.coelho@intel.com>\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "full_message": "mac80211: only roll back station states for WDS when suspending\n\nIn normal cases (i.e. when we are fully associated), cfg80211 takes\ncare of removing all the stations before calling suspend in mac80211.\n\nBut in the corner case when we suspend during authentication or\nassociation, mac80211 needs to roll back the station states.  But we\nshouldn't roll back the station states in the suspend function,\nbecause this is taken care of in other parts of the code, except for\nWDS interfaces.  For AP types of interfaces, cfg80211 takes care of\ndisconnecting all stations before calling the driver's suspend code.\nFor station interfaces, this is done in the quiesce code.\n\nFor WDS interfaces we still need to do it here, so move the code into\na new switch case for WDS.\n\nCc: stable@kernel.org [3.15+]\nSigned-off-by: Luciano Coelho <luciano.coelho@intel.com>\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "author_name": "Luciano Coelho",
  "author_email": "luciano.coelho@intel.com",
  "author_date": "Wed Jan 21 22:19:34 2015 +0200",
  "author_date_iso": "2015-01-21T22:19:34+02:00",
  "committer_name": "Johannes Berg",
  "committer_email": "johannes.berg@intel.com",
  "committer_date": "Fri Jan 23 10:47:40 2015 +0100",
  "committer_date_iso": "2015-01-23T10:47:40+01:00",
  "files_changed": [
    "net/mac80211/pm.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/mac80211/pm.c",
      "insertions": 15,
      "deletions": 14
    }
  ],
  "total_insertions": 15,
  "total_deletions": 14,
  "total_changes": 29,
  "parents": [
    "20658702e08ecd693236b443837d28863b93e872"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.19",
    "v3.19-rc7",
    "v4.0",
    "v4.0-rc1",
    "v4.0-rc2",
    "v4.0-rc3",
    "v4.0-rc4",
    "v4.0-rc5",
    "v4.0-rc6",
    "v4.0-rc7"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/mac80211/pm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}