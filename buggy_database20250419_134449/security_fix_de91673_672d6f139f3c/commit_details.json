{
  "hash": "de916736aaaadddbd6061472969f667b14204aa9",
  "hash_short": "de916736",
  "subject": "misc: hmc6352: fix potential Spectre v1",
  "body": "val is indirectly controlled by user-space, hence leading to a\npotential exploitation of the Spectre variant 1 vulnerability.\n\nThis issue was detected with the help of Smatch:\n\ndrivers/misc/hmc6352.c:54 compass_store() warn: potential spectre issue\n'map' [r]\n\nFix this by sanitizing val before using it to index map\n\nNotice that given that speculation windows are large, the policy is\nto kill the speculation on the first load and not worry if it can be\ncompleted with a dependent load/store [1].\n\n[1] https://marc.info/?l=linux-kernel&m=152449131114778&w=2\n\nCc: stable@vger.kernel.org\nSigned-off-by: Gustavo A. R. Silva <gustavo@embeddedor.com>\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>",
  "full_message": "misc: hmc6352: fix potential Spectre v1\n\nval is indirectly controlled by user-space, hence leading to a\npotential exploitation of the Spectre variant 1 vulnerability.\n\nThis issue was detected with the help of Smatch:\n\ndrivers/misc/hmc6352.c:54 compass_store() warn: potential spectre issue\n'map' [r]\n\nFix this by sanitizing val before using it to index map\n\nNotice that given that speculation windows are large, the policy is\nto kill the speculation on the first load and not worry if it can be\ncompleted with a dependent load/store [1].\n\n[1] https://marc.info/?l=linux-kernel&m=152449131114778&w=2\n\nCc: stable@vger.kernel.org\nSigned-off-by: Gustavo A. R. Silva <gustavo@embeddedor.com>\nSigned-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>",
  "author_name": "Gustavo A. R. Silva",
  "author_email": "gustavo@embeddedor.com",
  "author_date": "Wed Aug 15 10:50:41 2018 -0500",
  "author_date_iso": "2018-08-15T10:50:41-05:00",
  "committer_name": "Greg Kroah-Hartman",
  "committer_email": "gregkh@linuxfoundation.org",
  "committer_date": "Wed Sep 12 09:31:00 2018 +0200",
  "committer_date_iso": "2018-09-12T09:31:00+02:00",
  "files_changed": [
    "drivers/misc/hmc6352.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/misc/hmc6352.c",
      "insertions": 2,
      "deletions": 0
    }
  ],
  "total_insertions": 2,
  "total_deletions": 0,
  "total_changes": 2,
  "parents": [
    "86503bd35dec0ce363e9fdbf5299927422ed3899"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.19",
    "v4.19-rc4",
    "v4.19-rc5",
    "v4.19-rc6",
    "v4.19-rc7",
    "v4.19-rc8",
    "v4.20",
    "v4.20-rc1",
    "v4.20-rc2",
    "v4.20-rc3"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability",
      "sanitizing"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/misc/hmc6352.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}