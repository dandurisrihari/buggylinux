{
  "hash": "e06b84052a0721a4432e5242cf7526d47869b063",
  "hash_short": "e06b8405",
  "subject": "Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net",
  "body": "Pull networking fixes from David Miller:\n\n 1) Revert iwlwifi reclaimed packet tracking, it causes problems for a\n    bunch of folks.  From Emmanuel Grumbach.\n\n 2) Work limiting code in brcmsmac wifi driver can clear tx status\n    without processing the event.  From Arend van Spriel.\n\n 3) rtlwifi USB driver processes wrong SKB, fix from Larry Finger.\n\n 4) l2tp tunnel delete can race with close, fix from Tom Parkin.\n\n 5) pktgen_add_device() failures are not checked at all, fix from Cong\n    Wang.\n\n 6) Fix unintentional removal of carrier off from tun_detach(),\n    otherwise we confuse userspace, from Michael S.  Tsirkin.\n\n 7) Don't leak socket reference counts and ubufs in vhost-net driver,\n    from Jason Wang.\n\n 8) vmxnet3 driver gets it's initial carrier state wrong, fix from Neil\n    Horman.\n\n 9) Protect against USB networking devices which spam the host with 0\n    length frames, from Bj\u00f8rn Mork.\n\n10) Prevent neighbour overflows in ipv6 for locally destined routes,\n    from Marcelo Ricardo.  This is the best short-term fix for this, a\n    longer term fix has been implemented in net-next.\n\n11) L2TP uses ipv4 datagram routines in it's ipv6 code, whoops.  This\n    mistake is largely because the ipv6 functions don't even have some\n    kind of prefix in their names to suggest they are ipv6 specific.\n    From Tom Parkin.\n\n12) Check SYN packet drops properly in tcp_rcv_fastopen_synack(), from\n    Yuchung Cheng.\n\n13) Fix races and TX skb freeing bugs in via-rhine's NAPI support, from\n    Francois Romieu and your's truly.\n\n14) Fix infinite loops and divides by zero in TCP congestion window\n    handling, from Eric Dumazet, Neal Cardwell, and Ilpo J\u00e4rvinen.\n\n15) AF_PACKET tx ring handling can leak kernel memory to userspace, fix\n    from Phil Sutter.\n\n16) Fix error handling in ipv6 GRE tunnel transmit, from Tommi Rantala.\n\n17) Protect XEN netback driver against hostile frontend putting garbage\n    into the rings, don't leak pages in TX GOP checking, and add proper\n    resource releasing in error path of xen_netbk_get_requests().  From\n    Ian Campbell.\n\n18) SCTP authentication keys should be cleared out and released with\n    kzfree(), from Daniel Borkmann.\n\n19) L2TP is a bit too clever trying to maintain skb->truesize, and ends\n    up corrupting socket memory accounting to the point where packet\n    sending is halted indefinitely.  Just remove the adjustments\n    entirely, they aren't really needed.  From Eric Dumazet.\n\n20) ATM Iphase driver uses a data type with the same name as the S390\n    headers, rename to fix the build.  From Heiko Carstens.\n\n21) Fix a typo in copying the inner network header offset from one SKB\n    to another, from Pravin B Shelar.\n\n* git://git.kernel.org/pub/scm/linux/kernel/git/davem/net: (56 commits)\n  net: sctp: sctp_endpoint_free: zero out secret key data\n  net: sctp: sctp_setsockopt_auth_key: use kzfree instead of kfree\n  atm/iphase: rename fregt_t -> ffreg_t\n  net: usb: fix regression from FLAG_NOARP code\n  l2tp: dont play with skb->truesize\n  net: sctp: sctp_auth_key_put: use kzfree instead of kfree\n  netback: correct netbk_tx_err to handle wrap around.\n  xen/netback: free already allocated memory on failure in xen_netbk_get_requests\n  xen/netback: don't leak pages on failure in xen_netbk_tx_check_gop.\n  xen/netback: shutdown the ring if it contains garbage.\n  net: qmi_wwan: add more Huawei devices, including E320\n  net: cdc_ncm: add another Huawei vendor specific device\n  ipv6/ip6_gre: fix error case handling in ip6gre_tunnel_xmit()\n  tcp: fix for zero packets_in_flight was too broad\n  brcmsmac: rework of mac80211 .flush() callback operation\n  ssb: unregister gpios before unloading ssb\n  bcma: unregister gpios before unloading bcma\n  rtlwifi: Fix scheduling while atomic bug\n  net: usbnet: fix tx_dropped statistics\n  tcp: ipv6: Update MIB counters for drops\n  ...",
  "full_message": "Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net\n\nPull networking fixes from David Miller:\n\n 1) Revert iwlwifi reclaimed packet tracking, it causes problems for a\n    bunch of folks.  From Emmanuel Grumbach.\n\n 2) Work limiting code in brcmsmac wifi driver can clear tx status\n    without processing the event.  From Arend van Spriel.\n\n 3) rtlwifi USB driver processes wrong SKB, fix from Larry Finger.\n\n 4) l2tp tunnel delete can race with close, fix from Tom Parkin.\n\n 5) pktgen_add_device() failures are not checked at all, fix from Cong\n    Wang.\n\n 6) Fix unintentional removal of carrier off from tun_detach(),\n    otherwise we confuse userspace, from Michael S.  Tsirkin.\n\n 7) Don't leak socket reference counts and ubufs in vhost-net driver,\n    from Jason Wang.\n\n 8) vmxnet3 driver gets it's initial carrier state wrong, fix from Neil\n    Horman.\n\n 9) Protect against USB networking devices which spam the host with 0\n    length frames, from Bj\u00f8rn Mork.\n\n10) Prevent neighbour overflows in ipv6 for locally destined routes,\n    from Marcelo Ricardo.  This is the best short-term fix for this, a\n    longer term fix has been implemented in net-next.\n\n11) L2TP uses ipv4 datagram routines in it's ipv6 code, whoops.  This\n    mistake is largely because the ipv6 functions don't even have some\n    kind of prefix in their names to suggest they are ipv6 specific.\n    From Tom Parkin.\n\n12) Check SYN packet drops properly in tcp_rcv_fastopen_synack(), from\n    Yuchung Cheng.\n\n13) Fix races and TX skb freeing bugs in via-rhine's NAPI support, from\n    Francois Romieu and your's truly.\n\n14) Fix infinite loops and divides by zero in TCP congestion window\n    handling, from Eric Dumazet, Neal Cardwell, and Ilpo J\u00e4rvinen.\n\n15) AF_PACKET tx ring handling can leak kernel memory to userspace, fix\n    from Phil Sutter.\n\n16) Fix error handling in ipv6 GRE tunnel transmit, from Tommi Rantala.\n\n17) Protect XEN netback driver against hostile frontend putting garbage\n    into the rings, don't leak pages in TX GOP checking, and add proper\n    resource releasing in error path of xen_netbk_get_requests().  From\n    Ian Campbell.\n\n18) SCTP authentication keys should be cleared out and released with\n    kzfree(), from Daniel Borkmann.\n\n19) L2TP is a bit too clever trying to maintain skb->truesize, and ends\n    up corrupting socket memory accounting to the point where packet\n    sending is halted indefinitely.  Just remove the adjustments\n    entirely, they aren't really needed.  From Eric Dumazet.\n\n20) ATM Iphase driver uses a data type with the same name as the S390\n    headers, rename to fix the build.  From Heiko Carstens.\n\n21) Fix a typo in copying the inner network header offset from one SKB\n    to another, from Pravin B Shelar.\n\n* git://git.kernel.org/pub/scm/linux/kernel/git/davem/net: (56 commits)\n  net: sctp: sctp_endpoint_free: zero out secret key data\n  net: sctp: sctp_setsockopt_auth_key: use kzfree instead of kfree\n  atm/iphase: rename fregt_t -> ffreg_t\n  net: usb: fix regression from FLAG_NOARP code\n  l2tp: dont play with skb->truesize\n  net: sctp: sctp_auth_key_put: use kzfree instead of kfree\n  netback: correct netbk_tx_err to handle wrap around.\n  xen/netback: free already allocated memory on failure in xen_netbk_get_requests\n  xen/netback: don't leak pages on failure in xen_netbk_tx_check_gop.\n  xen/netback: shutdown the ring if it contains garbage.\n  net: qmi_wwan: add more Huawei devices, including E320\n  net: cdc_ncm: add another Huawei vendor specific device\n  ipv6/ip6_gre: fix error case handling in ip6gre_tunnel_xmit()\n  tcp: fix for zero packets_in_flight was too broad\n  brcmsmac: rework of mac80211 .flush() callback operation\n  ssb: unregister gpios before unloading ssb\n  bcma: unregister gpios before unloading bcma\n  rtlwifi: Fix scheduling while atomic bug\n  net: usbnet: fix tx_dropped statistics\n  tcp: ipv6: Update MIB counters for drops\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Sat Feb 9 07:55:24 2013 +1100",
  "author_date_iso": "2013-02-09T07:55:24+11:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Sat Feb 9 07:55:24 2013 +1100",
  "committer_date_iso": "2013-02-09T07:55:24+11:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "drivers/atm/iphase.h",
      "insertions": 73,
      "deletions": 73
    },
    {
      "file": "drivers/bcma/bcma_private.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/bcma/driver_chipcommon_nflash.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/bcma/driver_gpio.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/bcma/main.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/net/bonding/bond_sysfs.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/can/c_can/c_can.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/emulex/benet/be.h",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/emulex/benet/be_main.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/intel/e1000e/defines.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/intel/e1000e/e1000.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/intel/e1000e/ethtool.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/intel/e1000e/hw.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/intel/e1000e/ich8lan.c",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/intel/e1000e/netdev.c",
      "insertions": 46,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/via/via-rhine.c",
      "insertions": 2,
      "deletions": 6
    },
    {
      "file": "drivers/net/tun.c",
      "insertions": 24,
      "deletions": 14
    },
    {
      "file": "drivers/net/usb/cdc_ncm.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/net/usb/qmi_wwan.c",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "drivers/net/usb/usbnet.c",
      "insertions": 29,
      "deletions": 6
    },
    {
      "file": "drivers/net/vmxnet3/vmxnet3_drv.c",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "drivers/net/wireless/brcm80211/brcmsmac/mac80211_if.c",
      "insertions": 21,
      "deletions": 14
    },
    {
      "file": "drivers/net/wireless/brcm80211/brcmsmac/mac80211_if.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/brcm80211/brcmsmac/main.c",
      "insertions": 12,
      "deletions": 28
    },
    {
      "file": "drivers/net/wireless/brcm80211/brcmsmac/pub.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/net/wireless/iwlwifi/dvm/tx.c",
      "insertions": 7,
      "deletions": 17
    },
    {
      "file": "drivers/net/wireless/mwifiex/scan.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "drivers/net/wireless/rtlwifi/base.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/net/wireless/rtlwifi/usb.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/xen-netback/common.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/net/xen-netback/interface.c",
      "insertions": 14,
      "deletions": 9
    },
    {
      "file": "drivers/net/xen-netback/netback.c",
      "insertions": 71,
      "deletions": 44
    },
    {
      "file": "drivers/ssb/driver_gpio.c",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "drivers/ssb/main.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "drivers/ssb/ssb_private.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/vhost/net.c",
      "insertions": 28,
      "deletions": 13
    },
    {
      "file": "drivers/vhost/vhost.c",
      "insertions": 15,
      "deletions": 3
    },
    {
      "file": "drivers/vhost/vhost.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/usb/usbnet.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/net/transp_v6.h",
      "insertions": 11,
      "deletions": 11
    },
    {
      "file": "net/bluetooth/hci_conn.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "net/bluetooth/smp.c",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "net/core/pktgen.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "net/core/skbuff.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/ipv4/tcp_cong.c",
      "insertions": 10,
      "deletions": 4
    },
    {
      "file": "net/ipv4/tcp_input.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "net/ipv4/tcp_ipv4.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "net/ipv6/addrconf.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/ipv6/datagram.c",
      "insertions": 9,
      "deletions": 7
    },
    {
      "file": "net/ipv6/ip6_flowlabel.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/ipv6/ip6_gre.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/ipv6/ipv6_sockglue.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "net/ipv6/raw.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "net/ipv6/route.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/ipv6/tcp_ipv6.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "net/ipv6/udp.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "net/l2tp/l2tp_core.c",
      "insertions": 65,
      "deletions": 17
    },
    {
      "file": "net/l2tp/l2tp_core.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "net/l2tp/l2tp_ip6.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "net/l2tp/l2tp_ppp.c",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "net/openvswitch/vport-netdev.c",
      "insertions": 9,
      "deletions": 7
    },
    {
      "file": "net/packet/af_packet.c",
      "insertions": 6,
      "deletions": 4
    },
    {
      "file": "net/sched/sch_netem.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "net/sctp/auth.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/sctp/endpointola.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "net/sctp/socket.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/svcsock.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/wireless/scan.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 649,
  "total_deletions": 348,
  "total_changes": 997,
  "parents": [
    "2a1a6e7af41cd029c90b8d9d79a76452a864805e",
    "a1c83b054ebe1264ed9ae9d5c286f9eae68e60ea"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": []
}