{
  "hash": "1d658336b05f8697d6445834f8867f8ad5e4f735",
  "hash_short": "1d658336",
  "subject": "SUNRPC: Add RPC based upcall mechanism for RPCGSS auth",
  "body": "This patch implements a sunrpc client to use the services of the gssproxy\nuserspace daemon.\n\nIn particular it allows to perform calls in user space using an RPC\ncall instead of custom hand-coded upcall/downcall messages.\n\nCurrently only accept_sec_context is implemented as that is all is needed for\nthe server case.\n\nFile server modules like NFS and CIFS can use full gssapi services this way,\nonce init_sec_context is also implemented.\n\nFor the NFS server case this code allow to lift the limit of max 2k krb5\ntickets. This limit is prevents legitimate kerberos deployments from using krb5\nauthentication with the Linux NFS server as they have normally ticket that are\nmany kilobytes large.\n\nIt will also allow to lift the limitation on the size of the credential set\n(uid,gid,gids) passed down from user space for users that have very many groups\nassociated. Currently the downcall mechanism used by rpc.svcgssd is limited\nto around 2k secondary groups of the 65k allowed by kernel structures.\n\nSigned-off-by: Simo Sorce <simo@redhat.com>\n[bfields: containerization, concurrent upcalls, misc. fixes and cleanup]\nSigned-off-by: J. Bruce Fields <bfields@redhat.com>",
  "full_message": "SUNRPC: Add RPC based upcall mechanism for RPCGSS auth\n\nThis patch implements a sunrpc client to use the services of the gssproxy\nuserspace daemon.\n\nIn particular it allows to perform calls in user space using an RPC\ncall instead of custom hand-coded upcall/downcall messages.\n\nCurrently only accept_sec_context is implemented as that is all is needed for\nthe server case.\n\nFile server modules like NFS and CIFS can use full gssapi services this way,\nonce init_sec_context is also implemented.\n\nFor the NFS server case this code allow to lift the limit of max 2k krb5\ntickets. This limit is prevents legitimate kerberos deployments from using krb5\nauthentication with the Linux NFS server as they have normally ticket that are\nmany kilobytes large.\n\nIt will also allow to lift the limitation on the size of the credential set\n(uid,gid,gids) passed down from user space for users that have very many groups\nassociated. Currently the downcall mechanism used by rpc.svcgssd is limited\nto around 2k secondary groups of the 65k allowed by kernel structures.\n\nSigned-off-by: Simo Sorce <simo@redhat.com>\n[bfields: containerization, concurrent upcalls, misc. fixes and cleanup]\nSigned-off-by: J. Bruce Fields <bfields@redhat.com>",
  "author_name": "Simo Sorce",
  "author_email": "simo@redhat.com",
  "author_date": "Fri May 25 18:09:55 2012 -0400",
  "author_date_iso": "2012-05-25T18:09:55-04:00",
  "committer_name": "J. Bruce Fields",
  "committer_email": "bfields@redhat.com",
  "committer_date": "Fri Apr 26 11:41:27 2013 -0400",
  "committer_date_iso": "2013-04-26T11:41:27-04:00",
  "files_changed": [
    "net/sunrpc/auth_gss/Makefile",
    "net/sunrpc/auth_gss/gss_rpc_upcall.c",
    "net/sunrpc/auth_gss/gss_rpc_upcall.h",
    "net/sunrpc/auth_gss/gss_rpc_xdr.c",
    "net/sunrpc/auth_gss/gss_rpc_xdr.h",
    "net/sunrpc/clnt.c",
    "net/sunrpc/netns.h"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "net/sunrpc/auth_gss/Makefile",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_upcall.c",
      "insertions": 355,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_upcall.h",
      "insertions": 47,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_xdr.c",
      "insertions": 832,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_xdr.h",
      "insertions": 264,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/clnt.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/netns.h",
      "insertions": 3,
      "deletions": 0
    }
  ],
  "total_insertions": 1504,
  "total_deletions": 1,
  "total_changes": 1505,
  "parents": [
    "400f26b542e86995662a0cc5483656b7b1f42af6"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_xdr.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_xdr.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_upcall.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_upcall.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/auth_gss/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/netns.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/clnt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}