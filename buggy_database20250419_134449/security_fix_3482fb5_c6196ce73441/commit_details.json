{
  "hash": "3482fb5e0c1c20ce0dbcfc5ca3b6558a8c455b10",
  "hash_short": "3482fb5e",
  "subject": "ACPI, APEI, EINJ: Changes to the ACPI/APEI/EINJ debugfs interface",
  "body": "When I added support for ACPI5 I made the assumption that\ninjected processor errors would just need to know the APICID,\nmemory errors just the address and mask, and PCIe errors just the\nsegment/bus/device/function. So I had the code check the type of injection\nand multiplex the \"param1\" value appropriately.\n\nThis was not a good assumption :-(\n\nThere are injection scenarios where we need to specify more than one of\nthese items. E.g. injecting a cache error we need to specify an APICID\nof the cpu that owns the cache, and also an address (so that we can trip\nthe error by accessing the address).\n\nAdd a \"flags\" file to give the user direct access to specify which items\nare valid in the ACPI SET_ERROR_TYPE_WITH_ADDRESS structure. Also add\nnew files param3 and param4 to hold all these values.\n\nFor backwards compatability with old injection scripts we maintain the\nold behaviour if flags remains set at zero (or is reset to 0).\n\nAcked-by: Naveen N. Rao <naveen.n.rao@linux.vnet.ibm.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>",
  "full_message": "ACPI, APEI, EINJ: Changes to the ACPI/APEI/EINJ debugfs interface\n\nWhen I added support for ACPI5 I made the assumption that\ninjected processor errors would just need to know the APICID,\nmemory errors just the address and mask, and PCIe errors just the\nsegment/bus/device/function. So I had the code check the type of injection\nand multiplex the \"param1\" value appropriately.\n\nThis was not a good assumption :-(\n\nThere are injection scenarios where we need to specify more than one of\nthese items. E.g. injecting a cache error we need to specify an APICID\nof the cpu that owns the cache, and also an address (so that we can trip\nthe error by accessing the address).\n\nAdd a \"flags\" file to give the user direct access to specify which items\nare valid in the ACPI SET_ERROR_TYPE_WITH_ADDRESS structure. Also add\nnew files param3 and param4 to hold all these values.\n\nFor backwards compatability with old injection scripts we maintain the\nold behaviour if flags remains set at zero (or is reset to 0).\n\nAcked-by: Naveen N. Rao <naveen.n.rao@linux.vnet.ibm.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>",
  "author_name": "Luck, Tony",
  "author_email": "tony.luck@intel.com",
  "author_date": "Wed Nov 6 13:30:36 2013 -0800",
  "author_date_iso": "2013-11-06T13:30:36-08:00",
  "committer_name": "Tony Luck",
  "committer_email": "tony.luck@intel.com",
  "committer_date": "Tue Dec 17 16:04:22 2013 -0800",
  "committer_date_iso": "2013-12-17T16:04:22-08:00",
  "files_changed": [
    "Documentation/acpi/apei/einj.txt",
    "drivers/acpi/apei/einj.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "Documentation/acpi/apei/einj.txt",
      "insertions": 18,
      "deletions": 1
    },
    {
      "file": "drivers/acpi/apei/einj.c",
      "insertions": 34,
      "deletions": 5
    }
  ],
  "total_insertions": 52,
  "total_deletions": 6,
  "total_changes": 58,
  "parents": [
    "319e2e3f63c348a9b66db4667efa73178e18b17d"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.14",
    "v3.14-rc1",
    "v3.14-rc2",
    "v3.14-rc3",
    "v3.14-rc4",
    "v3.14-rc5",
    "v3.14-rc6",
    "v3.14-rc7",
    "v3.14-rc8",
    "v3.15"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/acpi/apei/einj.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/acpi/apei/einj.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}