Commit Hash: d2e85432a2e0a6f31bd9489800f443228f020ed6
Subject: fail_function: fix wrong use of fei_attr_remove()


Security Keywords:
- injection

Full commit message:
fail_function: fix wrong use of fei_attr_remove()

If register_kprobe() fails, the new attr is not added to the list yet, so
it should call fei_attr_free() intstead.

Link: https://lkml.kernel.org/r/20220826073337.2085798-3-yangyingliang@huawei.com
Fixes: 4b1a29a7f542 ("error-injection: Support fault injection framework")
Signed-off-by: Yang Yingliang <yangyingliang@huawei.com>
Reviewed-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

Metadata:
Author: Yang Yingliang <yangyingliang@huawei.com>
Author Date: Fri Aug 26 15:33:37 2022 +0800
Committer: Andrew Morton <akpm@linux-foundation.org>
Commit Date: Sun Sep 11 21:55:11 2022 -0700

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
