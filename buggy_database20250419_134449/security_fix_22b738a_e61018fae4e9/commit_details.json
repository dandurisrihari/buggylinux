{
  "hash": "22b738ac3309c8712ac6aa8095e27bbc4067e4b3",
  "hash_short": "22b738ac",
  "subject": "scsi: lpfc: Fix nvmet handling of first burst cmd",
  "body": "With negative test injection, the driver is receiving a command with first\nburst enabled, meaning Sequence initiative is not passed with the command\nframe. The driver notes the condition and discards the frame.  However the\ndriver calls the incorrect buffer free routine, resulting in a NULL pointer\nreference.\n\nFor hbq buffer free, convert to using lpfc_rq_buf_free().\n\nSigned-off-by: Dick Kennedy <dick.kennedy@broadcom.com>\nSigned-off-by: James Smart <jsmart2021@gmail.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "scsi: lpfc: Fix nvmet handling of first burst cmd\n\nWith negative test injection, the driver is receiving a command with first\nburst enabled, meaning Sequence initiative is not passed with the command\nframe. The driver notes the condition and discards the frame.  However the\ndriver calls the incorrect buffer free routine, resulting in a NULL pointer\nreference.\n\nFor hbq buffer free, convert to using lpfc_rq_buf_free().\n\nSigned-off-by: Dick Kennedy <dick.kennedy@broadcom.com>\nSigned-off-by: James Smart <jsmart2021@gmail.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "James Smart",
  "author_email": "jsmart2021@gmail.com",
  "author_date": "Tue Mar 12 16:30:11 2019 -0700",
  "author_date_iso": "2019-03-12T16:30:11-07:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Tue Mar 19 12:57:02 2019 -0400",
  "committer_date_iso": "2019-03-19T12:57:02-04:00",
  "files_changed": [
    "drivers/scsi/lpfc/lpfc_sli.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/scsi/lpfc/lpfc_sli.c",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 1,
  "total_deletions": 1,
  "total_changes": 2,
  "parents": [
    "982ab128dcf8b77bc18df74a83ffa70bcd59ccd3"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.2",
    "v5.2-rc1",
    "v5.2-rc2",
    "v5.2-rc3",
    "v5.2-rc4",
    "v5.2-rc5",
    "v5.2-rc6",
    "v5.2-rc7",
    "v5.3",
    "v5.3-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/lpfc/lpfc_sli.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}