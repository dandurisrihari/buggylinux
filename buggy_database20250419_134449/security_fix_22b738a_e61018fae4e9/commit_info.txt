Commit Hash: 22b738ac3309c8712ac6aa8095e27bbc4067e4b3
Subject: scsi: lpfc: Fix nvmet handling of first burst cmd


Security Keywords:
- injection

Full commit message:
scsi: lpfc: Fix nvmet handling of first burst cmd

With negative test injection, the driver is receiving a command with first
burst enabled, meaning Sequence initiative is not passed with the command
frame. The driver notes the condition and discards the frame.  However the
driver calls the incorrect buffer free routine, resulting in a NULL pointer
reference.

For hbq buffer free, convert to using lpfc_rq_buf_free().

Signed-off-by: Dick Kennedy <dick.kennedy@broadcom.com>
Signed-off-by: James Smart <jsmart2021@gmail.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

Metadata:
Author: James Smart <jsmart2021@gmail.com>
Author Date: Tue Mar 12 16:30:11 2019 -0700
Committer: Martin K. Petersen <martin.petersen@oracle.com>
Commit Date: Tue Mar 19 12:57:02 2019 -0400

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
