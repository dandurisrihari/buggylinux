{
  "hash": "befcc89362383208f62b15887592758165459e3d",
  "hash_short": "befcc893",
  "subject": "Merge tag 'drm-fixes-2024-10-11' of https://gitlab.freedesktop.org/drm/kernel",
  "body": "Pull drm fixes from Dave Airlie:\n \"Weekly fixes haul for drm, lots of small fixes all over, amdgpu, xe\n  lead the way, some minor nouveau and radeon fixes, and then a bunch of\n  misc all over.\n\n  Nothing too scary or out of the unusual.\n\n  sched:\n   - Avoid leaking lockdep map\n\n  fbdev-dma:\n   - Only clean up deferred I/O if instanciated\n\n  amdgpu:\n   - Fix invalid UBSAN warnings\n   - Fix artifacts in MPO transitions\n   - Hibernation fix\n\n  amdkfd:\n   - Fix an eviction fence leak\n\n  radeon:\n   - Add late register for connectors\n   - Always set GEM function pointers\n\n  i915:\n   - HDCP refcount fix\n\n  nouveau:\n   - dmem: Fix privileged error in copy engine channel; Fix possible\n     data leak in migrate_to_ram()\n   - gsp: Fix coding style\n\n  v3d:\n   - Stop active perfmon before destroying it\n\n  vc4:\n   - Stop active perfmon before destroying it\n\n  xe:\n   - Drop GuC submit_wq pool\n   - Fix error checking with xa_store()\n   - Fix missing freq restore on GSC load error\n   - Fix wedged_mode file permission\n   - Fix use-after-free in ct communication\"\n\n* tag 'drm-fixes-2024-10-11' of https://gitlab.freedesktop.org/drm/kernel:\n  drm/fbdev-dma: Only cleanup deferred I/O if necessary\n  drm/xe: Make wedged_mode debugfs writable\n  drm/xe: Restore GT freq on GSC load error\n  drm/xe/guc_submit: fix xa_store() error checking\n  drm/xe/ct: fix xa_store() error checking\n  drm/xe/ct: prevent UAF in send_recv()\n  drm/radeon: always set GEM function pointer\n  nouveau/dmem: Fix vulnerability in migrate_to_ram upon copy error\n  nouveau/dmem: Fix privileged error in copy engine channel\n  drm/amd/display: fix hibernate entry for DCN35+\n  drm/amd/display: Clear update flags after update has been applied\n  drm/amdgpu: partially revert powerplay `__counted_by` changes\n  drm/radeon: add late_register for connector\n  drm/amdkfd: Fix an eviction fence leak\n  drm/vc4: Stop the active perfmon before being destroyed\n  drm/v3d: Stop the active perfmon before being destroyed\n  drm/i915/hdcp: fix connector refcounting\n  drm/nouveau/gsp: remove extraneous ; after mutex\n  drm/xe: Drop GuC submit_wq pool\n  drm/sched: Use drm sched lockdep map for submit_wq",
  "full_message": "Merge tag 'drm-fixes-2024-10-11' of https://gitlab.freedesktop.org/drm/kernel\n\nPull drm fixes from Dave Airlie:\n \"Weekly fixes haul for drm, lots of small fixes all over, amdgpu, xe\n  lead the way, some minor nouveau and radeon fixes, and then a bunch of\n  misc all over.\n\n  Nothing too scary or out of the unusual.\n\n  sched:\n   - Avoid leaking lockdep map\n\n  fbdev-dma:\n   - Only clean up deferred I/O if instanciated\n\n  amdgpu:\n   - Fix invalid UBSAN warnings\n   - Fix artifacts in MPO transitions\n   - Hibernation fix\n\n  amdkfd:\n   - Fix an eviction fence leak\n\n  radeon:\n   - Add late register for connectors\n   - Always set GEM function pointers\n\n  i915:\n   - HDCP refcount fix\n\n  nouveau:\n   - dmem: Fix privileged error in copy engine channel; Fix possible\n     data leak in migrate_to_ram()\n   - gsp: Fix coding style\n\n  v3d:\n   - Stop active perfmon before destroying it\n\n  vc4:\n   - Stop active perfmon before destroying it\n\n  xe:\n   - Drop GuC submit_wq pool\n   - Fix error checking with xa_store()\n   - Fix missing freq restore on GSC load error\n   - Fix wedged_mode file permission\n   - Fix use-after-free in ct communication\"\n\n* tag 'drm-fixes-2024-10-11' of https://gitlab.freedesktop.org/drm/kernel:\n  drm/fbdev-dma: Only cleanup deferred I/O if necessary\n  drm/xe: Make wedged_mode debugfs writable\n  drm/xe: Restore GT freq on GSC load error\n  drm/xe/guc_submit: fix xa_store() error checking\n  drm/xe/ct: fix xa_store() error checking\n  drm/xe/ct: prevent UAF in send_recv()\n  drm/radeon: always set GEM function pointer\n  nouveau/dmem: Fix vulnerability in migrate_to_ram upon copy error\n  nouveau/dmem: Fix privileged error in copy engine channel\n  drm/amd/display: fix hibernate entry for DCN35+\n  drm/amd/display: Clear update flags after update has been applied\n  drm/amdgpu: partially revert powerplay `__counted_by` changes\n  drm/radeon: add late_register for connector\n  drm/amdkfd: Fix an eviction fence leak\n  drm/vc4: Stop the active perfmon before being destroyed\n  drm/v3d: Stop the active perfmon before being destroyed\n  drm/i915/hdcp: fix connector refcounting\n  drm/nouveau/gsp: remove extraneous ; after mutex\n  drm/xe: Drop GuC submit_wq pool\n  drm/sched: Use drm sched lockdep map for submit_wq",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri Oct 11 11:13:05 2024 -0700",
  "author_date_iso": "2024-10-11T11:13:05-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri Oct 11 11:13:05 2024 -0700",
  "committer_date_iso": "2024-10-11T11:13:05-07:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gpuvm.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/amd/amdkfd/kfd_process.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/amd/display/dc/core/dc.c",
      "insertions": 34,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/amd/pm/powerplay/inc/hwmgr.h",
      "insertions": 13,
      "deletions": 13
    },
    {
      "file": "drivers/gpu/drm/drm_fbdev_dma.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hdcp.c",
      "insertions": 7,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/nouveau/include/nvkm/subdev/gsp.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/nouveau/nouveau_dmem.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/nouveau/nouveau_drm.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/radeon/atombios_dp.c",
      "insertions": 2,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/radeon/radeon_connectors.c",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/radeon/radeon_gem.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/radeon/radeon_object.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/scheduler/sched_main.c",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/v3d/v3d_perfmon.c",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/vc4/vc4_perfmon.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/xe/xe_debugfs.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/xe/xe_gt.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/xe/xe_guc_ct.c",
      "insertions": 26,
      "deletions": 18
    },
    {
      "file": "drivers/gpu/drm/xe/xe_guc_submit.c",
      "insertions": 4,
      "deletions": 81
    },
    {
      "file": "drivers/gpu/drm/xe/xe_guc_types.h",
      "insertions": 0,
      "deletions": 7
    }
  ],
  "total_insertions": 149,
  "total_deletions": 158,
  "total_changes": 307,
  "parents": [
    "1d227fcc72223cbdd34d0ce13541cbaab5e0d72f",
    "ac44ff7cec33d5c2d4b72d52603552ec64c1a8bf"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": []
}