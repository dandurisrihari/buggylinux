{
  "hash": "3edede08ff37c6a9370510508d5eeb54890baf47",
  "hash_short": "3edede08",
  "subject": "ipv6: ioam: Support for IOAM injection with lwtunnels",
  "body": "Add support for the IOAM inline insertion (only for the host-to-host use case)\nwhich is per-route configured with lightweight tunnels. The target is iproute2\nand the patch is ready. It will be posted as soon as this patchset is merged.\nHere is an overview:\n\n$ ip -6 ro ad fc00::1/128 encap ioam6 trace type 0x800000 ns 1 size 12 dev eth0\n\nThis example configures an IOAM Pre-allocated Trace option attached to the\nfc00::1/128 prefix. The IOAM namespace (ns) is 1, the size of the pre-allocated\ntrace data block is 12 octets (size) and only the first IOAM data (bit 0:\nhop_limit + node id) is included in the trace (type) represented as a bitfield.\n\nThe reason why the in-transit (IPv6-in-IPv6 encapsulation) use case is not\nimplemented is explained on the patchset cover.\n\nSigned-off-by: Justin Iurman <justin.iurman@uliege.be>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "full_message": "ipv6: ioam: Support for IOAM injection with lwtunnels\n\nAdd support for the IOAM inline insertion (only for the host-to-host use case)\nwhich is per-route configured with lightweight tunnels. The target is iproute2\nand the patch is ready. It will be posted as soon as this patchset is merged.\nHere is an overview:\n\n$ ip -6 ro ad fc00::1/128 encap ioam6 trace type 0x800000 ns 1 size 12 dev eth0\n\nThis example configures an IOAM Pre-allocated Trace option attached to the\nfc00::1/128 prefix. The IOAM namespace (ns) is 1, the size of the pre-allocated\ntrace data block is 12 octets (size) and only the first IOAM data (bit 0:\nhop_limit + node id) is included in the trace (type) represented as a bitfield.\n\nThe reason why the in-transit (IPv6-in-IPv6 encapsulation) use case is not\nimplemented is explained on the patchset cover.\n\nSigned-off-by: Justin Iurman <justin.iurman@uliege.be>\nSigned-off-by: David S. Miller <davem@davemloft.net>",
  "author_name": "Justin Iurman",
  "author_email": "justin.iurman@uliege.be",
  "author_date": "Tue Jul 20 21:42:59 2021 +0200",
  "author_date_iso": "2021-07-20T21:42:59+02:00",
  "committer_name": "David S. Miller",
  "committer_email": "davem@davemloft.net",
  "committer_date": "Wed Jul 21 08:14:33 2021 -0700",
  "committer_date_iso": "2021-07-21T08:14:33-07:00",
  "files_changed": [
    "include/linux/ioam6_iptunnel.h",
    "include/net/ioam6.h",
    "include/uapi/linux/ioam6.h",
    "include/uapi/linux/ioam6_iptunnel.h",
    "include/uapi/linux/lwtunnel.h",
    "net/core/lwtunnel.c",
    "net/ipv6/Kconfig",
    "net/ipv6/Makefile",
    "net/ipv6/ioam6.c",
    "net/ipv6/ioam6_iptunnel.c"
  ],
  "files_changed_count": 10,
  "stats": [
    {
      "file": "include/linux/ioam6_iptunnel.h",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "include/net/ioam6.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/ioam6.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/ioam6_iptunnel.h",
      "insertions": 20,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/lwtunnel.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/core/lwtunnel.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/ipv6/Kconfig",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "net/ipv6/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/ipv6/ioam6.c",
      "insertions": 32,
      "deletions": 12
    },
    {
      "file": "net/ipv6/ioam6_iptunnel.c",
      "insertions": 274,
      "deletions": 0
    }
  ],
  "total_insertions": 358,
  "total_deletions": 12,
  "total_changes": 370,
  "parents": [
    "8c6f6fa6772696be0c047a711858084b38763728"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/uapi/linux/ioam6.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/ioam6_iptunnel.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/net/ioam6.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/core/lwtunnel.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/ioam6_iptunnel.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/ipv6/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/ipv6/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/lwtunnel.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/ipv6/ioam6.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/ipv6/ioam6_iptunnel.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}