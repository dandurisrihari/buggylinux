Commit Hash: 03b82a30ea8b26199901b219848d706dbd70c609
Subject: KVM: x86: Do not return soft events in vcpu_events


Security Keywords:
- injection

Full commit message:
KVM: x86: Do not return soft events in vcpu_events

To avoid that user space migrates a pending software exception or
interrupt, mask them out on KVM_GET_VCPU_EVENTS. Without this, user
space would try to reinject them, and we would have to reconstruct the
proper instruction length for VMX event injection. Now the pending event
will be reinjected via executing the triggering instruction again.

Signed-off-by: Jan Kiszka <jan.kiszka@siemens.com>
Signed-off-by: Avi Kivity <avi@redhat.com>

Metadata:
Author: Jan Kiszka <jan.kiszka@siemens.com>
Author Date: Mon Feb 15 10:45:41 2010 +0100
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Sun Apr 25 12:38:14 2010 +0300

Files Changed: 1
Lines Added: 6
Lines Removed: 3
Total Changes: 9
