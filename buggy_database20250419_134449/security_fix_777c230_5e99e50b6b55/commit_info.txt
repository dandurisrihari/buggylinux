Commit Hash: 777c2300865cb9b1b1791862ed23da677abfe6dc
Subject: cxgb4: fix error recovery when t4_fw_hello returns a positive value


Security Keywords:
- injection

Full commit message:
cxgb4: fix error recovery when t4_fw_hello returns a positive value

Since commit 636f9d371f70f22961fd598fe18380057518ca31 ("cxgb4: Add
support for T4 configuration file"), t4_fw_hello may return a positive
value instead of 0 for success. The recovery code tests only for zero
and fails recovery for any other value.

This fix tests for negative error values and fails only on those cases.
Error recovery after an error injection works after this change.

Signed-off-by: Thadeu Lima de Souza Cascardo <cascardo@linux.vnet.ibm.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Metadata:
Author: Thadeu Lima de Souza Cascardo <cascardo@linux.vnet.ibm.com>
Author Date: Fri May 3 08:11:04 2013 +0000
Committer: David S. Miller <davem@davemloft.net>
Commit Date: Fri May 3 16:10:34 2013 -0400

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
