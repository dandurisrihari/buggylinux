Commit Hash: 03bbfee58d440f5dc2e880944ab75fc644534794
Subject: cciss: add SG_IO ioctl to cciss


Security Keywords:
- exploit

Full commit message:
cciss: add SG_IO ioctl to cciss

For all of you that think cciss should be a scsi driver here is the patch that
you have been waiting for all these years. This patch actually adds the SG_IO
ioctl to cciss. The primary purpose is for clustering and high-availibilty.
But now anyone can exploit this ioctl in any manner they wish.

Note, SCSI_IOCTL_SEND_COMMAND doesn't work with this patch due to rq->errors
being set incorrectly.  Subsequent patch fixes that.

Signed-off-by: Stephen M. Cameron <steve.cameron@hp.com>
Signed-off-by: Mike Miller <mike.miller@hp.com>
Cc: James Bottomley <James.Bottomley@steeleye.com>
Cc: Jens Axboe <jens.axboe@oracle.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Metadata:
Author: Mike Miller (OS Dev) <mikem@beardog.cca.cpqcorp.net>
Author Date: Tue May 8 00:29:32 2007 -0700
Committer: Linus Torvalds <torvalds@woody.linux-foundation.org>
Commit Date: Tue May 8 11:15:09 2007 -0700

Files Changed: 1
Lines Added: 111
Lines Removed: 53
Total Changes: 164
