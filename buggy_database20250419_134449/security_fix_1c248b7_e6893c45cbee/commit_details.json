{
  "hash": "1c248b7d2960faec3e1b8f3f9c5d9d0df28e0a3c",
  "hash_short": "1c248b7d",
  "subject": "DRM: add DRM Driver for Samsung SoC EXYNOS4210.",
  "body": "This patch is a DRM Driver for Samsung SoC Exynos4210 and now enables\nonly FIMD yet but we will add HDMI support also in the future.\n\nthis patch is based on git repository below:\ngit://people.freedesktop.org/~airlied/linux.git\nbranch name: drm-next\ncommit-id: 88ef4e3f4f616462b78a7838eb3ffc3818d30f67\n\nyou can refer to our working repository below:\nhttp://git.infradead.org/users/kmpark/linux-2.6-samsung\nbranch name: samsung-drm\n\nWe tried to re-use lowlevel codes of the FIMD driver(s3c-fb.c\nbased on Linux framebuffer) but couldn't so because lowlevel codes\nof s3c-fb.c are included internally and so FIMD module of this driver has\nits own lowlevel codes.\n\nWe used GEM framework for buffer management and DMA APIs(dma_alloc_*)\nfor buffer allocation so we can allocate physically continuous memory\nfor DMA through it and also we could use CMA later if CMA is applied to\nmainline.\n\nRefer to this link for CMA(Continuous Memory Allocator):\nhttp://lkml.org/lkml/2011/7/20/45\n\nthis driver supports only physically continuous memory(non-iommu).\n\nLinks to previous versions of the patchset:\nv1: < https://lwn.net/Articles/454380/ >\nv2: < http://www.spinics.net/lists/kernel/msg1224275.html >\nv3: < http://www.spinics.net/lists/dri-devel/msg13755.html >\nv4: < http://permalink.gmane.org/gmane.comp.video.dri.devel/60439 >\nv5: < http://comments.gmane.org/gmane.comp.video.dri.devel/60802 >\n\nChangelog v2:\nDRM: add DRM_IOCTL_SAMSUNG_GEM_MMAP ioctl command.\n\n    this feature maps user address space to physical memory region\n    once user application requests DRM_IOCTL_SAMSUNG_GEM_MMAP ioctl.\n\nDRM: code clean and add exception codes.\n\nChangelog v3:\nDRM: Support multiple irq.\n\n    FIMD and HDMI have their own irq handler but DRM Framework can regiter\n    only one irq handler this patch supports mutiple irq for Samsung SoC.\n\nDRM: Consider modularization.\n\n    each DRM, FIMD could be built as a module.\n\nDRM: Have indenpendent crtc object.\n\n    crtc isn't specific to SoC Platform so this patch gets a crtc\n    to be used as common object.\n    created crtc could be attached to any encoder object.\n\nDRM: code clean and add exception codes.\n\nChangelog v4:\nDRM: remove is_defult from samsung_fb.\n\n    is_default isn't used for default framebuffer.\n\nDRM: code refactoring to fimd module.\n    this patch is be considered with multiple display objects and\n    would use its own request_irq() to register a irq handler instead of\n    drm framework's one.\n\nDRM: remove find_samsung_drm_gem_object()\n\nDRM: move kernel private data structures and definitions to driver folder.\n\n    samsung_drm.h would contain only public information for userspace\n    ioctl interface.\n\nDRM: code refactoring to gem modules.\n    buffer module isn't dependent of gem module anymore.\n\nDRM: fixed security issue.\n\nDRM: remove encoder porinter from specific connector.\n\n    samsung connector doesn't need to have generic encoder.\n\nDRM: code clean and add exception codes.\n\nChangelog v5:\nDRM: updated fimd(display controller) driver.\n    added various pixel formats, color key and pixel blending features.\n\nDRM: removed end_buf_off from samsung_drm_overlay structure.\n    this variable isn't used and end buffer address would be\n    calculated by each sub driver.\n\nDRM: use generic function for mmap_offset.\n    replaced samsung_drm_gem_create_mmap_offset() and\n    samsung_drm_free_mmap_offset() with generic ones applied\n    to mainline recentrly.\n\nDRM: removed unnecessary codes and added exception codes.\n\nDRM: added comments and code clean.\n\nChangelog v6:\nDRM: added default config options.\n\nDRM: added padding for 64-bit align.\n\nDRM: changed prefix 'samsung' to 'exynos'\n\nSigned-off-by: Inki Dae <inki.dae@samsung.com>\nSigned-off-by: Joonyoung Shim <jy0922.shim@samsung.com>\nSigned-off-by: Seung-Woo Kim <sw0312.kim@samsung.com>\nSigned-off-by: Kyungmin Park <kyungmin.park@samsung.com>\nReviewed-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>\nReviewed-by: Dave Airlie <airlied@redhat.com>\nReviewed-by: Rob Clark <robdclark@gmail.com>\nSigned-off-by: Dave Airlie <airlied@redhat.com>",
  "full_message": "DRM: add DRM Driver for Samsung SoC EXYNOS4210.\n\nThis patch is a DRM Driver for Samsung SoC Exynos4210 and now enables\nonly FIMD yet but we will add HDMI support also in the future.\n\nthis patch is based on git repository below:\ngit://people.freedesktop.org/~airlied/linux.git\nbranch name: drm-next\ncommit-id: 88ef4e3f4f616462b78a7838eb3ffc3818d30f67\n\nyou can refer to our working repository below:\nhttp://git.infradead.org/users/kmpark/linux-2.6-samsung\nbranch name: samsung-drm\n\nWe tried to re-use lowlevel codes of the FIMD driver(s3c-fb.c\nbased on Linux framebuffer) but couldn't so because lowlevel codes\nof s3c-fb.c are included internally and so FIMD module of this driver has\nits own lowlevel codes.\n\nWe used GEM framework for buffer management and DMA APIs(dma_alloc_*)\nfor buffer allocation so we can allocate physically continuous memory\nfor DMA through it and also we could use CMA later if CMA is applied to\nmainline.\n\nRefer to this link for CMA(Continuous Memory Allocator):\nhttp://lkml.org/lkml/2011/7/20/45\n\nthis driver supports only physically continuous memory(non-iommu).\n\nLinks to previous versions of the patchset:\nv1: < https://lwn.net/Articles/454380/ >\nv2: < http://www.spinics.net/lists/kernel/msg1224275.html >\nv3: < http://www.spinics.net/lists/dri-devel/msg13755.html >\nv4: < http://permalink.gmane.org/gmane.comp.video.dri.devel/60439 >\nv5: < http://comments.gmane.org/gmane.comp.video.dri.devel/60802 >\n\nChangelog v2:\nDRM: add DRM_IOCTL_SAMSUNG_GEM_MMAP ioctl command.\n\n    this feature maps user address space to physical memory region\n    once user application requests DRM_IOCTL_SAMSUNG_GEM_MMAP ioctl.\n\nDRM: code clean and add exception codes.\n\nChangelog v3:\nDRM: Support multiple irq.\n\n    FIMD and HDMI have their own irq handler but DRM Framework can regiter\n    only one irq handler this patch supports mutiple irq for Samsung SoC.\n\nDRM: Consider modularization.\n\n    each DRM, FIMD could be built as a module.\n\nDRM: Have indenpendent crtc object.\n\n    crtc isn't specific to SoC Platform so this patch gets a crtc\n    to be used as common object.\n    created crtc could be attached to any encoder object.\n\nDRM: code clean and add exception codes.\n\nChangelog v4:\nDRM: remove is_defult from samsung_fb.\n\n    is_default isn't used for default framebuffer.\n\nDRM: code refactoring to fimd module.\n    this patch is be considered with multiple display objects and\n    would use its own request_irq() to register a irq handler instead of\n    drm framework's one.\n\nDRM: remove find_samsung_drm_gem_object()\n\nDRM: move kernel private data structures and definitions to driver folder.\n\n    samsung_drm.h would contain only public information for userspace\n    ioctl interface.\n\nDRM: code refactoring to gem modules.\n    buffer module isn't dependent of gem module anymore.\n\nDRM: fixed security issue.\n\nDRM: remove encoder porinter from specific connector.\n\n    samsung connector doesn't need to have generic encoder.\n\nDRM: code clean and add exception codes.\n\nChangelog v5:\nDRM: updated fimd(display controller) driver.\n    added various pixel formats, color key and pixel blending features.\n\nDRM: removed end_buf_off from samsung_drm_overlay structure.\n    this variable isn't used and end buffer address would be\n    calculated by each sub driver.\n\nDRM: use generic function for mmap_offset.\n    replaced samsung_drm_gem_create_mmap_offset() and\n    samsung_drm_free_mmap_offset() with generic ones applied\n    to mainline recentrly.\n\nDRM: removed unnecessary codes and added exception codes.\n\nDRM: added comments and code clean.\n\nChangelog v6:\nDRM: added default config options.\n\nDRM: added padding for 64-bit align.\n\nDRM: changed prefix 'samsung' to 'exynos'\n\nSigned-off-by: Inki Dae <inki.dae@samsung.com>\nSigned-off-by: Joonyoung Shim <jy0922.shim@samsung.com>\nSigned-off-by: Seung-Woo Kim <sw0312.kim@samsung.com>\nSigned-off-by: Kyungmin Park <kyungmin.park@samsung.com>\nReviewed-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>\nReviewed-by: Dave Airlie <airlied@redhat.com>\nReviewed-by: Rob Clark <robdclark@gmail.com>\nSigned-off-by: Dave Airlie <airlied@redhat.com>",
  "author_name": "Inki Dae",
  "author_email": "inki.dae@samsung.com",
  "author_date": "Tue Oct 4 19:19:01 2011 +0900",
  "author_date_iso": "2011-10-04T19:19:01+09:00",
  "committer_name": "Dave Airlie",
  "committer_email": "airlied@redhat.com",
  "committer_date": "Wed Oct 5 10:27:31 2011 +0100",
  "committer_date_iso": "2011-10-05T10:27:31+01:00",
  "files_changed": [
    "drivers/gpu/drm/Kconfig",
    "drivers/gpu/drm/Makefile",
    "drivers/gpu/drm/exynos/Kconfig",
    "drivers/gpu/drm/exynos/Makefile",
    "drivers/gpu/drm/exynos/exynos_drm_buf.c",
    "drivers/gpu/drm/exynos/exynos_drm_buf.h",
    "drivers/gpu/drm/exynos/exynos_drm_connector.c",
    "drivers/gpu/drm/exynos/exynos_drm_connector.h",
    "drivers/gpu/drm/exynos/exynos_drm_core.c",
    "drivers/gpu/drm/exynos/exynos_drm_crtc.c",
    "drivers/gpu/drm/exynos/exynos_drm_crtc.h",
    "drivers/gpu/drm/exynos/exynos_drm_drv.c",
    "drivers/gpu/drm/exynos/exynos_drm_drv.h",
    "drivers/gpu/drm/exynos/exynos_drm_encoder.c",
    "drivers/gpu/drm/exynos/exynos_drm_encoder.h",
    "drivers/gpu/drm/exynos/exynos_drm_fb.c",
    "drivers/gpu/drm/exynos/exynos_drm_fb.h",
    "drivers/gpu/drm/exynos/exynos_drm_fbdev.c",
    "drivers/gpu/drm/exynos/exynos_drm_fbdev.h",
    "drivers/gpu/drm/exynos/exynos_drm_fimd.c",
    "drivers/gpu/drm/exynos/exynos_drm_gem.c",
    "drivers/gpu/drm/exynos/exynos_drm_gem.h",
    "include/drm/exynos_drm.h"
  ],
  "files_changed_count": 23,
  "stats": [
    {
      "file": "drivers/gpu/drm/Kconfig",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/Kconfig",
      "insertions": 20,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/Makefile",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_buf.c",
      "insertions": 110,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_buf.h",
      "insertions": 50,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_connector.c",
      "insertions": 293,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_connector.h",
      "insertions": 34,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_core.c",
      "insertions": 272,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_crtc.c",
      "insertions": 344,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_crtc.h",
      "insertions": 39,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_drv.c",
      "insertions": 230,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_drv.h",
      "insertions": 242,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_encoder.c",
      "insertions": 271,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_encoder.h",
      "insertions": 45,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fb.c",
      "insertions": 271,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fb.h",
      "insertions": 47,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fbdev.c",
      "insertions": 441,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fbdev.h",
      "insertions": 37,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fimd.c",
      "insertions": 796,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_gem.c",
      "insertions": 415,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_gem.h",
      "insertions": 107,
      "deletions": 0
    },
    {
      "file": "include/drm/exynos_drm.h",
      "insertions": 104,
      "deletions": 0
    }
  ],
  "total_insertions": 4182,
  "total_deletions": 0,
  "total_changes": 4182,
  "parents": [
    "5383053627afab973ffe582a4db9646317bec726"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "security issue"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_buf.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_core.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_connector.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_buf.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_connector.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_encoder.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_crtc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_drv.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_drv.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_crtc.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_encoder.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fb.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fb.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fbdev.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fbdev.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_fimd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_gem.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/drm/exynos_drm.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/exynos/exynos_drm_gem.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}