{
  "hash": "886e3b7fe6054230c89ae078a09565ed183ecc73",
  "hash_short": "886e3b7f",
  "subject": "nfsd4: fix null dereference creating nfsv4 callback client",
  "body": "On setting up the callback to the client, we attempt to use the same\nauthentication flavor the client did.  We find an rpc cred to use by\ncalling rpcauth_lookup_credcache(), which assumes that the given\nauthentication flavor has a credentials cache.  However, this is not\nrequired to be true--in particular, auth_null does not use one.\nInstead, we should call the auth's lookup_cred() method.\n\nWithout this, a client attempting to mount using nfsv4 and auth_null\ntriggers a null dereference.\n\nCc: stable@kernel.org\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>",
  "full_message": "nfsd4: fix null dereference creating nfsv4 callback client\n\nOn setting up the callback to the client, we attempt to use the same\nauthentication flavor the client did.  We find an rpc cred to use by\ncalling rpcauth_lookup_credcache(), which assumes that the given\nauthentication flavor has a credentials cache.  However, this is not\nrequired to be true--in particular, auth_null does not use one.\nInstead, we should call the auth's lookup_cred() method.\n\nWithout this, a client attempting to mount using nfsv4 and auth_null\ntriggers a null dereference.\n\nCc: stable@kernel.org\nSigned-off-by: J. Bruce Fields <bfields@citi.umich.edu>",
  "author_name": "J. Bruce Fields",
  "author_email": "bfields@citi.umich.edu",
  "author_date": "Tue Sep 15 12:22:42 2009 -0400",
  "author_date_iso": "2009-09-15T12:22:42-04:00",
  "committer_name": "J. Bruce Fields",
  "committer_email": "bfields@citi.umich.edu",
  "committer_date": "Tue Sep 15 20:49:33 2009 -0400",
  "committer_date_iso": "2009-09-15T20:49:33-04:00",
  "files_changed": [
    "fs/nfsd/nfs4callback.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/nfsd/nfs4callback.c",
      "insertions": 2,
      "deletions": 2
    }
  ],
  "total_insertions": 2,
  "total_deletions": 2,
  "total_changes": 4,
  "parents": [
    "4be36ca0cefc09725f52a9590d061399d3e524d7"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.32",
    "v2.6.32-rc1",
    "v2.6.32-rc2",
    "v2.6.32-rc3",
    "v2.6.32-rc4",
    "v2.6.32-rc5",
    "v2.6.32-rc6",
    "v2.6.32-rc7",
    "v2.6.32-rc8",
    "v2.6.33"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/nfsd/nfs4callback.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}