{
  "hash": "8a05abd0c93841a7bbcf777ec1677a1ad9155793",
  "hash_short": "8a05abd0",
  "subject": "Merge tag 'ceph-for-5.15-rc1' of git://github.com/ceph/ceph-client",
  "body": "Pull ceph updates from Ilya Dryomov:\n\n - a set of patches to address fsync stalls caused by depending on\n   periodic rather than triggered MDS journal flushes in some cases\n   (Xiubo Li)\n\n - a fix for mtime effectively not getting updated in case of competing\n   writers (Jeff Layton)\n\n - a couple of fixes for inode reference leaks and various WARNs after\n   \"umount -f\" (Xiubo Li)\n\n - a new ceph.auth_mds extended attribute (Jeff Layton)\n\n - a smattering of fixups and cleanups from Jeff, Xiubo and Colin.\n\n* tag 'ceph-for-5.15-rc1' of git://github.com/ceph/ceph-client:\n  ceph: fix dereference of null pointer cf\n  ceph: drop the mdsc_get_session/put_session dout messages\n  ceph: lockdep annotations for try_nonblocking_invalidate\n  ceph: don't WARN if we're forcibly removing the session caps\n  ceph: don't WARN if we're force umounting\n  ceph: remove the capsnaps when removing caps\n  ceph: request Fw caps before updating the mtime in ceph_write_iter\n  ceph: reconnect to the export targets on new mdsmaps\n  ceph: print more information when we can't find snaprealm\n  ceph: add ceph_change_snap_realm() helper\n  ceph: remove redundant initializations from mdsc and session\n  ceph: cancel delayed work instead of flushing on mdsc teardown\n  ceph: add a new vxattr to return auth mds for an inode\n  ceph: remove some defunct forward declarations\n  ceph: flush the mdlog before waiting on unsafe reqs\n  ceph: flush mdlog before umounting\n  ceph: make iterate_sessions a global symbol\n  ceph: make ceph_create_session_msg a global symbol\n  ceph: fix comment about short copies in ceph_write_end\n  ceph: fix memory leak on decode error in ceph_handle_caps",
  "full_message": "Merge tag 'ceph-for-5.15-rc1' of git://github.com/ceph/ceph-client\n\nPull ceph updates from Ilya Dryomov:\n\n - a set of patches to address fsync stalls caused by depending on\n   periodic rather than triggered MDS journal flushes in some cases\n   (Xiubo Li)\n\n - a fix for mtime effectively not getting updated in case of competing\n   writers (Jeff Layton)\n\n - a couple of fixes for inode reference leaks and various WARNs after\n   \"umount -f\" (Xiubo Li)\n\n - a new ceph.auth_mds extended attribute (Jeff Layton)\n\n - a smattering of fixups and cleanups from Jeff, Xiubo and Colin.\n\n* tag 'ceph-for-5.15-rc1' of git://github.com/ceph/ceph-client:\n  ceph: fix dereference of null pointer cf\n  ceph: drop the mdsc_get_session/put_session dout messages\n  ceph: lockdep annotations for try_nonblocking_invalidate\n  ceph: don't WARN if we're forcibly removing the session caps\n  ceph: don't WARN if we're force umounting\n  ceph: remove the capsnaps when removing caps\n  ceph: request Fw caps before updating the mtime in ceph_write_iter\n  ceph: reconnect to the export targets on new mdsmaps\n  ceph: print more information when we can't find snaprealm\n  ceph: add ceph_change_snap_realm() helper\n  ceph: remove redundant initializations from mdsc and session\n  ceph: cancel delayed work instead of flushing on mdsc teardown\n  ceph: add a new vxattr to return auth mds for an inode\n  ceph: remove some defunct forward declarations\n  ceph: flush the mdlog before waiting on unsafe reqs\n  ceph: flush mdlog before umounting\n  ceph: make iterate_sessions a global symbol\n  ceph: make ceph_create_session_msg a global symbol\n  ceph: fix comment about short copies in ceph_write_end\n  ceph: fix memory leak on decode error in ceph_handle_caps",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Wed Sep 8 15:50:32 2021 -0700",
  "author_date_iso": "2021-09-08T15:50:32-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Wed Sep 8 15:50:32 2021 -0700",
  "committer_date_iso": "2021-09-08T15:50:32-07:00",
  "files_changed": [
    "fs/ceph/addr.c",
    "fs/ceph/file.c",
    "fs/ceph/super.h"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "fs/ceph/addr.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/ceph/cache.h",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "fs/ceph/caps.c",
      "insertions": 174,
      "deletions": 92
    },
    {
      "file": "fs/ceph/file.c",
      "insertions": 17,
      "deletions": 15
    },
    {
      "file": "fs/ceph/inode.c",
      "insertions": 2,
      "deletions": 9
    },
    {
      "file": "fs/ceph/mds_client.c",
      "insertions": 160,
      "deletions": 58
    },
    {
      "file": "fs/ceph/mds_client.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "fs/ceph/mdsmap.c",
      "insertions": 9,
      "deletions": 3
    },
    {
      "file": "fs/ceph/metric.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "fs/ceph/snap.c",
      "insertions": 39,
      "deletions": 20
    },
    {
      "file": "fs/ceph/strings.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/ceph/super.h",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "fs/ceph/xattr.c",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "include/linux/ceph/ceph_fs.h",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 438,
  "total_deletions": 207,
  "total_changes": 645,
  "parents": [
    "34c59da47329ac50b9700035e0c3a829e6c3c183",
    "05a444d3f90a3c3e6362e88a1bf13e1a60f8cace"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/ceph/addr.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ceph/file.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ceph/super.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}