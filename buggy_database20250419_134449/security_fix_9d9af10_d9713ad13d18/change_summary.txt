Files changed: 6
Insertions: 10449
Deletions: 5719
Total changes: 16168

File-specific changes:
tools/build/Makefile.feature: +4 -3
tools/build/feature/Makefile: +5 -1
tools/build/feature/test-all.c: +5 -10
tools/build/feature/test-libbfd-buildid.c: +8 -0
tools/lib/perf/evlist.c: +3 -0
tools/lib/perf/include/perf/event.h: +15 -1
tools/lib/traceevent/event-parse-api.c: +4 -4
tools/lib/traceevent/event-parse-local.h: +17 -7
tools/lib/traceevent/event-parse.c: +52 -73
tools/lib/traceevent/event-parse.h: +0 -8
tools/lib/traceevent/event-plugin.c: +1 -1
tools/lib/traceevent/parse-filter.c: +9 -14
tools/perf/Documentation/perf-c2c.txt: +18 -16
tools/perf/Documentation/perf-config.txt: +5 -0
tools/perf/Documentation/perf-diff.txt: +4 -0
tools/perf/Documentation/perf-ftrace.txt: +2 -1
tools/perf/Documentation/perf-inject.txt: +5 -1
tools/perf/Documentation/perf-intel-pt.txt: +50 -3
tools/perf/Documentation/perf-list.txt: +1 -0
tools/perf/Documentation/perf-record.txt: +29 -27
tools/perf/Documentation/perf-stat.txt: +35 -25
tools/perf/Documentation/perf.txt: +47 -22
tools/perf/Documentation/topdown.txt: +256 -0
tools/perf/Makefile.config: +18 -7
tools/perf/Makefile.perf: +21 -3
tools/perf/arch/arm64/util/Build: +1 -0
tools/perf/arch/arm64/util/tsc.c: +21 -0
tools/perf/arch/powerpc/util/header.c: +5 -2
tools/perf/arch/x86/annotate/instructions.c: +1 -0
tools/perf/arch/x86/util/Build: +1 -1
tools/perf/arch/x86/util/group.c: +0 -28
tools/perf/arch/x86/util/topdown.c: +63 -0
tools/perf/arch/x86/util/tsc.c: +1 -72
tools/perf/bench/Build: +1 -0
tools/perf/bench/bench.h: +1 -0
tools/perf/bench/inject-buildid.c: +476 -0
tools/perf/bench/numa.c: +46 -21
tools/perf/builtin-bench.c: +1 -0
tools/perf/builtin-buildid-cache.c: +12 -13
tools/perf/builtin-c2c.c: +19 -66
tools/perf/builtin-diff.c: +106 -13
tools/perf/builtin-ftrace.c: +78 -6
tools/perf/builtin-inject.c: +162 -41
tools/perf/builtin-list.c: +0 -7
tools/perf/builtin-record.c: +34 -34
tools/perf/builtin-sched.c: +14 -10
tools/perf/builtin-script.c: +6 -4
tools/perf/builtin-stat.c: +63 -73
tools/perf/builtin-trace.c: +5 -1
tools/perf/builtin-version.c: +0 -1
tools/perf/check-headers.sh: +20 -2
tools/perf/perf-sys.h: +2 -20
tools/perf/pmu-events/arch/powerpc/power8/cache.json: +5 -5
tools/perf/pmu-events/arch/powerpc/power8/frontend.json: +6 -6
tools/perf/pmu-events/arch/powerpc/power8/marked.json: +5 -5
tools/perf/pmu-events/arch/powerpc/power8/other.json: +8 -8
tools/perf/pmu-events/arch/powerpc/power8/translation.json: +1 -1
tools/perf/pmu-events/arch/powerpc/power9/nest_metrics.json: +22 -13
tools/perf/pmu-events/arch/x86/amdzen1/branch.json: +5 -0
tools/perf/pmu-events/arch/x86/amdzen1/cache.json: +41 -0
tools/perf/pmu-events/arch/x86/amdzen1/data-fabric.json: +98 -0
tools/perf/pmu-events/arch/x86/amdzen1/recommended.json: +178 -0
tools/perf/pmu-events/arch/x86/amdzen2/cache.json: +23 -0
tools/perf/pmu-events/arch/x86/amdzen2/data-fabric.json: +98 -0
tools/perf/pmu-events/arch/x86/amdzen2/recommended.json: +178 -0
tools/perf/pmu-events/arch/x86/cascadelakex/cache.json: +14 -14
tools/perf/pmu-events/arch/x86/cascadelakex/clx-metrics.json: +86 -67
tools/perf/pmu-events/arch/x86/cascadelakex/frontend.json: +34 -0
tools/perf/pmu-events/arch/x86/cascadelakex/memory.json: +356 -348
tools/perf/pmu-events/arch/x86/cascadelakex/other.json: +550 -550
tools/perf/pmu-events/arch/x86/cascadelakex/pipeline.json: +0 -10
tools/perf/pmu-events/arch/x86/cascadelakex/uncore-memory.json: +6 -6
tools/perf/pmu-events/arch/x86/cascadelakex/uncore-other.json: +21 -0
tools/perf/pmu-events/arch/x86/mapfile.csv: +1 -0
tools/perf/pmu-events/arch/x86/skylakex/cache.json: +1180 -1168
tools/perf/pmu-events/arch/x86/skylakex/floating-point.json: +48 -48
tools/perf/pmu-events/arch/x86/skylakex/frontend.json: +345 -311
tools/perf/pmu-events/arch/x86/skylakex/memory.json: +992 -985
tools/perf/pmu-events/arch/x86/skylakex/other.json: +62 -110
tools/perf/pmu-events/arch/x86/skylakex/pipeline.json: +599 -607
tools/perf/pmu-events/arch/x86/skylakex/skx-metrics.json: +77 -64
tools/perf/pmu-events/arch/x86/skylakex/uncore-memory.json: +8 -18
tools/perf/pmu-events/arch/x86/skylakex/uncore-other.json: +647 -83
tools/perf/pmu-events/arch/x86/skylakex/virtual-memory.json: +179 -179
tools/perf/pmu-events/jevents.c: +117 -120
tools/perf/pmu-events/jevents.h: +0 -23
tools/perf/pmu-events/pmu-events.h: +6 -0
tools/perf/scripts/python/futex-contention.py: +28 -23
tools/perf/tests/Build: +2 -0
tools/perf/tests/attr.c: +1 -1
tools/perf/tests/builtin-test.c: +8 -0
tools/perf/tests/expand-cgroup.c: +241 -0
tools/perf/tests/make: +2 -0
tools/perf/tests/parse-events.c: +57 -1
tools/perf/tests/parse-metric.c: +1 -3
tools/perf/tests/pe-file-parsing.c: +98 -0
tools/perf/tests/pe-file.c: +14 -0
tools/perf/tests/pe-file.exe: +0 -0
tools/perf/tests/pe-file.exe.debug: +0 -0
tools/perf/tests/python-use.c: +1 -0
tools/perf/tests/sdt.c: +3 -3
tools/perf/tests/shell/buildid.sh: +101 -0
tools/perf/tests/shell/test_arm_coresight.sh: +183 -0
tools/perf/tests/tests.h: +2 -0
tools/perf/trace/beauty/mmap.c: +28 -46
tools/perf/trace/beauty/mmap_flags.sh: +8 -8
tools/perf/trace/beauty/mmap_prot.sh: +30 -0
tools/perf/trace/beauty/mremap_flags.sh: +18 -0
tools/perf/util/Build: +2 -0
tools/perf/util/annotate.c: +3 -2
tools/perf/util/build-id.c: +28 -20
tools/perf/util/build-id.h: +11 -1
tools/perf/util/callchain.c: +99 -0
tools/perf/util/callchain.h: +9 -0
tools/perf/util/cgroup.c: +110 -5
tools/perf/util/cgroup.h: +3 -0
tools/perf/util/config.c: +1 -1
tools/perf/util/config.h: +2 -0
tools/perf/util/dso.c: +10 -13
tools/perf/util/dso.h: +3 -4
tools/perf/util/dsos.c: +5 -4
tools/perf/util/event.c: +1 -1
tools/perf/util/evlist.c: +116 -7
tools/perf/util/evlist.h: +7 -1
tools/perf/util/evsel.c: +109 -0
tools/perf/util/evsel.h: +54 -39
tools/perf/util/group.h: +0 -8
tools/perf/util/header.c: +10 -5
tools/perf/util/intel-pt.c: +4 -4
tools/perf/util/jitdump.c: +9 -5
tools/perf/util/machine.c: +12 -0
tools/perf/util/machine.h: +4 -0
tools/perf/util/map.c: +2 -19
tools/perf/util/map.h: +14 -0
tools/perf/util/metricgroup.c: +150 -27
tools/perf/util/metricgroup.h: +8 -1
tools/perf/util/parse-events.c: +16 -7
tools/perf/util/parse-events.h: +1 -1
tools/perf/util/parse-events.l: +1 -1
tools/perf/util/parse-events.y: +4 -4
tools/perf/util/print_binary.c: +1 -1
tools/perf/util/probe-event.c: +65 -4
tools/perf/util/probe-finder.c: +58 -5
tools/perf/util/probe-finder.h: +5 -2
tools/perf/util/python.c: +20 -1
tools/perf/util/record.c: +2 -1
tools/perf/util/record.h: +1 -0
tools/perf/util/scripting-engines/trace-event-python.c: +1 -1
tools/perf/util/stat-display.c: +0 -1
tools/perf/util/stat-shadow.c: +89 -0
tools/perf/util/stat.c: +4 -0
tools/perf/util/stat.h: +10 -0
tools/perf/util/stream.c: +342 -0
tools/perf/util/stream.h: +41 -0
tools/perf/util/symbol-elf.c: +94 -13
tools/perf/util/symbol-minimal.c: +16 -15
tools/perf/util/symbol.c: +147 -8
tools/perf/util/symbol.h: +7 -2
tools/perf/util/synthetic-events.c: +1 -9
tools/perf/util/topdown.c: +58 -0
tools/perf/util/topdown.h: +12 -0
tools/perf/util/tsc.c: +81 -0
tools/perf/util/tsc.h: +5 -0
tools/perf/util/util.h: +6 -0
