{
  "hash": "a51e3ac43ddbad891c2b1a4f3aa52371d6939570",
  "hash_short": "a51e3ac4",
  "subject": "Merge tag 'net-5.16-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net",
  "body": "Pull networking fixes from Jakub Kicinski:\n \"Including fixes from wireless, and wireguard.\n\n  Mostly scattered driver changes this week, with one big clump in\n  mv88e6xxx. Nothing of note, really.\n\n  Current release - regressions:\n\n   - smc: keep smc_close_final()'s error code during active close\n\n  Current release - new code bugs:\n\n   - iwlwifi: various static checker fixes (int overflow, leaks, missing\n     error codes)\n\n   - rtw89: fix size of firmware header before transfer, avoid crash\n\n   - mt76: fix timestamp check in tx_status; fix pktid leak;\n\n   - mscc: ocelot: fix missing unlock on error in ocelot_hwstamp_set()\n\n  Previous releases - regressions:\n\n   - smc: fix list corruption in smc_lgr_cleanup_early\n\n   - ipv4: convert fib_num_tclassid_users to atomic_t\n\n  Previous releases - always broken:\n\n   - tls: fix authentication failure in CCM mode\n\n   - vrf: reset IPCB/IP6CB when processing outbound pkts, prevent\n     incorrect processing\n\n   - dsa: mv88e6xxx: fixes for various device errata\n\n   - rds: correct socket tunable error in rds_tcp_tune()\n\n   - ipv6: fix memory leak in fib6_rule_suppress\n\n   - wireguard: reset peer src endpoint when netns exits\n\n   - wireguard: improve resilience to DoS around incoming handshakes\n\n   - tcp: fix page frag corruption on page fault which involves TCP\n\n   - mpls: fix missing attributes in delete notifications\n\n   - mt7915: fix NULL pointer dereference with ad-hoc mode\n\n  Misc:\n\n   - rt2x00: be more lenient about EPROTO errors during start\n\n   - mlx4_en: update reported link modes for 1/10G\"\n\n* tag 'net-5.16-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net: (85 commits)\n  net: dsa: b53: Add SPI ID table\n  gro: Fix inconsistent indenting\n  selftests: net: Correct case name\n  net/rds: correct socket tunable error in rds_tcp_tune()\n  mctp: Don't let RTM_DELROUTE delete local routes\n  net/smc: Keep smc_close_final rc during active close\n  ibmvnic: drop bad optimization in reuse_tx_pools()\n  ibmvnic: drop bad optimization in reuse_rx_pools()\n  net/smc: fix wrong list_del in smc_lgr_cleanup_early\n  Fix Comment of ETH_P_802_3_MIN\n  ethernet: aquantia: Try MAC address from device tree\n  ipv4: convert fib_num_tclassid_users to atomic_t\n  net: avoid uninit-value from tcp_conn_request\n  net: annotate data-races on txq->xmit_lock_owner\n  octeontx2-af: Fix a memleak bug in rvu_mbox_init()\n  net/mlx4_en: Fix an use-after-free bug in mlx4_en_try_alloc_resources()\n  vrf: Reset IPCB/IP6CB when processing outbound pkts in vrf dev xmit\n  net: qlogic: qlcnic: Fix a NULL pointer dereference in qlcnic_83xx_add_rings()\n  net: dsa: mv88e6xxx: Link in pcs_get_state() if AN is bypassed\n  net: dsa: mv88e6xxx: Fix inband AN for 2500base-x on 88E6393X family\n  ...",
  "full_message": "Merge tag 'net-5.16-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net\n\nPull networking fixes from Jakub Kicinski:\n \"Including fixes from wireless, and wireguard.\n\n  Mostly scattered driver changes this week, with one big clump in\n  mv88e6xxx. Nothing of note, really.\n\n  Current release - regressions:\n\n   - smc: keep smc_close_final()'s error code during active close\n\n  Current release - new code bugs:\n\n   - iwlwifi: various static checker fixes (int overflow, leaks, missing\n     error codes)\n\n   - rtw89: fix size of firmware header before transfer, avoid crash\n\n   - mt76: fix timestamp check in tx_status; fix pktid leak;\n\n   - mscc: ocelot: fix missing unlock on error in ocelot_hwstamp_set()\n\n  Previous releases - regressions:\n\n   - smc: fix list corruption in smc_lgr_cleanup_early\n\n   - ipv4: convert fib_num_tclassid_users to atomic_t\n\n  Previous releases - always broken:\n\n   - tls: fix authentication failure in CCM mode\n\n   - vrf: reset IPCB/IP6CB when processing outbound pkts, prevent\n     incorrect processing\n\n   - dsa: mv88e6xxx: fixes for various device errata\n\n   - rds: correct socket tunable error in rds_tcp_tune()\n\n   - ipv6: fix memory leak in fib6_rule_suppress\n\n   - wireguard: reset peer src endpoint when netns exits\n\n   - wireguard: improve resilience to DoS around incoming handshakes\n\n   - tcp: fix page frag corruption on page fault which involves TCP\n\n   - mpls: fix missing attributes in delete notifications\n\n   - mt7915: fix NULL pointer dereference with ad-hoc mode\n\n  Misc:\n\n   - rt2x00: be more lenient about EPROTO errors during start\n\n   - mlx4_en: update reported link modes for 1/10G\"\n\n* tag 'net-5.16-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net: (85 commits)\n  net: dsa: b53: Add SPI ID table\n  gro: Fix inconsistent indenting\n  selftests: net: Correct case name\n  net/rds: correct socket tunable error in rds_tcp_tune()\n  mctp: Don't let RTM_DELROUTE delete local routes\n  net/smc: Keep smc_close_final rc during active close\n  ibmvnic: drop bad optimization in reuse_tx_pools()\n  ibmvnic: drop bad optimization in reuse_rx_pools()\n  net/smc: fix wrong list_del in smc_lgr_cleanup_early\n  Fix Comment of ETH_P_802_3_MIN\n  ethernet: aquantia: Try MAC address from device tree\n  ipv4: convert fib_num_tclassid_users to atomic_t\n  net: avoid uninit-value from tcp_conn_request\n  net: annotate data-races on txq->xmit_lock_owner\n  octeontx2-af: Fix a memleak bug in rvu_mbox_init()\n  net/mlx4_en: Fix an use-after-free bug in mlx4_en_try_alloc_resources()\n  vrf: Reset IPCB/IP6CB when processing outbound pkts in vrf dev xmit\n  net: qlogic: qlcnic: Fix a NULL pointer dereference in qlcnic_83xx_add_rings()\n  net: dsa: mv88e6xxx: Link in pcs_get_state() if AN is bypassed\n  net: dsa: mv88e6xxx: Fix inband AN for 2500base-x on 88E6393X family\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Dec 2 11:22:06 2021 -0800",
  "author_date_iso": "2021-12-02T11:22:06-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Dec 2 11:22:06 2021 -0800",
  "committer_date_iso": "2021-12-02T11:22:06-08:00",
  "files_changed": [
    "MAINTAINERS"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "MAINTAINERS",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/net/dsa/b53/b53_spi.c",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/net/dsa/mv88e6xxx/serdes.c",
      "insertions": 220,
      "deletions": 32
    },
    {
      "file": "drivers/net/dsa/mv88e6xxx/serdes.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/net/dsa/rtl8365mb.c",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/aq_common.h",
      "insertions": 14,
      "deletions": 13
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/aq_hw.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/aq_nic.c",
      "insertions": 22,
      "deletions": 12
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/aq_pci_func.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/aq_vec.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_utils.c",
      "insertions": 13,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_utils_fw2x.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/hw_atl2/hw_atl2.c",
      "insertions": 18,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/hw_atl2/hw_atl2.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/hw_atl2/hw_atl2_utils.h",
      "insertions": 34,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/aquantia/atlantic/hw_atl2/hw_atl2_utils_fw.c",
      "insertions": 87,
      "deletions": 23
    },
    {
      "file": "drivers/net/ethernet/freescale/dpaa2/dpaa2-eth.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/ibm/ibmvnic.c",
      "insertions": 6,
      "deletions": 22
    },
    {
      "file": "drivers/net/ethernet/intel/ice/ice_xsk.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/marvell/mvpp2/mvpp2_main.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/af/rvu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx4/en_ethtool.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx4/en_netdev.c",
      "insertions": 7,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/cmd.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en/rx_res.c",
      "insertions": 40,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en/rx_res.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec_rxtx.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en_accel/ktls_rx.c",
      "insertions": 1,
      "deletions": 23
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en_rep.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en_rx.c",
      "insertions": 3,
      "deletions": 5
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/esw/qos.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c",
      "insertions": 16,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/health.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/lag/port_sel.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/lib/tout.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/lib/tout.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/main.c",
      "insertions": 15,
      "deletions": 15
    },
    {
      "file": "drivers/net/ethernet/mscc/ocelot.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/natsemi/xtsonic.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_hw.c",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/stmicro/stmmac/stmmac_main.c",
      "insertions": 6,
      "deletions": 5
    },
    {
      "file": "drivers/net/usb/lan78xx.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/vrf.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireguard/allowedips.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireguard/device.c",
      "insertions": 21,
      "deletions": 18
    },
    {
      "file": "drivers/net/wireguard/device.h",
      "insertions": 3,
      "deletions": 6
    },
    {
      "file": "drivers/net/wireguard/main.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/net/wireguard/queueing.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/net/wireguard/queueing.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireguard/ratelimiter.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/wireguard/receive.c",
      "insertions": 23,
      "deletions": 16
    },
    {
      "file": "drivers/net/wireguard/socket.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/fw/uefi.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/iwl-drv.c",
      "insertions": 15,
      "deletions": 7
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/iwl-drv.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/mac80211.c",
      "insertions": 23,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/mvm.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/mvm/ops.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/intel/iwlwifi/pcie/drv.c",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7615/pci_mac.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7615/usb_sdio.c",
      "insertions": 15,
      "deletions": 13
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt76x02_usb_core.c",
      "insertions": 7,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7915/mac.c",
      "insertions": 7,
      "deletions": 8
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7915/mcu.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7921/sdio_mac.c",
      "insertions": 12,
      "deletions": 9
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/tx.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/ralink/rt2x00/rt2x00usb.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/realtek/rtw89/fw.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/realtek/rtw89/fw.h",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/usb/core/quirks.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/linux/mlx5/mlx5_ifc.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "include/linux/netdevice.h",
      "insertions": 13,
      "deletions": 6
    },
    {
      "file": "include/linux/siphash.h",
      "insertions": 4,
      "deletions": 10
    },
    {
      "file": "include/net/busy_poll.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/net/dst_cache.h",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "include/net/fib_rules.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "include/net/ip_fib.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/net/netns/ipv4.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/net/sock.h",
      "insertions": 23,
      "deletions": 7
    },
    {
      "file": "include/uapi/linux/if_ether.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "lib/siphash.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "net/core/dev.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "net/core/dst_cache.c",
      "insertions": 19,
      "deletions": 0
    },
    {
      "file": "net/core/fib_rules.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/ipv4/fib_frontend.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/ipv4/fib_rules.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "net/ipv4/fib_semantics.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/ipv6/fib6_rules.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/ipv6/ip6_offload.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "net/mctp/route.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "net/mctp/test/utils.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/mpls/af_mpls.c",
      "insertions": 62,
      "deletions": 35
    },
    {
      "file": "net/mpls/internal.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/netlink/af_netlink.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "net/rds/tcp.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/rxrpc/conn_client.c",
      "insertions": 9,
      "deletions": 5
    },
    {
      "file": "net/rxrpc/peer_object.c",
      "insertions": 9,
      "deletions": 5
    },
    {
      "file": "net/smc/smc_close.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "net/smc/smc_core.c",
      "insertions": 3,
      "deletions": 4
    },
    {
      "file": "net/tls/tls_sw.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/net/fcnal-test.sh",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/wireguard/netns.sh",
      "insertions": 28,
      "deletions": 2
    },
    {
      "file": "tools/testing/selftests/wireguard/qemu/debug.config",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/testing/selftests/wireguard/qemu/kernel.config",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 1000,
  "total_deletions": 412,
  "total_changes": 1412,
  "parents": [
    "2b2c0f24bac75bfdf2de9f4ea0912946ce5bf5c8",
    "88362ebfd7fb569c78d5cb507aa9d3c8fc203839"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}