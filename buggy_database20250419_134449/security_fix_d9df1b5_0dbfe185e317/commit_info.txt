Commit Hash: d9df1b5da17cd328301def1d2ae2c2df35f3823c
Subject: powerpc/powernv: Clear PAPR error injection registers


Security Keywords:
- injection

Full commit message:
powerpc/powernv: Clear PAPR error injection registers

The frozen state on one specific PE is probably caused by error
injection, which is done with help of PAPR error injection registers.
According to the hardware spec, those registers should be cleared
automatically after one-shot frozen PE. However, that's not always
true, at least on P7IOC of Firebird-L. So we have to clear them
before doing PE reset to avoid recursive EEH errors at recovery
stage.

Signed-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>
Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>

Metadata:
Author: Gavin Shan <gwshan@linux.vnet.ibm.com>
Author Date: Tue Sep 30 12:38:58 2014 +1000
Committer: Michael Ellerman <mpe@ellerman.id.au>
Commit Date: Tue Sep 30 17:15:11 2014 +1000

Files Changed: 1
Lines Added: 25
Lines Removed: 0
Total Changes: 25
