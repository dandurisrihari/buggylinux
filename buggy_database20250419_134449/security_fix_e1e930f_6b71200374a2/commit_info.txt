Commit Hash: e1e930f591bfd9604c3077f0af5c390f4f890259
Subject: Bluetooth: Fix mgmt pairing failure when authentication fails


Security Keywords:
- authentication

Full commit message:
Bluetooth: Fix mgmt pairing failure when authentication fails

Whether through HCI with BR/EDR or SMP with LE when authentication fails
we should also notify any pending Pair Device mgmt command. This patch
updates the mgmt_auth_failed function to take the actual hci_conn object
and makes sure that any pending pairing command is notified and cleaned
up appropriately.

Signed-off-by: Johan Hedberg <johan.hedberg@intel.com>
Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

Metadata:
Author: Johan Hedberg <johan.hedberg@intel.com>
Author Date: Mon Sep 8 17:09:49 2014 -0700
Committer: Marcel Holtmann <marcel@holtmann.org>
Commit Date: Tue Sep 9 03:12:15 2014 +0200

Files Changed: 4
Lines Added: 17
Lines Removed: 14
Total Changes: 31
