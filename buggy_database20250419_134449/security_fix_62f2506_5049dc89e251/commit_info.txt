Commit Hash: 62f250694092dd5fef9900dc3126f07110bf9d48
Subject: cpu/hotplug: CPUHP_BRINGUP_CPU failure exception


Security Keywords:
- injection

Full commit message:
cpu/hotplug: CPUHP_BRINGUP_CPU failure exception

The atomic states (between CPUHP_AP_IDLE_DEAD and CPUHP_AP_ONLINE) are
triggered by the CPUHP_BRINGUP_CPU step. If the latter fails, no atomic
state can be rolled back.

DEAD callbacks too can't fail and disallow recovery. As a consequence,
during hotunplug, the fail injection interface should prohibit all states
from CPUHP_BRINGUP_CPU to CPUHP_ONLINE.

Signed-off-by: Vincent Donnefort <vincent.donnefort@arm.com>
Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
Signed-off-by: Ingo Molnar <mingo@kernel.org>
Link: https://lkml.kernel.org/r/20210216103506.416286-3-vincent.donnefort@arm.com

Metadata:
Author: Vincent Donnefort <vincent.donnefort@arm.com>
Author Date: Tue Feb 16 10:35:05 2021 +0000
Committer: Ingo Molnar <mingo@kernel.org>
Commit Date: Sat Mar 6 12:40:22 2021 +0100

Files Changed: 1
Lines Added: 16
Lines Removed: 3
Total Changes: 19
