Commit Hash: 1a1cb744de160ee70086a77afff605bbc275d291
Subject: mac80211: fix suspend vs. authentication race


Security Keywords:
- authentication

Full commit message:
mac80211: fix suspend vs. authentication race

Since Stanislaw's patch removing the quiescing code, mac80211 had
a race regarding suspend vs. authentication: as cfg80211 doesn't
track authentication attempts, it can't abort them. Therefore the
attempts may be kept running while suspending, which can lead to
all kinds of issues, in at least some cases causing an error in
iwlmvm firmware.

Fix this by aborting the authentication attempt when suspending.

Cc: stable@vger.kernel.org
Fixes: 12e7f517029d ("mac80211: cleanup generic suspend/resume procedures")
Signed-off-by: Johannes Berg <johannes.berg@intel.com>

Metadata:
Author: Johannes Berg <johannes.berg@intel.com>
Author Date: Wed Mar 19 09:55:55 2014 +0100
Committer: Johannes Berg <johannes.berg@intel.com>
Commit Date: Wed Mar 19 21:29:53 2014 +0100

Files Changed: 3
Lines Added: 38
Lines Removed: 3
Total Changes: 41
