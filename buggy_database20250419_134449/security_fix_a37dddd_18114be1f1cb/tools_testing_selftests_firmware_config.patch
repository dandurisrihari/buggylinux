commit a37ddddd86037c896c702b4df416bc4e51b2a5a0
Author: Russ Weight <russell.h.weight@intel.com>
Date:   Tue Apr 26 09:35:32 2022 -0700

    selftests: firmware: Add firmware upload selftests
    
    Add selftests to verify the firmware upload mechanism. These test
    include simple firmware uploads as well as upload cancellation and
    error injection. The test creates three firmware devices and verifies
    that they all work correctly and independently.
    
    Tested-by: Matthew Gerlach <matthew.gerlach@linux.intel.com>
    Reviewed-by: Luis Chamberlain <mcgrof@kernel.org>
    Reviewed-by: Tianfei zhang <tianfei.zhang@intel.com>
    Signed-off-by: Russ Weight <russell.h.weight@intel.com>
    Link: https://lore.kernel.org/r/20220426163532.114961-1-russell.h.weight@intel.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

diff --git a/tools/testing/selftests/firmware/config b/tools/testing/selftests/firmware/config
index bf634dda0720..6e402519b117 100644
--- a/tools/testing/selftests/firmware/config
+++ b/tools/testing/selftests/firmware/config
@@ -3,3 +3,4 @@ CONFIG_FW_LOADER=y
 CONFIG_FW_LOADER_USER_HELPER=y
 CONFIG_IKCONFIG=y
 CONFIG_IKCONFIG_PROC=y
+CONFIG_FW_UPLOAD=y