Commit Hash: 3f5c90b890acfa7ad0b817a67cfc5eaaf0e21f7d
Subject: KVM: arm64: Introduce VHE-specific kvm_vcpu_run


Security Keywords:
- hardening

Full commit message:
KVM: arm64: Introduce VHE-specific kvm_vcpu_run

So far this is mostly (see below) a copy of the legacy non-VHE switch
function, but we will start reworking these functions in separate
directions to work on VHE and non-VHE in the most optimal way in later
patches.

The only difference after this patch between the VHE and non-VHE run
functions is that we omit the branch-predictor variant-2 hardening for
QC Falkor CPUs, because this workaround is specific to a series of
non-VHE ARMv8.0 CPUs.

Reviewed-by: Marc Zyngier <marc.zyngier@arm.com>
Signed-off-by: Christoffer Dall <christoffer.dall@linaro.org>
Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>

Metadata:
Author: Christoffer Dall <christoffer.dall@linaro.org>
Author Date: Tue Oct 3 14:02:12 2017 +0200
Committer: Marc Zyngier <marc.zyngier@arm.com>
Commit Date: Mon Mar 19 10:53:13 2018 +0000

Files Changed: 6
Lines Added: 87
Lines Removed: 9
Total Changes: 96
