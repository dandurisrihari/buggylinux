{
  "hash": "8c3ed7aa2b9ef666195b789e9b02e28383243fa8",
  "hash_short": "8c3ed7aa",
  "subject": "nl80211: add src and dst addr attributes for control port tx/rx",
  "body": "When using control port over nl80211 in AP mode with\npre-authentication, APs need to forward frames to other\nAPs defined by their MAC address. Before this patch,\npre-auth frames reaching user space over nl80211 control\nport  have no longer any information about the dest attached,\nwhich can be used for forwarding to a controller or injecting\nthe frame back to a ethernet interface over a AF_PACKET\nsocket.\nAnalog problems exist, when forwarding pre-auth frames from\nAP -> STA.\n\nThis patch therefore adds the NL80211_ATTR_DST_MAC and\nNL80211_ATTR_SRC_MAC attributes to provide more context\ninformation when forwarding.\nThe respective arguments are optional on tx and included on rx.\nTherefore unaware existing software is not affected.\n\nSoftware which wants to detect this feature, can do so\nby checking against:\n  NL80211_EXT_FEATURE_CONTROL_PORT_OVER_NL80211_MAC_ADDRS\n\nSigned-off-by: Markus Theil <markus.theil@tu-ilmenau.de>\nLink: https://lore.kernel.org/r/20200115125522.3755-1-markus.theil@tu-ilmenau.de\n[split into separate cfg80211/mac80211 patches]\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "full_message": "nl80211: add src and dst addr attributes for control port tx/rx\n\nWhen using control port over nl80211 in AP mode with\npre-authentication, APs need to forward frames to other\nAPs defined by their MAC address. Before this patch,\npre-auth frames reaching user space over nl80211 control\nport  have no longer any information about the dest attached,\nwhich can be used for forwarding to a controller or injecting\nthe frame back to a ethernet interface over a AF_PACKET\nsocket.\nAnalog problems exist, when forwarding pre-auth frames from\nAP -> STA.\n\nThis patch therefore adds the NL80211_ATTR_DST_MAC and\nNL80211_ATTR_SRC_MAC attributes to provide more context\ninformation when forwarding.\nThe respective arguments are optional on tx and included on rx.\nTherefore unaware existing software is not affected.\n\nSoftware which wants to detect this feature, can do so\nby checking against:\n  NL80211_EXT_FEATURE_CONTROL_PORT_OVER_NL80211_MAC_ADDRS\n\nSigned-off-by: Markus Theil <markus.theil@tu-ilmenau.de>\nLink: https://lore.kernel.org/r/20200115125522.3755-1-markus.theil@tu-ilmenau.de\n[split into separate cfg80211/mac80211 patches]\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "author_name": "Markus Theil",
  "author_email": "markus.theil@tu-ilmenau.de",
  "author_date": "Wed Jan 15 13:55:22 2020 +0100",
  "author_date_iso": "2020-01-15T13:55:22+01:00",
  "committer_name": "Johannes Berg",
  "committer_email": "johannes.berg@intel.com",
  "committer_date": "Fri Feb 7 12:58:37 2020 +0100",
  "committer_date_iso": "2020-02-07T12:58:37+01:00",
  "files_changed": [
    "include/net/cfg80211.h",
    "include/uapi/linux/nl80211.h",
    "net/mac80211/ieee80211_i.h",
    "net/mac80211/tx.c",
    "net/wireless/nl80211.c",
    "net/wireless/rdev-ops.h",
    "net/wireless/trace.h"
  ],
  "files_changed_count": 7,
  "stats": [
    {
      "file": "include/net/cfg80211.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "include/uapi/linux/nl80211.h",
      "insertions": 15,
      "deletions": 1
    },
    {
      "file": "net/mac80211/ieee80211_i.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "net/mac80211/tx.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "net/wireless/nl80211.c",
      "insertions": 15,
      "deletions": 3
    },
    {
      "file": "net/wireless/rdev-ops.h",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "net/wireless/trace.h",
      "insertions": 17,
      "deletions": 10
    }
  ],
  "total_insertions": 57,
  "total_deletions": 21,
  "total_changes": 78,
  "parents": [
    "c0058df73309906ef4d5383fbaa10c43ebddc48a"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/net/cfg80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/rdev-ops.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/ieee80211_i.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/trace.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/nl80211.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/mac80211/tx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/wireless/nl80211.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}