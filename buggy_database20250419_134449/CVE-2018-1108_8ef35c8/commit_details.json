{
  "hash": "8ef35c866f8862df074a49a93b0309725812dea8",
  "hash_short": "8ef35c86",
  "subject": "random: set up the NUMA crng instances after the CRNG is fully initialized",
  "body": "Until the primary_crng is fully initialized, don't initialize the NUMA\ncrng nodes.  Otherwise users of /dev/urandom on NUMA systems before\nthe CRNG is fully initialized can get very bad quality randomness.  Of\ncourse everyone should move to getrandom(2) where this won't be an\nissue, but there's a lot of legacy code out there.  This related to\nCVE-2018-1108.\n\nReported-by: Jann Horn <jannh@google.com>\nFixes: 1e7f583af67b (\"random: make /dev/urandom scalable for silly...\")\nCc: stable@kernel.org # 4.8+\nSigned-off-by: Theodore Ts'o <tytso@mit.edu>",
  "full_message": "random: set up the NUMA crng instances after the CRNG is fully initialized\n\nUntil the primary_crng is fully initialized, don't initialize the NUMA\ncrng nodes.  Otherwise users of /dev/urandom on NUMA systems before\nthe CRNG is fully initialized can get very bad quality randomness.  Of\ncourse everyone should move to getrandom(2) where this won't be an\nissue, but there's a lot of legacy code out there.  This related to\nCVE-2018-1108.\n\nReported-by: Jann Horn <jannh@google.com>\nFixes: 1e7f583af67b (\"random: make /dev/urandom scalable for silly...\")\nCc: stable@kernel.org # 4.8+\nSigned-off-by: Theodore Ts'o <tytso@mit.edu>",
  "author_name": "Theodore Ts'o",
  "author_email": "tytso@mit.edu",
  "author_date": "Wed Apr 11 15:23:56 2018 -0400",
  "author_date_iso": "2018-04-11T15:23:56-04:00",
  "committer_name": "Theodore Ts'o",
  "committer_email": "tytso@mit.edu",
  "committer_date": "Sat Apr 14 11:59:19 2018 -0400",
  "committer_date_iso": "2018-04-14T11:59:19-04:00",
  "files_changed": [
    "drivers/char/random.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/char/random.c",
      "insertions": 27,
      "deletions": 19
    }
  ],
  "total_insertions": 27,
  "total_deletions": 19,
  "total_changes": 46,
  "parents": [
    "dc12baacb95f205948f64dc936a47d89ee110117"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.17",
    "v4.17-rc2",
    "v4.17-rc3",
    "v4.17-rc4",
    "v4.17-rc5",
    "v4.17-rc6",
    "v4.17-rc7",
    "v4.18",
    "v4.18-rc1",
    "v4.18-rc2"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2018-1108"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "drivers/char/random.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}