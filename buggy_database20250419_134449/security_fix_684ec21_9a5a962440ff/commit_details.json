{
  "hash": "684ec215706d449f78da232aae125c0bc14f22a9",
  "hash_short": "684ec215",
  "subject": "platform/x86/intel/ifs: Authenticate and copy to secured memory",
  "body": "The IFS image contains hashes that will be used to authenticate the ifs\ntest chunks. First, use WRMSR to copy the hashes and enumerate the number\nof test chunks, chunk size and the maximum number of cores that can run\nscan test simultaneously.\n\nNext, use WRMSR to authenticate each and every scan test chunk which is\nstored in the IFS image. The CPU will check if the test chunks match\nthe hashes, otherwise failure is indicated to system software. If the test\nchunk is authenticated, it is automatically copied to secured memory.\n\nUse schedule_work_on() to perform the hash copy and authentication. Note\nthis needs only be done on the first logical cpu of each socket.\n\nReviewed-by: Dan Williams <dan.j.williams@intel.com>\nSigned-off-by: Jithu Joseph <jithu.joseph@intel.com>\nCo-developed-by: Tony Luck <tony.luck@intel.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>\nAcked-by: Hans de Goede <hdegoede@redhat.com>\nReviewed-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nReviewed-by: Thomas Gleixner <tglx@linutronix.de>\nLink: https://lore.kernel.org/r/20220506225410.1652287-8-tony.luck@intel.com\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>",
  "full_message": "platform/x86/intel/ifs: Authenticate and copy to secured memory\n\nThe IFS image contains hashes that will be used to authenticate the ifs\ntest chunks. First, use WRMSR to copy the hashes and enumerate the number\nof test chunks, chunk size and the maximum number of cores that can run\nscan test simultaneously.\n\nNext, use WRMSR to authenticate each and every scan test chunk which is\nstored in the IFS image. The CPU will check if the test chunks match\nthe hashes, otherwise failure is indicated to system software. If the test\nchunk is authenticated, it is automatically copied to secured memory.\n\nUse schedule_work_on() to perform the hash copy and authentication. Note\nthis needs only be done on the first logical cpu of each socket.\n\nReviewed-by: Dan Williams <dan.j.williams@intel.com>\nSigned-off-by: Jithu Joseph <jithu.joseph@intel.com>\nCo-developed-by: Tony Luck <tony.luck@intel.com>\nSigned-off-by: Tony Luck <tony.luck@intel.com>\nAcked-by: Hans de Goede <hdegoede@redhat.com>\nReviewed-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\nReviewed-by: Thomas Gleixner <tglx@linutronix.de>\nLink: https://lore.kernel.org/r/20220506225410.1652287-8-tony.luck@intel.com\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>",
  "author_name": "Jithu Joseph",
  "author_email": "jithu.joseph@intel.com",
  "author_date": "Fri May 6 15:54:05 2022 -0700",
  "author_date_iso": "2022-05-06T15:54:05-07:00",
  "committer_name": "Hans de Goede",
  "committer_email": "hdegoede@redhat.com",
  "committer_date": "Thu May 12 15:35:29 2022 +0200",
  "committer_date_iso": "2022-05-12T15:35:29+02:00",
  "files_changed": [
    "drivers/platform/x86/intel/ifs/ifs.h",
    "drivers/platform/x86/intel/ifs/load.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/platform/x86/intel/ifs/ifs.h",
      "insertions": 52,
      "deletions": 0
    },
    {
      "file": "drivers/platform/x86/intel/ifs/load.c",
      "insertions": 174,
      "deletions": 2
    }
  ],
  "total_insertions": 226,
  "total_deletions": 2,
  "total_changes": 228,
  "parents": [
    "846e751ff37e8ab2d161de04314435f9c1d729ca"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/platform/x86/intel/ifs/ifs.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/platform/x86/intel/ifs/load.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}