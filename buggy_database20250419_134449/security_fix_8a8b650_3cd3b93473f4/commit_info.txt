Commit Hash: 8a8b6502fb669c3a0638a08955442814cedc86b1
Subject: [PATCH] fault-injection capability for kmalloc


Security Keywords:
- injection

Full commit message:
[PATCH] fault-injection capability for kmalloc

This patch provides fault-injection capability for kmalloc.

Boot option:

failslab=<interval>,<probability>,<space>,<times>

	<interval> -- specifies the interval of failures.

	<probability> -- specifies how often it should fail in percent.

	<space> -- specifies the size of free space where memory can be
		   allocated safely in bytes.

	<times> -- specifies how many times failures may happen at most.

Debugfs:

/debug/failslab/interval
/debug/failslab/probability
/debug/failslab/specifies
/debug/failslab/times
/debug/failslab/ignore-gfp-highmem
/debug/failslab/ignore-gfp-wait

Example:

	failslab=10,100,0,-1

slab allocation (kmalloc(), kmem_cache_alloc(),..) fails once per 10 times.

Cc: Pekka Enberg <penberg@cs.helsinki.fi>
Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
Signed-off-by: Andrew Morton <akpm@osdl.org>
Signed-off-by: Linus Torvalds <torvalds@osdl.org>

Metadata:
Author: Akinobu Mita <akinobu.mita@gmail.com>
Author Date: Fri Dec 8 02:39:44 2006 -0800
Committer: Linus Torvalds <torvalds@woody.osdl.org>
Commit Date: Fri Dec 8 08:29:02 2006 -0800

Files Changed: 3
Lines Added: 84
Lines Removed: 2
Total Changes: 86
