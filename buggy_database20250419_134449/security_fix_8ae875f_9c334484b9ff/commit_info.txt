Commit Hash: 8ae875f641188be338126cc76c76c82d256364dd
Subject: drm/ttm: Use fault-injection to test error paths


Security Keywords:
- injection

Full commit message:
drm/ttm: Use fault-injection to test error paths

Use fault-injection to test partial TTM swapout and interrupted swapin.
Return -EINTR for swapin to test the callers ability to handle and
restart the swapin, and on swapout perform a partial swapout to test that
the swapin and release_shrunken functionality.

v8:
- Use the core fault-injection system.
v9:
- Fix compliation failure for !CONFIG_FAULT_INJECTION

Cc: Christian König <christian.koenig@amd.com>
Cc: Somalapuram Amaranath <Amaranath.Somalapuram@amd.com>
Cc: Matthew Brost <matthew.brost@intel.com>
Cc: <dri-devel@lists.freedesktop.org>
Signed-off-by: Thomas Hellström <thomas.hellstrom@linux.intel.com>
Reviewed-by: Matthew Brost <matthew.brost@intel.com>
Reviewed-by: Christian König <christian.koenig@amd.com>
Link: https://lore.kernel.org/intel-xe/20250305092220.123405-4-thomas.hellstrom@linux.intel.com

Metadata:
Author: Thomas Hellström <thomas.hellstrom@linux.intel.com>
Author Date: Wed Mar 5 10:22:16 2025 +0100
Committer: Thomas Hellström <thomas.hellstrom@linux.intel.com>
Commit Date: Wed Mar 5 17:08:59 2025 +0100

Files Changed: 1
Lines Added: 24
Lines Removed: 1
Total Changes: 25
