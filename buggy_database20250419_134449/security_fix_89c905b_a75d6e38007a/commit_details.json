{
  "hash": "89c905beccbbafa88490c8c4c35eaec5ce4c1329",
  "hash_short": "89c905be",
  "subject": "nfsd: allow forced expiration of NFSv4 clients",
  "body": "NFSv4 clients are automatically expired and all their locks removed if\nthey don't contact the server for a certain amount of time (the lease\nperiod, 90 seconds by default).\n\nThere can still be situations where that's not enough, so allow\nuserspace to force expiry by writing \"expire\\n\" to the new\nnfsd/client/#/ctl file.\n\n(The generic \"ctl\" name is because I expect we may want to allow other\noperations on clients in the future.)\n\nThe write will not return until the client is expired and all of its\nlocks and other state removed.\n\nThe fault injection code also provides a way of expiring clients, but it\nfails if there are any in-progress RPC's referencing the client.  Also,\nits method of selecting a client to expire is a little more\nprimitive--it uses an IP address, which can't always uniquely specify an\nNFSv4 client.\n\nSigned-off-by: J. Bruce Fields <bfields@redhat.com>",
  "full_message": "nfsd: allow forced expiration of NFSv4 clients\n\nNFSv4 clients are automatically expired and all their locks removed if\nthey don't contact the server for a certain amount of time (the lease\nperiod, 90 seconds by default).\n\nThere can still be situations where that's not enough, so allow\nuserspace to force expiry by writing \"expire\\n\" to the new\nnfsd/client/#/ctl file.\n\n(The generic \"ctl\" name is because I expect we may want to allow other\noperations on clients in the future.)\n\nThe write will not return until the client is expired and all of its\nlocks and other state removed.\n\nThe fault injection code also provides a way of expiring clients, but it\nfails if there are any in-progress RPC's referencing the client.  Also,\nits method of selecting a client to expire is a little more\nprimitive--it uses an IP address, which can't always uniquely specify an\nNFSv4 client.\n\nSigned-off-by: J. Bruce Fields <bfields@redhat.com>",
  "author_name": "J. Bruce Fields",
  "author_email": "bfields@redhat.com",
  "author_date": "Wed Jun 19 12:43:11 2019 -0400",
  "author_date_iso": "2019-06-19T12:43:11-04:00",
  "committer_name": "J. Bruce Fields",
  "committer_email": "bfields@redhat.com",
  "committer_date": "Wed Jul 3 17:52:50 2019 -0400",
  "committer_date_iso": "2019-07-03T17:52:50-04:00",
  "files_changed": [
    "fs/nfsd/nfs4state.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/nfsd/nfs4state.c",
      "insertions": 69,
      "deletions": 1
    }
  ],
  "total_insertions": 69,
  "total_deletions": 1,
  "total_changes": 70,
  "parents": [
    "a204f25e372d942245dc0fdccd12f5c16483bbc1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.3",
    "v5.3-rc1",
    "v5.3-rc2",
    "v5.3-rc3",
    "v5.3-rc4",
    "v5.3-rc5",
    "v5.3-rc6",
    "v5.3-rc7",
    "v5.3-rc8",
    "v5.4"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/nfsd/nfs4state.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}