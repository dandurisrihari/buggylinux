Commit Hash: 17a9422de78c3a59b490b400f555635c477f1476
Subject: i40e/i40evf: don't trust VF to reset itself


Security Keywords:
- hardening

Full commit message:
i40e/i40evf: don't trust VF to reset itself

When using 'ethtool -L' on a VF to change number of requested queues
from PF, we shouldn't trust the VF to reset itself after making the
request.  Doing it that way opens the door for a potentially malicious
VF to do nasty things to the PF which should never be the case.

This makes it such that after VF makes a successful request, PF will
then reset the VF to institute required changes.  Only if the request
fails will PF send a message back to VF letting it know the request was
unsuccessful.

Testing-hints:
There should be no real functional changes.  This is simply hardening
against a potentially malicious VF.

Signed-off-by: Alan Brady <alan.brady@intel.com>
Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>

Metadata:
Author: Alan Brady <alan.brady@intel.com>
Author Date: Wed Oct 11 14:49:43 2017 -0700
Committer: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Commit Date: Fri Oct 13 14:27:13 2017 -0700

Files Changed: 3
Lines Added: 12
Lines Removed: 8
Total Changes: 20
