Commit Hash: 6b398f1c28f033b82c7363caa73f5669ce4a1853
Subject: wifi: mac80211: cleanup auth_data only if association continues


Security Keywords:
- authentication

Full commit message:
wifi: mac80211: cleanup auth_data only if association continues

If the association command fails then the authentication is still valid
and it makes sense to keep it alive. Otherwise, we would currently get
into an inconsistent state because mac80211 on the one hand is
disconnected but on the other hand the state is not entirely cleared
and a new authentication could not continue.

Signed-off-by: Benjamin Berg <benjamin.berg@intel.com>
Signed-off-by: Gregory Greenman <gregory.greenman@intel.com>
Link: https://lore.kernel.org/r/20230928172905.c9855f46ebc8.I7f3dcd4120a186484a91b87560e9b7201d40984f@changeid
Signed-off-by: Johannes Berg <johannes.berg@intel.com>

Metadata:
Author: Benjamin Berg <benjamin.berg@intel.com>
Author Date: Thu Sep 28 17:35:22 2023 +0300
Committer: Johannes Berg <johannes.berg@intel.com>
Commit Date: Mon Oct 23 11:43:26 2023 +0200

Files Changed: 1
Lines Added: 13
Lines Removed: 4
Total Changes: 17
