Commit Hash: 679c54f2de672b7d79d02f8c4ad483ff6dd8ce2e
Subject: nvme: use command_id instead of req->tag in trace_nvme_complete_rq()


Security Keywords:
- authentication

Full commit message:
nvme: use command_id instead of req->tag in trace_nvme_complete_rq()

Use command_id instead of req->tag in trace_nvme_complete_rq(),
because of commit e7006de6c238 ("nvme: code command_id with a genctr
for use authentication after release"), cmd->common.command_id is set to
((genctl & 0xf)< 12 | req->tag), no longer req->tag, which makes cid in
trace_nvme_complete_rq and trace_nvme_setup_cmd are not the same.

Fixes: e7006de6c238 ("nvme: code command_id with a genctr for use authentication after release")
Signed-off-by: Bean Huo <beanhuo@micron.com>
Signed-off-by: Christoph Hellwig <hch@lst.de>
Signed-off-by: Jens Axboe <axboe@kernel.dk>

Metadata:
Author: Bean Huo <beanhuo@micron.com>
Author Date: Fri Jul 15 23:27:21 2022 +0200
Committer: Jens Axboe <axboe@kernel.dk>
Commit Date: Tue Aug 2 17:22:46 2022 -0600

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
