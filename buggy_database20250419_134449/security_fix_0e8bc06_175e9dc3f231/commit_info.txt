Commit Hash: 0e8bc06a2fbb4d6b688baa8e2416cd07f9453595
Subject: KVM: s390: PSW forwarding / rewinding / ilc rework


Security Keywords:
- injection

Full commit message:
KVM: s390: PSW forwarding / rewinding / ilc rework

We have some confusion about ilc vs. ilen in our current code. So let's
correctly use the term ilen when dealing with (ilc << 1).

Program irq injection didn't take care of the correct ilc in case of
irqs triggered by EXECUTE functions, let's provide one function
kvm_s390_get_ilen() to take care of all that.

Also, manually specifying in intercept handlers the size of the
instruction (and sometimes overwriting that value for EXECUTE internally)
doesn't make too much sense. So also provide the functions:
- kvm_s390_retry_instr to retry the currently intercepted instruction
- kvm_s390_rewind_psw to rewind the PSW without internal overwrites
- kvm_s390_forward_psw to forward the PSW

Reviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>
Signed-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>
Signed-off-by: Christian Borntraeger <borntraeger@de.ibm.com>

Metadata:
Author: David Hildenbrand <dahi@linux.vnet.ibm.com>
Author Date: Wed Nov 4 13:47:58 2015 +0100
Committer: Christian Borntraeger <borntraeger@de.ibm.com>
Commit Date: Wed Feb 10 13:12:49 2016 +0100

Files Changed: 5
Lines Added: 50
Lines Removed: 36
Total Changes: 86
