{
  "hash": "0e8bc06a2fbb4d6b688baa8e2416cd07f9453595",
  "hash_short": "0e8bc06a",
  "subject": "KVM: s390: PSW forwarding / rewinding / ilc rework",
  "body": "We have some confusion about ilc vs. ilen in our current code. So let's\ncorrectly use the term ilen when dealing with (ilc << 1).\n\nProgram irq injection didn't take care of the correct ilc in case of\nirqs triggered by EXECUTE functions, let's provide one function\nkvm_s390_get_ilen() to take care of all that.\n\nAlso, manually specifying in intercept handlers the size of the\ninstruction (and sometimes overwriting that value for EXECUTE internally)\ndoesn't make too much sense. So also provide the functions:\n- kvm_s390_retry_instr to retry the currently intercepted instruction\n- kvm_s390_rewind_psw to rewind the PSW without internal overwrites\n- kvm_s390_forward_psw to forward the PSW\n\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "full_message": "KVM: s390: PSW forwarding / rewinding / ilc rework\n\nWe have some confusion about ilc vs. ilen in our current code. So let's\ncorrectly use the term ilen when dealing with (ilc << 1).\n\nProgram irq injection didn't take care of the correct ilc in case of\nirqs triggered by EXECUTE functions, let's provide one function\nkvm_s390_get_ilen() to take care of all that.\n\nAlso, manually specifying in intercept handlers the size of the\ninstruction (and sometimes overwriting that value for EXECUTE internally)\ndoesn't make too much sense. So also provide the functions:\n- kvm_s390_retry_instr to retry the currently intercepted instruction\n- kvm_s390_rewind_psw to rewind the PSW without internal overwrites\n- kvm_s390_forward_psw to forward the PSW\n\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "author_name": "David Hildenbrand",
  "author_email": "dahi@linux.vnet.ibm.com",
  "author_date": "Wed Nov 4 13:47:58 2015 +0100",
  "author_date_iso": "2015-11-04T13:47:58+01:00",
  "committer_name": "Christian Borntraeger",
  "committer_email": "borntraeger@de.ibm.com",
  "committer_date": "Wed Feb 10 13:12:49 2016 +0100",
  "committer_date_iso": "2016-02-10T13:12:49+01:00",
  "files_changed": [
    "arch/s390/kvm/intercept.c",
    "arch/s390/kvm/interrupt.c",
    "arch/s390/kvm/kvm-s390.c",
    "arch/s390/kvm/kvm-s390.h",
    "arch/s390/kvm/priv.c"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "arch/s390/kvm/intercept.c",
      "insertions": 23,
      "deletions": 8
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "insertions": 6,
      "deletions": 22
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/kvm-s390.h",
      "insertions": 16,
      "deletions": 1
    },
    {
      "file": "arch/s390/kvm/priv.c",
      "insertions": 4,
      "deletions": 4
    }
  ],
  "total_insertions": 50,
  "total_deletions": 36,
  "total_changes": 86,
  "parents": [
    "6fd8e67dd83437118cf46a4a9c224142004c3d51"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/kvm/intercept.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/kvm-s390.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/priv.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}