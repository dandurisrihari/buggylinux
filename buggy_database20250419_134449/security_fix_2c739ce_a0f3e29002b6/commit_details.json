{
  "hash": "2c739ced5886cd8c8361faa79a9522ec05174ed0",
  "hash_short": "2c739ced",
  "subject": "lib, include/linux: add usercopy failure capability",
  "body": "Patch series \"add fault injection to user memory access\", v3.\n\nThe goal of this series is to improve testing of fault-tolerance in usages\nof user memory access functions, by adding support for fault injection.\n\nsyzkaller/syzbot are using the existing fault injection modes and will use\nthis particular feature also.\n\nThe first patch adds failure injection capability for usercopy functions.\nThe second changes usercopy functions to use this new failure capability\n(copy_from_user, ...).  The third patch adds get/put/clear_user failures\nto x86.\n\nThis patch (of 3):\n\nAdd a failure injection capability to improve testing of fault-tolerance\nin usages of user memory access functions.\n\nAdd CONFIG_FAULT_INJECTION_USERCOPY to enable faults in usercopy\nfunctions.  The should_fail_usercopy function is to be called by these\nfunctions (copy_from_user, get_user, ...) in order to fail or not.\n\nSigned-off-by: Albert van der Linde <alinde@google.com>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nReviewed-by: Akinobu Mita <akinobu.mita@gmail.com>\nReviewed-by: Alexander Potapenko <glider@google.com>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Ingo Molnar <mingo@redhat.com>\nCc: Jonathan Corbet <corbet@lwn.net>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: Arnd Bergmann <arnd@arndb.de>\nCc: Peter Zijlstra (Intel) <peterz@infradead.org>\nCc: \"H. Peter Anvin\" <hpa@zytor.com>\nCc: Al Viro <viro@zeniv.linux.org.uk>\nCc: Andrey Konovalov <andreyknvl@google.com>\nCc: Dmitry Vyukov <dvyukov@google.com>\nCc: Marco Elver <elver@google.com>\nCc: Christoph Hellwig <hch@lst.de>\nLink: http://lkml.kernel.org/r/20200831171733.955393-1-alinde@google.com\nLink: http://lkml.kernel.org/r/20200831171733.955393-2-alinde@google.com\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "full_message": "lib, include/linux: add usercopy failure capability\n\nPatch series \"add fault injection to user memory access\", v3.\n\nThe goal of this series is to improve testing of fault-tolerance in usages\nof user memory access functions, by adding support for fault injection.\n\nsyzkaller/syzbot are using the existing fault injection modes and will use\nthis particular feature also.\n\nThe first patch adds failure injection capability for usercopy functions.\nThe second changes usercopy functions to use this new failure capability\n(copy_from_user, ...).  The third patch adds get/put/clear_user failures\nto x86.\n\nThis patch (of 3):\n\nAdd a failure injection capability to improve testing of fault-tolerance\nin usages of user memory access functions.\n\nAdd CONFIG_FAULT_INJECTION_USERCOPY to enable faults in usercopy\nfunctions.  The should_fail_usercopy function is to be called by these\nfunctions (copy_from_user, get_user, ...) in order to fail or not.\n\nSigned-off-by: Albert van der Linde <alinde@google.com>\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\nReviewed-by: Akinobu Mita <akinobu.mita@gmail.com>\nReviewed-by: Alexander Potapenko <glider@google.com>\nCc: Borislav Petkov <bp@alien8.de>\nCc: Ingo Molnar <mingo@redhat.com>\nCc: Jonathan Corbet <corbet@lwn.net>\nCc: Thomas Gleixner <tglx@linutronix.de>\nCc: Arnd Bergmann <arnd@arndb.de>\nCc: Peter Zijlstra (Intel) <peterz@infradead.org>\nCc: \"H. Peter Anvin\" <hpa@zytor.com>\nCc: Al Viro <viro@zeniv.linux.org.uk>\nCc: Andrey Konovalov <andreyknvl@google.com>\nCc: Dmitry Vyukov <dvyukov@google.com>\nCc: Marco Elver <elver@google.com>\nCc: Christoph Hellwig <hch@lst.de>\nLink: http://lkml.kernel.org/r/20200831171733.955393-1-alinde@google.com\nLink: http://lkml.kernel.org/r/20200831171733.955393-2-alinde@google.com\nSigned-off-by: Linus Torvalds <torvalds@linux-foundation.org>",
  "author_name": "Albert van der Linde",
  "author_email": "alinde@google.com",
  "author_date": "Thu Oct 15 20:13:46 2020 -0700",
  "author_date_iso": "2020-10-15T20:13:46-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri Oct 16 11:11:22 2020 -0700",
  "committer_date_iso": "2020-10-16T11:11:22-07:00",
  "files_changed": [
    "Documentation/admin-guide/kernel-parameters.txt",
    "Documentation/fault-injection/fault-injection.rst",
    "include/linux/fault-inject-usercopy.h",
    "lib/Kconfig.debug",
    "lib/Makefile",
    "lib/fault-inject-usercopy.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/fault-injection/fault-injection.rst",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "include/linux/fault-inject-usercopy.h",
      "insertions": 22,
      "deletions": 0
    },
    {
      "file": "lib/Kconfig.debug",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "lib/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "lib/fault-inject-usercopy.c",
      "insertions": 39,
      "deletions": 0
    }
  ],
  "total_insertions": 76,
  "total_deletions": 1,
  "total_changes": 77,
  "parents": [
    "d9bc85de46cad90851c346b592005090674b7669"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/fault-injection/fault-injection.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/fault-inject-usercopy.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Kconfig.debug",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "Documentation/admin-guide/kernel-parameters.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/fault-inject-usercopy.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}