{
  "hash": "2dc10cd8bc2662d0311224d92fb82f34be0424bc",
  "hash_short": "2dc10cd8",
  "subject": "drm/i915: Fix use after free when printing load failure",
  "body": "Commit d15d7538c6d2 (\"drm/i915: Tune down init error message due\nto failure injection\") added i915_load_error message to failure\npath on device initialization. The message is printed\nafter the device is freed. And as the message printing helper\nuses the device structure, this leads to use after free.\n\nSpotted by Kasan.\n\nCc: Imre Deak <imre.deak@intel.com>\nCc: Chris Wilson <chris@chris-wilson.co.uk>\nSigned-off-by: Mika Kuoppala <mika.kuoppala@intel.com>\nReviewed-by: Chris Wilson <chris@chris-wilson.co.uk>\nLink: http://patchwork.freedesktop.org/patch/msgid/1458721906-10625-1-git-send-email-mika.kuoppala@intel.com",
  "full_message": "drm/i915: Fix use after free when printing load failure\n\nCommit d15d7538c6d2 (\"drm/i915: Tune down init error message due\nto failure injection\") added i915_load_error message to failure\npath on device initialization. The message is printed\nafter the device is freed. And as the message printing helper\nuses the device structure, this leads to use after free.\n\nSpotted by Kasan.\n\nCc: Imre Deak <imre.deak@intel.com>\nCc: Chris Wilson <chris@chris-wilson.co.uk>\nSigned-off-by: Mika Kuoppala <mika.kuoppala@intel.com>\nReviewed-by: Chris Wilson <chris@chris-wilson.co.uk>\nLink: http://patchwork.freedesktop.org/patch/msgid/1458721906-10625-1-git-send-email-mika.kuoppala@intel.com",
  "author_name": "Mika Kuoppala",
  "author_email": "mika.kuoppala@linux.intel.com",
  "author_date": "Wed Mar 23 10:31:46 2016 +0200",
  "author_date_iso": "2016-03-23T10:31:46+02:00",
  "committer_name": "Mika Kuoppala",
  "committer_email": "mika.kuoppala@intel.com",
  "committer_date": "Wed Mar 23 12:00:16 2016 +0200",
  "committer_date_iso": "2016-03-23T12:00:16+02:00",
  "files_changed": [
    "drivers/gpu/drm/i915/i915_dma.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/gpu/drm/i915/i915_dma.c",
      "insertions": 2,
      "deletions": 2
    }
  ],
  "total_insertions": 2,
  "total_deletions": 2,
  "total_changes": 4,
  "parents": [
    "c6c794a2fc5e3bc8976fa318fbc7a003ecd712a1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/i915/i915_dma.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}