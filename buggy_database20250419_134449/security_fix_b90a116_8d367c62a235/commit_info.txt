Commit Hash: b90a1165a72fabdc260abaa9eeadcbfd29e267eb
Subject: wl1251: enforce changed hw encryption support on monitor state change


Security Keywords:
- injection

Full commit message:
wl1251: enforce changed hw encryption support on monitor state change

The firmware doesn't support per packet encryption selection, so disable hw
encryption support completely while a monitor interface is present to support
injection of packets (which shouldn't get encrypted by hw).
To enforce the changed hw encryption support force a disassociation on
non-monitor interfaces.
For disassociation a workaround using hw connection monitor is employed,
which temporary enables hw connection manager flag.

Signed-off-by: David Gnedt <david.gnedt@davizone.at>
Signed-off-by: Pali Roh√°r <pali.rohar@gmail.com>
Signed-off-by: Pavel Machek <pavel@ucw.cz>
Signed-off-by: John W. Linville <linville@tuxdriver.com>

Metadata:
Author: David Gnedt <david.gnedt@davizone.at>
Author Date: Tue Jan 7 13:11:27 2014 +0100
Committer: John W. Linville <linville@tuxdriver.com>
Commit Date: Thu Jan 9 10:56:37 2014 -0500

Files Changed: 1
Lines Added: 13
Lines Removed: 0
Total Changes: 13
