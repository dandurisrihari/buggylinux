diff --cc drivers/media/platform/mtk-vcodec/mtk_vcodec_dec_drv.c
index c7ed09fbafb6,145686d2c219..147dfef1638d
--- a/drivers/media/platform/mtk-vcodec/mtk_vcodec_dec_drv.c
+++ b/drivers/media/platform/mtk-vcodec/mtk_vcodec_dec_drv.c
@@@ -232,9 -232,16 +232,9 @@@ static int mtk_vcodec_probe(struct plat
  		mtk_v4l2_err("Could not get vdec IPI device");
  		return -ENODEV;
  	}
 -	if (!pdev->dev.dma_parms) {
 -		pdev->dev.dma_parms = devm_kzalloc(&pdev->dev,
 -						sizeof(*pdev->dev.dma_parms),
 -						GFP_KERNEL);
 -		if (!pdev->dev.dma_parms)
 -			return -ENOMEM;
 -	}
 -	dma_set_max_seg_size(&pdev->dev, DMA_BIT_MASK(32));
 +	dma_set_max_seg_size(&pdev->dev, UINT_MAX);
  
- 	dev->fw_handler = mtk_vcodec_fw_select(dev, fw_type, VPU_RST_DEC);
+ 	dev->fw_handler = mtk_vcodec_fw_select(dev, fw_type, DECODER);
  	if (IS_ERR(dev->fw_handler))
  		return PTR_ERR(dev->fw_handler);
  
diff --cc drivers/media/platform/mtk-vcodec/mtk_vcodec_enc_drv.c
index a2aa96b03f66,3be8a04c4c67..dfb42e19bf81
--- a/drivers/media/platform/mtk-vcodec/mtk_vcodec_enc_drv.c
+++ b/drivers/media/platform/mtk-vcodec/mtk_vcodec_enc_drv.c
@@@ -284,9 -284,16 +284,9 @@@ static int mtk_vcodec_probe(struct plat
  		mtk_v4l2_err("Could not get venc IPI device");
  		return -ENODEV;
  	}
 -	if (!pdev->dev.dma_parms) {
 -		pdev->dev.dma_parms = devm_kzalloc(&pdev->dev,
 -						sizeof(*pdev->dev.dma_parms),
 -						GFP_KERNEL);
 -		if (!pdev->dev.dma_parms)
 -			return -ENOMEM;
 -	}
 -	dma_set_max_seg_size(&pdev->dev, DMA_BIT_MASK(32));
 +	dma_set_max_seg_size(&pdev->dev, UINT_MAX);
  
- 	dev->fw_handler = mtk_vcodec_fw_select(dev, fw_type, VPU_RST_ENC);
+ 	dev->fw_handler = mtk_vcodec_fw_select(dev, fw_type, ENCODER);
  	if (IS_ERR(dev->fw_handler))
  		return PTR_ERR(dev->fw_handler);