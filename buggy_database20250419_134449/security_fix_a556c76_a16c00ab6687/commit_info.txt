Commit Hash: a556c76adc052c979ef9e80f0cd3fa1379ff4943
Subject: net: mscc: Add initial Ocelot switch support


Security Keywords:
- injection

Full commit message:
net: mscc: Add initial Ocelot switch support

Add a driver for Microsemi Ocelot Ethernet switch support.

This makes two modules:
mscc_ocelot_common handles all the common features that doesn't depend on
how the switch is integrated in the SoC. Currently, it handles offloading
bridging to the hardware. ocelot_io.c handles register accesses. This is
unfortunately needed because the register layout is packed and then depends
on the number of ports available on the switch. The register definition
files are automatically generated.

ocelot_board handles the switch integration on the SoC and on the board.

Frame injection and extraction to/from the CPU port is currently done using
register accesses which is quite slow. DMA is possible but the port is not
able to absorb the whole switch bandwidth.

Signed-off-by: Alexandre Belloni <alexandre.belloni@bootlin.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Signed-off-by: David S. Miller <davem@davemloft.net>

Metadata:
Author: Alexandre Belloni <alexandre.belloni@bootlin.com>
Author Date: Mon May 14 22:04:57 2018 +0200
Committer: David S. Miller <davem@davemloft.net>
Commit Date: Tue May 15 16:41:15 2018 -0400

Files Changed: 17
Lines Added: 5283
Lines Removed: 0
Total Changes: 5283
