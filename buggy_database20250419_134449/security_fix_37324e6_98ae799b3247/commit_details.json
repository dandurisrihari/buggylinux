{
  "hash": "37324e6bb120bc3cb7cbaa87512ff3a93dbcf5c4",
  "hash_short": "37324e6b",
  "subject": "SUNRPC: Cache deferral injection",
  "body": "Cache deferral injection stress-tests the cache deferral logic as\nwell as upper layer protocol deferred request handlers. This\nfacility is for developers and professional testers to ensure\ncoverage of the rqst deferral code paths. To date, we haven't\nhad an adequate way to ensure these code paths are covered\nduring testing, short of temporary code changes to force their\nuse.\n\nA file called /sys/kernel/debug/fail_sunrpc/ignore-cache-wait\nenables administrators to disable cache deferral injection while\nallowing other types of sunrpc errors to be injected. The default\nsetting is that cache deferral injection is enabled (ignore=false).\n\nTo enable support for cache deferral injection,\nCONFIG_FAULT_INJECTION, CONFIG_FAULT_INJECTION_DEBUG_FS, and\nCONFIG_SUNRPC_DEBUG must all be set to \"Y\".\n\nSigned-off-by: Chuck Lever <chuck.lever@oracle.com>",
  "full_message": "SUNRPC: Cache deferral injection\n\nCache deferral injection stress-tests the cache deferral logic as\nwell as upper layer protocol deferred request handlers. This\nfacility is for developers and professional testers to ensure\ncoverage of the rqst deferral code paths. To date, we haven't\nhad an adequate way to ensure these code paths are covered\nduring testing, short of temporary code changes to force their\nuse.\n\nA file called /sys/kernel/debug/fail_sunrpc/ignore-cache-wait\nenables administrators to disable cache deferral injection while\nallowing other types of sunrpc errors to be injected. The default\nsetting is that cache deferral injection is enabled (ignore=false).\n\nTo enable support for cache deferral injection,\nCONFIG_FAULT_INJECTION, CONFIG_FAULT_INJECTION_DEBUG_FS, and\nCONFIG_SUNRPC_DEBUG must all be set to \"Y\".\n\nSigned-off-by: Chuck Lever <chuck.lever@oracle.com>",
  "author_name": "Chuck Lever",
  "author_email": "chuck.lever@oracle.com",
  "author_date": "Thu Mar 31 15:30:10 2022 -0400",
  "author_date_iso": "2022-03-31T15:30:10-04:00",
  "committer_name": "Chuck Lever",
  "committer_email": "chuck.lever@oracle.com",
  "committer_date": "Thu May 19 12:25:38 2022 -0400",
  "committer_date_iso": "2022-05-19T12:25:38-04:00",
  "files_changed": [
    "net/sunrpc/cache.c",
    "net/sunrpc/debugfs.c",
    "net/sunrpc/fail.h"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "net/sunrpc/cache.c",
      "insertions": 17,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/debugfs.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/fail.h",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 21,
  "total_deletions": 2,
  "total_changes": 23,
  "parents": [
    "45cb7955c180a2a34d291e68938250c4f9bd294f"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/sunrpc/cache.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/debugfs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/fail.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}