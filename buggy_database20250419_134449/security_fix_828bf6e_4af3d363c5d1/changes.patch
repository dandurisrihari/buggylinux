diff --cc drivers/dax/super.c
index 45276abf03aa,c2f42b1f3363..6e928f37d084
--- a/drivers/dax/super.c
+++ b/drivers/dax/super.c
@@@ -86,10 -86,8 +86,9 @@@ bool __bdev_dax_supported(struct block_
  {
  	struct dax_device *dax_dev;
  	bool dax_enabled = false;
 +	struct request_queue *q;
  	pgoff_t pgoff;
  	int err, id;
- 	void *kaddr;
  	pfn_t pfn;
  	long len;
  	char buf[BDEVNAME_SIZE];