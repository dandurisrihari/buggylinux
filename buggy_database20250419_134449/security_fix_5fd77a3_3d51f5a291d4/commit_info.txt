Commit Hash: 5fd77a3a0e408c23ab4002a57db980e46bc16e72
Subject: usbip: vudc_tx: fix v_send_ret_submit() vulnerability to null xfer buffer


Security Keywords:
- vulnerability

Full commit message:
usbip: vudc_tx: fix v_send_ret_submit() vulnerability to null xfer buffer

v_send_ret_submit() handles urb with a null transfer_buffer, when it
replays a packet with potential malicious data that could contain a
null buffer.

Add a check for the condition when actual_length > 0 and transfer_buffer
is null.

Signed-off-by: Shuah Khan <shuahkh@osg.samsung.com>
Cc: stable <stable@vger.kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

Metadata:
Author: Shuah Khan <shuahkh@osg.samsung.com>
Author Date: Fri Dec 22 19:23:47 2017 -0700
Committer: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Commit Date: Thu Jan 4 17:07:27 2018 +0100

Files Changed: 1
Lines Added: 9
Lines Removed: 2
Total Changes: 11
