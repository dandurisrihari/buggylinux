Commit Hash: 84ece59ad5c1cd972619cae5a5df8998cc5e779f
Subject: bcachefs: Unit test updates


Security Keywords:
- injection

Full commit message:
bcachefs: Unit test updates

 - Convert to for_each_btree_key2(), for_each_btree_key_commit(),
   for_each_btree_key_reverse()
 - No more bare bch2_btree_iter_peek(); we're now fault-injection lock
   restarts, so we always need a lockrestart_do() or equivalent.

Signed-off-by: Kent Overstreet <kent.overstreet@gmail.com>

Metadata:
Author: Kent Overstreet <kent.overstreet@gmail.com>
Author Date: Wed Jul 20 16:25:00 2022 -0400
Committer: Kent Overstreet <kent.overstreet@linux.dev>
Commit Date: Sun Oct 22 17:09:37 2023 -0400

Files Changed: 1
Lines Added: 106
Lines Removed: 77
Total Changes: 183
