{
  "hash": "8844618d8aa7a9973e7b527d038a2a589665002c",
  "hash_short": "8844618d",
  "subject": "ext4: only look at the bg_flags field if it is valid",
  "body": "The bg_flags field in the block group descripts is only valid if the\nuninit_bg or metadata_csum feature is enabled.  We were not\nconsistently looking at this field; fix this.\n\nAlso block group #0 must never have uninitialized allocation bitmaps,\nor need to be zeroed, since that's where the root inode, and other\nspecial inodes are set up.  Check for these conditions and mark the\nfile system as corrupted if they are detected.\n\nThis addresses CVE-2018-10876.\n\nhttps://bugzilla.kernel.org/show_bug.cgi?id=199403\n\nSigned-off-by: Theodore Ts'o <tytso@mit.edu>\nCc: stable@kernel.org",
  "full_message": "ext4: only look at the bg_flags field if it is valid\n\nThe bg_flags field in the block group descripts is only valid if the\nuninit_bg or metadata_csum feature is enabled.  We were not\nconsistently looking at this field; fix this.\n\nAlso block group #0 must never have uninitialized allocation bitmaps,\nor need to be zeroed, since that's where the root inode, and other\nspecial inodes are set up.  Check for these conditions and mark the\nfile system as corrupted if they are detected.\n\nThis addresses CVE-2018-10876.\n\nhttps://bugzilla.kernel.org/show_bug.cgi?id=199403\n\nSigned-off-by: Theodore Ts'o <tytso@mit.edu>\nCc: stable@kernel.org",
  "author_name": "Theodore Ts'o",
  "author_email": "tytso@mit.edu",
  "author_date": "Thu Jun 14 00:58:00 2018 -0400",
  "author_date_iso": "2018-06-14T00:58:00-04:00",
  "committer_name": "Theodore Ts'o",
  "committer_email": "tytso@mit.edu",
  "committer_date": "Thu Jun 14 00:58:00 2018 -0400",
  "committer_date_iso": "2018-06-14T00:58:00-04:00",
  "files_changed": [
    "fs/ext4/balloc.c",
    "fs/ext4/ialloc.c",
    "fs/ext4/mballoc.c",
    "fs/ext4/super.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "fs/ext4/balloc.c",
      "insertions": 10,
      "deletions": 1
    },
    {
      "file": "fs/ext4/ialloc.c",
      "insertions": 12,
      "deletions": 2
    },
    {
      "file": "fs/ext4/mballoc.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "fs/ext4/super.c",
      "insertions": 10,
      "deletions": 1
    }
  ],
  "total_insertions": 36,
  "total_deletions": 6,
  "total_changes": 42,
  "parents": [
    "77260807d1170a8cf35dbb06e07461a655f67eee"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.18",
    "v4.18-rc4",
    "v4.18-rc5",
    "v4.18-rc6",
    "v4.18-rc7",
    "v4.18-rc8",
    "v4.19",
    "v4.19-rc1",
    "v4.19-rc2",
    "v4.19-rc3"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [
      "CVE-2018-10876"
    ],
    "security_keywords": []
  },
  "fix_type": "cve",
  "file_results": [
    {
      "file": "fs/ext4/balloc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ext4/ialloc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ext4/mballoc.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/ext4/super.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}