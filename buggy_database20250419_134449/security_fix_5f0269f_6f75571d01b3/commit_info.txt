Commit Hash: 5f0269f5d72f622514daec9af158c32e933800b6
Subject: KVM: Align cr8 threshold when userspace changes cr8


Security Keywords:
- injection

Full commit message:
KVM: Align cr8 threshold when userspace changes cr8

Commit f0a3602c20 ("KVM: Move interrupt injection logic to x86.c") does not
update the cr8 intercept if the lapic is disabled, so when userspace updates
cr8, the cr8 threshold control is not updated and we are left with illegal
control fields.

Fix by explicitly resetting the cr8 threshold.

Signed-off-by: Avi Kivity <avi@redhat.com>

Metadata:
Author: Mikhail Ershov <arcezed@gmail.com>
Author Date: Mon Aug 3 14:58:25 2009 +0300
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Thu Sep 10 08:33:17 2009 +0300

Files Changed: 1
Lines Added: 2
Lines Removed: 0
Total Changes: 2
