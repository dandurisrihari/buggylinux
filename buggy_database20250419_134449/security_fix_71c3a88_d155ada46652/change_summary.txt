Files changed: 7
Insertions: 2310
Deletions: 1121
Total changes: 3431

File-specific changes:
Documentation/devicetree/bindings/spi/fsl-spi.txt: +4 -4
Documentation/powerpc/imc.rst: +199 -0
Documentation/powerpc/index.rst: +2 -0
Documentation/powerpc/papr_hcalls.rst: +250 -0
arch/powerpc/Kconfig: +3 -6
arch/powerpc/Kconfig.debug: +1 -1
arch/powerpc/Makefile.postlink: +2 -2
arch/powerpc/boot/4xx.c: +1 -1
arch/powerpc/boot/dts/mgcoge.dts: +1 -1
arch/powerpc/boot/dts/mpc832x_rdb.dts: +1 -1
arch/powerpc/boot/dts/mpc8610_hpcd.dts: +1 -1
arch/powerpc/configs/44x/akebono_defconfig: +0 -1
arch/powerpc/configs/44x/sam440ep_defconfig: +0 -2
arch/powerpc/configs/52xx/pcm030_defconfig: +0 -2
arch/powerpc/configs/83xx/kmeter1_defconfig: +0 -2
arch/powerpc/configs/adder875_defconfig: +0 -1
arch/powerpc/configs/ep8248e_defconfig: +0 -1
arch/powerpc/configs/ep88xc_defconfig: +0 -1
arch/powerpc/configs/mgcoge_defconfig: +0 -1
arch/powerpc/configs/mpc512x_defconfig: +0 -1
arch/powerpc/configs/mpc885_ads_defconfig: +0 -1
arch/powerpc/configs/powernv_defconfig: +0 -1
arch/powerpc/configs/ppc64_defconfig: +0 -1
arch/powerpc/configs/ppc6xx_defconfig: +0 -1
arch/powerpc/configs/pseries_defconfig: +0 -1
arch/powerpc/configs/skiroot_defconfig: +41 -27
arch/powerpc/configs/storcenter_defconfig: +0 -1
arch/powerpc/configs/tqm8xx_defconfig: +0 -1
arch/powerpc/include/asm/book3s/32/kup.h: +59 -9
arch/powerpc/include/asm/book3s/32/pgtable.h: +5 -0
arch/powerpc/include/asm/book3s/64/kup-radix.h: +33 -7
arch/powerpc/include/asm/cputable.h: +5 -2
arch/powerpc/include/asm/firmware.h: +4 -2
arch/powerpc/include/asm/hw_breakpoint.h: +4 -0
arch/powerpc/include/asm/kasan.h: +2 -0
arch/powerpc/include/asm/kup.h: +41 -8
arch/powerpc/include/asm/nohash/32/kup-8xx.h: +18 -3
arch/powerpc/include/asm/nohash/32/pgtable.h: +5 -0
arch/powerpc/include/asm/page.h: +1 -1
arch/powerpc/include/asm/pci-bridge.h: +5 -2
arch/powerpc/include/asm/pci.h: +0 -1
arch/powerpc/include/asm/pgtable.h: +0 -6
arch/powerpc/include/asm/pnv-pci.h: +1 -0
arch/powerpc/include/asm/processor.h: +9 -0
arch/powerpc/include/asm/reg_8xx.h: +14 -0
arch/powerpc/include/asm/thread_info.h: +18 -0
arch/powerpc/include/asm/uaccess.h: +67 -21
arch/powerpc/include/asm/vdso_datapage.h: +10 -4
arch/powerpc/include/asm/xive.h: +46 -46
arch/powerpc/kernel/Makefile: +1 -2
arch/powerpc/kernel/asm-offsets.c: +10 -1
arch/powerpc/kernel/dt_cpu_ftrs.c: +8 -5
arch/powerpc/kernel/eeh.c: +18 -14
arch/powerpc/kernel/eeh_cache.c: +1 -9
arch/powerpc/kernel/eeh_driver.c: +0 -6
arch/powerpc/kernel/eeh_sysfs.c: +11 -11
arch/powerpc/kernel/entry_32.S: +19 -13
arch/powerpc/kernel/entry_64.S: +6 -12
arch/powerpc/kernel/exceptions-64s.S: +14 -18
arch/powerpc/kernel/fpu.S: +3 -0
arch/powerpc/kernel/head_32.S: +39 -23
arch/powerpc/kernel/head_32.h: +161 -19
arch/powerpc/kernel/head_40x.S: +2 -0
arch/powerpc/kernel/head_8xx.S: +88 -101
arch/powerpc/kernel/head_booke.h: +2 -0
arch/powerpc/kernel/head_fsl_booke.S: +1 -0
arch/powerpc/kernel/hw_breakpoint.c: +8 -7
arch/powerpc/kernel/idle.c: +25 -0
arch/powerpc/kernel/idle_book3s.S: +20 -0
arch/powerpc/kernel/idle_power4.S: +0 -83
arch/powerpc/kernel/irq.c: +22 -0
arch/powerpc/kernel/pci-common.c: +4 -42
arch/powerpc/kernel/pci-hotplug.c: +0 -1
arch/powerpc/kernel/pci_dn.c: +22 -25
arch/powerpc/kernel/pci_of_scan.c: +0 -1
arch/powerpc/kernel/process.c: +36 -33
arch/powerpc/kernel/setup.h: +1 -1
arch/powerpc/kernel/setup_32.c: +16 -1
arch/powerpc/kernel/setup_64.c: +1 -1
arch/powerpc/kernel/traps.c: +9 -0
arch/powerpc/kernel/vdso.c: +0 -5
arch/powerpc/kernel/vdso32/Makefile: +1 -3
arch/powerpc/kernel/vdso32/cacheflush.S: +27 -5
arch/powerpc/kernel/vdso32/datapage.S: +4 -27
arch/powerpc/kernel/vdso32/getcpu.S: +20 -3
arch/powerpc/kernel/vdso32/gettimeofday.S: +84 -35
arch/powerpc/kernel/vdso32/vdso32.lds.S: +1 -1
arch/powerpc/kernel/vector.S: +3 -0
arch/powerpc/kernel/vmlinux.lds.S: +1 -1
arch/powerpc/kvm/book3s_64_mmu_radix.c: +2 -4
arch/powerpc/kvm/book3s_hv_rmhandlers.S: +2 -0
arch/powerpc/kvm/book3s_xive.c: +1 -1
arch/powerpc/mm/book3s32/hash_low.S: +29 -17
arch/powerpc/mm/book3s32/mmu.c: +7 -2
arch/powerpc/mm/book3s64/hash_utils.c: +10 -1
arch/powerpc/mm/book3s64/radix_pgtable.c: +5 -1
arch/powerpc/mm/book3s64/radix_tlb.c: +3 -0
arch/powerpc/mm/fault.c: +5 -6
arch/powerpc/mm/kasan/kasan_init_32.c: +43 -46
arch/powerpc/mm/mem.c: +4 -0
arch/powerpc/mm/mmu_decl.h: +6 -0
arch/powerpc/mm/nohash/8xx.c: +7 -6
arch/powerpc/mm/pgtable_32.c: +1 -0
arch/powerpc/mm/ptdump/ptdump.c: +5 -1
arch/powerpc/oprofile/backtrace.c: +2 -12
arch/powerpc/perf/8xx-pmu.c: +8 -4
arch/powerpc/perf/callchain.c: +3 -17
arch/powerpc/perf/core-book3s.c: +1 -7
arch/powerpc/platforms/512x/mpc512x_lpbfifo.c: +3 -3
arch/powerpc/platforms/83xx/km83xx.c: +1 -1
arch/powerpc/platforms/85xx/smp.c: +9 -0
arch/powerpc/platforms/85xx/twr_p102x.c: +1 -4
arch/powerpc/platforms/Kconfig: +4 -0
arch/powerpc/platforms/Kconfig.cputype: +8 -0
arch/powerpc/platforms/maple/setup.c: +1 -1
arch/powerpc/platforms/powernv/opal.c: +73 -71
arch/powerpc/platforms/powernv/pci-ioda.c: +180 -64
arch/powerpc/platforms/powernv/pci.c: +14 -57
arch/powerpc/platforms/powernv/pci.h: +0 -3
arch/powerpc/platforms/powernv/setup.c: +4 -0
arch/powerpc/platforms/pseries/Kconfig: +0 -1
arch/powerpc/platforms/pseries/firmware.c: +9 -1
arch/powerpc/platforms/pseries/hotplug-memory.c: +3 -1
arch/powerpc/platforms/pseries/iommu.c: +36 -28
arch/powerpc/platforms/pseries/lparcfg.c: +2 -2
arch/powerpc/platforms/pseries/papr_scm.c: +5 -3
arch/powerpc/platforms/pseries/pci.c: +2 -2
arch/powerpc/platforms/pseries/vio.c: +2 -0
arch/powerpc/sysdev/fsl_pci.c: +4 -6
arch/powerpc/sysdev/mpic.c: +2 -2
arch/powerpc/tools/relocs_check.sh: +12 -8
arch/powerpc/xmon/dis-asm.h: +2 -2
arch/powerpc/xmon/xmon.c: +11 -9
drivers/macintosh/Kconfig: +3 -3
drivers/misc/ocxl/Kconfig: +1 -0
drivers/pci/hotplug/pnv_php.c: +49 -33
tools/testing/selftests/powerpc/eeh/eeh-functions.sh: +7 -3
tools/testing/selftests/powerpc/mm/.gitignore: +1 -0
tools/testing/selftests/powerpc/mm/Makefile: +2 -1
tools/testing/selftests/powerpc/mm/bad_accesses.c: +171 -0
tools/testing/selftests/powerpc/ptrace/ptrace-hwbreak.c: +2 -3
