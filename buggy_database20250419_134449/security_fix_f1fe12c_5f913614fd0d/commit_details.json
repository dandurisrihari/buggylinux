{
  "hash": "f1fe12c8bf33241e04c57a0fc5b25b16ba77ba2d",
  "hash_short": "f1fe12c8",
  "subject": "ARM: dts: Modernize the Vexpress PL111 integration",
  "body": "The Versatile Express was submitted with the actual display\nbridges unconnected (but defined in the device tree) and\nmock \"panels\" encoded in the device tree node of the PL111\ncontroller.\n\nThis doesn't even remotely describe the actual Versatile\nExpress hardware. Exploit the SiI9022 bridge by connecting\nthe PL111 pads to it, making it use EDID or fallback values\nto drive the monitor.\n\nThe  also has to use the reserved memory through the\nCMA pool rather than by open coding a memory region and\nremapping it explicitly in the driver. To achieve this,\na reserved-memory node must exist in the root of the\ndevice tree, so we need to pull that out of the\nmotherboard .dtsi include files, and push it into each\ntop-level device tree instead.\n\nWe do the same manouver for all the Versatile Express\nboards, taking into account the different location of the\nvideo RAM depending on which chip select is used on\neach platform.\n\nThis plays nicely with the new PL111 DRM driver and\nfollows the standard ways of assigning bridges and\nmemory pools for graphics.\n\nCc: Sudeep Holla <sudeep.holla@arm.com>\nCc: Lorenzo Pieralisi <lorenzo.pieralisi@arm.com>\nCc: Liviu Dudau <liviu.dudau@arm.com>\nCc: Mali DP Maintainers <malidp@foss.arm.com>\nCc: Robin Murphy <robin.murphy@arm.com>\nTested-by: Liviu Dudau <liviu.dudau@arm.com>\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>",
  "full_message": "ARM: dts: Modernize the Vexpress PL111 integration\n\nThe Versatile Express was submitted with the actual display\nbridges unconnected (but defined in the device tree) and\nmock \"panels\" encoded in the device tree node of the PL111\ncontroller.\n\nThis doesn't even remotely describe the actual Versatile\nExpress hardware. Exploit the SiI9022 bridge by connecting\nthe PL111 pads to it, making it use EDID or fallback values\nto drive the monitor.\n\nThe  also has to use the reserved memory through the\nCMA pool rather than by open coding a memory region and\nremapping it explicitly in the driver. To achieve this,\na reserved-memory node must exist in the root of the\ndevice tree, so we need to pull that out of the\nmotherboard .dtsi include files, and push it into each\ntop-level device tree instead.\n\nWe do the same manouver for all the Versatile Express\nboards, taking into account the different location of the\nvideo RAM depending on which chip select is used on\neach platform.\n\nThis plays nicely with the new PL111 DRM driver and\nfollows the standard ways of assigning bridges and\nmemory pools for graphics.\n\nCc: Sudeep Holla <sudeep.holla@arm.com>\nCc: Lorenzo Pieralisi <lorenzo.pieralisi@arm.com>\nCc: Liviu Dudau <liviu.dudau@arm.com>\nCc: Mali DP Maintainers <malidp@foss.arm.com>\nCc: Robin Murphy <robin.murphy@arm.com>\nTested-by: Liviu Dudau <liviu.dudau@arm.com>\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>",
  "author_name": "Linus Walleij",
  "author_email": "linus.walleij@linaro.org",
  "author_date": "Thu Feb 15 16:12:29 2018 +0100",
  "author_date_iso": "2018-02-15T16:12:29+01:00",
  "committer_name": "Linus Walleij",
  "committer_email": "linus.walleij@linaro.org",
  "committer_date": "Thu Nov 29 08:31:41 2018 +0100",
  "committer_date_iso": "2018-11-29T08:31:41+01:00",
  "files_changed": [
    "arch/arm/boot/dts/vexpress-v2m-rs1.dtsi",
    "arch/arm/boot/dts/vexpress-v2m.dtsi",
    "arch/arm/boot/dts/vexpress-v2p-ca15-tc1.dts",
    "arch/arm/boot/dts/vexpress-v2p-ca15_a7.dts",
    "arch/arm/boot/dts/vexpress-v2p-ca5s.dts",
    "arch/arm/boot/dts/vexpress-v2p-ca9.dts",
    "arch/arm64/boot/dts/arm/rtsm_ve-aemv8a.dts",
    "arch/arm64/boot/dts/arm/rtsm_ve-motherboard.dtsi",
    "arch/arm64/boot/dts/arm/vexpress-v2f-1xv7-ca53x2.dts"
  ],
  "files_changed_count": 9,
  "stats": [
    {
      "file": "arch/arm/boot/dts/vexpress-v2m-rs1.dtsi",
      "insertions": 17,
      "deletions": 32
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2m.dtsi",
      "insertions": 31,
      "deletions": 32
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca15-tc1.dts",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca15_a7.dts",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca5s.dts",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca9.dts",
      "insertions": 18,
      "deletions": 25
    },
    {
      "file": "arch/arm64/boot/dts/arm/rtsm_ve-aemv8a.dts",
      "insertions": 23,
      "deletions": 0
    },
    {
      "file": "arch/arm64/boot/dts/arm/rtsm_ve-motherboard.dtsi",
      "insertions": 5,
      "deletions": 32
    },
    {
      "file": "arch/arm64/boot/dts/arm/vexpress-v2f-1xv7-ca53x2.dts",
      "insertions": 14,
      "deletions": 0
    }
  ],
  "total_insertions": 150,
  "total_deletions": 121,
  "total_changes": 271,
  "parents": [
    "651022382c7f8da46cb4872a545ee1da6d097d2a"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.0",
    "v5.0-rc1",
    "v5.0-rc2",
    "v5.0-rc3",
    "v5.0-rc4",
    "v5.0-rc5",
    "v5.0-rc6",
    "v5.0-rc7",
    "v5.0-rc8",
    "v5.1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Exploit"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca5s.dts",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2m.dtsi",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2m-rs1.dtsi",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca9.dts",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/boot/dts/arm/rtsm_ve-aemv8a.dts",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/boot/dts/arm/rtsm_ve-motherboard.dtsi",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca15-tc1.dts",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm/boot/dts/vexpress-v2p-ca15_a7.dts",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/boot/dts/arm/vexpress-v2f-1xv7-ca53x2.dts",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}