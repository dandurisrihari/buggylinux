Commit Hash: 20429444e653ee8242dfbf815c0c37866beb371b
Subject: wifi: rtl8xxxu: fix authentication timeout due to incorrect RCR value


Security Keywords:
- authentication

Full commit message:
wifi: rtl8xxxu: fix authentication timeout due to incorrect RCR value

When using rtl8192cu with rtl8xxxu driver to connect wifi, there is a
probability of failure, which shows "authentication with ... timed out".
Through debugging, it was found that the RCR register has been inexplicably
modified to an incorrect value, resulting in the nic not being able to
receive authenticated frames.

To fix this problem, add regrcr in rtl8xxxu_priv struct, and store
the RCR value every time the register is written, and use it the next
time the register need to be modified.

Signed-off-by: Yun Lu <luyun@kylinos.cn>
Link: https://lore.kernel.org/all/20230427020512.1221062-1-luyun_611@163.com
Signed-off-by: Kalle Valo <kvalo@kernel.org>
Link: https://lore.kernel.org/r/20230512012055.2990472-1-luyun_611@163.com

Metadata:
Author: Yun Lu <luyun@kylinos.cn>
Author Date: Fri May 12 09:20:55 2023 +0800
Committer: Kalle Valo <kvalo@kernel.org>
Commit Date: Mon May 15 21:19:21 2023 +0300

Files Changed: 2
Lines Added: 4
Lines Removed: 1
Total Changes: 5
