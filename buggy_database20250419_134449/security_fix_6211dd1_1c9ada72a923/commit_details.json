{
  "hash": "6211dd12da609bc6893b9c3182630b494737ec4b",
  "hash_short": "6211dd12",
  "subject": "mac80211: fix direct probe auth",
  "body": "We send direct probe to broadcast address, as some APs do not respond to\nunicast PROBE frames when unassociated. Broadcast frames are not acked,\nso we can not use that for trigger MLME state machine, but we need to\nuse old timeout mechanism.\n\nThis fixes authentication timed out like below:\n\n[ 1024.671974] wlan6: authenticate with 54:e6:fc:98:63:fe\n[ 1024.694125] wlan6: direct probe to 54:e6:fc:98:63:fe (try 1/3)\n[ 1024.695450] wlan6: direct probe to 54:e6:fc:98:63:fe (try 2/3)\n[ 1024.700586] wlan6: send auth to 54:e6:fc:98:63:fe (try 3/3)\n[ 1024.701441] wlan6: authentication with 54:e6:fc:98:63:fe timed out\n\nWith fix, we have:\n\n[ 4524.198978] wlan6: authenticate with 54:e6:fc:98:63:fe\n[ 4524.220692] wlan6: direct probe to 54:e6:fc:98:63:fe (try 1/3)\n[ 4524.421784] wlan6: send auth to 54:e6:fc:98:63:fe (try 2/3)\n[ 4524.423272] wlan6: authenticated\n[ 4524.423811] wlan6: associate with 54:e6:fc:98:63:fe (try 1/3)\n[ 4524.427492] wlan6: RX AssocResp from 54:e6:fc:98:63:fe (capab=0x431 status=0 aid=1)\n\nCc: stable@vger.kernel.org # 3.9\nSigned-off-by: Stanislaw Gruszka <sgruszka@redhat.com>\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "full_message": "mac80211: fix direct probe auth\n\nWe send direct probe to broadcast address, as some APs do not respond to\nunicast PROBE frames when unassociated. Broadcast frames are not acked,\nso we can not use that for trigger MLME state machine, but we need to\nuse old timeout mechanism.\n\nThis fixes authentication timed out like below:\n\n[ 1024.671974] wlan6: authenticate with 54:e6:fc:98:63:fe\n[ 1024.694125] wlan6: direct probe to 54:e6:fc:98:63:fe (try 1/3)\n[ 1024.695450] wlan6: direct probe to 54:e6:fc:98:63:fe (try 2/3)\n[ 1024.700586] wlan6: send auth to 54:e6:fc:98:63:fe (try 3/3)\n[ 1024.701441] wlan6: authentication with 54:e6:fc:98:63:fe timed out\n\nWith fix, we have:\n\n[ 4524.198978] wlan6: authenticate with 54:e6:fc:98:63:fe\n[ 4524.220692] wlan6: direct probe to 54:e6:fc:98:63:fe (try 1/3)\n[ 4524.421784] wlan6: send auth to 54:e6:fc:98:63:fe (try 2/3)\n[ 4524.423272] wlan6: authenticated\n[ 4524.423811] wlan6: associate with 54:e6:fc:98:63:fe (try 1/3)\n[ 4524.427492] wlan6: RX AssocResp from 54:e6:fc:98:63:fe (capab=0x431 status=0 aid=1)\n\nCc: stable@vger.kernel.org # 3.9\nSigned-off-by: Stanislaw Gruszka <sgruszka@redhat.com>\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>",
  "author_name": "Stanislaw Gruszka",
  "author_email": "sgruszka@redhat.com",
  "author_date": "Fri May 17 13:43:04 2013 +0200",
  "author_date_iso": "2013-05-17T13:43:04+02:00",
  "committer_name": "Johannes Berg",
  "committer_email": "johannes.berg@intel.com",
  "committer_date": "Fri May 17 13:59:18 2013 +0200",
  "committer_date_iso": "2013-05-17T13:59:18+02:00",
  "files_changed": [
    "net/mac80211/mlme.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "net/mac80211/mlme.c",
      "insertions": 6,
      "deletions": 6
    }
  ],
  "total_insertions": 6,
  "total_deletions": 6,
  "total_changes": 12,
  "parents": [
    "e248ad30204eff6559b4d2d94d49d9d46c08185a"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1",
    "v3.11-rc2",
    "v3.11-rc3",
    "v3.11-rc4",
    "v3.11-rc5"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "auth"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "net/mac80211/mlme.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}