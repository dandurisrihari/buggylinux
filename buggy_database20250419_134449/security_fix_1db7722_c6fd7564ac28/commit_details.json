{
  "hash": "1db772216f48978d5146b858586f6178433aad38",
  "hash_short": "1db77221",
  "subject": "Merge branch 'for-3.10' of git://linux-nfs.org/~bfields/linux",
  "body": "Pull nfsd changes from J Bruce Fields:\n \"Highlights include:\n\n   - Some more DRC cleanup and performance work from Jeff Layton\n\n   - A gss-proxy upcall from Simo Sorce: currently krb5 mounts to the\n     server using credentials from Active Directory often fail due to\n     limitations of the svcgssd upcall interface.  This replacement\n     lifts those limitations.  The existing upcall is still supported\n     for backwards compatibility.\n\n   - More NFSv4.1 support: at this point, if a user with a current\n     client who upgrades from 4.0 to 4.1 should see no regressions.  In\n     theory we do everything a 4.1 server is required to do.  Patches\n     for a couple minor exceptions are ready for 3.11, and with those\n     and some more testing I'd like to turn 4.1 on by default in 3.11.\"\n\nFix up semantic conflict as per Stephen Rothwell and linux-next:\n\nCommit 030d794bf498 (\"SUNRPC: Use gssproxy upcall for server RPCGSS\nauthentication\") adds two new users of \"PDE(inode)->data\", but we're\nsupposed to use \"PDE_DATA(inode)\" instead since commit d9dda78bad87\n(\"procfs: new helper - PDE_DATA(inode)\").\n\nThe old PDE() macro is no longer available since commit c30480b92cf4\n(\"proc: Make the PROC_I() and PDE() macros internal to procfs\")\n\n* 'for-3.10' of git://linux-nfs.org/~bfields/linux: (60 commits)\n  NFSD: SECINFO doesn't handle unsupported pseudoflavors correctly\n  NFSD: Simplify GSS flavor encoding in nfsd4_do_encode_secinfo()\n  nfsd: make symbol nfsd_reply_cache_shrinker static\n  svcauth_gss: fix error return code in rsc_parse()\n  nfsd4: don't remap EISDIR errors in rename\n  svcrpc: fix gss-proxy to respect user namespaces\n  SUNRPC: gssp_procedures[] can be static\n  SUNRPC: define {create,destroy}_use_gss_proxy_proc_entry in !PROC case\n  nfsd4: better error return to indicate SSV non-support\n  nfsd: fix EXDEV checking in rename\n  SUNRPC: Use gssproxy upcall for server RPCGSS authentication.\n  SUNRPC: Add RPC based upcall mechanism for RPCGSS auth\n  SUNRPC: conditionally return endtime from import_sec_context\n  SUNRPC: allow disabling idle timeout\n  SUNRPC: attempt AF_LOCAL connect on setup\n  nfsd: Decode and send 64bit time values\n  nfsd4: put_client_renew_locked can be static\n  nfsd4: remove unused macro\n  nfsd4: remove some useless code\n  nfsd4: implement SEQ4_STATUS_RECALLABLE_STATE_REVOKED\n  ...",
  "full_message": "Merge branch 'for-3.10' of git://linux-nfs.org/~bfields/linux\n\nPull nfsd changes from J Bruce Fields:\n \"Highlights include:\n\n   - Some more DRC cleanup and performance work from Jeff Layton\n\n   - A gss-proxy upcall from Simo Sorce: currently krb5 mounts to the\n     server using credentials from Active Directory often fail due to\n     limitations of the svcgssd upcall interface.  This replacement\n     lifts those limitations.  The existing upcall is still supported\n     for backwards compatibility.\n\n   - More NFSv4.1 support: at this point, if a user with a current\n     client who upgrades from 4.0 to 4.1 should see no regressions.  In\n     theory we do everything a 4.1 server is required to do.  Patches\n     for a couple minor exceptions are ready for 3.11, and with those\n     and some more testing I'd like to turn 4.1 on by default in 3.11.\"\n\nFix up semantic conflict as per Stephen Rothwell and linux-next:\n\nCommit 030d794bf498 (\"SUNRPC: Use gssproxy upcall for server RPCGSS\nauthentication\") adds two new users of \"PDE(inode)->data\", but we're\nsupposed to use \"PDE_DATA(inode)\" instead since commit d9dda78bad87\n(\"procfs: new helper - PDE_DATA(inode)\").\n\nThe old PDE() macro is no longer available since commit c30480b92cf4\n(\"proc: Make the PROC_I() and PDE() macros internal to procfs\")\n\n* 'for-3.10' of git://linux-nfs.org/~bfields/linux: (60 commits)\n  NFSD: SECINFO doesn't handle unsupported pseudoflavors correctly\n  NFSD: Simplify GSS flavor encoding in nfsd4_do_encode_secinfo()\n  nfsd: make symbol nfsd_reply_cache_shrinker static\n  svcauth_gss: fix error return code in rsc_parse()\n  nfsd4: don't remap EISDIR errors in rename\n  svcrpc: fix gss-proxy to respect user namespaces\n  SUNRPC: gssp_procedures[] can be static\n  SUNRPC: define {create,destroy}_use_gss_proxy_proc_entry in !PROC case\n  nfsd4: better error return to indicate SSV non-support\n  nfsd: fix EXDEV checking in rename\n  SUNRPC: Use gssproxy upcall for server RPCGSS authentication.\n  SUNRPC: Add RPC based upcall mechanism for RPCGSS auth\n  SUNRPC: conditionally return endtime from import_sec_context\n  SUNRPC: allow disabling idle timeout\n  SUNRPC: attempt AF_LOCAL connect on setup\n  nfsd: Decode and send 64bit time values\n  nfsd4: put_client_renew_locked can be static\n  nfsd4: remove unused macro\n  nfsd4: remove some useless code\n  nfsd4: implement SEQ4_STATUS_RECALLABLE_STATE_REVOKED\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri May 3 10:59:39 2013 -0700",
  "author_date_iso": "2013-05-03T10:59:39-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri May 3 10:59:39 2013 -0700",
  "committer_date_iso": "2013-05-03T10:59:39-07:00",
  "files_changed": [
    "fs/nfsd/nfs4state.c",
    "fs/nfsd/nfsctl.c",
    "net/sunrpc/auth_gss/svcauth_gss.c",
    "net/sunrpc/cache.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "Documentation/filesystems/nfs/00-INDEX",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "Documentation/filesystems/nfs/rpc-server-gss.txt",
      "insertions": 91,
      "deletions": 0
    },
    {
      "file": "fs/nfsd/cache.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/nfsd/netns.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "fs/nfsd/nfs4callback.c",
      "insertions": 4,
      "deletions": 29
    },
    {
      "file": "fs/nfsd/nfs4proc.c",
      "insertions": 57,
      "deletions": 40
    },
    {
      "file": "fs/nfsd/nfs4state.c",
      "insertions": 417,
      "deletions": 330
    },
    {
      "file": "fs/nfsd/nfs4xdr.c",
      "insertions": 34,
      "deletions": 75
    },
    {
      "file": "fs/nfsd/nfscache.c",
      "insertions": 146,
      "deletions": 51
    },
    {
      "file": "fs/nfsd/nfsctl.c",
      "insertions": 12,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/state.h",
      "insertions": 9,
      "deletions": 18
    },
    {
      "file": "fs/nfsd/vfs.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "fs/nfsd/xdr4.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "fs/nfsd/xdr4cb.h",
      "insertions": 23,
      "deletions": 0
    },
    {
      "file": "include/linux/sunrpc/clnt.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/linux/sunrpc/gss_api.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "include/linux/sunrpc/msg_prot.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/linux/sunrpc/xprt.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/Makefile",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/auth_gss/auth_gss.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/auth_gss/gss_krb5_mech.c",
      "insertions": 5,
      "deletions": 2
    },
    {
      "file": "net/sunrpc/auth_gss/gss_mech_switch.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_upcall.c",
      "insertions": 358,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_upcall.h",
      "insertions": 48,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_xdr.c",
      "insertions": 838,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/gss_rpc_xdr.h",
      "insertions": 264,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/auth_gss/svcauth_gss.c",
      "insertions": 352,
      "deletions": 11
    },
    {
      "file": "net/sunrpc/cache.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "net/sunrpc/clnt.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/netns.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/xprt.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/sunrpc/xprtsock.c",
      "insertions": 3,
      "deletions": 0
    }
  ],
  "total_insertions": 2701,
  "total_deletions": 568,
  "total_changes": 3269,
  "parents": [
    "86652188f345edec56b0074a65f6db17f16eb359",
    "676e4ebd5f2c3b4fd1d2bff79b68385c23c5c105"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.10",
    "v3.10-rc1",
    "v3.10-rc2",
    "v3.10-rc3",
    "v3.10-rc4",
    "v3.10-rc5",
    "v3.10-rc6",
    "v3.10-rc7",
    "v3.11",
    "v3.11-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/nfsd/nfs4state.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/nfsd/nfsctl.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/auth_gss/svcauth_gss.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "net/sunrpc/cache.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}