commit 3f7759e7b7585a0bffda06d4eddc6b0b850ef6c3
Author: Iskren Chernev <me@iskren.info>
Date:   Wed Dec 30 17:29:43 2020 +0200

    drm/msm: Add modparam to allow vram carveout
    
    Using the GPU with a VRAM Carveout is a security vulnerability.
    Nevertheless it is sometimes required, especially when no IOMMU
    implementation is available for a certain platform.
    
    Signed-off-by: Iskren Chernev <iskren.chernev@gmail.com>
    Signed-off-by: Rob Clark <robdclark@chromium.org>

diff --git a/drivers/gpu/drm/msm/adreno/adreno_device.c b/drivers/gpu/drm/msm/adreno/adreno_device.c
index 87c8b033ad1a..12e75ba360f9 100644
--- a/drivers/gpu/drm/msm/adreno/adreno_device.c
+++ b/drivers/gpu/drm/msm/adreno/adreno_device.c
@@ -18,6 +18,10 @@ bool snapshot_debugbus = false;
 MODULE_PARM_DESC(snapshot_debugbus, "Include debugbus sections in GPU devcoredump (if not fused off)");
 module_param_named(snapshot_debugbus, snapshot_debugbus, bool, 0600);
 
+bool allow_vram_carveout = false;
+MODULE_PARM_DESC(allow_vram_carveout, "Allow using VRAM Carveout, in place of IOMMU");
+module_param_named(allow_vram_carveout, allow_vram_carveout, bool, 0600);
+
 static const struct adreno_info gpulist[] = {
 	{
 		.rev   = ADRENO_REV(2, 0, 0, 0),