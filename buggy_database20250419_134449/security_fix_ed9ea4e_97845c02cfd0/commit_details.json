{
  "hash": "ed9ea4ed3a44e8f8e8c7e8a12a05fd73f9ae1fb4",
  "hash_short": "ed9ea4ed",
  "subject": "Merge branch 'for-next' of git://git.kernel.org/pub/scm/linux/kernel/git/nab/target-pending",
  "body": "Pull SCSI target updates from Nicholas Bellinger:\n \"The highlights this round include:\n\n   - Add support for T10 PI pass-through between vhost-scsi +\n     virtio-scsi (MST + Paolo + MKP + nab)\n   - Add support for T10 PI in qla2xxx target mode (Quinn + MKP + hch +\n     nab, merged through scsi.git)\n   - Add support for percpu-ida pre-allocation in qla2xxx target code\n     (Quinn + nab)\n   - A number of iser-target fixes related to hardening the network\n     portal shutdown path (Sagi + Slava)\n   - Fix response length residual handling for a number of control CDBs\n     (Roland + Christophe V.)\n   - Various iscsi RFC conformance fixes in the CHAP authentication path\n     (Tejas and Calsoft folks + nab)\n   - Return TASK_SET_FULL status for tcm_fc(FCoE) DataIn + Response\n     failures (Vasu + Jun + nab)\n   - Fix long-standing ABORT_TASK + session reset hang (nab)\n   - Convert iser-initiator + iser-target to include T10 bytes into EDTL\n     (Sagi + Or + MKP + Mike Christie)\n   - Fix NULL pointer dereference regression related to XCOPY introduced\n     in v3.15 + CC'ed to v3.12.y (nab)\"\n\n* 'for-next' of git://git.kernel.org/pub/scm/linux/kernel/git/nab/target-pending: (34 commits)\n  target: Fix NULL pointer dereference for XCOPY in target_put_sess_cmd\n  vhost-scsi: Include prot_bytes into expected data transfer length\n  TARGET/sbc,loopback: Adjust command data length in case pi exists on the wire\n  libiscsi, iser: Adjust data_length to include protection information\n  scsi_cmnd: Introduce scsi_transfer_length helper\n  target: Report correct response length for some commands\n  target/sbc: Check that the LBA and number of blocks are correct in VERIFY\n  target/sbc: Remove sbc_check_valid_sectors()\n  Target/iscsi: Fix sendtargets response pdu for iser transport\n  Target/iser: Fix a wrong dereference in case discovery session is over iser\n  iscsi-target: Fix ABORT_TASK + connection reset iscsi_queue_req memory leak\n  target: Use complete_all for se_cmd->t_transport_stop_comp\n  target: Set CMD_T_ACTIVE bit for Task Management Requests\n  target: cleanup some boolean tests\n  target/spc: Simplify INQUIRY EVPD=0x80\n  tcm_fc: Generate TASK_SET_FULL status for response failures\n  tcm_fc: Generate TASK_SET_FULL status for DataIN failures\n  iscsi-target: Reject mutual authentication with reflected CHAP_C\n  iscsi-target: Remove no-op from iscsit_tpg_del_portal_group\n  iscsi-target: Fix CHAP_A parameter list handling\n  ...",
  "full_message": "Merge branch 'for-next' of git://git.kernel.org/pub/scm/linux/kernel/git/nab/target-pending\n\nPull SCSI target updates from Nicholas Bellinger:\n \"The highlights this round include:\n\n   - Add support for T10 PI pass-through between vhost-scsi +\n     virtio-scsi (MST + Paolo + MKP + nab)\n   - Add support for T10 PI in qla2xxx target mode (Quinn + MKP + hch +\n     nab, merged through scsi.git)\n   - Add support for percpu-ida pre-allocation in qla2xxx target code\n     (Quinn + nab)\n   - A number of iser-target fixes related to hardening the network\n     portal shutdown path (Sagi + Slava)\n   - Fix response length residual handling for a number of control CDBs\n     (Roland + Christophe V.)\n   - Various iscsi RFC conformance fixes in the CHAP authentication path\n     (Tejas and Calsoft folks + nab)\n   - Return TASK_SET_FULL status for tcm_fc(FCoE) DataIn + Response\n     failures (Vasu + Jun + nab)\n   - Fix long-standing ABORT_TASK + session reset hang (nab)\n   - Convert iser-initiator + iser-target to include T10 bytes into EDTL\n     (Sagi + Or + MKP + Mike Christie)\n   - Fix NULL pointer dereference regression related to XCOPY introduced\n     in v3.15 + CC'ed to v3.12.y (nab)\"\n\n* 'for-next' of git://git.kernel.org/pub/scm/linux/kernel/git/nab/target-pending: (34 commits)\n  target: Fix NULL pointer dereference for XCOPY in target_put_sess_cmd\n  vhost-scsi: Include prot_bytes into expected data transfer length\n  TARGET/sbc,loopback: Adjust command data length in case pi exists on the wire\n  libiscsi, iser: Adjust data_length to include protection information\n  scsi_cmnd: Introduce scsi_transfer_length helper\n  target: Report correct response length for some commands\n  target/sbc: Check that the LBA and number of blocks are correct in VERIFY\n  target/sbc: Remove sbc_check_valid_sectors()\n  Target/iscsi: Fix sendtargets response pdu for iser transport\n  Target/iser: Fix a wrong dereference in case discovery session is over iser\n  iscsi-target: Fix ABORT_TASK + connection reset iscsi_queue_req memory leak\n  target: Use complete_all for se_cmd->t_transport_stop_comp\n  target: Set CMD_T_ACTIVE bit for Task Management Requests\n  target: cleanup some boolean tests\n  target/spc: Simplify INQUIRY EVPD=0x80\n  tcm_fc: Generate TASK_SET_FULL status for response failures\n  tcm_fc: Generate TASK_SET_FULL status for DataIN failures\n  iscsi-target: Reject mutual authentication with reflected CHAP_C\n  iscsi-target: Remove no-op from iscsit_tpg_del_portal_group\n  iscsi-target: Fix CHAP_A parameter list handling\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Jun 12 22:38:32 2014 -0700",
  "author_date_iso": "2014-06-12T22:38:32-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Jun 12 22:38:32 2014 -0700",
  "committer_date_iso": "2014-06-12T22:38:32-07:00",
  "files_changed": [
    "drivers/infiniband/ulp/isert/ib_isert.c",
    "drivers/scsi/libiscsi.c",
    "drivers/scsi/qla2xxx/qla_target.c",
    "drivers/scsi/qla2xxx/qla_target.h",
    "drivers/scsi/qla2xxx/tcm_qla2xxx.c",
    "drivers/scsi/virtio_scsi.c",
    "drivers/target/iscsi/iscsi_target.c",
    "drivers/target/iscsi/iscsi_target_login.c",
    "drivers/target/iscsi/iscsi_target_tpg.c",
    "drivers/target/loopback/tcm_loop.c",
    "drivers/target/target_core_transport.c",
    "drivers/vhost/scsi.c",
    "include/scsi/scsi_cmnd.h"
  ],
  "files_changed_count": 13,
  "stats": [
    {
      "file": "drivers/infiniband/ulp/iser/iser_initiator.c",
      "insertions": 10,
      "deletions": 24
    },
    {
      "file": "drivers/infiniband/ulp/isert/ib_isert.c",
      "insertions": 35,
      "deletions": 35
    },
    {
      "file": "drivers/infiniband/ulp/isert/ib_isert.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/libiscsi.c",
      "insertions": 9,
      "deletions": 9
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_target.c",
      "insertions": 131,
      "deletions": 64
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_target.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/qla2xxx/tcm_qla2xxx.c",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/qla2xxx/tcm_qla2xxx.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/virtio_scsi.c",
      "insertions": 69,
      "deletions": 17
    },
    {
      "file": "drivers/target/iscsi/iscsi_target.c",
      "insertions": 16,
      "deletions": 13
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_auth.c",
      "insertions": 61,
      "deletions": 13
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_auth.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_login.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_nego.c",
      "insertions": 9,
      "deletions": 3
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_parameters.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_tpg.c",
      "insertions": 3,
      "deletions": 5
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_tpg.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "drivers/target/loopback/tcm_loop.c",
      "insertions": 12,
      "deletions": 3
    },
    {
      "file": "drivers/target/target_core_sbc.c",
      "insertions": 24,
      "deletions": 44
    },
    {
      "file": "drivers/target/target_core_spc.c",
      "insertions": 8,
      "deletions": 10
    },
    {
      "file": "drivers/target/target_core_transport.c",
      "insertions": 32,
      "deletions": 5
    },
    {
      "file": "drivers/target/target_core_xcopy.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "drivers/target/tcm_fc/tfc_cmd.c",
      "insertions": 16,
      "deletions": 3
    },
    {
      "file": "drivers/target/tcm_fc/tfc_io.c",
      "insertions": 15,
      "deletions": 2
    },
    {
      "file": "drivers/vhost/scsi.c",
      "insertions": 212,
      "deletions": 96
    },
    {
      "file": "include/linux/virtio_scsi.h",
      "insertions": 14,
      "deletions": 1
    },
    {
      "file": "include/scsi/scsi_cmnd.h",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "include/target/iscsi/iscsi_transport.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "include/target/target_core_backend.h",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 728,
  "total_deletions": 364,
  "total_changes": 1092,
  "parents": [
    "c1fdb2d3389c5a1e7c559a37a4967c1d2580e75c",
    "0ed6e189e3f6ac3a25383ed5cc8b0ac24c9b97b7"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v3.16",
    "v3.16-rc1",
    "v3.16-rc2",
    "v3.16-rc3",
    "v3.16-rc4",
    "v3.16-rc5",
    "v3.16-rc6",
    "v3.16-rc7",
    "v3.17",
    "v3.17-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening",
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/target/iscsi/iscsi_target.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_login.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/tcm_qla2xxx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/virtio_scsi.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/libiscsi.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_target.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/infiniband/ulp/isert/ib_isert.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/scsi/scsi_cmnd.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/target/iscsi/iscsi_target_tpg.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/qla2xxx/qla_target.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/target/loopback/tcm_loop.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/target/target_core_transport.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/vhost/scsi.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}