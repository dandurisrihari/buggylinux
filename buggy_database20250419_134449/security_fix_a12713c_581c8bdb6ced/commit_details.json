{
  "hash": "a12713c25b36cbbc1a3204b2a49a72f7bc8a8847",
  "hash_short": "a12713c2",
  "subject": "KVM: SVM: don't NMI singlestep over event injection",
  "body": "Singlestepping is enabled by setting the TF flag and care must be\ntaken to not let the guest see (and reuse at an inconvenient time)\nthe modified rflag value. One such case is event injection, as part\nof which flags are pushed on the stack and restored later on iret.\n\nThis commit disables singlestepping when we're about to inject an\nevent and forces an immediate exit for us to re-evaluate the NMI\nrelated state.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "full_message": "KVM: SVM: don't NMI singlestep over event injection\n\nSinglestepping is enabled by setting the TF flag and care must be\ntaken to not let the guest see (and reuse at an inconvenient time)\nthe modified rflag value. One such case is event injection, as part\nof which flags are pushed on the stack and restored later on iret.\n\nThis commit disables singlestepping when we're about to inject an\nevent and forces an immediate exit for us to re-evaluate the NMI\nrelated state.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",
  "author_name": "Ladi Prosek",
  "author_email": "lprosek@redhat.com",
  "author_date": "Wed Jun 21 09:07:00 2017 +0200",
  "author_date_iso": "2017-06-21T09:07:00+02:00",
  "committer_name": "Paolo Bonzini",
  "committer_email": "pbonzini@redhat.com",
  "committer_date": "Tue Jun 27 16:35:25 2017 +0200",
  "committer_date_iso": "2017-06-27T16:35:25+02:00",
  "files_changed": [
    "arch/x86/kvm/svm.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kvm/svm.c",
      "insertions": 16,
      "deletions": 0
    }
  ],
  "total_insertions": 16,
  "total_deletions": 0,
  "total_changes": 16,
  "parents": [
    "9b61174793f2aae1ef5ef843ef1cdbe52c2e36e8"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.13",
    "v4.13-rc1",
    "v4.13-rc2",
    "v4.13-rc3",
    "v4.13-rc4",
    "v4.13-rc5",
    "v4.13-rc6",
    "v4.13-rc7",
    "v4.14",
    "v4.14-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kvm/svm.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}