Commit Hash: 2400617da7eebf9167d71a46122828bc479d64c9
Subject: xen/blkfront: force data bouncing when backend is untrusted

CVE Identifiers:
- CVE-2022-33742

Full commit message:
xen/blkfront: force data bouncing when backend is untrusted

Split the current bounce buffering logic used with persistent grants
into it's own option, and allow enabling it independently of
persistent grants.  This allows to reuse the same code paths to
perform the bounce buffering required to avoid leaking contiguous data
in shared pages not part of the request fragments.

Reporting whether the backend is to be trusted can be done using a
module parameter, or from the xenstore frontend path as set by the
toolstack when adding the device.

This is CVE-2022-33742, part of XSA-403.

Signed-off-by: Roger Pau Monn√© <roger.pau@citrix.com>
Reviewed-by: Juergen Gross <jgross@suse.com>
Signed-off-by: Juergen Gross <jgross@suse.com>

Metadata:
Author: Roger Pau Monne <roger.pau@citrix.com>
Author Date: Thu Apr 7 13:04:24 2022 +0200
Committer: Juergen Gross <jgross@suse.com>
Commit Date: Fri Jul 1 10:00:50 2022 +0200

Files Changed: 1
Lines Added: 34
Lines Removed: 15
Total Changes: 49
