Commit Hash: fc156629b23a21181e473e60341e3a78af25a1d4
Subject: remoteproc: qcom_q6v5_mss: map/unmap metadata region before/after use


Security Keywords:
- authentication

Full commit message:
remoteproc: qcom_q6v5_mss: map/unmap metadata region before/after use

The application processor accessing the dynamically assigned metadata
region after assigning it to the remote Q6 would lead to an XPU violation.
Fix this by un-mapping the metadata region post firmware header copy. The
metadata region is freed only after the modem Q6 is done with fw header
authentication.

Signed-off-by: Sibi Sankar <quic_sibis@quicinc.com>
Acked-by: Arnd Bergmann <arnd@arndb.de>
Reviewed-by: Bjorn Andersson <bjorn.andersson@linaro.org>
Signed-off-by: Bjorn Andersson <bjorn.andersson@linaro.org>
Link: https://lore.kernel.org/r/1652248625-990-1-git-send-email-quic_sibis@quicinc.com

Metadata:
Author: Sibi Sankar <quic_sibis@quicinc.com>
Author Date: Wed May 11 11:27:05 2022 +0530
Committer: Bjorn Andersson <bjorn.andersson@linaro.org>
Commit Date: Mon Jul 18 15:32:33 2022 -0500

Files Changed: 1
Lines Added: 32
Lines Removed: 6
Total Changes: 38
