{
  "hash": "b13cfb445c91837db967148222374f591fbdb20c",
  "hash_short": "b13cfb44",
  "subject": "Merge tag 'drm-intel-next-2024-02-07' of git://anongit.freedesktop.org/drm/drm-intel into drm-next",
  "body": "drm/i915 feature pull for v6.9:\n\nFeatures and functionality:\n- Early transport for panel replay and PSR (Jouni)\n- New ARL PCI IDs (Matt)\n- DP TPS4 PHY test pattern support (Khaled)\n\nRefactoring and cleanups:\n- Unify and improve VSC SDP for PSR and non-PSR cases (Jouni)\n- Refactor memory regions and improve debug logging (Ville)\n- Rework global state serialization (Ville)\n- Remove unused CDCLK divider fields (Gustavo)\n- Unify HDCP connector logging format (Jani)\n- Use display instead of graphics version in display code (Jani)\n- Move VBT and opregion debugfs next to the implementation (Jani)\n- Abstract opregion interface, use opaque type (Jani)\n\nFixes:\n- Fix MTL stolen memory access (Ville)\n- Fix initial display plane readout for MTL (Ville)\n- Fix HPD handling during driver init/shutdown (Imre)\n- Cursor vblank evasion fixes (Ville)\n- Various VSC SDP fixes (Jouni)\n- Allow PSR mode changes without full modeset (Jouni)\n- Fix CDCLK sanitization on module load for Xe2_LPD (Gustavo)\n- Fix the max DSC bpc supported by the source (Ankit)\n- Add missing LNL ALPM AUX wake configuration (Jouni)\n- Cx0 PHY state readout and verify fixes (Mika)\n- Fix PSR (panel replay) debugfs for MST connectors (Imre)\n- Fail HDCP repeater authentication if Type1 device not present (Suraj)\n- Ratelimit debug logging in vm_fault_ttm (Nirmoy)\n- Use a fake PCH for MTL because south display is not on the PCH (Haridhar)\n- Disable DSB for Xe driver for now (Jos\u00e9)\n- Fix some LNL display register changes (Lucas)\n- Fix build on ChromeOS (Paz Zcharya)\n- Preserve current shared DPLL for fastsets on Type-C ports (Ville)\n- Fix state checker warnings for MG/TC/TBT PLLs (Ville)\n- Fix HDCP repeater ctl register value on errors (Jani)\n- Allow FBC with CCS modifiers on SKL+ (Ville)\n- Fix HDCP GGTT pinning (Ville)\n\nDRM core changes:\n- Add ratelimited drm dbg print (Nirmoy)\n- DPCD PSR early transport macro (Jouni)\n\nMerges:\n- Backmerge drm-next to bring Xe driver to drm-intel-next (Jani)\n\nSigned-off-by: Dave Airlie <airlied@redhat.com>\nFrom: Jani Nikula <jani.nikula@intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/87cyt8cxsh.fsf@intel.com",
  "full_message": "Merge tag 'drm-intel-next-2024-02-07' of git://anongit.freedesktop.org/drm/drm-intel into drm-next\n\ndrm/i915 feature pull for v6.9:\n\nFeatures and functionality:\n- Early transport for panel replay and PSR (Jouni)\n- New ARL PCI IDs (Matt)\n- DP TPS4 PHY test pattern support (Khaled)\n\nRefactoring and cleanups:\n- Unify and improve VSC SDP for PSR and non-PSR cases (Jouni)\n- Refactor memory regions and improve debug logging (Ville)\n- Rework global state serialization (Ville)\n- Remove unused CDCLK divider fields (Gustavo)\n- Unify HDCP connector logging format (Jani)\n- Use display instead of graphics version in display code (Jani)\n- Move VBT and opregion debugfs next to the implementation (Jani)\n- Abstract opregion interface, use opaque type (Jani)\n\nFixes:\n- Fix MTL stolen memory access (Ville)\n- Fix initial display plane readout for MTL (Ville)\n- Fix HPD handling during driver init/shutdown (Imre)\n- Cursor vblank evasion fixes (Ville)\n- Various VSC SDP fixes (Jouni)\n- Allow PSR mode changes without full modeset (Jouni)\n- Fix CDCLK sanitization on module load for Xe2_LPD (Gustavo)\n- Fix the max DSC bpc supported by the source (Ankit)\n- Add missing LNL ALPM AUX wake configuration (Jouni)\n- Cx0 PHY state readout and verify fixes (Mika)\n- Fix PSR (panel replay) debugfs for MST connectors (Imre)\n- Fail HDCP repeater authentication if Type1 device not present (Suraj)\n- Ratelimit debug logging in vm_fault_ttm (Nirmoy)\n- Use a fake PCH for MTL because south display is not on the PCH (Haridhar)\n- Disable DSB for Xe driver for now (Jos\u00e9)\n- Fix some LNL display register changes (Lucas)\n- Fix build on ChromeOS (Paz Zcharya)\n- Preserve current shared DPLL for fastsets on Type-C ports (Ville)\n- Fix state checker warnings for MG/TC/TBT PLLs (Ville)\n- Fix HDCP repeater ctl register value on errors (Jani)\n- Allow FBC with CCS modifiers on SKL+ (Ville)\n- Fix HDCP GGTT pinning (Ville)\n\nDRM core changes:\n- Add ratelimited drm dbg print (Nirmoy)\n- DPCD PSR early transport macro (Jouni)\n\nMerges:\n- Backmerge drm-next to bring Xe driver to drm-intel-next (Jani)\n\nSigned-off-by: Dave Airlie <airlied@redhat.com>\nFrom: Jani Nikula <jani.nikula@intel.com>\nLink: https://patchwork.freedesktop.org/patch/msgid/87cyt8cxsh.fsf@intel.com",
  "author_name": "Dave Airlie",
  "author_email": "airlied@redhat.com",
  "author_date": "Fri Feb 16 06:52:03 2024 +1000",
  "author_date_iso": "2024-02-16T06:52:03+10:00",
  "committer_name": "Dave Airlie",
  "committer_email": "airlied@redhat.com",
  "committer_date": "Fri Feb 16 06:52:04 2024 +1000",
  "committer_date_iso": "2024-02-16T06:52:04+10:00",
  "files_changed": [
    "drivers/gpu/drm/i915/display/intel_backlight.c",
    "drivers/gpu/drm/i915/display/intel_gmbus.c",
    "drivers/gpu/drm/i915/display/intel_sdvo.c",
    "drivers/gpu/drm/i915/gem/i915_gem_ttm.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "drivers/gpu/drm/i915/display/i9xx_plane.c",
      "insertions": 30,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/i9xx_plane.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_atomic_plane.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_backlight.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_bios.c",
      "insertions": 32,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_bios.h",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_cdclk.c",
      "insertions": 185,
      "deletions": 190
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_crt.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_crtc.c",
      "insertions": 8,
      "deletions": 120
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_cursor.c",
      "insertions": 49,
      "deletions": 14
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_cx0_phy.c",
      "insertions": 119,
      "deletions": 110
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_cx0_phy_regs.h",
      "insertions": 55,
      "deletions": 8
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_ddi.c",
      "insertions": 48,
      "deletions": 19
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display.c",
      "insertions": 60,
      "deletions": 16
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_core.h",
      "insertions": 17,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_debugfs.c",
      "insertions": 2,
      "deletions": 24
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_debugfs_params.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_device.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_driver.c",
      "insertions": 154,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_driver.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_irq.c",
      "insertions": 5,
      "deletions": 5
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_display_types.h",
      "insertions": 27,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dmc.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp.c",
      "insertions": 104,
      "deletions": 88
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp.h",
      "insertions": 3,
      "deletions": 7
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp_aux.c",
      "insertions": 13,
      "deletions": 16
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dp_mst.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dpll_mgr.c",
      "insertions": 51,
      "deletions": 32
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dpll_mgr.h",
      "insertions": 12,
      "deletions": 6
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dsb.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_dvo.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_fbc.c",
      "insertions": 1,
      "deletions": 12
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_fbdev_fb.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_global_state.c",
      "insertions": 126,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_global_state.h",
      "insertions": 8,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_gmbus.c",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hdcp.c",
      "insertions": 42,
      "deletions": 36
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hdcp_gsc.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hdcp_regs.h",
      "insertions": 15,
      "deletions": 13
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hdmi.c",
      "insertions": 13,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hotplug.c",
      "insertions": 146,
      "deletions": 19
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hotplug.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_hotplug_irq.c",
      "insertions": 2,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_opregion.c",
      "insertions": 124,
      "deletions": 52
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_opregion.h",
      "insertions": 21,
      "deletions": 26
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_panel.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_plane_initial.c",
      "insertions": 187,
      "deletions": 68
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_plane_initial.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_pps.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_psr.c",
      "insertions": 156,
      "deletions": 46
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_psr.h",
      "insertions": 0,
      "deletions": 6
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_psr_regs.h",
      "insertions": 63,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_sdvo.c",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_tc.c",
      "insertions": 20,
      "deletions": 20
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_tc.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_tv.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_vblank.c",
      "insertions": 130,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_vblank.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_universal_plane.c",
      "insertions": 28,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_universal_plane.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/display/skl_watermark.c",
      "insertions": 30,
      "deletions": 24
    },
    {
      "file": "drivers/gpu/drm/i915/gem/i915_gem_region.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/gem/i915_gem_stolen.c",
      "insertions": 13,
      "deletions": 12
    },
    {
      "file": "drivers/gpu/drm/i915/gem/i915_gem_ttm.c",
      "insertions": 7,
      "deletions": 6
    },
    {
      "file": "drivers/gpu/drm/i915/gem/selftests/i915_gem_mman.c",
      "insertions": 9,
      "deletions": 9
    },
    {
      "file": "drivers/gpu/drm/i915/gt/intel_ggtt.c",
      "insertions": 9,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/gt/intel_gtt.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/gt/intel_region_lmem.c",
      "insertions": 3,
      "deletions": 11
    },
    {
      "file": "drivers/gpu/drm/i915/gt/selftest_tlb.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/gvt/kvmgt.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/i915_driver.c",
      "insertions": 20,
      "deletions": 5
    },
    {
      "file": "drivers/gpu/drm/i915/i915_gpu_error.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/i915_query.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/gpu/drm/i915/i915_reg.h",
      "insertions": 15,
      "deletions": 3
    },
    {
      "file": "drivers/gpu/drm/i915/i915_utils.c",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/i915_utils.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/gpu/drm/i915/intel_memory_region.c",
      "insertions": 25,
      "deletions": 8
    },
    {
      "file": "drivers/gpu/drm/i915/intel_memory_region.h",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/intel_region_ttm.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/gpu/drm/i915/selftests/intel_memory_region.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/gpu/drm/i915/soc/intel_pch.c",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "drivers/gpu/drm/i915/soc/intel_pch.h",
      "insertions": 1,
      "deletions": 5
    },
    {
      "file": "drivers/gpu/drm/xe/display/xe_plane_initial.c",
      "insertions": 40,
      "deletions": 27
    },
    {
      "file": "include/drm/display/drm_dp.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/drm/drm_print.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "include/drm/i915_pciids.h",
      "insertions": 3,
      "deletions": 0
    }
  ],
  "total_insertions": 2360,
  "total_deletions": 1154,
  "total_changes": 3514,
  "parents": [
    "b344e64fbda303b767a3844ee739a596a9c3679e",
    "449c2d5948ba8c784dcbc5c67df1d8c54748caa4"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/i915/display/intel_backlight.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_gmbus.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/display/intel_sdvo.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/gpu/drm/i915/gem/i915_gem_ttm.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}