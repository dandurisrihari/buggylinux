Commit Hash: 8fe546547cf6857a9d984bfe2f2194910f3fc5d0
Subject: KVM: SVM: Fix wrong interrupt injection in enable_irq_windows


Security Keywords:
- injection

Full commit message:
KVM: SVM: Fix wrong interrupt injection in enable_irq_windows

The nested_svm_intr() function does not execute the vmexit
anymore. Therefore we may still be in the nested state after
that function ran. This patch changes the nested_svm_intr()
function to return wether the irq window could be enabled.

Cc: stable@kernel.org
Signed-off-by: Joerg Roedel <joerg.roedel@amd.com>
Signed-off-by: Avi Kivity <avi@redhat.com>

Metadata:
Author: Joerg Roedel <joerg.roedel@amd.com>
Author Date: Fri Feb 19 16:23:01 2010 +0100
Committer: Avi Kivity <avi@redhat.com>
Commit Date: Sun Apr 25 12:38:11 2010 +0300

Files Changed: 1
Lines Added: 8
Lines Removed: 9
Total Changes: 17
