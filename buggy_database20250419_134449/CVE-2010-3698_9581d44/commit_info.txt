Commit Hash: 9581d442b9058d3699b4be568b6e5eae38a41493
Subject: KVM: Fix fs/gs reload oops with invalid ldt

CVE Identifiers:
- CVE-2010-3698

Full commit message:
KVM: Fix fs/gs reload oops with invalid ldt

kvm reloads the host's fs and gs blindly, however the underlying segment
descriptors may be invalid due to the user modifying the ldt after loading
them.

Fix by using the safe accessors (loadsegment() and load_gs_index()) instead
of home grown unsafe versions.

This is CVE-2010-3698.

KVM-Stable-Tag.
Signed-off-by: Avi Kivity <avi@redhat.com>
Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com>

Metadata:
Author: Avi Kivity <avi@redhat.com>
Author Date: Tue Oct 19 16:46:55 2010 +0200
Committer: Marcelo Tosatti <mtosatti@redhat.com>
Commit Date: Tue Oct 19 14:21:45 2010 -0200

Files Changed: 3
Lines Added: 19
Lines Removed: 44
Total Changes: 63
