{
  "hash": "c337104b1a16becc486fdc95d544c835b17021db",
  "hash_short": "c337104b",
  "subject": "ALSA: HD-Audio: SKL+: abort probe if DSP is present and Skylake driver selected",
  "body": "Now that the SST/Skylake driver supports per platform selectors, we\ncan add logic to automatically select the right driver.\n\nIf the Skylake driver is selected for a specific platform, and the DSP\nis detected at run-time based on the PCI class/subclass/prog-if\ninformation, the legacy HDaudio driver aborts the probe. This will\nresult in a single driver probing and remove the need for modprobe\nblacklists.\n\nFollow-up patches will add a module parameter to bypass the logic if\nthis automatic detection fails, or if the Skylake driver is unable to\nactually support the platform (firmware authentication, missing\ntopology file, hardware issue, etc).\n\nThe same mechanism will be used to conflicts generated by the same PCI\nID being registered by both legacy HDAuudio and SOF drivers for Intel\nplatforms. In other words SOF will not require changes to the HDaudio\nlegacy.\n\nSigned-off-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>\nSigned-off-by: Takashi Iwai <tiwai@suse.de>",
  "full_message": "ALSA: HD-Audio: SKL+: abort probe if DSP is present and Skylake driver selected\n\nNow that the SST/Skylake driver supports per platform selectors, we\ncan add logic to automatically select the right driver.\n\nIf the Skylake driver is selected for a specific platform, and the DSP\nis detected at run-time based on the PCI class/subclass/prog-if\ninformation, the legacy HDaudio driver aborts the probe. This will\nresult in a single driver probing and remove the need for modprobe\nblacklists.\n\nFollow-up patches will add a module parameter to bypass the logic if\nthis automatic detection fails, or if the Skylake driver is unable to\nactually support the platform (firmware authentication, missing\ntopology file, hardware issue, etc).\n\nThe same mechanism will be used to conflicts generated by the same PCI\nID being registered by both legacy HDAuudio and SOF drivers for Intel\nplatforms. In other words SOF will not require changes to the HDaudio\nlegacy.\n\nSigned-off-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>\nSigned-off-by: Takashi Iwai <tiwai@suse.de>",
  "author_name": "Pierre-Louis Bossart",
  "author_email": "pierre-louis.bossart@linux.intel.com",
  "author_date": "Sat Dec 15 14:07:22 2018 -0600",
  "author_date_iso": "2018-12-15T14:07:22-06:00",
  "committer_name": "Takashi Iwai",
  "committer_email": "tiwai@suse.de",
  "committer_date": "Wed Dec 19 18:07:21 2018 +0100",
  "committer_date_iso": "2018-12-19T18:07:21+01:00",
  "files_changed": [
    "sound/pci/hda/Kconfig",
    "sound/pci/hda/hda_controller.h",
    "sound/pci/hda/hda_intel.c",
    "sound/soc/intel/Kconfig"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "sound/pci/hda/Kconfig",
      "insertions": 62,
      "deletions": 0
    },
    {
      "file": "sound/pci/hda/hda_controller.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "sound/pci/hda/hda_intel.c",
      "insertions": 27,
      "deletions": 7
    },
    {
      "file": "sound/soc/intel/Kconfig",
      "insertions": 6,
      "deletions": 0
    }
  ],
  "total_insertions": 96,
  "total_deletions": 8,
  "total_changes": 104,
  "parents": [
    "18d43c9b88eb335440c5e769eb6c2d5bc908dc61"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.0",
    "v5.0-rc1",
    "v5.0-rc2",
    "v5.0-rc3",
    "v5.0-rc4",
    "v5.0-rc5",
    "v5.0-rc6",
    "v5.0-rc7",
    "v5.0-rc8",
    "v5.1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication",
      "bypass"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "sound/pci/hda/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "sound/pci/hda/hda_controller.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "sound/pci/hda/hda_intel.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "sound/soc/intel/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}