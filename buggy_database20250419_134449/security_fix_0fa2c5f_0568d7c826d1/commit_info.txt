Commit Hash: 0fa2c5f954c41e870fe327907c01cb8f7ea8d5a2
Subject: media: vivid: fix module load error when enabling fb and no_error_inj=1


Security Keywords:
- injection

Full commit message:
media: vivid: fix module load error when enabling fb and no_error_inj=1

If the framebuffer is enabled and error injection is disabled, then
creating the controls for the video output device would fail with an
error.

This is because the Clear Framebuffer control uses the 'vivid control
class' and that control class isn't added if error injection is disabled.

In addition, this control was added to e.g. vbi devices as well, which
makes no sense.

Move this control to its own control handler and handle it correctly.

Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com>
Acked-by: Sakari Ailus <sakari.ailus@linux.intel.com>
Cc: <stable@vger.kernel.org>      # for v4.15 and up
Signed-off-by: Mauro Carvalho Chehab <mchehab@s-opensource.com>

Metadata:
Author: Hans Verkuil <hans.verkuil@cisco.com>
Author Date: Thu Jan 25 06:57:45 2018 -0500
Committer: Mauro Carvalho Chehab <mchehab@s-opensource.com>
Commit Date: Tue Jan 30 07:18:22 2018 -0500

Files Changed: 2
Lines Added: 30
Lines Removed: 6
Total Changes: 36
