Files changed: 0
Insertions: 15177
Deletions: 4249
Total changes: 19426

File-specific changes:
tools/build/Build: +0 -3
tools/build/Makefile: +2 -9
tools/build/Makefile.feature: +1 -1
tools/build/Makefile.include: +11 -1
tools/build/feature/Makefile: +7 -4
tools/build/feature/test-all.c: +0 -4
tools/build/feature/test-llvm-perf.cpp: +14 -0
tools/include/linux/coresight-pmu.h: +13 -4
tools/include/linux/string.h: +2 -0
tools/lib/api/Makefile: +0 -4
tools/lib/api/fs/tracing_path.c: +1 -1
tools/lib/bpf/.gitignore: +1 -0
tools/lib/bpf/Makefile: +10 -3
tools/lib/perf/.gitignore: +5 -0
tools/lib/string.c: +13 -0
tools/lib/subcmd/Makefile: +2 -4
tools/lib/subcmd/parse-options.c: +3 -5
tools/lib/symbol/Makefile: +0 -4
tools/perf/Build: +1 -0
tools/perf/Documentation/perf-annotate.txt: +3 -0
tools/perf/Documentation/perf-check.txt: +82 -0
tools/perf/Documentation/perf-ftrace.txt: +47 -1
tools/perf/Documentation/perf-kvm.txt: +3 -3
tools/perf/Documentation/perf-list.txt: +1 -0
tools/perf/Documentation/perf-mem.txt: +63 -31
tools/perf/Documentation/perf-record.txt: +10 -4
tools/perf/Documentation/perf-report.txt: +1 -0
tools/perf/Documentation/perf-sched.txt: +9 -0
tools/perf/Documentation/perf-script.txt: +4 -1
tools/perf/Documentation/perf-stat.txt: +8 -0
tools/perf/Documentation/perf-top.txt: +2 -2
tools/perf/Documentation/perf-trace.txt: +2 -2
tools/perf/Documentation/topdown.txt: +30 -0
tools/perf/Makefile: +7 -1
tools/perf/Makefile.config: +24 -27
tools/perf/Makefile.perf: +6 -0
tools/perf/arch/arm/util/cs-etm.c: +5 -7
tools/perf/arch/arm/util/pmu.c: +3 -0
tools/perf/arch/arm64/annotate/instructions.c: +2 -1
tools/perf/arch/arm64/util/arm-spe.c: +62 -46
tools/perf/arch/arm64/util/hisi-ptt.c: +0 -1
tools/perf/arch/loongarch/annotate/instructions.c: +4 -2
tools/perf/arch/powerpc/annotate/instructions.c: +254 -0
tools/perf/arch/powerpc/util/dwarf-regs.c: +53 -0
tools/perf/arch/s390/annotate/instructions.c: +3 -2
tools/perf/arch/x86/Makefile: +5 -1
tools/perf/arch/x86/annotate/instructions.c: +389 -0
tools/perf/arch/x86/entry/syscalls/syscall_32.tbl: +470 -0
tools/perf/arch/x86/util/event.c: +2 -2
tools/perf/arch/x86/util/evlist.c: +6 -0
tools/perf/arch/x86/util/intel-bts.c: +0 -1
tools/perf/arch/x86/util/intel-pt.c: +0 -1
tools/perf/bench/synthesize.c: +1 -1
tools/perf/builtin-annotate.c: +46 -31
tools/perf/builtin-buildid-list.c: +10 -0
tools/perf/builtin-c2c.c: +19 -28
tools/perf/builtin-check.c: +180 -0
tools/perf/builtin-daemon.c: +1 -1
tools/perf/builtin-diff.c: +18 -20
tools/perf/builtin-evlist.c: +12 -6
tools/perf/builtin-ftrace.c: +436 -26
tools/perf/builtin-help.c: +1 -1
tools/perf/builtin-inject.c: +469 -270
tools/perf/builtin-kmem.c: +11 -11
tools/perf/builtin-kvm.c: +11 -11
tools/perf/builtin-kwork.c: +19 -17
tools/perf/builtin-list.c: +1 -1
tools/perf/builtin-lock.c: +23 -21
tools/perf/builtin-mem.c: +94 -67
tools/perf/builtin-record.c: +49 -30
tools/perf/builtin-report.c: +62 -44
tools/perf/builtin-sched.c: +192 -40
tools/perf/builtin-script.c: +119 -65
tools/perf/builtin-stat.c: +25 -17
tools/perf/builtin-timechart.c: +12 -13
tools/perf/builtin-top.c: +5 -5
tools/perf/builtin-trace.c: +454 -43
tools/perf/builtin-version.c: +8 -35
tools/perf/builtin.h: +17 -0
tools/perf/check-headers.sh: +1 -0
tools/perf/perf.c: +1 -0
tools/perf/pmu-events/Build: +11 -1
tools/perf/pmu-events/arch/arm64/ampere/ampereone/instruction.json: +0 -3
tools/perf/pmu-events/arch/arm64/{freescale => thead}/yitian710/sys/ali_drw.json: +0 -0
tools/perf/pmu-events/arch/arm64/{freescale => thead}/yitian710/sys/metrics.json: +0 -0
tools/perf/pmu-events/arch/powerpc/power10/cache.json: +15 -5
tools/perf/pmu-events/arch/powerpc/power10/datasource.json: +40 -0
tools/perf/pmu-events/arch/powerpc/power10/frontend.json: +30 -0
tools/perf/pmu-events/arch/powerpc/power10/locks.json: +10 -0
tools/perf/pmu-events/arch/powerpc/power10/memory.json: +30 -0
tools/perf/pmu-events/arch/powerpc/power10/others.json: +33 -73
tools/perf/pmu-events/arch/powerpc/power10/pipeline.json: +45 -0
tools/perf/pmu-events/arch/powerpc/power10/pmc.json: +10 -0
tools/perf/pmu-events/arch/x86/cascadelakex/uncore-cache.json: +30 -30
tools/perf/pmu-events/arch/x86/meteorlake/metricgroups.json: +142 -0
tools/perf/pmu-events/arch/x86/meteorlake/mtl-metrics.json: +2535 -0
tools/perf/pmu-events/arch/x86/skylakex/uncore-cache.json: +30 -30
tools/perf/pmu-events/arch/x86/snowridgex/uncore-cache.json: +0 -57
tools/perf/pmu-events/empty-pmu-events.c: +544 -350
tools/perf/pmu-events/jevents.py: +19 -8
tools/perf/pmu-events/models.py: +73 -0
tools/perf/pmu-events/pmu-events.h: +9 -0
tools/perf/scripts/python/arm-cs-trace-disasm.py: +4 -5
tools/perf/tests/bp_account.c: +3 -1
tools/perf/tests/bp_signal.c: +2 -1
tools/perf/tests/bp_signal_overflow.c: +2 -1
tools/perf/tests/builtin-test.c: +1 -0
tools/perf/tests/cpumap.c: +3 -3
tools/perf/tests/dlfilter-test.c: +1 -1
tools/perf/tests/dwarf-unwind.c: +1 -1
tools/perf/tests/event_update.c: +5 -4
tools/perf/tests/make: +4 -0
tools/perf/tests/parse-events.c: +3 -3
tools/perf/tests/pmu-events.c: +5 -7
tools/perf/tests/pmu.c: +3 -6
tools/perf/tests/shell/annotate.sh: +2 -1
tools/perf/tests/shell/base_probe/settings.sh: +0 -48
tools/perf/tests/shell/base_probe/test_adding_blacklisted.sh: +67 -0
tools/perf/tests/shell/base_probe/test_adding_kernel.sh: +0 -3
tools/perf/tests/shell/base_probe/test_basic.sh: +80 -0
tools/perf/tests/shell/base_probe/test_invalid_options.sh: +79 -0
tools/perf/tests/shell/base_probe/test_line_semantics.sh: +55 -0
tools/perf/tests/shell/base_report/setup.sh: +32 -0
tools/perf/tests/shell/base_report/stderr-whitelist.txt: +5 -0
tools/perf/tests/shell/base_report/test_basic.sh: +190 -0
tools/perf/tests/shell/common/check_errors_whitelisted.pl: +51 -0
tools/perf/tests/shell/common/init.sh: +27 -4
tools/perf/tests/shell/common/settings.sh: +27 -1
tools/perf/tests/shell/ftrace.sh: +89 -0
tools/perf/tests/shell/lib/perf_metric_validation.py: +8 -2
tools/perf/tests/shell/lib/probe_vfs_getname.sh: +8 -3
tools/perf/tests/shell/perftool-testsuite_report.sh: +23 -0
tools/perf/tests/shell/pipe_test.sh: +107 -22
tools/perf/tests/shell/record+probe_libc_inet_pton.sh: +4 -1
tools/perf/tests/shell/record+script_probe_vfs_getname.sh: +4 -1
tools/perf/tests/shell/record.sh: +53 -6
tools/perf/tests/shell/record_bpf_filter.sh: +77 -9
tools/perf/tests/shell/record_lbr.sh: +161 -0
tools/perf/tests/shell/script.sh: +3 -0
tools/perf/tests/shell/test_stat_intel_tpebs.sh: +19 -0
tools/perf/tests/shell/test_task_analyzer.sh: +5 -2
tools/perf/tests/shell/test_uprobe_from_different_cu.sh: +7 -0
tools/perf/tests/shell/trace_btf_enum.sh: +62 -0
tools/perf/tests/stat.c: +3 -3
tools/perf/tests/tests-scripts.c: +34 -3
tools/perf/tests/tests.h: +1 -0
tools/perf/tests/thread-map.c: +1 -1
tools/perf/tests/vmlinux-kallsyms.c: +2 -2
tools/perf/tests/workloads/Build: +1 -0
tools/perf/tests/workloads/landlock.c: +66 -0
tools/perf/tests/wp.c: +5 -0
tools/perf/trace/beauty/beauty.h: +11 -0
tools/perf/trace/beauty/perf_event_open.c: +5 -1
tools/perf/trace/beauty/sockaddr.c: +1 -1
tools/perf/trace/beauty/timespec.c: +1 -1
tools/perf/ui/browsers/annotate-data.c: +338 -38
tools/perf/ui/browsers/annotate.c: +17 -3
tools/perf/ui/browsers/hists.c: +17 -1
tools/perf/ui/hist.c: +5 -5
tools/perf/ui/stdio/hist.c: +2 -2
tools/perf/util/Build: +7 -3
tools/perf/util/annotate-data.c: +495 -669
tools/perf/util/annotate-data.h: +85 -1
tools/perf/util/annotate.c: +321 -39
tools/perf/util/annotate.h: +30 -3
tools/perf/util/arm-spe.c: +13 -42
tools/perf/util/auxtrace.c: +8 -8
tools/perf/util/auxtrace.h: +10 -11
tools/perf/util/block-info.c: +57 -9
tools/perf/util/block-info.h: +6 -2
tools/perf/util/bpf-event.c: +2 -2
tools/perf/util/bpf-filter.c: +594 -37
tools/perf/util/bpf-filter.h: +17 -2
tools/perf/util/bpf-filter.l: +23 -5
tools/perf/util/bpf-filter.y: +26 -2
tools/perf/util/bpf_counter_cgroup.c: +3 -3
tools/perf/util/bpf_ftrace.c: +4 -4
tools/perf/util/bpf_kwork.c: +5 -4
tools/perf/util/bpf_kwork_top.c: +4 -3
tools/perf/util/bpf_lock_contention.c: +24 -21
tools/perf/util/bpf_map.c: +0 -3
tools/perf/util/bpf_off_cpu.c: +8 -8
tools/perf/util/bpf_skel/augmented_raw_syscalls.bpf.c: +178 -44
tools/perf/util/bpf_skel/bperf_cgroup.bpf.c: +1 -1
tools/perf/util/bpf_skel/func_latency.bpf.c: +4 -3
tools/perf/util/bpf_skel/kwork_top.bpf.c: +1 -1
tools/perf/util/bpf_skel/kwork_trace.bpf.c: +3 -2
tools/perf/util/bpf_skel/lock_contention.bpf.c: +26 -27
tools/perf/util/bpf_skel/lock_data.h: +2 -2
tools/perf/util/bpf_skel/off_cpu.bpf.c: +5 -4
tools/perf/util/bpf_skel/sample-filter.h: +11 -2
tools/perf/util/bpf_skel/sample_filter.bpf.c: +84 -21
tools/perf/util/bpf_skel/vmlinux/vmlinux.h: +7 -0
tools/perf/util/branch.h: +1 -0
tools/perf/util/build-id.c: +4 -36
tools/perf/util/build-id.h: +3 -5
tools/perf/util/callchain.c: +35 -0
tools/perf/util/callchain.h: +6 -0
tools/perf/util/cap.c: +44 -19
tools/perf/util/cap.h: +3 -20
tools/perf/util/cs-etm-decoder/cs-etm-decoder.c: +18 -18
tools/perf/util/cs-etm-decoder/cs-etm-decoder.h: +1 -1
tools/perf/util/cs-etm.c: +386 -289
tools/perf/util/cs-etm.h: +1 -11
tools/perf/util/data-convert-bt.c: +16 -18
tools/perf/util/data-convert-json.c: +22 -25
tools/perf/util/data.c: +6 -1
tools/perf/util/debuginfo.h: +2 -0
tools/perf/util/disasm.c: +644 -208
tools/perf/util/disasm.h: +17 -2
tools/perf/util/disasm_bpf.c: +195 -0
tools/perf/util/disasm_bpf.h: +12 -0
tools/perf/util/dso.c: +2 -2
tools/perf/util/dso.h: +2 -2
tools/perf/util/dsos.c: +6 -6
tools/perf/util/dsos.h: +1 -1
tools/perf/util/dump-insn.c: +1 -1
tools/perf/util/dump-insn.h: +1 -1
tools/perf/util/dwarf-aux.c: +14 -4
tools/perf/util/dwarf-aux.h: +2 -0
tools/perf/util/env.c: +15 -0
tools/perf/util/env.h: +3 -0
tools/perf/util/event.c: +37 -17
tools/perf/util/event.h: +21 -17
tools/perf/util/events_stats.h: +14 -1
tools/perf/util/evlist.c: +86 -3
tools/perf/util/evlist.h: +6 -1
tools/perf/util/evsel.c: +99 -23
tools/perf/util/evsel.h: +26 -1
tools/perf/util/evsel_fprintf.c: +0 -2
tools/perf/util/ftrace.h: +3 -0
tools/perf/util/header.c: +97 -60
tools/perf/util/header.h: +20 -5
tools/perf/util/hisi-ptt.c: +3 -3
tools/perf/util/hist.c: +45 -18
tools/perf/util/hist.h: +3 -1
tools/perf/util/include/dwarf-regs.h: +11 -0
tools/perf/util/intel-bts.c: +4 -33
tools/perf/util/intel-pt-decoder/intel-pt-insn-decoder.c: +3 -2
tools/perf/util/intel-pt.c: +4 -26
tools/perf/util/intel-tpebs.c: +432 -0
tools/perf/util/intel-tpebs.h: +35 -0
tools/perf/util/jit.h: +2 -1
tools/perf/util/jitdump.c: +5 -5
tools/perf/util/llvm-c-helpers.cpp: +197 -0
tools/perf/util/llvm-c-helpers.h: +60 -0
tools/perf/util/machine.c: +76 -44
tools/perf/util/machine.h: +28 -8
tools/perf/util/map.c: +13 -12
tools/perf/util/map.h: +15 -7
tools/perf/util/map_symbol.c: +18 -0
tools/perf/util/map_symbol.h: +3 -0
tools/perf/util/mem-events.c: +17 -3
tools/perf/util/mem-events.h: +2 -2
tools/perf/util/mem-info.c: +13 -0
tools/perf/util/mem-info.h: +1 -0
tools/perf/util/metricgroup.c: +5 -5
tools/perf/util/mmap.c: +0 -4
tools/perf/util/parse-events.c: +47 -22
tools/perf/util/parse-events.h: +7 -4
tools/perf/util/parse-events.l: +2 -1
tools/perf/util/pmu.c: +44 -31
tools/perf/util/pmu.h: +5 -3
tools/perf/util/pmus.c: +18 -4
tools/perf/util/pmus.h: +1 -0
tools/perf/util/print-events.c: +2 -1
tools/perf/util/print_insn.c: +11 -3
tools/perf/util/s390-cpumsf.c: +3 -8
tools/perf/util/scripting-engines/trace-event-python.c: +7 -9
tools/perf/util/session.c: +56 -338
tools/perf/util/session.h: +52 -9
tools/perf/util/setup.py: +3 -1
tools/perf/util/sort.c: +60 -6
tools/perf/util/sort.h: +2 -1
tools/perf/util/srcline.c: +58 -1
tools/perf/util/stat-display.c: +2 -1
tools/perf/util/stat-shadow.c: +1 -1
tools/perf/util/symbol.c: +4 -4
tools/perf/util/symbol_conf.h: +1 -1
tools/perf/util/synthetic-events.c: +129 -52
tools/perf/util/synthetic-events.h: +54 -35
tools/perf/util/syscalltbl.c: +4 -0
tools/perf/util/thread.c: +4 -0
tools/perf/util/thread.h: +1 -0
tools/perf/util/time-utils.c: +2 -2
tools/perf/util/tool.c: +294 -0
tools/perf/util/tool.h: +15 -4
tools/perf/util/trace_augment.h: +6 -0
tools/perf/util/tsc.c: +1 -1
tools/perf/util/util.c: +9 -3
