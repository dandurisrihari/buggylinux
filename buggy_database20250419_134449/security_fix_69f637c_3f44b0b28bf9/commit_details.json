{
  "hash": "69f637c33560b02ae7313e0c142d847361cc723a",
  "hash_short": "69f637c3",
  "subject": "Merge tag 'for-5.11/drivers-2020-12-14' of git://git.kernel.dk/linux-block",
  "body": "Pull block driver updates from Jens Axboe:\n \"Nothing major in here:\n\n   - NVMe pull request from Christoph:\n        - nvmet passthrough improvements (Chaitanya Kulkarni)\n        - fcloop error injection support (James Smart)\n        - read-only support for zoned namespaces without Zone Append\n          (Javier Gonz\u00e1lez)\n        - improve some error message (Minwoo Im)\n        - reject I/O to offline fabrics namespaces (Victor Gladkov)\n        - PCI queue allocation cleanups (Niklas Schnelle)\n        - remove an unused allocation in nvmet (Amit Engel)\n        - a Kconfig spelling fix (Colin Ian King)\n        - nvme_req_qid simplication (Baolin Wang)\n\n   - MD pull request from Song:\n        - Fix race condition in md_ioctl() (Dae R. Jeong)\n        - Initialize read_slot properly for raid10 (Kevin Vigor)\n        - Code cleanup (Pankaj Gupta)\n        - md-cluster resync/reshape fix (Zhao Heming)\n\n   - Move null_blk into its own directory (Damien Le Moal)\n\n   - null_blk zone and discard improvements (Damien Le Moal)\n\n   - bcache race fix (Dongsheng Yang)\n\n   - Set of rnbd fixes/improvements (Gioh Kim, Guoqing Jiang, Jack Wang,\n     Lutz Pogrell, Md Haris Iqbal)\n\n   - lightnvm NULL pointer deref fix (tangzhenhao)\n\n   - sr in_interrupt() removal (Sebastian Andrzej Siewior)\n\n   - FC endpoint security support for s390/dasd (Jan H\u00f6ppner, Sebastian\n     Ott, Vineeth Vijayan). From the s390 arch guys, arch bits included\n     as it made it easier for them to funnel the feature through the\n     block driver tree.\n\n   - Follow up fixes (Colin Ian King)\"\n\n* tag 'for-5.11/drivers-2020-12-14' of git://git.kernel.dk/linux-block: (64 commits)\n  block: drop dead assignments in loop_init()\n  sr: Remove in_interrupt() usage in sr_init_command().\n  sr: Switch the sector size back to 2048 if sr_read_sector() changed it.\n  cdrom: Reset sector_size back it is not 2048.\n  drivers/lightnvm: fix a null-ptr-deref bug in pblk-core.c\n  null_blk: Move driver into its own directory\n  null_blk: Allow controlling max_hw_sectors limit\n  null_blk: discard zones on reset\n  null_blk: cleanup discard handling\n  null_blk: Improve implicit zone close\n  null_blk: improve zone locking\n  block: Align max_hw_sectors to logical blocksize\n  null_blk: Fail zone append to conventional zones\n  null_blk: Fix zone size initialization\n  bcache: fix race between setting bdev state to none and new write request direct to backing\n  block/rnbd: fix a null pointer dereference on dev->blk_symlink_name\n  block/rnbd-clt: Dynamically alloc buffer for pathname & blk_symlink_name\n  block/rnbd: call kobject_put in the failure path\n  Documentation/ABI/rnbd-srv: add document for force_close\n  block/rnbd-srv: close a mapped device from server side.\n  ...",
  "full_message": "Merge tag 'for-5.11/drivers-2020-12-14' of git://git.kernel.dk/linux-block\n\nPull block driver updates from Jens Axboe:\n \"Nothing major in here:\n\n   - NVMe pull request from Christoph:\n        - nvmet passthrough improvements (Chaitanya Kulkarni)\n        - fcloop error injection support (James Smart)\n        - read-only support for zoned namespaces without Zone Append\n          (Javier Gonz\u00e1lez)\n        - improve some error message (Minwoo Im)\n        - reject I/O to offline fabrics namespaces (Victor Gladkov)\n        - PCI queue allocation cleanups (Niklas Schnelle)\n        - remove an unused allocation in nvmet (Amit Engel)\n        - a Kconfig spelling fix (Colin Ian King)\n        - nvme_req_qid simplication (Baolin Wang)\n\n   - MD pull request from Song:\n        - Fix race condition in md_ioctl() (Dae R. Jeong)\n        - Initialize read_slot properly for raid10 (Kevin Vigor)\n        - Code cleanup (Pankaj Gupta)\n        - md-cluster resync/reshape fix (Zhao Heming)\n\n   - Move null_blk into its own directory (Damien Le Moal)\n\n   - null_blk zone and discard improvements (Damien Le Moal)\n\n   - bcache race fix (Dongsheng Yang)\n\n   - Set of rnbd fixes/improvements (Gioh Kim, Guoqing Jiang, Jack Wang,\n     Lutz Pogrell, Md Haris Iqbal)\n\n   - lightnvm NULL pointer deref fix (tangzhenhao)\n\n   - sr in_interrupt() removal (Sebastian Andrzej Siewior)\n\n   - FC endpoint security support for s390/dasd (Jan H\u00f6ppner, Sebastian\n     Ott, Vineeth Vijayan). From the s390 arch guys, arch bits included\n     as it made it easier for them to funnel the feature through the\n     block driver tree.\n\n   - Follow up fixes (Colin Ian King)\"\n\n* tag 'for-5.11/drivers-2020-12-14' of git://git.kernel.dk/linux-block: (64 commits)\n  block: drop dead assignments in loop_init()\n  sr: Remove in_interrupt() usage in sr_init_command().\n  sr: Switch the sector size back to 2048 if sr_read_sector() changed it.\n  cdrom: Reset sector_size back it is not 2048.\n  drivers/lightnvm: fix a null-ptr-deref bug in pblk-core.c\n  null_blk: Move driver into its own directory\n  null_blk: Allow controlling max_hw_sectors limit\n  null_blk: discard zones on reset\n  null_blk: cleanup discard handling\n  null_blk: Improve implicit zone close\n  null_blk: improve zone locking\n  block: Align max_hw_sectors to logical blocksize\n  null_blk: Fail zone append to conventional zones\n  null_blk: Fix zone size initialization\n  bcache: fix race between setting bdev state to none and new write request direct to backing\n  block/rnbd: fix a null pointer dereference on dev->blk_symlink_name\n  block/rnbd-clt: Dynamically alloc buffer for pathname & blk_symlink_name\n  block/rnbd: call kobject_put in the failure path\n  Documentation/ABI/rnbd-srv: add document for force_close\n  block/rnbd-srv: close a mapped device from server side.\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Wed Dec 16 13:09:32 2020 -0800",
  "author_date_iso": "2020-12-16T13:09:32-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Wed Dec 16 13:09:32 2020 -0800",
  "committer_date_iso": "2020-12-16T13:09:32-08:00",
  "files_changed": [
    "arch/s390/include/asm/ccwdev.h",
    "arch/s390/include/asm/cio.h",
    "block/blk-settings.c",
    "block/blk.h",
    "drivers/block/loop.c",
    "drivers/block/rnbd/rnbd-clt.c",
    "drivers/md/bcache/super.c",
    "drivers/md/md-cluster.c",
    "drivers/md/md.c",
    "drivers/md/md.h",
    "drivers/md/raid10.c",
    "drivers/nvme/host/core.c",
    "drivers/nvme/host/multipath.c",
    "drivers/nvme/host/nvme.h",
    "drivers/nvme/host/pci.c",
    "drivers/nvme/target/loop.c",
    "drivers/s390/block/dasd.c",
    "drivers/s390/block/dasd_eckd.c",
    "drivers/s390/block/dasd_fba.c",
    "drivers/s390/block/dasd_int.h",
    "drivers/s390/cio/device.c",
    "include/linux/blk-mq.h"
  ],
  "files_changed_count": 22,
  "stats": [
    {
      "file": "Documentation/ABI/testing/sysfs-class-rnbd-client",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "Documentation/ABI/testing/sysfs-class-rnbd-server",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/ccwdev.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/cio.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "block/blk-settings.c",
      "insertions": 18,
      "deletions": 5
    },
    {
      "file": "block/blk.h",
      "insertions": 0,
      "deletions": 12
    },
    {
      "file": "drivers/block/Kconfig",
      "insertions": 1,
      "deletions": 7
    },
    {
      "file": "drivers/block/Makefile",
      "insertions": 1,
      "deletions": 6
    },
    {
      "file": "drivers/block/loop.c",
      "insertions": 2,
      "deletions": 6
    },
    {
      "file": "drivers/block/null_blk/Kconfig",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "drivers/block/null_blk/Makefile",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "drivers/block/{null_blk_main.c => null_blk/main.c}",
      "insertions": 41,
      "deletions": 22
    },
    {
      "file": "drivers/block/{ => null_blk}/null_blk.h",
      "insertions": 29,
      "deletions": 3
    },
    {
      "file": "drivers/block/{null_blk_trace.c => null_blk/trace.c}",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/block/{null_blk_trace.h => null_blk/trace.h}",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/block/{null_blk_zoned.c => null_blk/zoned.c}",
      "insertions": 202,
      "deletions": 131
    },
    {
      "file": "drivers/block/rnbd/rnbd-clt-sysfs.c",
      "insertions": 17,
      "deletions": 4
    },
    {
      "file": "drivers/block/rnbd/rnbd-clt.c",
      "insertions": 25,
      "deletions": 8
    },
    {
      "file": "drivers/block/rnbd/rnbd-clt.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/block/rnbd/rnbd-srv-sysfs.c",
      "insertions": 53,
      "deletions": 13
    },
    {
      "file": "drivers/block/rnbd/rnbd-srv.c",
      "insertions": 17,
      "deletions": 2
    },
    {
      "file": "drivers/block/rnbd/rnbd-srv.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/cdrom/cdrom.c",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "drivers/lightnvm/pblk-core.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/md/bcache/super.c",
      "insertions": 0,
      "deletions": 9
    },
    {
      "file": "drivers/md/bcache/writeback.c",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "drivers/md/md-cluster.c",
      "insertions": 38,
      "deletions": 29
    },
    {
      "file": "drivers/md/md.c",
      "insertions": 23,
      "deletions": 10
    },
    {
      "file": "drivers/md/md.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/md/raid10.c",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/host/core.c",
      "insertions": 112,
      "deletions": 38
    },
    {
      "file": "drivers/nvme/host/fabrics.c",
      "insertions": 22,
      "deletions": 3
    },
    {
      "file": "drivers/nvme/host/fabrics.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/nvme/host/fc.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/host/lightnvm.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/nvme/host/multipath.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/nvme/host/nvme.h",
      "insertions": 9,
      "deletions": 2
    },
    {
      "file": "drivers/nvme/host/pci.c",
      "insertions": 11,
      "deletions": 16
    },
    {
      "file": "drivers/nvme/host/rdma.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/host/tcp.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/host/zns.c",
      "insertions": 9,
      "deletions": 4
    },
    {
      "file": "drivers/nvme/target/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/target/configfs.c",
      "insertions": 40,
      "deletions": 0
    },
    {
      "file": "drivers/nvme/target/core.c",
      "insertions": 2,
      "deletions": 13
    },
    {
      "file": "drivers/nvme/target/discovery.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/nvme/target/fcloop.c",
      "insertions": 79,
      "deletions": 2
    },
    {
      "file": "drivers/nvme/target/loop.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/target/nvmet.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/nvme/target/passthru.c",
      "insertions": 20,
      "deletions": 17
    },
    {
      "file": "drivers/s390/block/dasd.c",
      "insertions": 15,
      "deletions": 7
    },
    {
      "file": "drivers/s390/block/dasd_devmap.c",
      "insertions": 109,
      "deletions": 0
    },
    {
      "file": "drivers/s390/block/dasd_eckd.c",
      "insertions": 117,
      "deletions": 58
    },
    {
      "file": "drivers/s390/block/dasd_fba.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/s390/block/dasd_int.h",
      "insertions": 110,
      "deletions": 1
    },
    {
      "file": "drivers/s390/cio/chp.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "drivers/s390/cio/chp.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/s390/cio/chsc.c",
      "insertions": 136,
      "deletions": 9
    },
    {
      "file": "drivers/s390/cio/chsc.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "drivers/s390/cio/device.c",
      "insertions": 14,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/sr.c",
      "insertions": 0,
      "deletions": 17
    },
    {
      "file": "drivers/scsi/sr_ioctl.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/linux/blk-mq.h",
      "insertions": 12,
      "deletions": 0
    }
  ],
  "total_insertions": 1395,
  "total_deletions": 485,
  "total_changes": 1880,
  "parents": [
    "ac7ac4618cf25e0d5cd8eba83d5f600084b65b9a",
    "aeb2b0b1a3da5791d3b216e71ec72db7570f3571"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/include/asm/cio.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "block/blk.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/include/asm/ccwdev.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "block/blk-settings.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/md/md-cluster.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/md/bcache/super.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/block/rnbd/rnbd-clt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/block/loop.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/md/md.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/md/raid10.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/nvme/host/multipath.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/nvme/host/pci.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/nvme/host/core.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/md/md.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/nvme/host/nvme.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/nvme/target/loop.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/block/dasd_eckd.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/block/dasd_int.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/block/dasd_fba.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/cio/device.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/block/dasd.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/blk-mq.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}