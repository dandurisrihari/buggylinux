{
  "hash": "cedf8d8a5013ce515df2edbc52575614f3409593",
  "hash_short": "cedf8d8a",
  "subject": "PCI/DOE: Relax restrictions on request and response size",
  "body": "An upcoming user of DOE is CMA (Component Measurement and Authentication,\nPCIe r6.0 sec 6.31).\n\nIt builds on SPDM (Security Protocol and Data Model):\nhttps://www.dmtf.org/dsp/DSP0274\n\nSPDM message sizes are not always a multiple of dwords.  To transport\nthem over DOE without using bounce buffers, allow sending requests and\nreceiving responses whose final dword is only partially populated.\n\nTo be clear, PCIe r6.0 sec 6.30.1 specifies the Data Object Header 2\n\"Length\" in dwords and pci_doe_send_req() and pci_doe_recv_resp()\nread/write dwords.  So from a spec point of view, DOE is still specified\nin dwords and allowing non-dword request/response buffers is merely for\nthe convenience of callers.\n\nTested-by: Ira Weiny <ira.weiny@intel.com>\nSigned-off-by: Lukas Wunner <lukas@wunner.de>\nReviewed-by: Ming Li <ming4.li@intel.com>\nReviewed-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>\nAcked-by: Bjorn Helgaas <bhelgaas@google.com>\nLink: https://lore.kernel.org/r/151b1a6a1794afb65d941287ecbc032c5b8004b9.1678543498.git.lukas@wunner.de\nSigned-off-by: Dan Williams <dan.j.williams@intel.com>",
  "full_message": "PCI/DOE: Relax restrictions on request and response size\n\nAn upcoming user of DOE is CMA (Component Measurement and Authentication,\nPCIe r6.0 sec 6.31).\n\nIt builds on SPDM (Security Protocol and Data Model):\nhttps://www.dmtf.org/dsp/DSP0274\n\nSPDM message sizes are not always a multiple of dwords.  To transport\nthem over DOE without using bounce buffers, allow sending requests and\nreceiving responses whose final dword is only partially populated.\n\nTo be clear, PCIe r6.0 sec 6.30.1 specifies the Data Object Header 2\n\"Length\" in dwords and pci_doe_send_req() and pci_doe_recv_resp()\nread/write dwords.  So from a spec point of view, DOE is still specified\nin dwords and allowing non-dword request/response buffers is merely for\nthe convenience of callers.\n\nTested-by: Ira Weiny <ira.weiny@intel.com>\nSigned-off-by: Lukas Wunner <lukas@wunner.de>\nReviewed-by: Ming Li <ming4.li@intel.com>\nReviewed-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>\nAcked-by: Bjorn Helgaas <bhelgaas@google.com>\nLink: https://lore.kernel.org/r/151b1a6a1794afb65d941287ecbc032c5b8004b9.1678543498.git.lukas@wunner.de\nSigned-off-by: Dan Williams <dan.j.williams@intel.com>",
  "author_name": "Lukas Wunner",
  "author_email": "lukas@wunner.de",
  "author_date": "Sat Mar 11 15:40:15 2023 +0100",
  "author_date_iso": "2023-03-11T15:40:15+01:00",
  "committer_name": "Dan Williams",
  "committer_email": "dan.j.williams@intel.com",
  "committer_date": "Tue Apr 18 10:36:58 2023 -0700",
  "committer_date_iso": "2023-04-18T10:36:58-07:00",
  "files_changed": [
    "drivers/pci/doe.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/pci/doe.c",
      "insertions": 49,
      "deletions": 25
    }
  ],
  "total_insertions": 49,
  "total_deletions": 25,
  "total_changes": 74,
  "parents": [
    "74e491e5d1bcc35a699291df720191760ff4130e"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/pci/doe.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}