{
  "hash": "77331115e220925af1f52e18ac99e37a0b0c10ad",
  "hash_short": "77331115",
  "subject": "scsi: bnx2fc: Process the RQE with CQE in interrupt context",
  "body": "Filesystem goes to read-only after continuous error injection because RQE\nwas handled in deferred context, leading to mismatch between CQE and RQE.\n\nSpecifically, this patch makes the following changes:\n\n - Process the RQE with CQE in interrupt context, before putting it into\n   the work queue.\n\n - Producer and consumer indices are also updated in the interrupt context\n   to guarantee the the order of processing.\n\n[mkp: fixed bad indentation]\n\nLink: https://lore.kernel.org/r/20200327054849.15947-2-skashyap@marvell.com\nSigned-off-by: Javed Hasan <jhasan@marvell.com>\nSigned-off-by: Saurav Kashyap <skashyap@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "scsi: bnx2fc: Process the RQE with CQE in interrupt context\n\nFilesystem goes to read-only after continuous error injection because RQE\nwas handled in deferred context, leading to mismatch between CQE and RQE.\n\nSpecifically, this patch makes the following changes:\n\n - Process the RQE with CQE in interrupt context, before putting it into\n   the work queue.\n\n - Producer and consumer indices are also updated in the interrupt context\n   to guarantee the the order of processing.\n\n[mkp: fixed bad indentation]\n\nLink: https://lore.kernel.org/r/20200327054849.15947-2-skashyap@marvell.com\nSigned-off-by: Javed Hasan <jhasan@marvell.com>\nSigned-off-by: Saurav Kashyap <skashyap@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "Javed Hasan",
  "author_email": "jhasan@marvell.com",
  "author_date": "Thu Mar 26 22:48:47 2020 -0700",
  "author_date_iso": "2020-03-26T22:48:47-07:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Sun Mar 29 18:10:59 2020 -0400",
  "committer_date_iso": "2020-03-29T18:10:59-04:00",
  "files_changed": [
    "drivers/scsi/bnx2fc/bnx2fc.h",
    "drivers/scsi/bnx2fc/bnx2fc_fcoe.c",
    "drivers/scsi/bnx2fc/bnx2fc_hwi.c",
    "drivers/scsi/bnx2fc/bnx2fc_io.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc.h",
      "insertions": 8,
      "deletions": 3
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_fcoe.c",
      "insertions": 6,
      "deletions": 2
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_hwi.c",
      "insertions": 75,
      "deletions": 28
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_io.c",
      "insertions": 7,
      "deletions": 21
    }
  ],
  "total_insertions": 96,
  "total_deletions": 54,
  "total_changes": 150,
  "parents": [
    "b92fcfcb687de7d08278a557faff3a7b4a672cc7"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_fcoe.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_hwi.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/bnx2fc/bnx2fc_io.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}