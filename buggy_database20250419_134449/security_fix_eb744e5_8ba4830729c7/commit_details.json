{
  "hash": "eb744e5df86cf7e377d0acc4e686101b0fd9663a",
  "hash_short": "eb744e5d",
  "subject": "mt76: mt7915: potential array overflow in mt7915_mcu_tx_rate_report()",
  "body": "Smatch complains that \"wcidx\" value comes from the network and thus\ncannot be trusted.  In this case, it actually seems to come from the\nfirmware.  If your wireless firmware is malicious then probably no\namount of carefulness can protect you.\n\nOn the other hand, these days we still try to check the firmware as much\nas possible.  Verifying that the index is within bounds will silence a\nstatic checker warning.  And it's harmless and a good exercise in kernel\nhardening.  So I suggest that we do add a bounds check.\n\nFixes: e57b7901469f (\"mt76: add mac80211 driver for MT7915 PCIe-based chipsets\")\nSigned-off-by: Dan Carpenter <dan.carpenter@oracle.com>\nSigned-off-by: Felix Fietkau <nbd@nbd.name>",
  "full_message": "mt76: mt7915: potential array overflow in mt7915_mcu_tx_rate_report()\n\nSmatch complains that \"wcidx\" value comes from the network and thus\ncannot be trusted.  In this case, it actually seems to come from the\nfirmware.  If your wireless firmware is malicious then probably no\namount of carefulness can protect you.\n\nOn the other hand, these days we still try to check the firmware as much\nas possible.  Verifying that the index is within bounds will silence a\nstatic checker warning.  And it's harmless and a good exercise in kernel\nhardening.  So I suggest that we do add a bounds check.\n\nFixes: e57b7901469f (\"mt76: add mac80211 driver for MT7915 PCIe-based chipsets\")\nSigned-off-by: Dan Carpenter <dan.carpenter@oracle.com>\nSigned-off-by: Felix Fietkau <nbd@nbd.name>",
  "author_name": "Dan Carpenter",
  "author_email": "dan.carpenter@oracle.com",
  "author_date": "Thu Jul 9 14:04:35 2020 +0300",
  "author_date_iso": "2020-07-09T14:04:35+03:00",
  "committer_name": "Felix Fietkau",
  "committer_email": "nbd@nbd.name",
  "committer_date": "Tue Jul 21 19:01:18 2020 +0200",
  "committer_date_iso": "2020-07-21T19:01:18+02:00",
  "files_changed": [
    "drivers/net/wireless/mediatek/mt76/mt7915/mcu.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7915/mcu.c",
      "insertions": 13,
      "deletions": 6
    }
  ],
  "total_insertions": 13,
  "total_deletions": 6,
  "total_changes": 19,
  "parents": [
    "9248c08c3fc4ef816c82aa49d01123f4746d349f"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7915/mcu.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}