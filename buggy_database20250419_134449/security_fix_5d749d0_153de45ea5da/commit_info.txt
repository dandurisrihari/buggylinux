Commit Hash: 5d749d0bbe811c10d9048cde6dfebc761713abfd
Subject: platform/chrome: cros_ec_dev - Fix security issue


Security Keywords:
- security issue

Full commit message:
platform/chrome: cros_ec_dev - Fix security issue

Prevent memory scribble by checking that ioctl buffer size parameters
are sane.
Without this check, on 32 bits system, if .insize = 0xffffffff - 20 and
.outsize the amount to scribble, we would overflow, allocate a small
amounts and be able to write outside of the malloc'ed area.
Adding a hard limit allows argument checking of the ioctl. With the
current EC, it is expected .insize and .outsize to be at around 512 bytes
or less.

Signed-off-by: Gwendal Grignou <gwendal@chromium.org>
Signed-off-by: Olof Johansson <olof@lixom.net>

Metadata:
Author: Gwendal Grignou <gwendal@chromium.org>
Author Date: Tue Mar 8 09:13:52 2016 -0800
Committer: Olof Johansson <olof@lixom.net>
Commit Date: Wed May 11 11:55:47 2016 -0700

Files Changed: 3
Lines Added: 10
Lines Removed: 4
Total Changes: 14
