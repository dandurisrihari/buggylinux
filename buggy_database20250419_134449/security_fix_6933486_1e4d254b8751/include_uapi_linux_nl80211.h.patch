commit 6933486133ecf71bbe273d7ac72cfc4a51286af3
Author: Veerendranath Jakkam <quic_vjakkam@quicinc.com>
Date:   Thu Jan 12 06:54:13 2023 +0530

    wifi: nl80211: Add support for randomizing TA of auth and deauth frames
    
    Add support to use a random local address in authentication and
    deauthentication frames sent to unassociated peer when the driver
    supports.
    
    The driver needs to configure receive behavior to accept frames with
    random transmit address specified in TX path authentication frames
    during the time of the frame exchange is pending and such frames need to
    be acknowledged similarly to frames sent to the local permanent address
    when this random address functionality is used.
    
    This capability allows use of randomized transmit address for PASN
    authentication frames to improve privacy of WLAN clients.
    
    Signed-off-by: Veerendranath Jakkam <quic_vjakkam@quicinc.com>
    Link: https://lore.kernel.org/r/20230112012415.167556-2-quic_vjakkam@quicinc.com
    Signed-off-by: Johannes Berg <johannes.berg@intel.com>

diff --git a/include/uapi/linux/nl80211.h b/include/uapi/linux/nl80211.h
index c8520c150f9c..9a0ac0363f1f 100644
--- a/include/uapi/linux/nl80211.h
+++ b/include/uapi/linux/nl80211.h
@@ -6348,6 +6348,10 @@ enum nl80211_feature_flags {
  * @NL80211_EXT_FEATURE_SECURE_NAN: Device supports NAN Pairing which enables
  *	authentication, data encryption and message integrity.
  *
+ * @NL80211_EXT_FEATURE_AUTH_AND_DEAUTH_RANDOM_TA: Device supports randomized TA
+ *	in authentication and deauthentication frames sent to unassociated peer
+ *	using @NL80211_CMD_FRAME.
+ *
  * @NUM_NL80211_EXT_FEATURES: number of extended features.
  * @MAX_NL80211_EXT_FEATURES: highest extended feature index.
  */
@@ -6418,6 +6422,7 @@ enum nl80211_ext_feature_index {
 	NL80211_EXT_FEATURE_POWERED_ADDR_CHANGE,
 	NL80211_EXT_FEATURE_PUNCT,
 	NL80211_EXT_FEATURE_SECURE_NAN,
+	NL80211_EXT_FEATURE_AUTH_AND_DEAUTH_RANDOM_TA,
 
 	/* add new features before the definition below */
 	NUM_NL80211_EXT_FEATURES,