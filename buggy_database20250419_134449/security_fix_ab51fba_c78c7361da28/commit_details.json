{
  "hash": "ab51fbab39d864f3223e44a2600fd951df261f0b",
  "hash_short": "ab51fbab",
  "subject": "futex: Fault/error injection capabilities",
  "body": "Although futexes are well known for being a royal pita,\nwe really have very little debugging capabilities - except\nfor relying on tglx's eye half the time.\n\nBy simply making use of the existing fault-injection machinery,\nwe can improve this situation, allowing generating artificial\nuaddress faults and deadlock scenarios. Of course, when this is\ndisabled in production systems, the overhead for failure checks\nis practically zero -- so this is very cheap at the same time.\nFuture work would be nice to now enhance trinity to make use of\nthis.\n\nThere is a special tunable 'ignore-private', which can filter\nout private futexes. Given the tsk->make_it_fail filter and\nthis option, pi futexes can be narrowed down pretty closely.\n\nSigned-off-by: Davidlohr Bueso <dbueso@suse.de>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Darren Hart <darren@dvhart.com>\nCc: Davidlohr Bueso <dave@stgolabs.net>\nLink: http://lkml.kernel.org/r/1435645562-975-3-git-send-email-dave@stgolabs.net\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>",
  "full_message": "futex: Fault/error injection capabilities\n\nAlthough futexes are well known for being a royal pita,\nwe really have very little debugging capabilities - except\nfor relying on tglx's eye half the time.\n\nBy simply making use of the existing fault-injection machinery,\nwe can improve this situation, allowing generating artificial\nuaddress faults and deadlock scenarios. Of course, when this is\ndisabled in production systems, the overhead for failure checks\nis practically zero -- so this is very cheap at the same time.\nFuture work would be nice to now enhance trinity to make use of\nthis.\n\nThere is a special tunable 'ignore-private', which can filter\nout private futexes. Given the tsk->make_it_fail filter and\nthis option, pi futexes can be narrowed down pretty closely.\n\nSigned-off-by: Davidlohr Bueso <dbueso@suse.de>\nCc: Peter Zijlstra <peterz@infradead.org>\nCc: Darren Hart <darren@dvhart.com>\nCc: Davidlohr Bueso <dave@stgolabs.net>\nLink: http://lkml.kernel.org/r/1435645562-975-3-git-send-email-dave@stgolabs.net\nSigned-off-by: Thomas Gleixner <tglx@linutronix.de>",
  "author_name": "Davidlohr Bueso",
  "author_email": "dave@stgolabs.net",
  "author_date": "Mon Jun 29 23:26:02 2015 -0700",
  "author_date_iso": "2015-06-29T23:26:02-07:00",
  "committer_name": "Thomas Gleixner",
  "committer_email": "tglx@linutronix.de",
  "committer_date": "Mon Jul 20 11:45:45 2015 +0200",
  "committer_date_iso": "2015-07-20T11:45:45+02:00",
  "files_changed": [
    "Documentation/fault-injection/fault-injection.txt",
    "kernel/futex.c",
    "lib/Kconfig.debug"
  ],
  "files_changed_count": 3,
  "stats": [
    {
      "file": "Documentation/fault-injection/fault-injection.txt",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "kernel/futex.c",
      "insertions": 87,
      "deletions": 2
    },
    {
      "file": "lib/Kconfig.debug",
      "insertions": 7,
      "deletions": 0
    }
  ],
  "total_insertions": 105,
  "total_deletions": 2,
  "total_changes": 107,
  "parents": [
    "767f509ca11269c2bcd92e3972a93096f2173ac0"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.10",
    "v4.10-rc1",
    "v4.10-rc2",
    "v4.10-rc3",
    "v4.10-rc4",
    "v4.10-rc5",
    "v4.10-rc6",
    "v4.10-rc7",
    "v4.10-rc8",
    "v4.11"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/fault-injection/fault-injection.txt",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "kernel/futex.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "lib/Kconfig.debug",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}