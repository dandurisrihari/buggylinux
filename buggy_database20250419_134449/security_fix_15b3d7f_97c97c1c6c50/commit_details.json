{
  "hash": "15b3d7f19019f452f9fed620507e8252eb93582d",
  "hash_short": "15b3d7f1",
  "subject": "Merge tag 'misc-habanalabs-next-2021-01-27' of https://git.kernel.org/pub/scm/linux/kernel/git/ogabbay/linux into char-misc-next",
  "body": "Oded writes:\n\nThis tag contains habanalabs driver changes for v5.12:\n\n- Add feature called \"staged command submissions\". In this feature,\n  the driver allows the user to submit multiple command submissions\n  that describe a single pass on the deep learning graph. The driver\n  tracks the completion of the entire pass by the last stage CS.\n\n- Update code to support the latest firmware image\n\n- Optimizations and improvements to MMU code:\n  - Support page size that is not power-of-2\n  - Make the locks scheme simpler\n  - mmap areas in device configuration space to userspace\n\n- Security fixes:\n  - Make ETR non-secured\n  - Remove access to kernel memory through debug-fs interface\n  - Remove access through PCI bar to SyncManager register block\n    in Gaudi\n\n- Many small bug fixes\n\n* tag 'misc-habanalabs-next-2021-01-27' of https://git.kernel.org/pub/scm/linux/kernel/git/ogabbay/linux: (41 commits)\n  habanalabs: update to latest hl_boot_if.h spec from F/W\n  habanalabs/gaudi: unmask HBM interrupts after handling\n  habanalabs: update SyncManager interrupt handling\n  habanalabs: fix ETR security issue\n  habanalabs: staged submission support\n  habanalabs: modify device_idle interface\n  habanalabs: add CS completion and timeout properties\n  habanalabs: add new mem ioctl op for mapping hw blocks\n  habanalabs: fix MMU debugfs related nodes\n  habanalabs: add user available interrupt to hw_ip\n  habanalabs: always try to use the hint address\n  CREDITS: update email address and home address\n  habanalabs: update email address in sysfs/debugfs docs\n  habanalabs: add security violations dump to debugfs\n  habanalabs: ignore F/W BMC errors in case no BMC present\n  habanalabs/gaudi: print sync manager SEI interrupt info\n  habanalabs: Use 'dma_set_mask_and_coherent()'\n  habanalabs/gaudi: remove PCI access to SM block\n  habanalabs: add driver support for internal cb scheduling\n  habanalabs: increment ctx ref from within a cs allocation\n  ...",
  "full_message": "Merge tag 'misc-habanalabs-next-2021-01-27' of https://git.kernel.org/pub/scm/linux/kernel/git/ogabbay/linux into char-misc-next\n\nOded writes:\n\nThis tag contains habanalabs driver changes for v5.12:\n\n- Add feature called \"staged command submissions\". In this feature,\n  the driver allows the user to submit multiple command submissions\n  that describe a single pass on the deep learning graph. The driver\n  tracks the completion of the entire pass by the last stage CS.\n\n- Update code to support the latest firmware image\n\n- Optimizations and improvements to MMU code:\n  - Support page size that is not power-of-2\n  - Make the locks scheme simpler\n  - mmap areas in device configuration space to userspace\n\n- Security fixes:\n  - Make ETR non-secured\n  - Remove access to kernel memory through debug-fs interface\n  - Remove access through PCI bar to SyncManager register block\n    in Gaudi\n\n- Many small bug fixes\n\n* tag 'misc-habanalabs-next-2021-01-27' of https://git.kernel.org/pub/scm/linux/kernel/git/ogabbay/linux: (41 commits)\n  habanalabs: update to latest hl_boot_if.h spec from F/W\n  habanalabs/gaudi: unmask HBM interrupts after handling\n  habanalabs: update SyncManager interrupt handling\n  habanalabs: fix ETR security issue\n  habanalabs: staged submission support\n  habanalabs: modify device_idle interface\n  habanalabs: add CS completion and timeout properties\n  habanalabs: add new mem ioctl op for mapping hw blocks\n  habanalabs: fix MMU debugfs related nodes\n  habanalabs: add user available interrupt to hw_ip\n  habanalabs: always try to use the hint address\n  CREDITS: update email address and home address\n  habanalabs: update email address in sysfs/debugfs docs\n  habanalabs: add security violations dump to debugfs\n  habanalabs: ignore F/W BMC errors in case no BMC present\n  habanalabs/gaudi: print sync manager SEI interrupt info\n  habanalabs: Use 'dma_set_mask_and_coherent()'\n  habanalabs/gaudi: remove PCI access to SM block\n  habanalabs: add driver support for internal cb scheduling\n  habanalabs: increment ctx ref from within a cs allocation\n  ...",
  "author_name": "Greg Kroah-Hartman",
  "author_email": "gregkh@linuxfoundation.org",
  "author_date": "Thu Feb 4 16:53:13 2021 +0100",
  "author_date_iso": "2021-02-04T16:53:13+01:00",
  "committer_name": "Greg Kroah-Hartman",
  "committer_email": "gregkh@linuxfoundation.org",
  "committer_date": "Thu Feb 4 16:53:13 2021 +0100",
  "committer_date_iso": "2021-02-04T16:53:13+01:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "CREDITS",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "Documentation/ABI/testing/debugfs-driver-habanalabs",
      "insertions": 29,
      "deletions": 21
    },
    {
      "file": "Documentation/ABI/testing/sysfs-driver-habanalabs",
      "insertions": 29,
      "deletions": 29
    },
    {
      "file": "drivers/misc/habanalabs/common/Makefile",
      "insertions": 8,
      "deletions": 2
    },
    {
      "file": "drivers/misc/habanalabs/common/asid.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/misc/habanalabs/common/command_buffer.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "drivers/misc/habanalabs/common/command_submission.c",
      "insertions": 423,
      "deletions": 50
    },
    {
      "file": "drivers/misc/habanalabs/common/context.c",
      "insertions": 26,
      "deletions": 7
    },
    {
      "file": "drivers/misc/habanalabs/common/debugfs.c",
      "insertions": 38,
      "deletions": 5
    },
    {
      "file": "drivers/misc/habanalabs/common/device.c",
      "insertions": 15,
      "deletions": 8
    },
    {
      "file": "drivers/misc/habanalabs/common/firmware_if.c",
      "insertions": 90,
      "deletions": 53
    },
    {
      "file": "drivers/misc/habanalabs/common/habanalabs.h",
      "insertions": 89,
      "deletions": 11
    },
    {
      "file": "drivers/misc/habanalabs/common/habanalabs_ioctl.c",
      "insertions": 18,
      "deletions": 4
    },
    {
      "file": "drivers/misc/habanalabs/common/hw_queue.c",
      "insertions": 46,
      "deletions": 5
    },
    {
      "file": "drivers/misc/habanalabs/common/memory.c",
      "insertions": 371,
      "deletions": 243
    },
    {
      "file": "drivers/misc/habanalabs/common/mmu/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/common/{ => mmu}/mmu.c",
      "insertions": 111,
      "deletions": 13
    },
    {
      "file": "drivers/misc/habanalabs/common/{ => mmu}/mmu_v1.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/misc/habanalabs/common/pci/Makefile",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/common/{ => pci}/pci.c",
      "insertions": 9,
      "deletions": 38
    },
    {
      "file": "drivers/misc/habanalabs/gaudi/gaudi.c",
      "insertions": 338,
      "deletions": 98
    },
    {
      "file": "drivers/misc/habanalabs/gaudi/gaudiP.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/gaudi/gaudi_coresight.c",
      "insertions": 15,
      "deletions": 3
    },
    {
      "file": "drivers/misc/habanalabs/gaudi/gaudi_security.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/goya/goya.c",
      "insertions": 41,
      "deletions": 42
    },
    {
      "file": "drivers/misc/habanalabs/goya/goyaP.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/goya/goya_coresight.c",
      "insertions": 9,
      "deletions": 2
    },
    {
      "file": "drivers/misc/habanalabs/goya/goya_security.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/include/common/cpucp_if.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/include/common/hl_boot_if.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/include/gaudi/gaudi_async_events.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/misc/habanalabs/include/gaudi/gaudi_masks.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "drivers/misc/habanalabs/include/gaudi/gaudi_packets.h",
      "insertions": 3,
      "deletions": 24
    },
    {
      "file": "drivers/misc/habanalabs/include/goya/asic_reg/goya_masks.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "include/uapi/misc/habanalabs.h",
      "insertions": 43,
      "deletions": 13
    }
  ],
  "total_insertions": 1824,
  "total_deletions": 684,
  "total_changes": 2508,
  "parents": [
    "3a11b0b5d8d2b3f7d4b44945ef9226a3115bb15f",
    "f1aebf5e3d606a2a910eed54bc8d17655f12b606"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "security issue"
    ]
  },
  "fix_type": "security",
  "file_results": []
}