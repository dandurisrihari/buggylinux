{
  "hash": "5deaa98587aca2f0e7605388e89cfa1df4bad5cb",
  "hash_short": "5deaa985",
  "subject": "Merge tag 'net-6.2-rc5-2' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net",
  "body": "Pull networking fixes from Jakub Kicinski:\n \"Including fixes from wireless, bluetooth, bpf and netfilter.\n\n  Current release - regressions:\n\n   - Revert \"net: team: use IFF_NO_ADDRCONF flag to prevent ipv6\n     addrconf\", fix nsna_ping mode of team\n\n   - wifi: mt76: fix bugs in Rx queue handling and DMA mapping\n\n   - eth: mlx5:\n      - add missing mutex_unlock in error reporter\n      - protect global IPsec ASO with a lock\n\n  Current release - new code bugs:\n\n   - rxrpc: fix wrong error return in rxrpc_connect_call()\n\n  Previous releases - regressions:\n\n   - bluetooth: hci_sync: fix use of HCI_OP_LE_READ_BUFFER_SIZE_V2\n\n   - wifi:\n      - mac80211: fix crashes on Rx due to incorrect initialization of\n        rx->link and rx->link_sta\n      - mac80211: fix bugs in iTXQ conversion - Tx stalls, incorrect\n        aggregation handling, crashes\n      - brcmfmac: fix regression for Broadcom PCIe wifi devices\n      - rndis_wlan: prevent buffer overflow in rndis_query_oid\n\n   - netfilter: conntrack: handle tcp challenge acks during connection\n     reuse\n\n   - sched: avoid grafting on htb_destroy_class_offload when destroying\n\n   - virtio-net: correctly enable callback during start_xmit, fix stalls\n\n   - tcp: avoid the lookup process failing to get sk in ehash table\n\n   - ipa: disable ipa interrupt during suspend\n\n   - eth: stmmac: enable all safety features by default\n\n  Previous releases - always broken:\n\n   - bpf:\n      - fix pointer-leak due to insufficient speculative store bypass\n        mitigation (Spectre v4)\n      - skip task with pid=1 in send_signal_common() to avoid a splat\n      - fix BPF program ID information in BPF_AUDIT_UNLOAD as well as\n        PERF_BPF_EVENT_PROG_UNLOAD events\n      - fix potential deadlock in htab_lock_bucket from same bucket\n        index but different map_locked index\n\n   - bluetooth:\n      - fix a buffer overflow in mgmt_mesh_add()\n      - hci_qca: fix driver shutdown on closed serdev\n      - ISO: fix possible circular locking dependency\n      - CIS: hci_event: fix invalid wait context\n\n   - wifi: brcmfmac: fixes for survey dump handling\n\n   - mptcp: explicitly specify sock family at subflow creation time\n\n   - netfilter: nft_payload: incorrect arithmetics when fetching VLAN\n     header bits\n\n   - tcp: fix rate_app_limited to default to 1\n\n   - l2tp: close all race conditions in l2tp_tunnel_register()\n\n   - eth: mlx5: fixes for QoS config and eswitch configuration\n\n   - eth: enetc: avoid deadlock in enetc_tx_onestep_tstamp()\n\n   - eth: stmmac: fix invalid call to mdiobus_get_phy()\n\n  Misc:\n\n   - ethtool: add netlink attr in rss get reply only if the value is not\n     empty\"\n\n* tag 'net-6.2-rc5-2' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net: (88 commits)\n  Revert \"Merge branch 'octeontx2-af-CPT'\"\n  tcp: fix rate_app_limited to default to 1\n  bnxt: Do not read past the end of test names\n  net: stmmac: enable all safety features by default\n  octeontx2-af: add mbox to return CPT_AF_FLT_INT info\n  octeontx2-af: update cpt lf alloc mailbox\n  octeontx2-af: restore rxc conf after teardown sequence\n  octeontx2-af: optimize cpt pf identification\n  octeontx2-af: modify FLR sequence for CPT\n  octeontx2-af: add mbox for CPT LF reset\n  octeontx2-af: recover CPT engine when it gets fault\n  net: dsa: microchip: ksz9477: port map correction in ALU table entry register\n  selftests/net: toeplitz: fix race on tpacket_v3 block close\n  net/ulp: use consistent error code when blocking ULP\n  octeontx2-pf: Fix the use of GFP_KERNEL in atomic context on rt\n  tcp: avoid the lookup process failing to get sk in ehash table\n  Revert \"net: team: use IFF_NO_ADDRCONF flag to prevent ipv6 addrconf\"\n  MAINTAINERS: add networking entries for Willem\n  net: sched: gred: prevent races when adding offloads to stats\n  l2tp: prevent lockdep issue in l2tp_tunnel_register()\n  ...",
  "full_message": "Merge tag 'net-6.2-rc5-2' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net\n\nPull networking fixes from Jakub Kicinski:\n \"Including fixes from wireless, bluetooth, bpf and netfilter.\n\n  Current release - regressions:\n\n   - Revert \"net: team: use IFF_NO_ADDRCONF flag to prevent ipv6\n     addrconf\", fix nsna_ping mode of team\n\n   - wifi: mt76: fix bugs in Rx queue handling and DMA mapping\n\n   - eth: mlx5:\n      - add missing mutex_unlock in error reporter\n      - protect global IPsec ASO with a lock\n\n  Current release - new code bugs:\n\n   - rxrpc: fix wrong error return in rxrpc_connect_call()\n\n  Previous releases - regressions:\n\n   - bluetooth: hci_sync: fix use of HCI_OP_LE_READ_BUFFER_SIZE_V2\n\n   - wifi:\n      - mac80211: fix crashes on Rx due to incorrect initialization of\n        rx->link and rx->link_sta\n      - mac80211: fix bugs in iTXQ conversion - Tx stalls, incorrect\n        aggregation handling, crashes\n      - brcmfmac: fix regression for Broadcom PCIe wifi devices\n      - rndis_wlan: prevent buffer overflow in rndis_query_oid\n\n   - netfilter: conntrack: handle tcp challenge acks during connection\n     reuse\n\n   - sched: avoid grafting on htb_destroy_class_offload when destroying\n\n   - virtio-net: correctly enable callback during start_xmit, fix stalls\n\n   - tcp: avoid the lookup process failing to get sk in ehash table\n\n   - ipa: disable ipa interrupt during suspend\n\n   - eth: stmmac: enable all safety features by default\n\n  Previous releases - always broken:\n\n   - bpf:\n      - fix pointer-leak due to insufficient speculative store bypass\n        mitigation (Spectre v4)\n      - skip task with pid=1 in send_signal_common() to avoid a splat\n      - fix BPF program ID information in BPF_AUDIT_UNLOAD as well as\n        PERF_BPF_EVENT_PROG_UNLOAD events\n      - fix potential deadlock in htab_lock_bucket from same bucket\n        index but different map_locked index\n\n   - bluetooth:\n      - fix a buffer overflow in mgmt_mesh_add()\n      - hci_qca: fix driver shutdown on closed serdev\n      - ISO: fix possible circular locking dependency\n      - CIS: hci_event: fix invalid wait context\n\n   - wifi: brcmfmac: fixes for survey dump handling\n\n   - mptcp: explicitly specify sock family at subflow creation time\n\n   - netfilter: nft_payload: incorrect arithmetics when fetching VLAN\n     header bits\n\n   - tcp: fix rate_app_limited to default to 1\n\n   - l2tp: close all race conditions in l2tp_tunnel_register()\n\n   - eth: mlx5: fixes for QoS config and eswitch configuration\n\n   - eth: enetc: avoid deadlock in enetc_tx_onestep_tstamp()\n\n   - eth: stmmac: fix invalid call to mdiobus_get_phy()\n\n  Misc:\n\n   - ethtool: add netlink attr in rss get reply only if the value is not\n     empty\"\n\n* tag 'net-6.2-rc5-2' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net: (88 commits)\n  Revert \"Merge branch 'octeontx2-af-CPT'\"\n  tcp: fix rate_app_limited to default to 1\n  bnxt: Do not read past the end of test names\n  net: stmmac: enable all safety features by default\n  octeontx2-af: add mbox to return CPT_AF_FLT_INT info\n  octeontx2-af: update cpt lf alloc mailbox\n  octeontx2-af: restore rxc conf after teardown sequence\n  octeontx2-af: optimize cpt pf identification\n  octeontx2-af: modify FLR sequence for CPT\n  octeontx2-af: add mbox for CPT LF reset\n  octeontx2-af: recover CPT engine when it gets fault\n  net: dsa: microchip: ksz9477: port map correction in ALU table entry register\n  selftests/net: toeplitz: fix race on tpacket_v3 block close\n  net/ulp: use consistent error code when blocking ULP\n  octeontx2-pf: Fix the use of GFP_KERNEL in atomic context on rt\n  tcp: avoid the lookup process failing to get sk in ehash table\n  Revert \"net: team: use IFF_NO_ADDRCONF flag to prevent ipv6 addrconf\"\n  MAINTAINERS: add networking entries for Willem\n  net: sched: gred: prevent races when adding offloads to stats\n  l2tp: prevent lockdep issue in l2tp_tunnel_register()\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri Jan 20 09:58:44 2023 -0800",
  "author_date_iso": "2023-01-20T09:58:44-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri Jan 20 09:58:44 2023 -0800",
  "committer_date_iso": "2023-01-20T09:58:44-08:00",
  "files_changed": [
    "MAINTAINERS"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "MAINTAINERS",
      "insertions": 20,
      "deletions": 1
    },
    {
      "file": "drivers/bluetooth/hci_qca.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/net/dsa/microchip/ksz9477.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/amd/xgbe/xgbe-dev.c",
      "insertions": 15,
      "deletions": 8
    },
    {
      "file": "drivers/net/ethernet/amd/xgbe/xgbe-mdio.c",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/amd/xgbe/xgbe.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c",
      "insertions": 4,
      "deletions": 9
    },
    {
      "file": "drivers/net/ethernet/broadcom/bnxt/bnxt_hsi.h",
      "insertions": 1,
      "deletions": 8
    },
    {
      "file": "drivers/net/ethernet/cadence/macb_main.c",
      "insertions": 1,
      "deletions": 8
    },
    {
      "file": "drivers/net/ethernet/freescale/enetc/enetc.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/nic/otx2_common.c",
      "insertions": 2,
      "deletions": 9
    },
    {
      "file": "drivers/net/ethernet/marvell/octeontx2/nic/otx2_common.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en/htb.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en/params.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en/tc/sample.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec.h",
      "insertions": 2,
      "deletions": 5
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en_accel/ipsec_offload.c",
      "insertions": 6,
      "deletions": 6
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/en_tc.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/esw/qos.c",
      "insertions": 3,
      "deletions": 15
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/eswitch.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/health.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/main.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/qos.c",
      "insertions": 1,
      "deletions": 2
    },
    {
      "file": "drivers/net/ethernet/mellanox/mlx5/core/qos.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/ethernet/microchip/lan966x/lan966x_main.c",
      "insertions": 8,
      "deletions": 5
    },
    {
      "file": "drivers/net/ethernet/stmicro/stmmac/dwmac5.c",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/net/ethernet/stmicro/stmmac/stmmac_ethtool.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "drivers/net/ethernet/stmicro/stmmac/stmmac_main.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "drivers/net/ipa/ipa_interrupt.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "drivers/net/ipa/ipa_interrupt.h",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "drivers/net/ipa/ipa_power.c",
      "insertions": 17,
      "deletions": 0
    },
    {
      "file": "drivers/net/phy/mdio_bus.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "drivers/net/team/team.c",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "drivers/net/usb/sr9700.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/virtio_net.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/net/wan/fsl_ucc_hdlc.c",
      "insertions": 4,
      "deletions": 2
    },
    {
      "file": "drivers/net/wireless/broadcom/brcm80211/brcmfmac/cfg80211.c",
      "insertions": 19,
      "deletions": 18
    },
    {
      "file": "drivers/net/wireless/broadcom/brcm80211/brcmfmac/pcie.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/dma.c",
      "insertions": 80,
      "deletions": 51
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/mt7915/mmio.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "drivers/net/wireless/mediatek/mt76/tx.c",
      "insertions": 4,
      "deletions": 3
    },
    {
      "file": "drivers/net/wireless/rndis_wlan.c",
      "insertions": 6,
      "deletions": 13
    },
    {
      "file": "include/linux/bpf.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/net/mac80211.h",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "include/net/sch_generic.h",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "kernel/bpf/hashtab.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "kernel/bpf/offload.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "kernel/bpf/syscall.c",
      "insertions": 7,
      "deletions": 17
    },
    {
      "file": "kernel/bpf/verifier.c",
      "insertions": 9,
      "deletions": 1
    },
    {
      "file": "kernel/trace/bpf_trace.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "net/bluetooth/hci_conn.c",
      "insertions": 14,
      "deletions": 4
    },
    {
      "file": "net/bluetooth/hci_event.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "net/bluetooth/hci_sync.c",
      "insertions": 6,
      "deletions": 13
    },
    {
      "file": "net/bluetooth/iso.c",
      "insertions": 26,
      "deletions": 38
    },
    {
      "file": "net/bluetooth/mgmt_util.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/bluetooth/rfcomm/sock.c",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "net/ethtool/rss.c",
      "insertions": 7,
      "deletions": 4
    },
    {
      "file": "net/ipv4/inet_hashtables.c",
      "insertions": 15,
      "deletions": 2
    },
    {
      "file": "net/ipv4/inet_timewait_sock.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "net/ipv4/tcp.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/ipv4/tcp_ulp.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/l2tp/l2tp_core.c",
      "insertions": 50,
      "deletions": 52
    },
    {
      "file": "net/mac80211/agg-tx.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "net/mac80211/cfg.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "net/mac80211/debugfs_sta.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "net/mac80211/driver-ops.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "net/mac80211/driver-ops.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/mac80211/ht.c",
      "insertions": 31,
      "deletions": 0
    },
    {
      "file": "net/mac80211/ieee80211_i.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/mac80211/iface.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "net/mac80211/rx.c",
      "insertions": 102,
      "deletions": 123
    },
    {
      "file": "net/mac80211/tx.c",
      "insertions": 17,
      "deletions": 17
    },
    {
      "file": "net/mac80211/util.c",
      "insertions": 3,
      "deletions": 39
    },
    {
      "file": "net/mptcp/pm.c",
      "insertions": 25,
      "deletions": 0
    },
    {
      "file": "net/mptcp/pm_userspace.c",
      "insertions": 7,
      "deletions": 0
    },
    {
      "file": "net/mptcp/protocol.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/mptcp/protocol.h",
      "insertions": 5,
      "deletions": 1
    },
    {
      "file": "net/mptcp/subflow.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "net/netfilter/ipset/ip_set_bitmap_ip.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "net/netfilter/nf_conntrack_proto_tcp.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "net/netfilter/nft_payload.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/nfc/llcp_core.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "net/rxrpc/call_object.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "net/sched/sch_gred.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "net/sched/sch_htb.c",
      "insertions": 16,
      "deletions": 11
    },
    {
      "file": "net/sched/sch_taprio.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/net/mptcp/userspace_pm.sh",
      "insertions": 47,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/net/toeplitz.c",
      "insertions": 7,
      "deletions": 5
    },
    {
      "file": "tools/testing/selftests/netfilter/nft_trans_stress.sh",
      "insertions": 9,
      "deletions": 7
    },
    {
      "file": "tools/testing/selftests/netfilter/settings",
      "insertions": 1,
      "deletions": 0
    }
  ],
  "total_insertions": 804,
  "total_deletions": 560,
  "total_changes": 1364,
  "parents": [
    "4a0c7a6831a0aa56db78a80f5a3e1ad5412d0fa8",
    "45a919bbb21c642e0c34dac483d1e003560159dc"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "bypass"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "MAINTAINERS",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}