{
  "hash": "adc4cefae9cfafc1c88b789021266d6f09a0ecef",
  "hash_short": "adc4cefa",
  "subject": "microblaze: Add support for error injection",
  "body": "To inject the error using the tmr inject IP reset vectors need to be placed\nin lmb(bram) due to the limitation in HW when this code runs out of DDR.\nBelow code adds the error inject code to the .init.ivt section to copy\nit in machine_early_init to lmb/Bram location. C_BASE_VECTORS which allow\nmoving reset vectors out of 0 location is not currently supported by\nMicroblaze architecture, that's why all the time reset vectors with\ninjection code is all the time copied to address 0.\n\nAs of now getting this functionality working CPU switches to real mode\nand simply jumps to bram, which causes triggering of fault which continues\nto call_xmb_manager_break break handler which will at the end calls the\nerror count callback function and performs recovery.\n\nSigned-off-by: Appana Durga Kedareswara rao <appana.durga.rao@xilinx.com>\nLink: https://lore.kernel.org/r/20220627064024.771037-4-appana.durga.rao@xilinx.com\nSigned-off-by: Michal Simek <michal.simek@amd.com>",
  "full_message": "microblaze: Add support for error injection\n\nTo inject the error using the tmr inject IP reset vectors need to be placed\nin lmb(bram) due to the limitation in HW when this code runs out of DDR.\nBelow code adds the error inject code to the .init.ivt section to copy\nit in machine_early_init to lmb/Bram location. C_BASE_VECTORS which allow\nmoving reset vectors out of 0 location is not currently supported by\nMicroblaze architecture, that's why all the time reset vectors with\ninjection code is all the time copied to address 0.\n\nAs of now getting this functionality working CPU switches to real mode\nand simply jumps to bram, which causes triggering of fault which continues\nto call_xmb_manager_break break handler which will at the end calls the\nerror count callback function and performs recovery.\n\nSigned-off-by: Appana Durga Kedareswara rao <appana.durga.rao@xilinx.com>\nLink: https://lore.kernel.org/r/20220627064024.771037-4-appana.durga.rao@xilinx.com\nSigned-off-by: Michal Simek <michal.simek@amd.com>",
  "author_name": "Appana Durga Kedareswara rao",
  "author_email": "appana.durga.rao@xilinx.com",
  "author_date": "Mon Jun 27 12:10:24 2022 +0530",
  "author_date_iso": "2022-06-27T12:10:24+05:30",
  "committer_name": "Michal Simek",
  "committer_email": "michal.simek@amd.com",
  "committer_date": "Mon Sep 26 14:13:29 2022 +0200",
  "committer_date_iso": "2022-09-26T14:13:29+02:00",
  "files_changed": [
    "arch/microblaze/include/asm/xilinx_mb_manager.h",
    "arch/microblaze/kernel/entry.S"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "arch/microblaze/include/asm/xilinx_mb_manager.h",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/microblaze/kernel/entry.S",
      "insertions": 52,
      "deletions": 0
    }
  ],
  "total_insertions": 60,
  "total_deletions": 0,
  "total_changes": 60,
  "parents": [
    "88707ebe77e23e856981e597f322cabbf6415662"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/microblaze/include/asm/xilinx_mb_manager.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/microblaze/kernel/entry.S",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}