Commit Hash: adc4cefae9cfafc1c88b789021266d6f09a0ecef
Subject: microblaze: Add support for error injection


Security Keywords:
- injection

Full commit message:
microblaze: Add support for error injection

To inject the error using the tmr inject IP reset vectors need to be placed
in lmb(bram) due to the limitation in HW when this code runs out of DDR.
Below code adds the error inject code to the .init.ivt section to copy
it in machine_early_init to lmb/Bram location. C_BASE_VECTORS which allow
moving reset vectors out of 0 location is not currently supported by
Microblaze architecture, that's why all the time reset vectors with
injection code is all the time copied to address 0.

As of now getting this functionality working CPU switches to real mode
and simply jumps to bram, which causes triggering of fault which continues
to call_xmb_manager_break break handler which will at the end calls the
error count callback function and performs recovery.

Signed-off-by: Appana Durga Kedareswara rao <appana.durga.rao@xilinx.com>
Link: https://lore.kernel.org/r/20220627064024.771037-4-appana.durga.rao@xilinx.com
Signed-off-by: Michal Simek <michal.simek@amd.com>

Metadata:
Author: Appana Durga Kedareswara rao <appana.durga.rao@xilinx.com>
Author Date: Mon Jun 27 12:10:24 2022 +0530
Committer: Michal Simek <michal.simek@amd.com>
Commit Date: Mon Sep 26 14:13:29 2022 +0200

Files Changed: 2
Lines Added: 60
Lines Removed: 0
Total Changes: 60
