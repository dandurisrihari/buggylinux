{
  "hash": "bcf536072f7475c65f21fd1681e94f99c04f9d15",
  "hash_short": "bcf53607",
  "subject": "scsi: qla2xxx: edif: Fix slow session teardown",
  "body": "User experience slow recovery when target device went through a stop/start\nof the authentication application (app_stop/app_start).\n\nBetween the period of app_stop and app_start on the target device, target\ndevice choose to send ELS Reject for any receive AUTH ELS command.  At this\ntime, authentication application does not do ELS reject if it encounters\nerror.\n\nTherefore, AUTH ELS reject signify authentication application is not\nrunning. If driver passes up the AUTH ELS Reject to the authentication\napplication, then it would result in authentication application\nretrying/resending the same AUTH ELS command again + delay.\n\nAs a work around, driver should trigger a session tear down where it tells\nthe local authentication application to also tear down.  At the next\nrelogin, both sides are then synchronized.\n\nLink: https://lore.kernel.org/r/20220608115849.16693-10-njavali@marvell.com\nReviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>\nSigned-off-by: Quinn Tran <qutran@marvell.com>\nSigned-off-by: Nilesh Javali <njavali@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "full_message": "scsi: qla2xxx: edif: Fix slow session teardown\n\nUser experience slow recovery when target device went through a stop/start\nof the authentication application (app_stop/app_start).\n\nBetween the period of app_stop and app_start on the target device, target\ndevice choose to send ELS Reject for any receive AUTH ELS command.  At this\ntime, authentication application does not do ELS reject if it encounters\nerror.\n\nTherefore, AUTH ELS reject signify authentication application is not\nrunning. If driver passes up the AUTH ELS Reject to the authentication\napplication, then it would result in authentication application\nretrying/resending the same AUTH ELS command again + delay.\n\nAs a work around, driver should trigger a session tear down where it tells\nthe local authentication application to also tear down.  At the next\nrelogin, both sides are then synchronized.\n\nLink: https://lore.kernel.org/r/20220608115849.16693-10-njavali@marvell.com\nReviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>\nSigned-off-by: Quinn Tran <qutran@marvell.com>\nSigned-off-by: Nilesh Javali <njavali@marvell.com>\nSigned-off-by: Martin K. Petersen <martin.petersen@oracle.com>",
  "author_name": "Quinn Tran",
  "author_email": "qutran@marvell.com",
  "author_date": "Wed Jun 8 04:58:48 2022 -0700",
  "author_date_iso": "2022-06-08T04:58:48-07:00",
  "committer_name": "Martin K. Petersen",
  "committer_email": "martin.petersen@oracle.com",
  "committer_date": "Fri Jun 10 13:04:05 2022 -0400",
  "committer_date_iso": "2022-06-10T13:04:05-04:00",
  "files_changed": [
    "drivers/scsi/qla2xxx/qla_isr.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/scsi/qla2xxx/qla_isr.c",
      "insertions": 20,
      "deletions": 14
    }
  ],
  "total_insertions": 20,
  "total_deletions": 14,
  "total_changes": 34,
  "parents": [
    "37be3f9d6993a721bc019f03c97ea0fe66319997"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/qla2xxx/qla_isr.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}