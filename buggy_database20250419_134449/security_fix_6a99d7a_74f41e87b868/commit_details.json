{
  "hash": "6a99d7a2d73cbeaa0b93551fc8ec887295821bbe",
  "hash_short": "6a99d7a2",
  "subject": "crypto: omap-aes - permit asynchronous skcipher as fallback",
  "body": "Even though the omap-aes driver implements asynchronous versions of\necb(aes), cbc(aes) and ctr(aes), the fallbacks it allocates are required\nto be synchronous. Given that SIMD based software implementations are\nusually asynchronous as well, even though they rarely complete\nasynchronously (this typically only happens in cases where the request was\nmade from softirq context, while SIMD was already in use in the task\ncontext that it interrupted), these implementations are disregarded, and\neither the generic C version or another table based version implemented in\nassembler is selected instead.\n\nSince falling back to synchronous AES is not only a performance issue, but\npotentially a security issue as well (due to the fact that table based AES\nis not time invariant), let's fix this, by allocating an ordinary skcipher\nas the fallback, and invoke it with the completion routine that was given\nto the outer request.\n\nSigned-off-by: Ard Biesheuvel <ardb@kernel.org>\nSigned-off-by: Herbert Xu <herbert@gondor.apana.org.au>",
  "full_message": "crypto: omap-aes - permit asynchronous skcipher as fallback\n\nEven though the omap-aes driver implements asynchronous versions of\necb(aes), cbc(aes) and ctr(aes), the fallbacks it allocates are required\nto be synchronous. Given that SIMD based software implementations are\nusually asynchronous as well, even though they rarely complete\nasynchronously (this typically only happens in cases where the request was\nmade from softirq context, while SIMD was already in use in the task\ncontext that it interrupted), these implementations are disregarded, and\neither the generic C version or another table based version implemented in\nassembler is selected instead.\n\nSince falling back to synchronous AES is not only a performance issue, but\npotentially a security issue as well (due to the fact that table based AES\nis not time invariant), let's fix this, by allocating an ordinary skcipher\nas the fallback, and invoke it with the completion routine that was given\nto the outer request.\n\nSigned-off-by: Ard Biesheuvel <ardb@kernel.org>\nSigned-off-by: Herbert Xu <herbert@gondor.apana.org.au>",
  "author_name": "Ard Biesheuvel",
  "author_email": "ardb@kernel.org",
  "author_date": "Tue Jul 7 09:31:53 2020 +0300",
  "author_date_iso": "2020-07-07T09:31:53+03:00",
  "committer_name": "Herbert Xu",
  "committer_email": "herbert@gondor.apana.org.au",
  "committer_date": "Thu Jul 16 21:49:02 2020 +1000",
  "committer_date_iso": "2020-07-16T21:49:02+10:00",
  "files_changed": [
    "drivers/crypto/omap-aes.c",
    "drivers/crypto/omap-aes.h"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "drivers/crypto/omap-aes.c",
      "insertions": 17,
      "deletions": 18
    },
    {
      "file": "drivers/crypto/omap-aes.h",
      "insertions": 2,
      "deletions": 1
    }
  ],
  "total_insertions": 19,
  "total_deletions": 19,
  "total_changes": 38,
  "parents": [
    "1d63e4557f0d11fd795c7acd50a241da2d8bf89f"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "security issue"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/crypto/omap-aes.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/crypto/omap-aes.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}