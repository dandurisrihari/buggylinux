diff --cc drivers/gpu/drm/Kconfig
index fbef3f471bd0,1be14d8634f4..2cba2b6ebe1c
--- a/drivers/gpu/drm/Kconfig
+++ b/drivers/gpu/drm/Kconfig
@@@ -494,6 -503,17 +503,17 @@@ config DRM_WERRO
  
  	  If in doubt, say N.
  
+ config DRM_HEADER_TEST
+ 	bool "Ensure DRM headers are self-contained and pass kernel-doc"
 -	depends on DRM && EXPERT
++	depends on DRM && EXPERT && BROKEN
+ 	default n
+ 	help
+ 	  Ensure the DRM subsystem headers both under drivers/gpu/drm and
+ 	  include/drm compile, are self-contained, have header guards, and have
+ 	  no kernel-doc warnings.
+ 
+ 	  If in doubt, say N.
+ 
  endif
  
  # Separate option because drm_panel_orientation_quirks.c is shared with fbdev
diff --cc drivers/gpu/drm/i915/i915_pmu.c
index 0ce87f188d11,69a109d02116..e5a188ce3185
--- a/drivers/gpu/drm/i915/i915_pmu.c
+++ b/drivers/gpu/drm/i915/i915_pmu.c
@@@ -1264,8 -1155,8 +1155,7 @@@ void i915_pmu_register(struct drm_i915_
  	int ret = -ENOMEM;
  
  	spin_lock_init(&pmu->lock);
 -	hrtimer_init(&pmu->timer, CLOCK_MONOTONIC, HRTIMER_MODE_REL);
 -	pmu->timer.function = i915_sample;
 +	hrtimer_setup(&pmu->timer, i915_sample, CLOCK_MONOTONIC, HRTIMER_MODE_REL);
- 	pmu->cpuhp.cpu = -1;
  	init_rc6(pmu);
  
  	if (IS_DGFX(i915)) {
diff --cc drivers/gpu/drm/xe/xe_bo.h
index 43bf6f140d40,bda3fdd408da..ec3e4446d027
--- a/drivers/gpu/drm/xe/xe_bo.h
+++ b/drivers/gpu/drm/xe/xe_bo.h
@@@ -341,6 -391,21 +391,20 @@@ static inline unsigned int xe_sg_segmen
  	return round_down(max / 2, PAGE_SIZE);
  }
  
+ /**
+  * struct xe_bo_shrink_flags - flags governing the shrink behaviour.
+  * @purge: Only purging allowed. Don't shrink if bo not purgeable.
+  * @writeback: Attempt to immediately move content to swap.
+  */
+ struct xe_bo_shrink_flags {
+ 	u32 purge : 1;
+ 	u32 writeback : 1;
+ };
+ 
+ long xe_bo_shrink(struct ttm_operation_ctx *ctx, struct ttm_buffer_object *bo,
+ 		  const struct xe_bo_shrink_flags flags,
+ 		  unsigned long *scanned);
+ 
 -#if IS_ENABLED(CONFIG_DRM_XE_KUNIT_TEST)
  /**
   * xe_bo_is_mem_type - Whether the bo currently resides in the given
   * TTM memory type
diff --cc drivers/gpu/drm/xe/xe_guc_pc.c
index b995d1d51aed,25040efa043f..85215313976c
--- a/drivers/gpu/drm/xe/xe_guc_pc.c
+++ b/drivers/gpu/drm/xe/xe_guc_pc.c
@@@ -6,9 -6,9 +6,10 @@@
  #include "xe_guc_pc.h"
  
  #include <linux/delay.h>
 +#include <linux/ktime.h>
  
  #include <drm/drm_managed.h>
+ #include <drm/drm_print.h>
  #include <generated/xe_wa_oob.h>
  
  #include "abi/guc_actions_slpc_abi.h"