Commit Hash: 74ec2f302402c4cfd172f7254ae0e5b851e31b0a
Subject: bcachefs: fix restart handling in bch2_rename2()


Security Keywords:
- injection

Full commit message:
bcachefs: fix restart handling in bch2_rename2()

This should be impossible to hit in practice; the first lookup within a
transaction won't return a restart due to lock ordering, but we're
adding fault injection for transaction restarts and shaking out bugs.

Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

Metadata:
Author: Kent Overstreet <kent.overstreet@linux.dev>
Author Date: Mon Oct 14 22:18:12 2024 -0400
Committer: Kent Overstreet <kent.overstreet@linux.dev>
Commit Date: Fri Oct 18 00:49:47 2024 -0400

Files Changed: 1
Lines Added: 1
Lines Removed: 1
Total Changes: 2
