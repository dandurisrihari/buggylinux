{
  "hash": "a2ace25c3f0e8904abc2aadee554cc20c6c3bf6b",
  "hash_short": "a2ace25c",
  "subject": "media: atomisp: Fix device_caps reporting of the registered video-devs",
  "body": "atomisp_subdev_register_entities() had V4L2_CAP_VIDEO_CAPTURE /\nV4L2_CAP_VIDEO_OUT swapped. Or-ing in V4L2_CAP_VIDEO_OUT for\nthe nodes which allow capturing from the camera and or-ing in\nV4L2_CAP_VIDEO_CAPTURE for the file-injection node\n(mem2mem use of the ISP).\n\nThings happen to still work for the capture device-nodes because\nthe \"shared\" caps also included V4L2_CAP_VIDEO_CAPTURE, so those\nshared nodes advertised V4L2_CAP_VIDEO_CAPTURE | V4L2_CAP_VIDEO_OUT.\n\nFix things so that only the correct caps are advertised.\n\nReviewed-by: Andy Shevchenko <andriy.shevchenko@intel.com>\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Mauro Carvalho Chehab <mchehab@kernel.org>",
  "full_message": "media: atomisp: Fix device_caps reporting of the registered video-devs\n\natomisp_subdev_register_entities() had V4L2_CAP_VIDEO_CAPTURE /\nV4L2_CAP_VIDEO_OUT swapped. Or-ing in V4L2_CAP_VIDEO_OUT for\nthe nodes which allow capturing from the camera and or-ing in\nV4L2_CAP_VIDEO_CAPTURE for the file-injection node\n(mem2mem use of the ISP).\n\nThings happen to still work for the capture device-nodes because\nthe \"shared\" caps also included V4L2_CAP_VIDEO_CAPTURE, so those\nshared nodes advertised V4L2_CAP_VIDEO_CAPTURE | V4L2_CAP_VIDEO_OUT.\n\nFix things so that only the correct caps are advertised.\n\nReviewed-by: Andy Shevchenko <andriy.shevchenko@intel.com>\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Mauro Carvalho Chehab <mchehab@kernel.org>",
  "author_name": "Hans de Goede",
  "author_email": "hdegoede@redhat.com",
  "author_date": "Sat Aug 27 15:54:27 2022 +0200",
  "author_date_iso": "2022-08-27T15:54:27+02:00",
  "committer_name": "Mauro Carvalho Chehab",
  "committer_email": "mchehab@kernel.org",
  "committer_date": "Sat Sep 24 09:47:11 2022 +0200",
  "committer_date_iso": "2022-09-24T09:47:11+02:00",
  "files_changed": [
    "drivers/staging/media/atomisp/pci/atomisp_subdev.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/staging/media/atomisp/pci/atomisp_subdev.c",
      "insertions": 7,
      "deletions": 17
    }
  ],
  "total_insertions": 7,
  "total_deletions": 17,
  "total_changes": 24,
  "parents": [
    "6e6c4ae0f0ba295dbf6cbd48d93bec169d6ce431"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/staging/media/atomisp/pci/atomisp_subdev.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}