Commit Hash: a2ace25c3f0e8904abc2aadee554cc20c6c3bf6b
Subject: media: atomisp: Fix device_caps reporting of the registered video-devs


Security Keywords:
- injection

Full commit message:
media: atomisp: Fix device_caps reporting of the registered video-devs

atomisp_subdev_register_entities() had V4L2_CAP_VIDEO_CAPTURE /
V4L2_CAP_VIDEO_OUT swapped. Or-ing in V4L2_CAP_VIDEO_OUT for
the nodes which allow capturing from the camera and or-ing in
V4L2_CAP_VIDEO_CAPTURE for the file-injection node
(mem2mem use of the ISP).

Things happen to still work for the capture device-nodes because
the "shared" caps also included V4L2_CAP_VIDEO_CAPTURE, so those
shared nodes advertised V4L2_CAP_VIDEO_CAPTURE | V4L2_CAP_VIDEO_OUT.

Fix things so that only the correct caps are advertised.

Reviewed-by: Andy Shevchenko <andriy.shevchenko@intel.com>
Signed-off-by: Hans de Goede <hdegoede@redhat.com>
Signed-off-by: Mauro Carvalho Chehab <mchehab@kernel.org>

Metadata:
Author: Hans de Goede <hdegoede@redhat.com>
Author Date: Sat Aug 27 15:54:27 2022 +0200
Committer: Mauro Carvalho Chehab <mchehab@kernel.org>
Commit Date: Sat Sep 24 09:47:11 2022 +0200

Files Changed: 1
Lines Added: 7
Lines Removed: 17
Total Changes: 24
