{
  "hash": "0db89fa243e5edc5de38c88b369e4c3755c5fb74",
  "hash_short": "0db89fa2",
  "subject": "ACPI: Introduce Platform Firmware Runtime Update device driver",
  "body": "Introduce the pfr_update driver which can be used for Platform Firmware\nRuntime code injection and driver update [1].\n\nThe user is expected to provide the EFI capsule, and pass it to the\ndriver by writing the capsule to a device special file. The capsule\nis transferred by the driver to the platform firmware with the help\nof an ACPI _DSM method under the special ACPI Platform Firmware\nRuntime Update device (INTC1080), and the actual firmware update is\ncarried out by the low-level Management Mode code in the platform\nfirmware.\n\nThis change allows certain pieces of the platform firmware to be\nupdated on the fly while the system is running (runtime) without the\nneed to restart it, which is key in the cases when the system needs to\nbe available 100% of the time and it cannot afford the downtime related\nto restarting it, or when the work carried out by the system is\nparticularly important, so it cannot be interrupted, and it is not\npractical to wait until it is complete.\n\nLink: https://uefi.org/sites/default/files/resources/Intel_MM_OS_Interface_Spec_Rev100.pdf # [1]\nTested-by: Hongyu Ning <hongyu.ning@intel.com>\nSigned-off-by: Chen Yu <yu.c.chen@intel.com>\n[ rjw: Subject and changelog edits ]\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>",
  "full_message": "ACPI: Introduce Platform Firmware Runtime Update device driver\n\nIntroduce the pfr_update driver which can be used for Platform Firmware\nRuntime code injection and driver update [1].\n\nThe user is expected to provide the EFI capsule, and pass it to the\ndriver by writing the capsule to a device special file. The capsule\nis transferred by the driver to the platform firmware with the help\nof an ACPI _DSM method under the special ACPI Platform Firmware\nRuntime Update device (INTC1080), and the actual firmware update is\ncarried out by the low-level Management Mode code in the platform\nfirmware.\n\nThis change allows certain pieces of the platform firmware to be\nupdated on the fly while the system is running (runtime) without the\nneed to restart it, which is key in the cases when the system needs to\nbe available 100% of the time and it cannot afford the downtime related\nto restarting it, or when the work carried out by the system is\nparticularly important, so it cannot be interrupted, and it is not\npractical to wait until it is complete.\n\nLink: https://uefi.org/sites/default/files/resources/Intel_MM_OS_Interface_Spec_Rev100.pdf # [1]\nTested-by: Hongyu Ning <hongyu.ning@intel.com>\nSigned-off-by: Chen Yu <yu.c.chen@intel.com>\n[ rjw: Subject and changelog edits ]\nSigned-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>",
  "author_name": "Chen Yu",
  "author_email": "yu.c.chen@intel.com",
  "author_date": "Wed Dec 22 12:31:41 2021 +0800",
  "author_date_iso": "2021-12-22T12:31:41+08:00",
  "committer_name": "Rafael J. Wysocki",
  "committer_email": "rafael.j.wysocki@intel.com",
  "committer_date": "Mon Dec 27 17:12:58 2021 +0100",
  "committer_date_iso": "2021-12-27T17:12:58+01:00",
  "files_changed": [
    "Documentation/userspace-api/ioctl/ioctl-number.rst",
    "drivers/acpi/Kconfig",
    "drivers/acpi/Makefile",
    "drivers/acpi/pfr_update.c",
    "include/uapi/linux/pfrut.h"
  ],
  "files_changed_count": 5,
  "stats": [
    {
      "file": "Documentation/userspace-api/ioctl/ioctl-number.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/acpi/Kconfig",
      "insertions": 18,
      "deletions": 0
    },
    {
      "file": "drivers/acpi/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/acpi/pfr_update.c",
      "insertions": 575,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/pfrut.h",
      "insertions": 174,
      "deletions": 0
    }
  ],
  "total_insertions": 769,
  "total_deletions": 0,
  "total_changes": 769,
  "parents": [
    "1882de7fc56c2b0ea91dd9fd9922d434fc3feb15"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/userspace-api/ioctl/ioctl-number.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/acpi/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/acpi/Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/acpi/pfr_update.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/uapi/linux/pfrut.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}