{
  "hash": "3cd86a58f7734bf9cef38f6f899608ebcaa3da13",
  "hash_short": "3cd86a58",
  "subject": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux",
  "body": "Pull arm64 updates from Catalin Marinas:\n \"The bulk is in-kernel pointer authentication, activity monitors and\n  lots of asm symbol annotations. I also queued the sys_mremap() patch\n  commenting the asymmetry in the address untagging.\n\n  Summary:\n\n   - In-kernel Pointer Authentication support (previously only offered\n     to user space).\n\n   - ARM Activity Monitors (AMU) extension support allowing better CPU\n     utilisation numbers for the scheduler (frequency invariance).\n\n   - Memory hot-remove support for arm64.\n\n   - Lots of asm annotations (SYM_*) in preparation for the in-kernel\n     Branch Target Identification (BTI) support.\n\n   - arm64 perf updates: ARMv8.5-PMU 64-bit counters, refactoring the\n     PMU init callbacks, support for new DT compatibles.\n\n   - IPv6 header checksum optimisation.\n\n   - Fixes: SDEI (software delegated exception interface) double-lock on\n     hibernate with shared events.\n\n   - Minor clean-ups and refactoring: cpu_ops accessor,\n     cpu_do_switch_mm() converted to C, cpufeature finalisation helper.\n\n   - sys_mremap() comment explaining the asymmetric address untagging\n     behaviour\"\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (81 commits)\n  mm/mremap: Add comment explaining the untagging behaviour of mremap()\n  arm64: head: Convert install_el2_stub to SYM_INNER_LABEL\n  arm64: Introduce get_cpu_ops() helper function\n  arm64: Rename cpu_read_ops() to init_cpu_ops()\n  arm64: Declare ACPI parking protocol CPU operation if needed\n  arm64: move kimage_vaddr to .rodata\n  arm64: use mov_q instead of literal ldr\n  arm64: Kconfig: verify binutils support for ARM64_PTR_AUTH\n  lkdtm: arm64: test kernel pointer authentication\n  arm64: compile the kernel with ptrauth return address signing\n  kconfig: Add support for 'as-option'\n  arm64: suspend: restore the kernel ptrauth keys\n  arm64: __show_regs: strip PAC from lr in printk\n  arm64: unwind: strip PAC from kernel addresses\n  arm64: mask PAC bits of __builtin_return_address\n  arm64: initialize ptrauth keys for kernel booting task\n  arm64: initialize and switch ptrauth kernel keys\n  arm64: enable ptrauth earlier\n  arm64: cpufeature: handle conflicts based on capability\n  arm64: cpufeature: Move cpu capability helpers inside C file\n  ...",
  "full_message": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux\n\nPull arm64 updates from Catalin Marinas:\n \"The bulk is in-kernel pointer authentication, activity monitors and\n  lots of asm symbol annotations. I also queued the sys_mremap() patch\n  commenting the asymmetry in the address untagging.\n\n  Summary:\n\n   - In-kernel Pointer Authentication support (previously only offered\n     to user space).\n\n   - ARM Activity Monitors (AMU) extension support allowing better CPU\n     utilisation numbers for the scheduler (frequency invariance).\n\n   - Memory hot-remove support for arm64.\n\n   - Lots of asm annotations (SYM_*) in preparation for the in-kernel\n     Branch Target Identification (BTI) support.\n\n   - arm64 perf updates: ARMv8.5-PMU 64-bit counters, refactoring the\n     PMU init callbacks, support for new DT compatibles.\n\n   - IPv6 header checksum optimisation.\n\n   - Fixes: SDEI (software delegated exception interface) double-lock on\n     hibernate with shared events.\n\n   - Minor clean-ups and refactoring: cpu_ops accessor,\n     cpu_do_switch_mm() converted to C, cpufeature finalisation helper.\n\n   - sys_mremap() comment explaining the asymmetric address untagging\n     behaviour\"\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (81 commits)\n  mm/mremap: Add comment explaining the untagging behaviour of mremap()\n  arm64: head: Convert install_el2_stub to SYM_INNER_LABEL\n  arm64: Introduce get_cpu_ops() helper function\n  arm64: Rename cpu_read_ops() to init_cpu_ops()\n  arm64: Declare ACPI parking protocol CPU operation if needed\n  arm64: move kimage_vaddr to .rodata\n  arm64: use mov_q instead of literal ldr\n  arm64: Kconfig: verify binutils support for ARM64_PTR_AUTH\n  lkdtm: arm64: test kernel pointer authentication\n  arm64: compile the kernel with ptrauth return address signing\n  kconfig: Add support for 'as-option'\n  arm64: suspend: restore the kernel ptrauth keys\n  arm64: __show_regs: strip PAC from lr in printk\n  arm64: unwind: strip PAC from kernel addresses\n  arm64: mask PAC bits of __builtin_return_address\n  arm64: initialize ptrauth keys for kernel booting task\n  arm64: initialize and switch ptrauth kernel keys\n  arm64: enable ptrauth earlier\n  arm64: cpufeature: handle conflicts based on capability\n  arm64: cpufeature: Move cpu capability helpers inside C file\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Tue Mar 31 10:05:01 2020 -0700",
  "author_date_iso": "2020-03-31T10:05:01-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Tue Mar 31 10:05:01 2020 -0700",
  "committer_date_iso": "2020-03-31T10:05:01-07:00",
  "files_changed": [
    "arch/arm64/Kconfig",
    "arch/arm64/include/asm/cpufeature.h",
    "arch/arm64/include/asm/kvm_mmu.h",
    "arch/arm64/include/asm/mmu.h",
    "arch/arm64/include/asm/processor.h",
    "arch/arm64/include/asm/topology.h",
    "arch/arm64/kernel/process.c",
    "arch/arm64/kernel/smp.c",
    "arch/arm64/kvm/hyp/switch.c",
    "arch/arm64/mm/context.c",
    "drivers/base/arch_topology.c",
    "drivers/clocksource/arm_arch_timer.c",
    "drivers/cpufreq/cpufreq.c",
    "include/linux/arch_topology.h",
    "scripts/Kconfig.include"
  ],
  "files_changed_count": 15,
  "stats": [
    {
      "file": "Documentation/arm64/amu.rst",
      "insertions": 112,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/booting.rst",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/index.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/Kconfig",
      "insertions": 66,
      "deletions": 3
    },
    {
      "file": "arch/arm64/Makefile",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/arm64/crypto/aes-ce.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/crypto/aes-modes.S",
      "insertions": 24,
      "deletions": 24
    },
    {
      "file": "arch/arm64/crypto/aes-neon.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/crypto/ghash-ce-core.S",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "arch/arm64/include/asm/asm_pointer_auth.h",
      "insertions": 65,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/assembler.h",
      "insertions": 10,
      "deletions": 6
    },
    {
      "file": "arch/arm64/include/asm/checksum.h",
      "insertions": 6,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/compiler.h",
      "insertions": 24,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/cpu_ops.h",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/asm/cpucaps.h",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/cpufeature.h",
      "insertions": 96,
      "deletions": 29
    },
    {
      "file": "arch/arm64/include/asm/esr.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/kvm_arm.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_asm.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/kvm_mmu.h",
      "insertions": 4,
      "deletions": 5
    },
    {
      "file": "arch/arm64/include/asm/memory.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/mmu.h",
      "insertions": 6,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/asm/mmu_context.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/page.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/perf_event.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/pointer_auth.h",
      "insertions": 22,
      "deletions": 28
    },
    {
      "file": "arch/arm64/include/asm/proc-fns.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/processor.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/smp.h",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/stackprotector.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 48,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/topology.h",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/Makefile",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/armv8_deprecated.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/asm-offsets.c",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/cpu-reset.S",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/cpu_errata.c",
      "insertions": 8,
      "deletions": 10
    },
    {
      "file": "arch/arm64/kernel/cpu_ops.c",
      "insertions": 9,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "insertions": 142,
      "deletions": 23
    },
    {
      "file": "arch/arm64/kernel/cpuidle.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kernel/entry-common.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/entry-ftrace.S",
      "insertions": 24,
      "deletions": 24
    },
    {
      "file": "arch/arm64/kernel/entry.S",
      "insertions": 64,
      "deletions": 57
    },
    {
      "file": "arch/arm64/kernel/head.S",
      "insertions": 46,
      "deletions": 40
    },
    {
      "file": "arch/arm64/kernel/hibernate-asm.S",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/hyp-stub.S",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/machine_kexec_file.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/perf_event.c",
      "insertions": 181,
      "deletions": 157
    },
    {
      "file": "arch/arm64/kernel/pointer_auth.c",
      "insertions": 2,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kernel/process.c",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/ptrace.c",
      "insertions": 8,
      "deletions": 8
    },
    {
      "file": "arch/arm64/kernel/relocate_kernel.S",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kernel/setup.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kernel/sleep.S",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/smp.c",
      "insertions": 92,
      "deletions": 67
    },
    {
      "file": "arch/arm64/kernel/stacktrace.c",
      "insertions": 4,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/topology.c",
      "insertions": 180,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/vdso/sigreturn.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/vdso32/sigreturn.S",
      "insertions": 8,
      "deletions": 15
    },
    {
      "file": "arch/arm64/kvm/hyp-init.S",
      "insertions": 8,
      "deletions": 10
    },
    {
      "file": "arch/arm64/kvm/hyp.S",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kvm/hyp/fpsimd.S",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/hyp-entry.S",
      "insertions": 16,
      "deletions": 11
    },
    {
      "file": "arch/arm64/kvm/hyp/switch.c",
      "insertions": 20,
      "deletions": 8
    },
    {
      "file": "arch/arm64/kvm/hyp/sysreg-sr.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/hyp/tlb.c",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kvm/sys_regs.c",
      "insertions": 101,
      "deletions": 2
    },
    {
      "file": "arch/arm64/lib/csum.c",
      "insertions": 27,
      "deletions": 0
    },
    {
      "file": "arch/arm64/lib/strcmp.S",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/mm/context.c",
      "insertions": 30,
      "deletions": 2
    },
    {
      "file": "arch/arm64/mm/mmu.c",
      "insertions": 370,
      "deletions": 9
    },
    {
      "file": "arch/arm64/mm/proc.S",
      "insertions": 64,
      "deletions": 40
    },
    {
      "file": "arch/arm64/mm/ptdump_debugfs.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "drivers/base/arch_topology.c",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "drivers/clocksource/arm_arch_timer.c",
      "insertions": 15,
      "deletions": 3
    },
    {
      "file": "drivers/cpufreq/cpufreq.c",
      "insertions": 20,
      "deletions": 0
    },
    {
      "file": "drivers/firmware/arm_sdei.c",
      "insertions": 36,
      "deletions": 35
    },
    {
      "file": "drivers/misc/lkdtm/bugs.c",
      "insertions": 36,
      "deletions": 0
    },
    {
      "file": "drivers/misc/lkdtm/core.c",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/misc/lkdtm/lkdtm.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/perf/arm-ccn.c",
      "insertions": 10,
      "deletions": 10
    },
    {
      "file": "drivers/perf/arm_spe_pmu.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "include/linux/arch_topology.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "include/linux/cpufreq.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "include/linux/perf/arm_pmu.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/linux/stackprotector.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "mm/mremap.c",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "scripts/Kconfig.include",
      "insertions": 6,
      "deletions": 0
    }
  ],
  "total_insertions": 2192,
  "total_deletions": 700,
  "total_changes": 2892,
  "parents": [
    "a8222fd5b80c7ec83f257060670becbeea9b50b9",
    "b2a84de2a2deb76a6a51609845341f508c518c03"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/include/asm/kvm_mmu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/topology.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/cpufeature.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/smp.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/process.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/mmu.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/processor.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kvm/hyp/switch.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/Kconfig",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/mm/context.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "scripts/Kconfig.include",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/cpufreq/cpufreq.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "include/linux/arch_topology.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/clocksource/arm_arch_timer.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/base/arch_topology.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}