{
  "hash": "bd2b3ca7686d9470b1b58df631daa03179486182",
  "hash_short": "bd2b3ca7",
  "subject": "KVM: VMX: Fix interrupt loss during race with NMI",
  "body": "If an interrupt cannot be injected for some reason (say, page fault\nwhen fetching the IDT descriptor), the interrupt is marked for\nreinjection.  However, if an NMI is queued at this time, the NMI\nwill be injected instead and the NMI will be lost.\n\nFix by deferring the NMI injection until the interrupt has been\ninjected successfully.\n\nAnalyzed by Jan Kiszka.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",
  "full_message": "KVM: VMX: Fix interrupt loss during race with NMI\n\nIf an interrupt cannot be injected for some reason (say, page fault\nwhen fetching the IDT descriptor), the interrupt is marked for\nreinjection.  However, if an NMI is queued at this time, the NMI\nwill be injected instead and the NMI will be lost.\n\nFix by deferring the NMI injection until the interrupt has been\ninjected successfully.\n\nAnalyzed by Jan Kiszka.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",
  "author_name": "Avi Kivity",
  "author_email": "avi@redhat.com",
  "author_date": "Thu Nov 20 11:47:18 2008 +0200",
  "author_date_iso": "2008-11-20T11:47:18+02:00",
  "committer_name": "Avi Kivity",
  "committer_email": "avi@redhat.com",
  "committer_date": "Sun Nov 23 14:52:29 2008 +0200",
  "committer_date_iso": "2008-11-23T14:52:29+02:00",
  "files_changed": [
    "arch/x86/kvm/vmx.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "arch/x86/kvm/vmx.c",
      "insertions": 3,
      "deletions": 1
    }
  ],
  "total_insertions": 3,
  "total_deletions": 1,
  "total_changes": 4,
  "parents": [
    "3eb77d5116d78cce5b9fa9eb19d012bc636116b6"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.28",
    "v2.6.28-rc8",
    "v2.6.28-rc9",
    "v2.6.29",
    "v2.6.29-rc1",
    "v2.6.29-rc2",
    "v2.6.29-rc3",
    "v2.6.29-rc4",
    "v2.6.29-rc5",
    "v2.6.29-rc6"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/x86/kvm/vmx.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}