{
  "hash": "5c6154ffd40c5bca1eb01f9bf5a4d2b6d18d55bd",
  "hash_short": "5c6154ff",
  "subject": "Merge tag 'erofs-for-6.11-rc5-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs",
  "body": "Pull erofs fixes from Gao Xiang:\n \"As I mentioned in the merge window pull request, there is a regression\n  which could cause system hang due to page migration. The corresponding\n  fix landed upstream through MM tree last week (commit 2e6506e1c4ee:\n  \"mm/migrate: fix deadlock in migrate_pages_batch() on large folios\"),\n  therefore large folios can be safely allowed for compressed inodes and\n  stress tests have been running on my fleet for over 20 days without\n  any regression. Users have explicitly requested this for months, so\n  let's allow large folios for EROFS full cases now for wider testing.\n\n  Additionally, there is a fix which addresses invalid memory accesses\n  on a failure path triggered by fault injection and two minor cleanups\n  to simplify the codebase.\n\n  Summary:\n\n   - Allow large folios on compressed inodes\n\n   - Fix invalid memory accesses if z_erofs_gbuf_growsize() partially\n     fails\n\n   - Two minor cleanups\"\n\n* tag 'erofs-for-6.11-rc5-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs:\n  erofs: fix out-of-bound access when z_erofs_gbuf_growsize() partially fails\n  erofs: allow large folios for compressed files\n  erofs: get rid of check_layout_compatibility()\n  erofs: simplify readdir operation",
  "full_message": "Merge tag 'erofs-for-6.11-rc5-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs\n\nPull erofs fixes from Gao Xiang:\n \"As I mentioned in the merge window pull request, there is a regression\n  which could cause system hang due to page migration. The corresponding\n  fix landed upstream through MM tree last week (commit 2e6506e1c4ee:\n  \"mm/migrate: fix deadlock in migrate_pages_batch() on large folios\"),\n  therefore large folios can be safely allowed for compressed inodes and\n  stress tests have been running on my fleet for over 20 days without\n  any regression. Users have explicitly requested this for months, so\n  let's allow large folios for EROFS full cases now for wider testing.\n\n  Additionally, there is a fix which addresses invalid memory accesses\n  on a failure path triggered by fault injection and two minor cleanups\n  to simplify the codebase.\n\n  Summary:\n\n   - Allow large folios on compressed inodes\n\n   - Fix invalid memory accesses if z_erofs_gbuf_growsize() partially\n     fails\n\n   - Two minor cleanups\"\n\n* tag 'erofs-for-6.11-rc5-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs:\n  erofs: fix out-of-bound access when z_erofs_gbuf_growsize() partially fails\n  erofs: allow large folios for compressed files\n  erofs: get rid of check_layout_compatibility()\n  erofs: simplify readdir operation",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Thu Aug 22 06:06:09 2024 +0800",
  "author_date_iso": "2024-08-22T06:06:09+08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Thu Aug 22 06:06:09 2024 +0800",
  "committer_date_iso": "2024-08-22T06:06:09+08:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "Documentation/filesystems/erofs.rst",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/erofs/dir.c",
      "insertions": 12,
      "deletions": 23
    },
    {
      "file": "fs/erofs/inode.c",
      "insertions": 8,
      "deletions": 10
    },
    {
      "file": "fs/erofs/internal.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "fs/erofs/super.c",
      "insertions": 6,
      "deletions": 20
    },
    {
      "file": "fs/erofs/zutil.c",
      "insertions": 2,
      "deletions": 1
    }
  ],
  "total_insertions": 30,
  "total_deletions": 56,
  "total_changes": 86,
  "parents": [
    "b311c1b497e51a628aa89e7cb954481e5f9dced2",
    "0005e01e1e875c5e27130c5e2ed0189749d1e08a"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": []
}