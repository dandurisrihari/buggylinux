Commit Hash: 9f9eef9ec1a2b57d95a86fe81df758e8253a7766
Subject: drm/bridge: it6505: fix HDCP CTS KSV list wait timer


Security Keywords:
- authentication

Full commit message:
drm/bridge: it6505: fix HDCP CTS KSV list wait timer

HDCP must disabled encryption and restart authentication after
waiting KSV for 5s.
The original method uses a counter in a waitting loop that may
wait much longer than it is supposed to.
Use time_after() for KSV wait timeout.

Signed-off-by: Hermes Wu <hermes.wu@ite.com.tw>
Reviewed-by: AngeloGioacchino Del Regno <angelogioacchino.delregno@collabora.com>
Signed-off-by: Dmitry Baryshkov <dmitry.baryshkov@linaro.org>
Link: https://patchwork.freedesktop.org/patch/msgid/20241230-v7-upstream-v7-9-e0fdd4844703@ite.corp-partner.google.com

Metadata:
Author: Hermes Wu <hermes.wu@ite.com.tw>
Author Date: Mon Dec 30 18:51:27 2024 +0800
Committer: Dmitry Baryshkov <dmitry.baryshkov@linaro.org>
Commit Date: Fri Jan 3 20:24:32 2025 +0200

Files Changed: 1
Lines Added: 10
Lines Removed: 10
Total Changes: 20
