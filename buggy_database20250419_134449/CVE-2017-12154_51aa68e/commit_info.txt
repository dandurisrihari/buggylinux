Commit Hash: 51aa68e7d57e3217192d88ce90fd5b8ef29ec94f
Subject: kvm: nVMX: Don't allow L2 to access the hardware CR8

CVE Identifiers:
- CVE-2017-12154

Full commit message:
kvm: nVMX: Don't allow L2 to access the hardware CR8

If L1 does not specify the "use TPR shadow" VM-execution control in
vmcs12, then L0 must specify the "CR8-load exiting" and "CR8-store
exiting" VM-execution controls in vmcs02. Failure to do so will give
the L2 VM unrestricted read/write access to the hardware CR8.

This fixes CVE-2017-12154.

Signed-off-by: Jim Mattson <jmattson@google.com>
Reviewed-by: David Hildenbrand <david@redhat.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

Metadata:
Author: Jim Mattson <jmattson@google.com>
Author Date: Tue Sep 12 13:02:54 2017 -0700
Committer: Paolo Bonzini <pbonzini@redhat.com>
Commit Date: Fri Sep 15 14:05:46 2017 +0200

Files Changed: 1
Lines Added: 5
Lines Removed: 0
Total Changes: 5
