{
  "hash": "33e45234987ea3ed4b05fc512f4441696478f12d",
  "hash_short": "33e45234",
  "subject": "arm64: initialize and switch ptrauth kernel keys",
  "body": "Set up keys to use pointer authentication within the kernel. The kernel\nwill be compiled with APIAKey instructions, the other keys are currently\nunused. Each task is given its own APIAKey, which is initialized during\nfork. The key is changed during context switch and on kernel entry from\nEL0.\n\nThe keys for idle threads need to be set before calling any C functions,\nbecause it is not possible to enter and exit a function with different\nkeys.\n\nReviewed-by: Kees Cook <keescook@chromium.org>\nReviewed-by: Catalin Marinas <catalin.marinas@arm.com>\nReviewed-by: Vincenzo Frascino <Vincenzo.Frascino@arm.com>\nSigned-off-by: Kristina Martsenko <kristina.martsenko@arm.com>\n[Amit: Modified secondary cores key structure, comments]\nSigned-off-by: Amit Daniel Kachhap <amit.kachhap@arm.com>\nSigned-off-by: Catalin Marinas <catalin.marinas@arm.com>",
  "full_message": "arm64: initialize and switch ptrauth kernel keys\n\nSet up keys to use pointer authentication within the kernel. The kernel\nwill be compiled with APIAKey instructions, the other keys are currently\nunused. Each task is given its own APIAKey, which is initialized during\nfork. The key is changed during context switch and on kernel entry from\nEL0.\n\nThe keys for idle threads need to be set before calling any C functions,\nbecause it is not possible to enter and exit a function with different\nkeys.\n\nReviewed-by: Kees Cook <keescook@chromium.org>\nReviewed-by: Catalin Marinas <catalin.marinas@arm.com>\nReviewed-by: Vincenzo Frascino <Vincenzo.Frascino@arm.com>\nSigned-off-by: Kristina Martsenko <kristina.martsenko@arm.com>\n[Amit: Modified secondary cores key structure, comments]\nSigned-off-by: Amit Daniel Kachhap <amit.kachhap@arm.com>\nSigned-off-by: Catalin Marinas <catalin.marinas@arm.com>",
  "author_name": "Kristina Martsenko",
  "author_email": "kristina.martsenko@arm.com",
  "author_date": "Fri Mar 13 14:34:56 2020 +0530",
  "author_date_iso": "2020-03-13T14:34:56+05:30",
  "committer_name": "Catalin Marinas",
  "committer_email": "catalin.marinas@arm.com",
  "committer_date": "Wed Mar 18 09:50:20 2020 +0000",
  "committer_date_iso": "2020-03-18T09:50:20+00:00",
  "files_changed": [
    "arch/arm64/include/asm/asm_pointer_auth.h",
    "arch/arm64/include/asm/pointer_auth.h",
    "arch/arm64/include/asm/processor.h",
    "arch/arm64/include/asm/smp.h",
    "arch/arm64/kernel/asm-offsets.c",
    "arch/arm64/kernel/entry.S",
    "arch/arm64/kernel/process.c",
    "arch/arm64/kernel/smp.c",
    "arch/arm64/mm/proc.S"
  ],
  "files_changed_count": 9,
  "stats": [
    {
      "file": "arch/arm64/include/asm/asm_pointer_auth.h",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/pointer_auth.h",
      "insertions": 13,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/processor.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/smp.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/asm-offsets.c",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/entry.S",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/process.c",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/smp.c",
      "insertions": 8,
      "deletions": 0
    },
    {
      "file": "arch/arm64/mm/proc.S",
      "insertions": 12,
      "deletions": 0
    }
  ],
  "total_insertions": 62,
  "total_deletions": 0,
  "total_changes": 62,
  "parents": [
    "6982934e19f8ebb4152ba77308facdb1a38533f9"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/arm64/include/asm/processor.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/smp.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/asm-offsets.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/process.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/asm_pointer_auth.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/smp.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/entry.S",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/pointer_auth.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/mm/proc.S",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}