Commit Hash: da8ef65f9573952c717d86f8f501773daf29bd10
Subject: ubifs: Authenticate replayed journal


Security Keywords:
- authentication

Full commit message:
ubifs: Authenticate replayed journal

Make sure that during replay all buds can be authenticated. To do
this we calculate the hash chain until we find an authentication
node and check the HMAC in that node against the current status
of the hash chain.

After a power cut it can happen that some nodes have been written, but
not yet the authentication node for them. These nodes have to be
discarded during replay.

Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
Signed-off-by: Richard Weinberger <richard@nod.at>

Metadata:
Author: Sascha Hauer <s.hauer@pengutronix.de>
Author Date: Fri Sep 7 14:36:38 2018 +0200
Committer: Richard Weinberger <richard@nod.at>
Commit Date: Tue Oct 23 13:48:40 2018 +0200

Files Changed: 1
Lines Added: 144
Lines Removed: 2
Total Changes: 146
