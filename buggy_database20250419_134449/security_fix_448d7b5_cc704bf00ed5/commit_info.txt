Commit Hash: 448d7b5daf043d109df98e3e8f8deb165c2e8896
Subject: pktgen: Limit how much data we copy onto the stack.


Security Keywords:
- security issue

Full commit message:
pktgen: Limit how much data we copy onto the stack.

A program that accidentally writes too much data to the pktgen file can overflow
the kernel stack and oops the machine. This is only triggerable by root, so
there's no security issue, but it's still an unfortunate bug.

printk() won't print more than 1024 bytes in a single call, anyways, so let's
just never copy more than that much data. We're on a fairly shallow stack, so
that should be safe even with CONFIG_4KSTACKS.

Signed-off-by: Nelson Elhage <nelhage@ksplice.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Metadata:
Author: Nelson Elhage <nelhage@ksplice.com>
Author Date: Thu Oct 28 11:31:07 2010 -0700
Committer: David S. Miller <davem@davemloft.net>
Commit Date: Thu Oct 28 11:47:53 2010 -0700

Files Changed: 1
Lines Added: 4
Lines Removed: 3
Total Changes: 7
