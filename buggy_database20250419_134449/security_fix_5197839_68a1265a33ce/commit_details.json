{
  "hash": "519783935451764b397f2a712de5ea778ff77fdf",
  "hash_short": "51978393",
  "subject": "KVM: s390: introduce ais mode modify function",
  "body": "Provide an interface for userspace to modify AIS\n(adapter-interruption-suppression) mode state, and add documentation\nfor the interface. Allowed target modes are ALL-Interruptions mode\nand SINGLE-Interruption mode.\n\nWe introduce the 'simm' and 'nimm' fields in kvm_s390_float_interrupt\nto store interruption modes for each ISC. Each bit in 'simm' and\n'nimm' targets to one ISC, and collaboratively indicate three modes:\nALL-Interruptions, SINGLE-Interruption and NO-Interruptions. This\ninterface can initiate most transitions between the states; transition\nfrom SINGLE-Interruption to NO-Interruptions via adapter interrupt\ninjection will be introduced in a following patch. The meaningful\ncombinations are as follows:\n\n    interruption mode | simm bit | nimm bit\n    ------------------|----------|----------\n             ALL      |    0     |     0\n           SINGLE     |    1     |     0\n             NO       |    1     |     1\n\nBesides, add tracepoint to track AIS mode transitions.\n\nCo-Authored-By: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nSigned-off-by: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nSigned-off-by: Fei Li <sherrylf@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "full_message": "KVM: s390: introduce ais mode modify function\n\nProvide an interface for userspace to modify AIS\n(adapter-interruption-suppression) mode state, and add documentation\nfor the interface. Allowed target modes are ALL-Interruptions mode\nand SINGLE-Interruption mode.\n\nWe introduce the 'simm' and 'nimm' fields in kvm_s390_float_interrupt\nto store interruption modes for each ISC. Each bit in 'simm' and\n'nimm' targets to one ISC, and collaboratively indicate three modes:\nALL-Interruptions, SINGLE-Interruption and NO-Interruptions. This\ninterface can initiate most transitions between the states; transition\nfrom SINGLE-Interruption to NO-Interruptions via adapter interrupt\ninjection will be introduced in a following patch. The meaningful\ncombinations are as follows:\n\n    interruption mode | simm bit | nimm bit\n    ------------------|----------|----------\n             ALL      |    0     |     0\n           SINGLE     |    1     |     0\n             NO       |    1     |     1\n\nBesides, add tracepoint to track AIS mode transitions.\n\nCo-Authored-By: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nSigned-off-by: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nSigned-off-by: Fei Li <sherrylf@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "author_name": "Fei Li",
  "author_email": "sherrylf@linux.vnet.ibm.com",
  "author_date": "Fri Feb 17 17:06:26 2017 +0800",
  "author_date_iso": "2017-02-17T17:06:26+08:00",
  "committer_name": "Christian Borntraeger",
  "committer_email": "borntraeger@de.ibm.com",
  "committer_date": "Thu Apr 6 13:15:36 2017 +0200",
  "committer_date_iso": "2017-04-06T13:15:36+02:00",
  "files_changed": [
    "Documentation/virtual/kvm/devices/s390_flic.txt",
    "arch/s390/include/asm/kvm_host.h",
    "arch/s390/include/uapi/asm/kvm.h",
    "arch/s390/kvm/interrupt.c",
    "arch/s390/kvm/kvm-s390.c",
    "arch/s390/kvm/trace-s390.h"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/virtual/kvm/devices/s390_flic.txt",
      "insertions": 20,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "arch/s390/include/uapi/asm/kvm.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "insertions": 43,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/s390/kvm/trace-s390.h",
      "insertions": 31,
      "deletions": 0
    }
  ],
  "total_insertions": 114,
  "total_deletions": 0,
  "total_changes": 114,
  "parents": [
    "08fab50da669e5ee5a542592895fcb63be3cd7b1"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.12",
    "v4.12-rc1",
    "v4.12-rc2",
    "v4.12-rc3",
    "v4.12-rc4",
    "v4.12-rc5",
    "v4.12-rc6",
    "v4.12-rc7",
    "v4.13",
    "v4.13-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/virtual/kvm/devices/s390_flic.txt",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/trace-s390.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/include/uapi/asm/kvm.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/kvm-s390.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}