{
  "hash": "201ae986ead7582f8d9506a5d11459b280b954c8",
  "hash_short": "201ae986",
  "subject": "KVM: s390: protvirt: Implement interrupt injection",
  "body": "This defines the necessary data structures in the SIE control block to\ninject machine checks,external and I/O interrupts. We first define the\nthe interrupt injection control, which defines the next interrupt to\ninject. Then we define the fields that contain the payload for machine\nchecks,external and I/O interrupts.\nThis is then used to implement interruption injection for the following\nlist of interruption types:\n\n   - I/O (uses inject io interruption)\n     __deliver_io\n\n   - External (uses inject external interruption)\n     __deliver_cpu_timer\n     __deliver_ckc\n     __deliver_emergency_signal\n     __deliver_external_call\n\n   - cpu restart (uses inject restart interruption)\n     __deliver_restart\n\n   - machine checks (uses mcic, failing address and external damage)\n     __write_machine_check\n\nPlease note that posted interrupts (GISA) are not used for protected\nguests as of today.\n\nThe service interrupt is handled in a followup patch.\n\nSigned-off-by: Michael Mueller <mimu@linux.ibm.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\n[borntraeger@de.ibm.com: patch merging, splitting, fixing]\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "full_message": "KVM: s390: protvirt: Implement interrupt injection\n\nThis defines the necessary data structures in the SIE control block to\ninject machine checks,external and I/O interrupts. We first define the\nthe interrupt injection control, which defines the next interrupt to\ninject. Then we define the fields that contain the payload for machine\nchecks,external and I/O interrupts.\nThis is then used to implement interruption injection for the following\nlist of interruption types:\n\n   - I/O (uses inject io interruption)\n     __deliver_io\n\n   - External (uses inject external interruption)\n     __deliver_cpu_timer\n     __deliver_ckc\n     __deliver_emergency_signal\n     __deliver_external_call\n\n   - cpu restart (uses inject restart interruption)\n     __deliver_restart\n\n   - machine checks (uses mcic, failing address and external damage)\n     __write_machine_check\n\nPlease note that posted interrupts (GISA) are not used for protected\nguests as of today.\n\nThe service interrupt is handled in a followup patch.\n\nSigned-off-by: Michael Mueller <mimu@linux.ibm.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\n[borntraeger@de.ibm.com: patch merging, splitting, fixing]\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",
  "author_name": "Michael Mueller",
  "author_email": "mimu@linux.ibm.com",
  "author_date": "Mon Feb 18 16:48:20 2019 +0100",
  "author_date_iso": "2019-02-18T16:48:20+01:00",
  "committer_name": "Christian Borntraeger",
  "committer_email": "borntraeger@de.ibm.com",
  "committer_date": "Thu Feb 27 19:47:11 2020 +0100",
  "committer_date_iso": "2020-02-27T19:47:11+01:00",
  "files_changed": [
    "arch/s390/include/asm/kvm_host.h",
    "arch/s390/kvm/interrupt.c"
  ],
  "files_changed_count": 2,
  "stats": [
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "insertions": 50,
      "deletions": 12
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "insertions": 88,
      "deletions": 27
    }
  ],
  "total_insertions": 138,
  "total_deletions": 39,
  "total_changes": 177,
  "parents": [
    "da24a0cc58ed549dbcc3089ba3bb08ef3d7073af"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.7-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "arch/s390/include/asm/kvm_host.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/s390/kvm/interrupt.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}