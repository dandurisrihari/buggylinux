{
  "hash": "8b98436af2c0d6a6fc970700a290666600e2ba13",
  "hash_short": "8b98436a",
  "subject": "Merge tag 'perf-tools-fixes-for-v5.16-2021-11-19' of git://git.kernel.org/pub/scm/linux/kernel/git/acme/linux",
  "body": "Pull perf tools fixes from Arnaldo Carvalho de Melo:\n\n - Fix the 'local_weight', 'weight' (memory access latency),\n   'local_ins_lat', 'ins_lat' (instruction latency) and 'pstage_cyc'\n   (pipeline stage cycles) sort key sample aggregation.\n\n - Fix 'perf test' entry for watchpoints on s/390.\n\n - Fix branch_stack entry endianness check in the 'perf test' sample\n   parsing test.\n\n - Fix ARM SPE handling on 'perf inject'.\n\n - Fix memory leaks detected with ASan.\n\n - Fix build on arm64 related to reallocarray() availability.\n\n - Sync copies of kernel headers: cpufeatures, kvm, MIPS syscalltable\n   (futex_waitv).\n\n* tag 'perf-tools-fixes-for-v5.16-2021-11-19' of git://git.kernel.org/pub/scm/linux/kernel/git/acme/linux:\n  perf evsel: Fix memory leaks relating to unit\n  perf report: Fix memory leaks around perf_tip()\n  perf hist: Fix memory leak of a perf_hpp_fmt\n  tools headers UAPI: Sync MIPS syscall table file changed by new futex_waitv syscall\n  tools build: Fix removal of feature-sync-compare-and-swap feature detection\n  perf inject: Fix ARM SPE handling\n  perf bench: Fix two memory leaks detected with ASan\n  perf test sample-parsing: Fix branch_stack entry endianness check\n  tools headers UAPI: Sync x86's asm/kvm.h with the kernel sources\n  perf sort: Fix the 'p_stage_cyc' sort key behavior\n  perf sort: Fix the 'ins_lat' sort key behavior\n  perf sort: Fix the 'weight' sort key behavior\n  perf tools: Set COMPAT_NEED_REALLOCARRAY for CONFIG_AUXTRACE=1\n  perf tests wp: Remove unused functions on s390\n  tools headers UAPI: Sync linux/kvm.h with the kernel sources\n  tools headers cpufeatures: Sync with the kernel sources",
  "full_message": "Merge tag 'perf-tools-fixes-for-v5.16-2021-11-19' of git://git.kernel.org/pub/scm/linux/kernel/git/acme/linux\n\nPull perf tools fixes from Arnaldo Carvalho de Melo:\n\n - Fix the 'local_weight', 'weight' (memory access latency),\n   'local_ins_lat', 'ins_lat' (instruction latency) and 'pstage_cyc'\n   (pipeline stage cycles) sort key sample aggregation.\n\n - Fix 'perf test' entry for watchpoints on s/390.\n\n - Fix branch_stack entry endianness check in the 'perf test' sample\n   parsing test.\n\n - Fix ARM SPE handling on 'perf inject'.\n\n - Fix memory leaks detected with ASan.\n\n - Fix build on arm64 related to reallocarray() availability.\n\n - Sync copies of kernel headers: cpufeatures, kvm, MIPS syscalltable\n   (futex_waitv).\n\n* tag 'perf-tools-fixes-for-v5.16-2021-11-19' of git://git.kernel.org/pub/scm/linux/kernel/git/acme/linux:\n  perf evsel: Fix memory leaks relating to unit\n  perf report: Fix memory leaks around perf_tip()\n  perf hist: Fix memory leak of a perf_hpp_fmt\n  tools headers UAPI: Sync MIPS syscall table file changed by new futex_waitv syscall\n  tools build: Fix removal of feature-sync-compare-and-swap feature detection\n  perf inject: Fix ARM SPE handling\n  perf bench: Fix two memory leaks detected with ASan\n  perf test sample-parsing: Fix branch_stack entry endianness check\n  tools headers UAPI: Sync x86's asm/kvm.h with the kernel sources\n  perf sort: Fix the 'p_stage_cyc' sort key behavior\n  perf sort: Fix the 'ins_lat' sort key behavior\n  perf sort: Fix the 'weight' sort key behavior\n  perf tools: Set COMPAT_NEED_REALLOCARRAY for CONFIG_AUXTRACE=1\n  perf tests wp: Remove unused functions on s390\n  tools headers UAPI: Sync linux/kvm.h with the kernel sources\n  tools headers cpufeatures: Sync with the kernel sources",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Fri Nov 19 12:47:29 2021 -0800",
  "author_date_iso": "2021-11-19T12:47:29-08:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Fri Nov 19 12:47:29 2021 -0800",
  "committer_date_iso": "2021-11-19T12:47:29-08:00",
  "files_changed": [],
  "files_changed_count": 0,
  "stats": [
    {
      "file": "tools/arch/x86/include/asm/cpufeatures.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "tools/arch/x86/include/uapi/asm/kvm.h",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "tools/build/feature/test-all.c",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "tools/include/uapi/linux/kvm.h",
      "insertions": 27,
      "deletions": 3
    },
    {
      "file": "tools/perf/Makefile.config",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "tools/perf/arch/mips/entry/syscalls/syscall_n64.tbl",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/perf/bench/sched-messaging.c",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "tools/perf/builtin-report.c",
      "insertions": 9,
      "deletions": 6
    },
    {
      "file": "tools/perf/tests/event_update.c",
      "insertions": 2,
      "deletions": 3
    },
    {
      "file": "tools/perf/tests/sample-parsing.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/tests/wp.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "tools/perf/ui/hist.c",
      "insertions": 14,
      "deletions": 14
    },
    {
      "file": "tools/perf/util/arm-spe.c",
      "insertions": 15,
      "deletions": 0
    },
    {
      "file": "tools/perf/util/evsel.c",
      "insertions": 9,
      "deletions": 9
    },
    {
      "file": "tools/perf/util/header.c",
      "insertions": 5,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/hist.c",
      "insertions": 6,
      "deletions": 17
    },
    {
      "file": "tools/perf/util/hist.h",
      "insertions": 0,
      "deletions": 1
    },
    {
      "file": "tools/perf/util/parse-events.c",
      "insertions": 6,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/sort.c",
      "insertions": 16,
      "deletions": 36
    },
    {
      "file": "tools/perf/util/sort.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "tools/perf/util/util.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "tools/perf/util/util.h",
      "insertions": 1,
      "deletions": 1
    }
  ],
  "total_insertions": 136,
  "total_deletions": 109,
  "total_changes": 245,
  "parents": [
    "9539ba4308ad5bdca6cb41c7b73cbb9f796dcdd7",
    "b194c9cd09dd98af76beaa32a041af674260d730"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "inject"
    ]
  },
  "fix_type": "security",
  "file_results": []
}