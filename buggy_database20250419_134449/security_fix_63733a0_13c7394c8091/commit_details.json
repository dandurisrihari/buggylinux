{
  "hash": "63733a0fc55cca74b1911769633dc5dfd1a45907",
  "hash_short": "63733a0f",
  "subject": "ceph: fix authenticator timeout",
  "body": "We were failing to reconnect to services due to an old authenticator, even\nthough we had the new ticket, because we weren't properly retrying the\nconnect handshake, because we were calling an old/incorrect helper that\nleft in_base_pos incorrect.  The result was a failure to reconnect to the\nOSD or MDS (with an authentication error) if the MDS restarted after the\nservice had been up a few hours (long enough for the original authenticator\nto be invalid).  This was only a problem if the AUTH_X authentication was\nenabled.\n\nNow that the 'negotiate' and 'connect' stages are fully separated, we\nshould use the prepare_read_connect() helper instead, and remove the\nobsolete one.\n\nSigned-off-by: Sage Weil <sage@newdream.net>",
  "full_message": "ceph: fix authenticator timeout\n\nWe were failing to reconnect to services due to an old authenticator, even\nthough we had the new ticket, because we weren't properly retrying the\nconnect handshake, because we were calling an old/incorrect helper that\nleft in_base_pos incorrect.  The result was a failure to reconnect to the\nOSD or MDS (with an authentication error) if the MDS restarted after the\nservice had been up a few hours (long enough for the original authenticator\nto be invalid).  This was only a problem if the AUTH_X authentication was\nenabled.\n\nNow that the 'negotiate' and 'connect' stages are fully separated, we\nshould use the prepare_read_connect() helper instead, and remove the\nobsolete one.\n\nSigned-off-by: Sage Weil <sage@newdream.net>",
  "author_name": "Sage Weil",
  "author_email": "sage@newdream.net",
  "author_date": "Mon Mar 15 15:47:22 2010 -0700",
  "author_date_iso": "2010-03-15T15:47:22-07:00",
  "committer_name": "Sage Weil",
  "committer_email": "sage@newdream.net",
  "committer_date": "Sat Mar 20 21:33:09 2010 -0700",
  "committer_date_iso": "2010-03-20T21:33:09-07:00",
  "files_changed": [
    "fs/ceph/messenger.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "fs/ceph/messenger.c",
      "insertions": 1,
      "deletions": 8
    }
  ],
  "total_insertions": 1,
  "total_deletions": 8,
  "total_changes": 9,
  "parents": [
    "8b218b8a4a65bf4e304ae8690cadb9100ef029c0"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.34",
    "v2.6.34-rc3",
    "v2.6.34-rc4",
    "v2.6.34-rc5",
    "v2.6.34-rc6",
    "v2.6.34-rc7",
    "v2.6.35",
    "v2.6.35-rc1",
    "v2.6.35-rc2",
    "v2.6.35-rc3"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/ceph/messenger.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}