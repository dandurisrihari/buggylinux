{
  "hash": "e77fafe9afb53b7f4d8176c5cd5c10c43a905bc8",
  "hash_short": "e77fafe9",
  "subject": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux",
  "body": "Pull arm64 updates from Will Deacon:\n \"Although there isn't tonnes of code in terms of line count, there are\n  a fair few headline features which I've noted both in the tag and also\n  in the merge commits when I pulled everything together.\n\n  The part I'm most pleased with is that we had 35 contributors this\n  time around, which feels like a big jump from the usual small group of\n  core arm64 arch developers. Hopefully they all enjoyed it so much that\n  they'll continue to contribute, but we'll see.\n\n  It's probably worth highlighting that we've pulled in a branch from\n  the risc-v folks which moves our CPU topology code out to where it can\n  be shared with others.\n\n  Summary:\n\n   - 52-bit virtual addressing in the kernel\n\n   - New ABI to allow tagged user pointers to be dereferenced by\n     syscalls\n\n   - Early RNG seeding by the bootloader\n\n   - Improve robustness of SMP boot\n\n   - Fix TLB invalidation in light of recent architectural\n     clarifications\n\n   - Support for i.MX8 DDR PMU\n\n   - Remove direct LSE instruction patching in favour of static keys\n\n   - Function error injection using kprobes\n\n   - Support for the PPTT \"thread\" flag introduced by ACPI 6.3\n\n   - Move PSCI idle code into proper cpuidle driver\n\n   - Relaxation of implicit I/O memory barriers\n\n   - Build with RELR relocations when toolchain supports them\n\n   - Numerous cleanups and non-critical fixes\"\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (114 commits)\n  arm64: remove __iounmap\n  arm64: atomics: Use K constraint when toolchain appears to support it\n  arm64: atomics: Undefine internal macros after use\n  arm64: lse: Make ARM64_LSE_ATOMICS depend on JUMP_LABEL\n  arm64: asm: Kill 'asm/atomic_arch.h'\n  arm64: lse: Remove unused 'alt_lse' assembly macro\n  arm64: atomics: Remove atomic_ll_sc compilation unit\n  arm64: avoid using hard-coded registers for LSE atomics\n  arm64: atomics: avoid out-of-line ll/sc atomics\n  arm64: Use correct ll/sc atomic constraints\n  jump_label: Don't warn on __exit jump entries\n  docs/perf: Add documentation for the i.MX8 DDR PMU\n  perf/imx_ddr: Add support for AXI ID filtering\n  arm64: kpti: ensure patched kernel text is fetched from PoU\n  arm64: fix fixmap copy for 16K pages and 48-bit VA\n  perf/smmuv3: Validate groups for global filtering\n  perf/smmuv3: Validate group size\n  arm64: Relax Documentation/arm64/tagged-pointers.rst\n  arm64: kvm: Replace hardcoded '1' with SYS_PAR_EL1_F\n  arm64: mm: Ignore spurious translation faults taken from the kernel\n  ...",
  "full_message": "Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux\n\nPull arm64 updates from Will Deacon:\n \"Although there isn't tonnes of code in terms of line count, there are\n  a fair few headline features which I've noted both in the tag and also\n  in the merge commits when I pulled everything together.\n\n  The part I'm most pleased with is that we had 35 contributors this\n  time around, which feels like a big jump from the usual small group of\n  core arm64 arch developers. Hopefully they all enjoyed it so much that\n  they'll continue to contribute, but we'll see.\n\n  It's probably worth highlighting that we've pulled in a branch from\n  the risc-v folks which moves our CPU topology code out to where it can\n  be shared with others.\n\n  Summary:\n\n   - 52-bit virtual addressing in the kernel\n\n   - New ABI to allow tagged user pointers to be dereferenced by\n     syscalls\n\n   - Early RNG seeding by the bootloader\n\n   - Improve robustness of SMP boot\n\n   - Fix TLB invalidation in light of recent architectural\n     clarifications\n\n   - Support for i.MX8 DDR PMU\n\n   - Remove direct LSE instruction patching in favour of static keys\n\n   - Function error injection using kprobes\n\n   - Support for the PPTT \"thread\" flag introduced by ACPI 6.3\n\n   - Move PSCI idle code into proper cpuidle driver\n\n   - Relaxation of implicit I/O memory barriers\n\n   - Build with RELR relocations when toolchain supports them\n\n   - Numerous cleanups and non-critical fixes\"\n\n* tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (114 commits)\n  arm64: remove __iounmap\n  arm64: atomics: Use K constraint when toolchain appears to support it\n  arm64: atomics: Undefine internal macros after use\n  arm64: lse: Make ARM64_LSE_ATOMICS depend on JUMP_LABEL\n  arm64: asm: Kill 'asm/atomic_arch.h'\n  arm64: lse: Remove unused 'alt_lse' assembly macro\n  arm64: atomics: Remove atomic_ll_sc compilation unit\n  arm64: avoid using hard-coded registers for LSE atomics\n  arm64: atomics: avoid out-of-line ll/sc atomics\n  arm64: Use correct ll/sc atomic constraints\n  jump_label: Don't warn on __exit jump entries\n  docs/perf: Add documentation for the i.MX8 DDR PMU\n  perf/imx_ddr: Add support for AXI ID filtering\n  arm64: kpti: ensure patched kernel text is fetched from PoU\n  arm64: fix fixmap copy for 16K pages and 48-bit VA\n  perf/smmuv3: Validate groups for global filtering\n  perf/smmuv3: Validate group size\n  arm64: Relax Documentation/arm64/tagged-pointers.rst\n  arm64: kvm: Replace hardcoded '1' with SYS_PAR_EL1_F\n  arm64: mm: Ignore spurious translation faults taken from the kernel\n  ...",
  "author_name": "Linus Torvalds",
  "author_email": "torvalds@linux-foundation.org",
  "author_date": "Mon Sep 16 14:31:40 2019 -0700",
  "author_date_iso": "2019-09-16T14:31:40-07:00",
  "committer_name": "Linus Torvalds",
  "committer_email": "torvalds@linux-foundation.org",
  "committer_date": "Mon Sep 16 14:31:40 2019 -0700",
  "committer_date_iso": "2019-09-16T14:31:40-07:00",
  "files_changed": [
    "MAINTAINERS",
    "Makefile",
    "arch/arm64/include/asm/pgtable.h",
    "arch/arm64/kernel/cpufeature.c",
    "arch/arm64/kernel/traps.c",
    "include/linux/acpi.h"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "Documentation/admin-guide/perf/imx-ddr.rst",
      "insertions": 52,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/index.rst",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/kasan-offsets.sh",
      "insertions": 27,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/memory.rst",
      "insertions": 95,
      "deletions": 28
    },
    {
      "file": "Documentation/arm64/tagged-address-abi.rst",
      "insertions": 156,
      "deletions": 0
    },
    {
      "file": "Documentation/arm64/tagged-pointers.rst",
      "insertions": 14,
      "deletions": 7
    },
    {
      "file": "Documentation/devicetree/bindings/{arm/topology.txt => cpu/cpu-topology.txt}",
      "insertions": 167,
      "deletions": 89
    },
    {
      "file": "MAINTAINERS",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "Makefile",
      "insertions": 4,
      "deletions": 0
    },
    {
      "file": "arch/Kconfig",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/arm/include/asm/topology.h",
      "insertions": 0,
      "deletions": 20
    },
    {
      "file": "arch/arm/kernel/topology.c",
      "insertions": 6,
      "deletions": 54
    },
    {
      "file": "arch/arm64/Kbuild",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "arch/arm64/Kconfig",
      "insertions": 36,
      "deletions": 7
    },
    {
      "file": "arch/arm64/Makefile",
      "insertions": 9,
      "deletions": 14
    },
    {
      "file": "arch/arm64/include/asm/assembler.h",
      "insertions": 14,
      "deletions": 14
    },
    {
      "file": "arch/arm64/include/asm/atomic.h",
      "insertions": 84,
      "deletions": 15
    },
    {
      "file": "arch/arm64/include/asm/atomic_ll_sc.h",
      "insertions": 121,
      "deletions": 96
    },
    {
      "file": "arch/arm64/include/asm/atomic_lse.h",
      "insertions": 135,
      "deletions": 260
    },
    {
      "file": "arch/arm64/include/asm/cache.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/cmpxchg.h",
      "insertions": 44,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/compat.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/cpu_ops.h",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/cpufeature.h",
      "insertions": 10,
      "deletions": 18
    },
    {
      "file": "arch/arm64/include/asm/cputype.h",
      "insertions": 11,
      "deletions": 10
    },
    {
      "file": "arch/arm64/include/asm/debug-monitors.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/dma-mapping.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/efi.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/esr.h",
      "insertions": 2,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/exception.h",
      "insertions": 2,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/fpsimd.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/futex.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/hw_breakpoint.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/io.h",
      "insertions": 3,
      "deletions": 7
    },
    {
      "file": "arch/arm64/include/asm/irqflags.h",
      "insertions": 1,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/asm/kasan.h",
      "insertions": 4,
      "deletions": 7
    },
    {
      "file": "arch/arm64/include/asm/lse.h",
      "insertions": 20,
      "deletions": 29
    },
    {
      "file": "arch/arm64/include/asm/memory.h",
      "insertions": 76,
      "deletions": 65
    },
    {
      "file": "arch/arm64/include/asm/mmu.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/mmu_context.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/pci.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/pgtable-hwdef.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/pgtable.h",
      "insertions": 15,
      "deletions": 8
    },
    {
      "file": "arch/arm64/include/asm/pointer_auth.h",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/include/asm/proc-fns.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/processor.h",
      "insertions": 10,
      "deletions": 5
    },
    {
      "file": "arch/arm64/include/asm/ptrace.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/signal32.h",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/include/asm/sysreg.h",
      "insertions": 3,
      "deletions": 29
    },
    {
      "file": "arch/arm64/include/asm/thread_info.h",
      "insertions": 8,
      "deletions": 21
    },
    {
      "file": "arch/arm64/include/asm/tlbflush.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/arm64/include/asm/topology.h",
      "insertions": 0,
      "deletions": 23
    },
    {
      "file": "arch/arm64/include/asm/uaccess.h",
      "insertions": 9,
      "deletions": 3
    },
    {
      "file": "arch/arm64/include/asm/vdso.h",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/asm/vdso_datapage.h",
      "insertions": 0,
      "deletions": 4
    },
    {
      "file": "arch/arm64/include/uapi/asm/stat.h",
      "insertions": 0,
      "deletions": 17
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/cpuidle.c",
      "insertions": 46,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kernel/cpuinfo.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/entry.S",
      "insertions": 19,
      "deletions": 17
    },
    {
      "file": "arch/arm64/kernel/head.S",
      "insertions": 104,
      "deletions": 12
    },
    {
      "file": "arch/arm64/kernel/hibernate-asm.S",
      "insertions": 4,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kernel/hibernate.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/image-vars.h",
      "insertions": 51,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/image.h",
      "insertions": 0,
      "deletions": 42
    },
    {
      "file": "arch/arm64/kernel/insn.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/kaslr.c",
      "insertions": 4,
      "deletions": 7
    },
    {
      "file": "arch/arm64/kernel/kexec_image.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/machine_kexec_file.c",
      "insertions": 19,
      "deletions": 3
    },
    {
      "file": "arch/arm64/kernel/module-plts.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/perf_event.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/process.c",
      "insertions": 76,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kernel/psci.c",
      "insertions": 6,
      "deletions": 4
    },
    {
      "file": "arch/arm64/kernel/ptrace.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/setup.c",
      "insertions": 18,
      "deletions": 2
    },
    {
      "file": "arch/arm64/kernel/smp.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/smp_spin_table.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kernel/topology.c",
      "insertions": 14,
      "deletions": 298
    },
    {
      "file": "arch/arm64/kernel/traps.c",
      "insertions": 15,
      "deletions": 5
    },
    {
      "file": "arch/arm64/kernel/vmlinux.lds.S",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "arch/arm64/kvm/hyp/switch.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/kvm/va_layout.c",
      "insertions": 7,
      "deletions": 7
    },
    {
      "file": "arch/arm64/lib/Makefile",
      "insertions": 2,
      "deletions": 19
    },
    {
      "file": "arch/arm64/lib/atomic_ll_sc.c",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "arch/arm64/lib/error-inject.c",
      "insertions": 18,
      "deletions": 0
    },
    {
      "file": "arch/arm64/mm/dump.c",
      "insertions": 19,
      "deletions": 5
    },
    {
      "file": "arch/arm64/mm/fault.c",
      "insertions": 38,
      "deletions": 6
    },
    {
      "file": "arch/arm64/mm/init.c",
      "insertions": 26,
      "deletions": 9
    },
    {
      "file": "arch/arm64/mm/ioremap.c",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "arch/arm64/mm/kasan_init.c",
      "insertions": 5,
      "deletions": 4
    },
    {
      "file": "arch/arm64/mm/mmu.c",
      "insertions": 11,
      "deletions": 21
    },
    {
      "file": "arch/arm64/mm/numa.c",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "arch/arm64/mm/pageattr.c",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/arm64/mm/proc.S",
      "insertions": 15,
      "deletions": 5
    },
    {
      "file": "arch/powerpc/Makefile",
      "insertions": 0,
      "deletions": 2
    },
    {
      "file": "arch/powerpc/include/asm/error-injection.h",
      "insertions": 0,
      "deletions": 13
    },
    {
      "file": "arch/riscv/Kconfig",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "arch/riscv/kernel/smpboot.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/error-injection.h",
      "insertions": 0,
      "deletions": 13
    },
    {
      "file": "drivers/acpi/arm64/iort.c",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "drivers/acpi/pptt.c",
      "insertions": 52,
      "deletions": 1
    },
    {
      "file": "drivers/base/Kconfig",
      "insertions": 1,
      "deletions": 1
    },
    {
      "file": "drivers/base/arch_topology.c",
      "insertions": 298,
      "deletions": 0
    },
    {
      "file": "drivers/char/Kconfig",
      "insertions": 9,
      "deletions": 0
    },
    {
      "file": "drivers/char/random.c",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/cpuidle/Kconfig.arm",
      "insertions": 10,
      "deletions": 0
    },
    {
      "file": "drivers/cpuidle/Makefile",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/cpuidle/cpuidle-arm.c",
      "insertions": 9,
      "deletions": 4
    },
    {
      "file": "drivers/cpuidle/cpuidle-psci.c",
      "insertions": 236,
      "deletions": 0
    },
    {
      "file": "drivers/firmware/psci/psci.c",
      "insertions": 8,
      "deletions": 159
    },
    {
      "file": "drivers/firmware/psci/psci_checker.c",
      "insertions": 7,
      "deletions": 9
    },
    {
      "file": "drivers/of/fdt.c",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "drivers/perf/arm_smmuv3_pmu.c",
      "insertions": 46,
      "deletions": 19
    },
    {
      "file": "drivers/perf/fsl_imx8_ddr_perf.c",
      "insertions": 73,
      "deletions": 2
    },
    {
      "file": "drivers/perf/hisilicon/hisi_uncore_ddrc_pmu.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/perf/hisilicon/hisi_uncore_hha_pmu.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/perf/hisilicon/hisi_uncore_l3c_pmu.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "drivers/perf/qcom_l2_pmu.c",
      "insertions": 1,
      "deletions": 5
    },
    {
      "file": "drivers/perf/xgene_pmu.c",
      "insertions": 1,
      "deletions": 3
    },
    {
      "file": "include/asm-generic/error-injection.h",
      "insertions": 6,
      "deletions": 0
    },
    {
      "file": "include/linux/acpi.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "include/linux/arch_topology.h",
      "insertions": 26,
      "deletions": 0
    },
    {
      "file": "include/linux/cpuidle.h",
      "insertions": 13,
      "deletions": 4
    },
    {
      "file": "include/linux/error-injection.h",
      "insertions": 3,
      "deletions": 3
    },
    {
      "file": "include/linux/psci.h",
      "insertions": 2,
      "deletions": 2
    },
    {
      "file": "include/linux/random.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/linux/topology.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "include/uapi/linux/prctl.h",
      "insertions": 5,
      "deletions": 0
    },
    {
      "file": "init/Kconfig",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "kernel/jump_label.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "kernel/sys.c",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "scripts/Makefile.kasan",
      "insertions": 5,
      "deletions": 6
    },
    {
      "file": "scripts/tools-support-relr.sh",
      "insertions": 16,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/.gitignore",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/Makefile",
      "insertions": 11,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/run_tags_test.sh",
      "insertions": 12,
      "deletions": 0
    },
    {
      "file": "tools/testing/selftests/arm64/tags_test.c",
      "insertions": 31,
      "deletions": 0
    }
  ],
  "total_insertions": 2687,
  "total_deletions": 1641,
  "total_changes": 4328,
  "parents": [
    "52a5525214d0d612160154d902956eca0558b7c0",
    "e376897f424a1c807779a2635f62eb02d7e382f9"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v5.4",
    "v5.4-rc1",
    "v5.4-rc2",
    "v5.4-rc3",
    "v5.4-rc4",
    "v5.4-rc5",
    "v5.4-rc6",
    "v5.4-rc7",
    "v5.4-rc8",
    "v5.5"
  ],
  "is_merge": true,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "include/linux/acpi.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/include/asm/pgtable.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "Makefile",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/cpufeature.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/arm64/kernel/traps.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "MAINTAINERS",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}