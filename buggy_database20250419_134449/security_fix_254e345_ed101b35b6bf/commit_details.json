{
  "hash": "254e3459285cbf2174350bbc0051e475e1bc5196",
  "hash_short": "254e3459",
  "subject": "xfs: add debug knob to slow down write for fun",
  "body": "Add a new error injection knob so that we can arbitrarily slow down\npagecache writes to test for race conditions and aberrant reclaim\nbehavior if the writeback mechanisms are slow to issue writeback.  This\nwill enable functional testing for the ifork sequence counters\nintroduced in commit 304a68b9c63b (\"xfs: use iomap_valid method to\ndetect stale cached iomaps\") that fixes write racing with reclaim\nwriteback.\n\nSigned-off-by: Darrick J. Wong <djwong@kernel.org>\nReviewed-by: Dave Chinner <dchinner@redhat.com>",
  "full_message": "xfs: add debug knob to slow down write for fun\n\nAdd a new error injection knob so that we can arbitrarily slow down\npagecache writes to test for race conditions and aberrant reclaim\nbehavior if the writeback mechanisms are slow to issue writeback.  This\nwill enable functional testing for the ifork sequence counters\nintroduced in commit 304a68b9c63b (\"xfs: use iomap_valid method to\ndetect stale cached iomaps\") that fixes write racing with reclaim\nwriteback.\n\nSigned-off-by: Darrick J. Wong <djwong@kernel.org>\nReviewed-by: Dave Chinner <dchinner@redhat.com>",
  "author_name": "Darrick J. Wong",
  "author_email": "djwong@kernel.org",
  "author_date": "Mon Nov 28 17:24:36 2022 -0800",
  "author_date_iso": "2022-11-28T17:24:36-08:00",
  "committer_name": "Darrick J. Wong",
  "committer_email": "djwong@kernel.org",
  "committer_date": "Mon Nov 28 17:54:49 2022 -0800",
  "committer_date_iso": "2022-11-28T17:54:49-08:00",
  "files_changed": [
    "fs/xfs/libxfs/xfs_errortag.h",
    "fs/xfs/xfs_error.c",
    "fs/xfs/xfs_iomap.c",
    "fs/xfs/xfs_trace.h"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "fs/xfs/libxfs/xfs_errortag.h",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "fs/xfs/xfs_error.c",
      "insertions": 3,
      "deletions": 0
    },
    {
      "file": "fs/xfs/xfs_iomap.c",
      "insertions": 12,
      "deletions": 2
    },
    {
      "file": "fs/xfs/xfs_trace.h",
      "insertions": 42,
      "deletions": 0
    }
  ],
  "total_insertions": 60,
  "total_deletions": 3,
  "total_changes": 63,
  "parents": [
    "c2beff99eb03866df6fdbd3a93b08fd27eb8bf5c"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "fs/xfs/libxfs/xfs_errortag.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_error.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_iomap.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "fs/xfs/xfs_trace.h",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}