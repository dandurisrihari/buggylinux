{
  "hash": "f179a2fc2e23ff623344717eec3b8a443a57222a",
  "hash_short": "f179a2fc",
  "subject": "drm/i915: Stop encryption for repeater with no sink",
  "body": "If a HDCP repeater is detected with zero downstream devices,\nHDCP spec approves either of below actions:\n\n1. Dont continue on second stage authentication. Disable encryption.\n2. Continue with second stage authentication excluding the KSV list and\n   on success, continue encryption.\n\nSince disable encryption is agreed, repeater is not expected to have its\nown display. So there is no consumption of the display content in such\nsetup.\n\nHence, incase of repeater with zero device count, this patch fails the\nHDCP authentication and stops the HDCP encryption.\n\nv2:\n  Rephrased commit msg and added comments in code [Seanpaul]\n\nv3:\n  No changes. Added Reviewed-by tag.\n\nSigned-off-by: Ramalingam C <ramalingam.c@intel.com>\nReviewed-by: Sean Paul <seanpaul@chromium.org>\nSigned-off-by: Sean Paul <seanpaul@chromium.org>\nLink: https://patchwork.freedesktop.org/patch/msgid/1517609350-10698-3-git-send-email-ramalingam.c@intel.com",
  "full_message": "drm/i915: Stop encryption for repeater with no sink\n\nIf a HDCP repeater is detected with zero downstream devices,\nHDCP spec approves either of below actions:\n\n1. Dont continue on second stage authentication. Disable encryption.\n2. Continue with second stage authentication excluding the KSV list and\n   on success, continue encryption.\n\nSince disable encryption is agreed, repeater is not expected to have its\nown display. So there is no consumption of the display content in such\nsetup.\n\nHence, incase of repeater with zero device count, this patch fails the\nHDCP authentication and stops the HDCP encryption.\n\nv2:\n  Rephrased commit msg and added comments in code [Seanpaul]\n\nv3:\n  No changes. Added Reviewed-by tag.\n\nSigned-off-by: Ramalingam C <ramalingam.c@intel.com>\nReviewed-by: Sean Paul <seanpaul@chromium.org>\nSigned-off-by: Sean Paul <seanpaul@chromium.org>\nLink: https://patchwork.freedesktop.org/patch/msgid/1517609350-10698-3-git-send-email-ramalingam.c@intel.com",
  "author_name": "Ramalingam C",
  "author_email": "ramalingam.c@intel.com",
  "author_date": "Sat Feb 3 03:39:04 2018 +0530",
  "author_date_iso": "2018-02-03T03:39:04+05:30",
  "committer_name": "Sean Paul",
  "committer_email": "seanpaul@chromium.org",
  "committer_date": "Mon Feb 5 12:58:53 2018 -0500",
  "committer_date_iso": "2018-02-05T12:58:53-05:00",
  "files_changed": [
    "drivers/gpu/drm/i915/intel_hdcp.c"
  ],
  "files_changed_count": 1,
  "stats": [
    {
      "file": "drivers/gpu/drm/i915/intel_hdcp.c",
      "insertions": 8,
      "deletions": 2
    }
  ],
  "total_insertions": 8,
  "total_deletions": 2,
  "total_changes": 10,
  "parents": [
    "a01244967d4311afb1a8e068184c2a30202025f5"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v4.17",
    "v4.17-rc1",
    "v4.17-rc2",
    "v4.17-rc3",
    "v4.17-rc4",
    "v4.17-rc5",
    "v4.17-rc6",
    "v4.17-rc7",
    "v4.18",
    "v4.18-rc1"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "authentication"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/gpu/drm/i915/intel_hdcp.c",
      "pre_version": true,
      "post_version": true,
      "patch": true
    }
  ]
}