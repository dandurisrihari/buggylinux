Commit Hash: b6ef70f33ca2a3084b4fea12414550724a9114dc
Subject: [SCSI] aacraid: OS panic after Adapter panic (hardening).


Security Keywords:
- hardening

Full commit message:
[SCSI] aacraid: OS panic after Adapter panic (hardening).

In experiments in the lab we managed to trigger an Adapter firmware
panic (BlinkLED) coincidentally while several pass-through ioctl
command from the management software were outstanding on a bug only
present on a class of RAID Adapters that require a hardware reset
rather than a commanded reset. The net result was an attempt to time
out the management software command as if it came from the SCSI layer
resulting in an OS panic.

Adapters that use commanded reset, management commands are returned
failed by the Adapter correctly. The adapter firmware panic that
resulted in this condition was also resolved, and there were no
adapters in the field with this specific firmware bug so we do not
expect any field reports. This is a rare or unlikely corner condition,
and no reports have ever been forwarded from the field.

Signed-off-by: Mark Salyzyn <aacraid@adaptec.com>
Signed-off-by: James Bottomley <James.Bottomley@HansenPartnership.com>

Metadata:
Author: Salyzyn, Mark <Mark_Salyzyn@adaptec.com>
Author Date: Tue Jan 8 13:26:43 2008 -0800
Committer: James Bottomley <James.Bottomley@HansenPartnership.com>
Commit Date: Wed Jan 23 11:29:21 2008 -0600

Files Changed: 4
Lines Added: 25
Lines Removed: 3
Total Changes: 28
