{
  "hash": "b6ef70f33ca2a3084b4fea12414550724a9114dc",
  "hash_short": "b6ef70f3",
  "subject": "[SCSI] aacraid: OS panic after Adapter panic (hardening).",
  "body": "In experiments in the lab we managed to trigger an Adapter firmware\npanic (BlinkLED) coincidentally while several pass-through ioctl\ncommand from the management software were outstanding on a bug only\npresent on a class of RAID Adapters that require a hardware reset\nrather than a commanded reset. The net result was an attempt to time\nout the management software command as if it came from the SCSI layer\nresulting in an OS panic.\n\nAdapters that use commanded reset, management commands are returned\nfailed by the Adapter correctly. The adapter firmware panic that\nresulted in this condition was also resolved, and there were no\nadapters in the field with this specific firmware bug so we do not\nexpect any field reports. This is a rare or unlikely corner condition,\nand no reports have ever been forwarded from the field.\n\nSigned-off-by: Mark Salyzyn <aacraid@adaptec.com>\nSigned-off-by: James Bottomley <James.Bottomley@HansenPartnership.com>",
  "full_message": "[SCSI] aacraid: OS panic after Adapter panic (hardening).\n\nIn experiments in the lab we managed to trigger an Adapter firmware\npanic (BlinkLED) coincidentally while several pass-through ioctl\ncommand from the management software were outstanding on a bug only\npresent on a class of RAID Adapters that require a hardware reset\nrather than a commanded reset. The net result was an attempt to time\nout the management software command as if it came from the SCSI layer\nresulting in an OS panic.\n\nAdapters that use commanded reset, management commands are returned\nfailed by the Adapter correctly. The adapter firmware panic that\nresulted in this condition was also resolved, and there were no\nadapters in the field with this specific firmware bug so we do not\nexpect any field reports. This is a rare or unlikely corner condition,\nand no reports have ever been forwarded from the field.\n\nSigned-off-by: Mark Salyzyn <aacraid@adaptec.com>\nSigned-off-by: James Bottomley <James.Bottomley@HansenPartnership.com>",
  "author_name": "Salyzyn, Mark",
  "author_email": "Mark_Salyzyn@adaptec.com",
  "author_date": "Tue Jan 8 13:26:43 2008 -0800",
  "author_date_iso": "2008-01-08T13:26:43-08:00",
  "committer_name": "James Bottomley",
  "committer_email": "James.Bottomley@HansenPartnership.com",
  "committer_date": "Wed Jan 23 11:29:21 2008 -0600",
  "committer_date_iso": "2008-01-23T11:29:21-06:00",
  "files_changed": [
    "drivers/scsi/aacraid/aacraid.h",
    "drivers/scsi/aacraid/commsup.c",
    "drivers/scsi/aacraid/dpcsup.c",
    "drivers/scsi/aacraid/linit.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "drivers/scsi/aacraid/aacraid.h",
      "insertions": 1,
      "deletions": 0
    },
    {
      "file": "drivers/scsi/aacraid/commsup.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/aacraid/dpcsup.c",
      "insertions": 3,
      "deletions": 1
    },
    {
      "file": "drivers/scsi/aacraid/linit.c",
      "insertions": 18,
      "deletions": 1
    }
  ],
  "total_insertions": 25,
  "total_deletions": 3,
  "total_changes": 28,
  "parents": [
    "6dcd4a7fe5dfaace2763187d6941e700a8bc6f27"
  ],
  "branches": [
    "* development",
    "master",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [
    "v2.6.25",
    "v2.6.25-rc1",
    "v2.6.25-rc2",
    "v2.6.25-rc3",
    "v2.6.25-rc4",
    "v2.6.25-rc5",
    "v2.6.25-rc6",
    "v2.6.25-rc7",
    "v2.6.25-rc8",
    "v2.6.25-rc9"
  ],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "hardening"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/scsi/aacraid/aacraid.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/aacraid/commsup.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/aacraid/dpcsup.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/scsi/aacraid/linit.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}