Commit Hash: 7ea434a4eb49db83d17cc076f2267704c52938ae
Subject: mm/hwpoison-inject: fix refcounting in no-injection case


Security Keywords:
- inject

Full commit message:
mm/hwpoison-inject: fix refcounting in no-injection case

Hwpoison injection via debugfs:hwpoison/corrupt-pfn takes a refcount of
the target page.  But current code doesn't release it if the target page
is not supposed to be injected, which results in memory leak.  This patch
simply adds the refcount releasing code.

Signed-off-by: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
Acked-by: Dean Nelson <dnelson@redhat.com>
Cc: Andi Kleen <andi@firstfloor.org>
Cc: Andrea Arcangeli <aarcange@redhat.com>
Cc: Hidetoshi Seto <seto.hidetoshi@jp.fujitsu.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Metadata:
Author: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
Author Date: Tue May 5 16:23:49 2015 -0700
Committer: Linus Torvalds <torvalds@linux-foundation.org>
Commit Date: Tue May 5 17:10:10 2015 -0700

Files Changed: 1
Lines Added: 5
Lines Removed: 2
Total Changes: 7
