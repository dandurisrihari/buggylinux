diff --cc fs/xfs/xfs_file.c
index 1b3dc9dd8861,35df7576cbab..ed95e5bb04e6
--- a/fs/xfs/xfs_file.c
+++ b/fs/xfs/xfs_file.c
@@@ -1551,9 -1502,9 +1502,9 @@@ xfs_filemap_page_mkwrite
  	xfs_ilock(XFS_I(inode), XFS_MMAPLOCK_SHARED);
  
  	if (IS_DAX(inode)) {
 -		ret = __dax_mkwrite(vma, vmf, xfs_get_blocks_dax_fault);
 +		ret = dax_mkwrite(vma, vmf, xfs_get_blocks_dax_fault);
  	} else {
- 		ret = block_page_mkwrite(vma, vmf, xfs_get_blocks);
+ 		ret = iomap_page_mkwrite(vma, vmf, &xfs_iomap_ops);
  		ret = block_page_mkwrite_return(ret);
  	}