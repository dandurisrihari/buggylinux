{
  "hash": "7df548840c496b0141fb2404b889c346380c2b22",
  "hash_short": "7df54884",
  "subject": "x86/bugs: Add \"unknown\" reporting for MMIO Stale Data",
  "body": "Older Intel CPUs that are not in the affected processor list for MMIO\nStale Data vulnerabilities currently report \"Not affected\" in sysfs,\nwhich may not be correct. Vulnerability status for these older CPUs is\nunknown.\n\nAdd known-not-affected CPUs to the whitelist. Report \"unknown\"\nmitigation status for CPUs that are not in blacklist, whitelist and also\ndon't enumerate MSR ARCH_CAPABILITIES bits that reflect hardware\nimmunity to MMIO Stale Data vulnerabilities.\n\nMitigation is not deployed when the status is unknown.\n\n  [ bp: Massage, fixup. ]\n\nFixes: 8d50cdf8b834 (\"x86/speculation/mmio: Add sysfs reporting for Processor MMIO Stale Data\")\nSuggested-by: Andrew Cooper <andrew.cooper3@citrix.com>\nSuggested-by: Tony Luck <tony.luck@intel.com>\nSigned-off-by: Pawan Gupta <pawan.kumar.gupta@linux.intel.com>\nSigned-off-by: Borislav Petkov <bp@suse.de>\nCc: stable@vger.kernel.org\nLink: https://lore.kernel.org/r/a932c154772f2121794a5f2eded1a11013114711.1657846269.git.pawan.kumar.gupta@linux.intel.com",
  "full_message": "x86/bugs: Add \"unknown\" reporting for MMIO Stale Data\n\nOlder Intel CPUs that are not in the affected processor list for MMIO\nStale Data vulnerabilities currently report \"Not affected\" in sysfs,\nwhich may not be correct. Vulnerability status for these older CPUs is\nunknown.\n\nAdd known-not-affected CPUs to the whitelist. Report \"unknown\"\nmitigation status for CPUs that are not in blacklist, whitelist and also\ndon't enumerate MSR ARCH_CAPABILITIES bits that reflect hardware\nimmunity to MMIO Stale Data vulnerabilities.\n\nMitigation is not deployed when the status is unknown.\n\n  [ bp: Massage, fixup. ]\n\nFixes: 8d50cdf8b834 (\"x86/speculation/mmio: Add sysfs reporting for Processor MMIO Stale Data\")\nSuggested-by: Andrew Cooper <andrew.cooper3@citrix.com>\nSuggested-by: Tony Luck <tony.luck@intel.com>\nSigned-off-by: Pawan Gupta <pawan.kumar.gupta@linux.intel.com>\nSigned-off-by: Borislav Petkov <bp@suse.de>\nCc: stable@vger.kernel.org\nLink: https://lore.kernel.org/r/a932c154772f2121794a5f2eded1a11013114711.1657846269.git.pawan.kumar.gupta@linux.intel.com",
  "author_name": "Pawan Gupta",
  "author_email": "pawan.kumar.gupta@linux.intel.com",
  "author_date": "Wed Aug 3 14:41:32 2022 -0700",
  "author_date_iso": "2022-08-03T14:41:32-07:00",
  "committer_name": "Borislav Petkov",
  "committer_email": "bp@suse.de",
  "committer_date": "Thu Aug 18 15:35:22 2022 +0200",
  "committer_date_iso": "2022-08-18T15:35:22+02:00",
  "files_changed": [
    "Documentation/admin-guide/hw-vuln/processor_mmio_stale_data.rst",
    "arch/x86/include/asm/cpufeatures.h",
    "arch/x86/kernel/cpu/bugs.c",
    "arch/x86/kernel/cpu/common.c"
  ],
  "files_changed_count": 4,
  "stats": [
    {
      "file": "Documentation/admin-guide/hw-vuln/processor_mmio_stale_data.rst",
      "insertions": 14,
      "deletions": 0
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "insertions": 3,
      "deletions": 2
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "insertions": 12,
      "deletions": 2
    },
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "insertions": 27,
      "deletions": 15
    }
  ],
  "total_insertions": 56,
  "total_deletions": 19,
  "total_changes": 75,
  "parents": [
    "5b9f0c4df1c1152403c738373fb063e9ffdac0a1"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "Vulnerability"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "Documentation/admin-guide/hw-vuln/processor_mmio_stale_data.rst",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/include/asm/cpufeatures.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/cpu/bugs.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "arch/x86/kernel/cpu/common.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}