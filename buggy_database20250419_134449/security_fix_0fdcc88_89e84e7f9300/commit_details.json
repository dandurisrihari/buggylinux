{
  "hash": "0fdcc88bb93f8200386d5d3015115b747d3391ae",
  "hash_short": "0fdcc88b",
  "subject": "s390/zcrypt: cleanup some debug code",
  "body": "This patch removes most of the debug code which\nis build in when CONFIG_ZCRYPT_DEBUG is enabled.\nThere is no real exploiter for this code any more and\nat least one ioctl fails with this code enabled.\n\nThe CONFIG_ZCRYPT_DEBUG kernel config option still\nmakes sense as some debug sysfs entries can get\nenabled with this and maybe long term a new better\ndesigned debug and error injection way will get\nintroduced.\n\nThis patch only removes code surrounded by the named\nkernel config option. This option should by default\nalways be off anyway. The structs and defines removed\nby the patch have been used only by code surrounded\nby a CONFIG_ZCRYPT_DEBUG ifdef and thus can be removed\nalso.\n\nIn the end this patch removes all the failure-injection\npossibilities which had been available when the kernel\nhad been build with CONFIG_ZCRYPT_DEBUG. It has never\nbeen used that much and was too unflexible anyway.\n\nSigned-off-by: Harald Freudenberger <freude@linux.ibm.com>\nReviewed-by: Holger Dengler <dengler@linux.ibm.com>\nSigned-off-by: Alexander Gordeev <agordeev@linux.ibm.com>",
  "full_message": "s390/zcrypt: cleanup some debug code\n\nThis patch removes most of the debug code which\nis build in when CONFIG_ZCRYPT_DEBUG is enabled.\nThere is no real exploiter for this code any more and\nat least one ioctl fails with this code enabled.\n\nThe CONFIG_ZCRYPT_DEBUG kernel config option still\nmakes sense as some debug sysfs entries can get\nenabled with this and maybe long term a new better\ndesigned debug and error injection way will get\nintroduced.\n\nThis patch only removes code surrounded by the named\nkernel config option. This option should by default\nalways be off anyway. The structs and defines removed\nby the patch have been used only by code surrounded\nby a CONFIG_ZCRYPT_DEBUG ifdef and thus can be removed\nalso.\n\nIn the end this patch removes all the failure-injection\npossibilities which had been available when the kernel\nhad been build with CONFIG_ZCRYPT_DEBUG. It has never\nbeen used that much and was too unflexible anyway.\n\nSigned-off-by: Harald Freudenberger <freude@linux.ibm.com>\nReviewed-by: Holger Dengler <dengler@linux.ibm.com>\nSigned-off-by: Alexander Gordeev <agordeev@linux.ibm.com>",
  "author_name": "Harald Freudenberger",
  "author_email": "freude@linux.ibm.com",
  "author_date": "Mon Jun 19 16:55:07 2023 +0200",
  "author_date_iso": "2023-06-19T16:55:07+02:00",
  "committer_name": "Alexander Gordeev",
  "committer_email": "agordeev@linux.ibm.com",
  "committer_date": "Mon Jul 3 11:19:41 2023 +0200",
  "committer_date_iso": "2023-07-03T11:19:41+02:00",
  "files_changed": [
    "drivers/s390/crypto/ap_bus.h",
    "drivers/s390/crypto/ap_queue.c",
    "drivers/s390/crypto/zcrypt_api.c",
    "drivers/s390/crypto/zcrypt_api.h",
    "drivers/s390/crypto/zcrypt_msgtype50.c",
    "drivers/s390/crypto/zcrypt_msgtype6.c"
  ],
  "files_changed_count": 6,
  "stats": [
    {
      "file": "drivers/s390/crypto/ap_bus.h",
      "insertions": 0,
      "deletions": 25
    },
    {
      "file": "drivers/s390/crypto/ap_queue.c",
      "insertions": 0,
      "deletions": 7
    },
    {
      "file": "drivers/s390/crypto/zcrypt_api.c",
      "insertions": 0,
      "deletions": 85
    },
    {
      "file": "drivers/s390/crypto/zcrypt_api.h",
      "insertions": 0,
      "deletions": 3
    },
    {
      "file": "drivers/s390/crypto/zcrypt_msgtype50.c",
      "insertions": 0,
      "deletions": 10
    },
    {
      "file": "drivers/s390/crypto/zcrypt_msgtype6.c",
      "insertions": 0,
      "deletions": 10
    }
  ],
  "total_insertions": 0,
  "total_deletions": 140,
  "total_changes": 140,
  "parents": [
    "edbe28989847308406101256e10fdfb567ca9eb1"
  ],
  "branches": [
    "* development",
    "remotes/origin/HEAD -> origin/master",
    "remotes/origin/master"
  ],
  "tags": [],
  "is_merge": false,
  "security_info": {
    "cve_ids": [],
    "security_keywords": [
      "injection"
    ]
  },
  "fix_type": "security",
  "file_results": [
    {
      "file": "drivers/s390/crypto/ap_queue.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/crypto/ap_bus.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/crypto/zcrypt_api.h",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/crypto/zcrypt_api.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/crypto/zcrypt_msgtype50.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    },
    {
      "file": "drivers/s390/crypto/zcrypt_msgtype6.c",
      "pre_version": false,
      "post_version": true,
      "patch": true
    }
  ]
}