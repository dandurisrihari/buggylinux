Commit Hash: 0fdcc88bb93f8200386d5d3015115b747d3391ae
Subject: s390/zcrypt: cleanup some debug code


Security Keywords:
- injection

Full commit message:
s390/zcrypt: cleanup some debug code

This patch removes most of the debug code which
is build in when CONFIG_ZCRYPT_DEBUG is enabled.
There is no real exploiter for this code any more and
at least one ioctl fails with this code enabled.

The CONFIG_ZCRYPT_DEBUG kernel config option still
makes sense as some debug sysfs entries can get
enabled with this and maybe long term a new better
designed debug and error injection way will get
introduced.

This patch only removes code surrounded by the named
kernel config option. This option should by default
always be off anyway. The structs and defines removed
by the patch have been used only by code surrounded
by a CONFIG_ZCRYPT_DEBUG ifdef and thus can be removed
also.

In the end this patch removes all the failure-injection
possibilities which had been available when the kernel
had been build with CONFIG_ZCRYPT_DEBUG. It has never
been used that much and was too unflexible anyway.

Signed-off-by: Harald Freudenberger <freude@linux.ibm.com>
Reviewed-by: Holger Dengler <dengler@linux.ibm.com>
Signed-off-by: Alexander Gordeev <agordeev@linux.ibm.com>

Metadata:
Author: Harald Freudenberger <freude@linux.ibm.com>
Author Date: Mon Jun 19 16:55:07 2023 +0200
Committer: Alexander Gordeev <agordeev@linux.ibm.com>
Commit Date: Mon Jul 3 11:19:41 2023 +0200

Files Changed: 6
Lines Added: 0
Lines Removed: 140
Total Changes: 140
