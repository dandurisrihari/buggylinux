commit 6b8ece3a7031523a05a535761108775b1b67d272
Author: Jouni Malinen <j@w1.fi>
Date:   Sun Sep 30 19:29:40 2012 +0300

    mac80211: Allow station mode SAE to be implemented in user space
    
    SAE uses two rounds of Authentication frames and both rounds require
    considerable calculation to be done. This commit extends the existing
    station mode authentication request to allow more control for user
    space programs to build the SAE fields and to run the authentication
    step ones. Only the second round with authentication transaction
    sequence 2 will result in moving to authenticated state.
    
    Signed-off-by: Jouni Malinen <j@w1.fi>
    Signed-off-by: Johannes Berg <johannes.berg@intel.com>

diff --git a/net/mac80211/main.c b/net/mac80211/main.c
index 2c8969b67851..473b755b349f 100644
--- a/net/mac80211/main.c
+++ b/net/mac80211/main.c
@@ -599,6 +599,7 @@ struct ieee80211_hw *ieee80211_alloc_hw(size_t priv_data_len,
 		wiphy->flags |= WIPHY_FLAG_HAS_REMAIN_ON_CHANNEL;
 
 	wiphy->features = NL80211_FEATURE_SK_TX_STATUS |
+			  NL80211_FEATURE_SAE |
 			  NL80211_FEATURE_HT_IBSS;
 
 	if (!ops->set_key)